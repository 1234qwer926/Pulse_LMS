var Gj=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var tse=Gj((wse,PO)=>{function qj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ju(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vb={exports:{}},vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR;function Xj(){if(MR)return vd;MR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,a){var i=null;if(a!==void 0&&(i=""+a),o.key!==void 0&&(i=""+o.key),"key"in o){a={};for(var s in o)s!=="key"&&(a[s]=o[s])}else a=o;return o=a.ref,{$$typeof:e,type:r,key:i,ref:o!==void 0?o:null,props:a}}return vd.Fragment=t,vd.jsx=n,vd.jsxs=n,vd}var IR;function Yj(){return IR||(IR=1,vb.exports=Xj()),vb.exports}var b=Yj(),gb={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR;function Kj(){if(OR)return mt;OR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),i=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(j){return j===null||typeof j!="object"?null:(j=h&&j[h]||j["@@iterator"],typeof j=="function"?j:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function w(j,G,Q){this.props=j,this.context=G,this.refs=x,this.updater=Q||v}w.prototype.isReactComponent={},w.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function S(){}S.prototype=w.prototype;function E(j,G,Q){this.props=j,this.context=G,this.refs=x,this.updater=Q||v}var R=E.prototype=new S;R.constructor=E,y(R,w.prototype),R.isPureReactComponent=!0;var D=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(j,G,Q,te,de,we){return Q=we.ref,{$$typeof:e,type:j,key:G,ref:Q!==void 0?Q:null,props:we}}function M(j,G){return k(j.type,G,void 0,void 0,void 0,j.props)}function I(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function O(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Q){return G[Q]})}var L=/\/+/g;function F(j,G){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):G.toString(36)}function X(){}function W(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(X,X):(j.status="pending",j.then(function(G){j.status==="pending"&&(j.status="fulfilled",j.value=G)},function(G){j.status==="pending"&&(j.status="rejected",j.reason=G)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Y(j,G,Q,te,de){var we=typeof j;(we==="undefined"||we==="boolean")&&(j=null);var ie=!1;if(j===null)ie=!0;else switch(we){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(j.$$typeof){case e:case t:ie=!0;break;case f:return ie=j._init,Y(ie(j._payload),G,Q,te,de)}}if(ie)return de=de(j),ie=te===""?"."+F(j,0):te,D(de)?(Q="",ie!=null&&(Q=ie.replace(L,"$&/")+"/"),Y(de,G,Q,"",function(pe){return pe})):de!=null&&(I(de)&&(de=M(de,Q+(de.key==null||j&&j.key===de.key?"":(""+de.key).replace(L,"$&/")+"/")+ie)),G.push(de)),1;ie=0;var oe=te===""?".":te+":";if(D(j))for(var ve=0;ve<j.length;ve++)te=j[ve],we=oe+F(te,ve),ie+=Y(te,G,Q,we,de);else if(ve=m(j),typeof ve=="function")for(j=ve.call(j),ve=0;!(te=j.next()).done;)te=te.value,we=oe+F(te,ve++),ie+=Y(te,G,Q,we,de);else if(we==="object"){if(typeof j.then=="function")return Y(W(j),G,Q,te,de);throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ie}function B(j,G,Q){if(j==null)return j;var te=[],de=0;return Y(j,te,"","",function(we){return G.call(Q,we,de++)}),te}function V(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(Q){(j._status===0||j._status===-1)&&(j._status=1,j._result=Q)},function(Q){(j._status===0||j._status===-1)&&(j._status=2,j._result=Q)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var U=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function $(){}return mt.Children={map:B,forEach:function(j,G,Q){B(j,function(){G.apply(this,arguments)},Q)},count:function(j){var G=0;return B(j,function(){G++}),G},toArray:function(j){return B(j,function(G){return G})||[]},only:function(j){if(!I(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},mt.Component=w,mt.Fragment=n,mt.Profiler=o,mt.PureComponent=E,mt.StrictMode=r,mt.Suspense=u,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,mt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return A.H.useMemoCache(j)}},mt.cache=function(j){return function(){return j.apply(null,arguments)}},mt.cloneElement=function(j,G,Q){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var te=y({},j.props),de=j.key,we=void 0;if(G!=null)for(ie in G.ref!==void 0&&(we=void 0),G.key!==void 0&&(de=""+G.key),G)!N.call(G,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&G.ref===void 0||(te[ie]=G[ie]);var ie=arguments.length-2;if(ie===1)te.children=Q;else if(1<ie){for(var oe=Array(ie),ve=0;ve<ie;ve++)oe[ve]=arguments[ve+2];te.children=oe}return k(j.type,de,void 0,void 0,we,te)},mt.createContext=function(j){return j={$$typeof:i,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},mt.createElement=function(j,G,Q){var te,de={},we=null;if(G!=null)for(te in G.key!==void 0&&(we=""+G.key),G)N.call(G,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(de[te]=G[te]);var ie=arguments.length-2;if(ie===1)de.children=Q;else if(1<ie){for(var oe=Array(ie),ve=0;ve<ie;ve++)oe[ve]=arguments[ve+2];de.children=oe}if(j&&j.defaultProps)for(te in ie=j.defaultProps,ie)de[te]===void 0&&(de[te]=ie[te]);return k(j,we,void 0,void 0,null,de)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(j){return{$$typeof:s,render:j}},mt.isValidElement=I,mt.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:V}},mt.memo=function(j,G){return{$$typeof:c,type:j,compare:G===void 0?null:G}},mt.startTransition=function(j){var G=A.T,Q={};A.T=Q;try{var te=j(),de=A.S;de!==null&&de(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then($,U)}catch(we){U(we)}finally{A.T=G}},mt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},mt.use=function(j){return A.H.use(j)},mt.useActionState=function(j,G,Q){return A.H.useActionState(j,G,Q)},mt.useCallback=function(j,G){return A.H.useCallback(j,G)},mt.useContext=function(j){return A.H.useContext(j)},mt.useDebugValue=function(){},mt.useDeferredValue=function(j,G){return A.H.useDeferredValue(j,G)},mt.useEffect=function(j,G,Q){var te=A.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(j,G)},mt.useId=function(){return A.H.useId()},mt.useImperativeHandle=function(j,G,Q){return A.H.useImperativeHandle(j,G,Q)},mt.useInsertionEffect=function(j,G){return A.H.useInsertionEffect(j,G)},mt.useLayoutEffect=function(j,G){return A.H.useLayoutEffect(j,G)},mt.useMemo=function(j,G){return A.H.useMemo(j,G)},mt.useOptimistic=function(j,G){return A.H.useOptimistic(j,G)},mt.useReducer=function(j,G,Q){return A.H.useReducer(j,G,Q)},mt.useRef=function(j){return A.H.useRef(j)},mt.useState=function(j){return A.H.useState(j)},mt.useSyncExternalStore=function(j,G,Q){return A.H.useSyncExternalStore(j,G,Q)},mt.useTransition=function(){return A.H.useTransition()},mt.version="19.1.1",mt}var PR;function mf(){return PR||(PR=1,gb.exports=Kj()),gb.exports}var _=mf();const ut=Ju(_),Qj=qj({__proto__:null,default:ut},[_]);var yb={exports:{}},gd={},bb={exports:{}},xb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR;function Jj(){return jR||(jR=1,(function(e){function t(B,V){var U=B.length;B.push(V);e:for(;0<U;){var $=U-1>>>1,j=B[$];if(0<o(j,V))B[$]=V,B[U]=j,U=$;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var V=B[0],U=B.pop();if(U!==V){B[0]=U;e:for(var $=0,j=B.length,G=j>>>1;$<G;){var Q=2*($+1)-1,te=B[Q],de=Q+1,we=B[de];if(0>o(te,U))de<j&&0>o(we,te)?(B[$]=we,B[de]=U,$=de):(B[$]=te,B[Q]=U,$=Q);else if(de<j&&0>o(we,U))B[$]=we,B[de]=U,$=de;else break e}}return V}function o(B,V){var U=B.sortIndex-V.sortIndex;return U!==0?U:B.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var u=[],c=[],f=1,h=null,m=3,v=!1,y=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=B)r(c),V.sortIndex=V.expirationTime,t(u,V);else break;V=n(c)}}function A(B){if(x=!1,D(B),!y)if(n(u)!==null)y=!0,N||(N=!0,F());else{var V=n(c);V!==null&&Y(A,V.startTime-B)}}var N=!1,k=-1,M=5,I=-1;function O(){return w?!0:!(e.unstable_now()-I<M)}function L(){if(w=!1,N){var B=e.unstable_now();I=B;var V=!0;try{e:{y=!1,x&&(x=!1,E(k),k=-1),v=!0;var U=m;try{t:{for(D(B),h=n(u);h!==null&&!(h.expirationTime>B&&O());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var j=$(h.expirationTime<=B);if(B=e.unstable_now(),typeof j=="function"){h.callback=j,D(B),V=!0;break t}h===n(u)&&r(u),D(B)}else r(u);h=n(u)}if(h!==null)V=!0;else{var G=n(c);G!==null&&Y(A,G.startTime-B),V=!1}}break e}finally{h=null,m=U,v=!1}V=void 0}}finally{V?F():N=!1}}}var F;if(typeof R=="function")F=function(){R(L)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,W=X.port2;X.port1.onmessage=L,F=function(){W.postMessage(null)}}else F=function(){S(L,0)};function Y(B,V){k=S(function(){B(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var U=m;m=V;try{return B()}finally{m=U}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=m;m=B;try{return V()}finally{m=U}},e.unstable_scheduleCallback=function(B,V,U){var $=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,B){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=U+j,B={id:f++,callback:V,priorityLevel:B,startTime:U,expirationTime:j,sortIndex:-1},U>$?(B.sortIndex=U,t(c,B),n(u)===null&&B===n(c)&&(x?(E(k),k=-1):x=!0,Y(A,U-$))):(B.sortIndex=j,t(u,B),y||v||(y=!0,N||(N=!0,F()))),B},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(B){var V=m;return function(){var U=m;m=V;try{return B.apply(this,arguments)}finally{m=U}}}})(xb)),xb}var BR;function Zj(){return BR||(BR=1,bb.exports=Jj()),bb.exports}var wb={exports:{}},or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR;function eB(){if(FR)return or;FR=1;var e=mf();function t(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(u,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:h==null?null:""+h,children:u,containerInfo:c,implementation:f}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,or.createPortal=function(u,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(u,c,null,f)},or.flushSync=function(u){var c=i.T,f=r.p;try{if(i.T=null,r.p=2,u)return u()}finally{i.T=c,r.p=f,r.d.f()}},or.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},or.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},or.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var f=c.as,h=s(f,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:h,integrity:m,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},or.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=s(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},or.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=s(f,c.crossOrigin);r.d.L(u,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},or.preloadModule=function(u,c){if(typeof u=="string")if(c){var f=s(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},or.requestFormReset=function(u){r.d.r(u)},or.unstable_batchedUpdates=function(u,c){return u(c)},or.useFormState=function(u,c,f){return i.H.useFormState(u,c,f)},or.useFormStatus=function(){return i.H.useHostTransitionStatus()},or.version="19.1.1",or}var LR;function pA(){if(LR)return wb.exports;LR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wb.exports=eB(),wb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function tB(){if(zR)return gd;zR=1;var e=Zj(),t=mf(),n=pA();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function i(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function s(l){if(a(l)!==l)throw Error(r(188))}function u(l){var d=l.alternate;if(!d){if(d=a(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,g=d;;){var C=p.return;if(C===null)break;var T=C.alternate;if(T===null){if(g=C.return,g!==null){p=g;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===p)return s(C),l;if(T===g)return s(C),d;T=T.sibling}throw Error(r(188))}if(p.return!==g.return)p=C,g=T;else{for(var P=!1,z=C.child;z;){if(z===p){P=!0,p=C,g=T;break}if(z===g){P=!0,g=C,p=T;break}z=z.sibling}if(!P){for(z=T.child;z;){if(z===p){P=!0,p=T,g=C;break}if(z===g){P=!0,g=T,p=C;break}z=z.sibling}if(!P)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function c(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=c(l),d!==null)return d;l=l.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=L&&l[L]||l["@@iterator"],typeof l=="function"?l:null)}var X=Symbol.for("react.client.reference");function W(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===X?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList";case I:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case R:return(l.displayName||"Context")+".Provider";case E:return(l._context.displayName||"Context")+".Consumer";case D:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return d=l.displayName||null,d!==null?d:W(l.type)||"Memo";case M:d=l._payload,l=l._init;try{return W(l(d))}catch{}}return null}var Y=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},$=[],j=-1;function G(l){return{current:l}}function Q(l){0>j||(l.current=$[j],$[j]=null,j--)}function te(l,d){j++,$[j]=l.current,l.current=d}var de=G(null),we=G(null),ie=G(null),oe=G(null);function ve(l,d){switch(te(ie,d),te(we,l),te(de,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?iR(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=iR(d),l=sR(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Q(de),te(de,l)}function pe(){Q(de),Q(we),Q(ie)}function Oe(l){l.memoizedState!==null&&te(oe,l);var d=de.current,p=sR(d,l.type);d!==p&&(te(we,l),te(de,p))}function je(l){we.current===l&&(Q(de),Q(we)),oe.current===l&&(Q(oe),dd._currentValue=U)}var Pe=Object.prototype.hasOwnProperty,Te=e.unstable_scheduleCallback,Je=e.unstable_cancelCallback,it=e.unstable_shouldYield,nt=e.unstable_requestPaint,_e=e.unstable_now,De=e.unstable_getCurrentPriorityLevel,ke=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,st=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,He=e.unstable_IdlePriority,qt=e.log,Ae=e.unstable_setDisableYieldValue,Be=null,rt=null;function kt(l){if(typeof qt=="function"&&Ae(l),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Be,l)}catch{}}var Rt=Math.clz32?Math.clz32:Jt,jn=Math.log,zt=Math.LN2;function Jt(l){return l>>>=0,l===0?32:31-(jn(l)/zt|0)|0}var _r=256,Hr=4194304;function gr(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function La(l,d,p){var g=l.pendingLanes;if(g===0)return 0;var C=0,T=l.suspendedLanes,P=l.pingedLanes;l=l.warmLanes;var z=g&134217727;return z!==0?(g=z&~T,g!==0?C=gr(g):(P&=z,P!==0?C=gr(P):p||(p=z&~l,p!==0&&(C=gr(p))))):(z=g&~T,z!==0?C=gr(z):P!==0?C=gr(P):p||(p=g&~l,p!==0&&(C=gr(p)))),C===0?0:d!==0&&d!==C&&(d&T)===0&&(T=C&-C,p=d&-d,T>=p||T===32&&(p&4194048)!==0)?d:C}function ln(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function Ti(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var l=_r;return _r<<=1,(_r&4194048)===0&&(_r=256),l}function _t(){var l=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),l}function Tt(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function Mt(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function It(l,d,p,g,C,T){var P=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var z=l.entanglements,K=l.expirationTimes,se=l.hiddenUpdates;for(p=P&~p;0<p;){var ye=31-Rt(p),Se=1<<ye;z[ye]=0,K[ye]=-1;var le=se[ye];if(le!==null)for(se[ye]=null,ye=0;ye<le.length;ye++){var ue=le[ye];ue!==null&&(ue.lane&=-536870913)}p&=~Se}g!==0&&En(l,g,0),T!==0&&C===0&&l.tag!==0&&(l.suspendedLanes|=T&~(P&~d))}function En(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var g=31-Rt(d);l.entangledLanes|=d,l.entanglements[g]=l.entanglements[g]|1073741824|p&4194090}function yr(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var g=31-Rt(p),C=1<<g;C&d|l[g]&d&&(l[g]|=d),p&=~C}}function Cs(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function wc(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Di(){var l=V.p;return l!==0?l:(l=window.event,l===void 0?32:_R(l.type))}function sg(l,d){var p=V.p;try{return V.p=l,d()}finally{V.p=p}}var Ai=Math.random().toString(36).slice(2),nr="__reactFiber$"+Ai,Tr="__reactProps$"+Ai,Sl="__reactContainer$"+Ai,lg="__reactEvents$"+Ai,jO="__reactListeners$"+Ai,BO="__reactHandles$"+Ai,X2="__reactResources$"+Ai,Sc="__reactMarker$"+Ai;function ug(l){delete l[nr],delete l[Tr],delete l[lg],delete l[jO],delete l[BO]}function Cl(l){var d=l[nr];if(d)return d;for(var p=l.parentNode;p;){if(d=p[Sl]||p[nr]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=dR(l);l!==null;){if(p=l[nr])return p;l=dR(l)}return d}l=p,p=l.parentNode}return null}function El(l){if(l=l[nr]||l[Sl]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function Cc(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Rl(l){var d=l[X2];return d||(d=l[X2]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Bn(l){l[Sc]=!0}var Y2=new Set,K2={};function Es(l,d){_l(l,d),_l(l+"Capture",d)}function _l(l,d){for(K2[l]=d,l=0;l<d.length;l++)Y2.add(d[l])}var FO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Q2={},J2={};function LO(l){return Pe.call(J2,l)?!0:Pe.call(Q2,l)?!1:FO.test(l)?J2[l]=!0:(Q2[l]=!0,!1)}function $f(l,d,p){if(LO(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var g=d.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function Gf(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function za(l,d,p,g){if(g===null)l.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+g)}}var cg,Z2;function Tl(l){if(cg===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);cg=d&&d[1]||"",Z2=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cg+l+Z2}var dg=!1;function fg(l,d){if(!l||dg)return"";dg=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(d){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ue){var le=ue}Reflect.construct(l,[],Se)}else{try{Se.call()}catch(ue){le=ue}l.call(Se.prototype)}}else{try{throw Error()}catch(ue){le=ue}(Se=l())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=g.DetermineComponentFrameRoot(),P=T[0],z=T[1];if(P&&z){var K=P.split(`
`),se=z.split(`
`);for(C=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;C<se.length&&!se[C].includes("DetermineComponentFrameRoot");)C++;if(g===K.length||C===se.length)for(g=K.length-1,C=se.length-1;1<=g&&0<=C&&K[g]!==se[C];)C--;for(;1<=g&&0<=C;g--,C--)if(K[g]!==se[C]){if(g!==1||C!==1)do if(g--,C--,0>C||K[g]!==se[C]){var ye=`
`+K[g].replace(" at new "," at ");return l.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",l.displayName)),ye}while(1<=g&&0<=C);break}}}finally{dg=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Tl(p):""}function zO(l){switch(l.tag){case 26:case 27:case 5:return Tl(l.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 15:return fg(l.type,!1);case 11:return fg(l.type.render,!1);case 1:return fg(l.type,!0);case 31:return Tl("Activity");default:return""}}function eS(l){try{var d="";do d+=zO(l),l=l.return;while(l);return d}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function mo(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function tS(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function UO(l){var d=tS(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),g=""+l[d];if(!l.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,T=p.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return C.call(this)},set:function(P){g=""+P,T.call(this,P)}}),Object.defineProperty(l,d,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function qf(l){l._valueTracker||(l._valueTracker=UO(l))}function nS(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),g="";return l&&(g=tS(l)?l.checked?"true":"false":l.value),l=g,l!==p?(d.setValue(l),!0):!1}function Xf(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var VO=/[\n"\\]/g;function vo(l){return l.replace(VO,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function hg(l,d,p,g,C,T,P,z){l.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?l.type=P:l.removeAttribute("type"),d!=null?P==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+mo(d)):l.value!==""+mo(d)&&(l.value=""+mo(d)):P!=="submit"&&P!=="reset"||l.removeAttribute("value"),d!=null?pg(l,P,mo(d)):p!=null?pg(l,P,mo(p)):g!=null&&l.removeAttribute("value"),C==null&&T!=null&&(l.defaultChecked=!!T),C!=null&&(l.checked=C&&typeof C!="function"&&typeof C!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.name=""+mo(z):l.removeAttribute("name")}function rS(l,d,p,g,C,T,P,z){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(l.type=T),d!=null||p!=null){if(!(T!=="submit"&&T!=="reset"||d!=null))return;p=p!=null?""+mo(p):"",d=d!=null?""+mo(d):p,z||d===l.value||(l.value=d),l.defaultValue=d}g=g??C,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=z?l.checked:!!g,l.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.name=P)}function pg(l,d,p){d==="number"&&Xf(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Dl(l,d,p,g){if(l=l.options,d){d={};for(var C=0;C<p.length;C++)d["$"+p[C]]=!0;for(p=0;p<l.length;p++)C=d.hasOwnProperty("$"+l[p].value),l[p].selected!==C&&(l[p].selected=C),C&&g&&(l[p].defaultSelected=!0)}else{for(p=""+mo(p),d=null,C=0;C<l.length;C++){if(l[C].value===p){l[C].selected=!0,g&&(l[C].defaultSelected=!0);return}d!==null||l[C].disabled||(d=l[C])}d!==null&&(d.selected=!0)}}function oS(l,d,p){if(d!=null&&(d=""+mo(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+mo(p):""}function aS(l,d,p,g){if(d==null){if(g!=null){if(p!=null)throw Error(r(92));if(Y(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),d=p}p=mo(d),l.defaultValue=p,g=l.textContent,g===p&&g!==""&&g!==null&&(l.value=g)}function Al(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var HO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iS(l,d,p){var g=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":g?l.setProperty(d,p):typeof p!="number"||p===0||HO.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function sS(l,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||d!=null&&d.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var C in d)g=d[C],d.hasOwnProperty(C)&&p[C]!==g&&iS(l,C,g)}else for(var T in d)d.hasOwnProperty(T)&&iS(l,T,d[T])}function mg(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$O=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yf(l){return $O.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var vg=null;function gg(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Nl=null,kl=null;function lS(l){var d=El(l);if(d&&(l=d.stateNode)){var p=l[Tr]||null;e:switch(l=d.stateNode,d.type){case"input":if(hg(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+vo(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var g=p[d];if(g!==l&&g.form===l.form){var C=g[Tr]||null;if(!C)throw Error(r(90));hg(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(d=0;d<p.length;d++)g=p[d],g.form===l.form&&nS(g)}break e;case"textarea":oS(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Dl(l,!!p.multiple,d,!1)}}}var yg=!1;function uS(l,d,p){if(yg)return l(d,p);yg=!0;try{var g=l(d);return g}finally{if(yg=!1,(Nl!==null||kl!==null)&&(Oh(),Nl&&(d=Nl,l=kl,kl=Nl=null,lS(d),l)))for(d=0;d<l.length;d++)lS(l[d])}}function Ec(l,d){var p=l.stateNode;if(p===null)return null;var g=p[Tr]||null;if(g===null)return null;p=g[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bg=!1;if(Ua)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){bg=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{bg=!1}var Ni=null,xg=null,Kf=null;function cS(){if(Kf)return Kf;var l,d=xg,p=d.length,g,C="value"in Ni?Ni.value:Ni.textContent,T=C.length;for(l=0;l<p&&d[l]===C[l];l++);var P=p-l;for(g=1;g<=P&&d[p-g]===C[T-g];g++);return Kf=C.slice(l,1<g?1-g:void 0)}function Qf(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Jf(){return!0}function dS(){return!1}function Dr(l){function d(p,g,C,T,P){this._reactName=p,this._targetInst=C,this.type=g,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var z in l)l.hasOwnProperty(z)&&(p=l[z],this[z]=p?p(T):T[z]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Jf:dS,this.isPropagationStopped=dS,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Jf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Jf)},persist:function(){},isPersistent:Jf}),d}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zf=Dr(Rs),_c=f({},Rs,{view:0,detail:0}),GO=Dr(_c),wg,Sg,Tc,eh=f({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Tc&&(Tc&&l.type==="mousemove"?(wg=l.screenX-Tc.screenX,Sg=l.screenY-Tc.screenY):Sg=wg=0,Tc=l),wg)},movementY:function(l){return"movementY"in l?l.movementY:Sg}}),fS=Dr(eh),qO=f({},eh,{dataTransfer:0}),XO=Dr(qO),YO=f({},_c,{relatedTarget:0}),Cg=Dr(YO),KO=f({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),QO=Dr(KO),JO=f({},Rs,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ZO=Dr(JO),eP=f({},Rs,{data:0}),hS=Dr(eP),tP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oP(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=rP[l])?!!d[l]:!1}function Eg(){return oP}var aP=f({},_c,{key:function(l){if(l.key){var d=tP[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Qf(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?nP[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eg,charCode:function(l){return l.type==="keypress"?Qf(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Qf(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),iP=Dr(aP),sP=f({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pS=Dr(sP),lP=f({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eg}),uP=Dr(lP),cP=f({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dP=Dr(cP),fP=f({},eh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),hP=Dr(fP),pP=f({},Rs,{newState:0,oldState:0}),mP=Dr(pP),vP=[9,13,27,32],Rg=Ua&&"CompositionEvent"in window,Dc=null;Ua&&"documentMode"in document&&(Dc=document.documentMode);var gP=Ua&&"TextEvent"in window&&!Dc,mS=Ua&&(!Rg||Dc&&8<Dc&&11>=Dc),vS=" ",gS=!1;function yS(l,d){switch(l){case"keyup":return vP.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ml=!1;function yP(l,d){switch(l){case"compositionend":return bS(d);case"keypress":return d.which!==32?null:(gS=!0,vS);case"textInput":return l=d.data,l===vS&&gS?null:l;default:return null}}function bP(l,d){if(Ml)return l==="compositionend"||!Rg&&yS(l,d)?(l=cS(),Kf=xg=Ni=null,Ml=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return mS&&d.locale!=="ko"?null:d.data;default:return null}}var xP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xS(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!xP[l.type]:d==="textarea"}function wS(l,d,p,g){Nl?kl?kl.push(g):kl=[g]:Nl=g,d=zh(d,"onChange"),0<d.length&&(p=new Zf("onChange","change",null,p,g),l.push({event:p,listeners:d}))}var Ac=null,Nc=null;function wP(l){tR(l,0)}function th(l){var d=Cc(l);if(nS(d))return l}function SS(l,d){if(l==="change")return d}var CS=!1;if(Ua){var _g;if(Ua){var Tg="oninput"in document;if(!Tg){var ES=document.createElement("div");ES.setAttribute("oninput","return;"),Tg=typeof ES.oninput=="function"}_g=Tg}else _g=!1;CS=_g&&(!document.documentMode||9<document.documentMode)}function RS(){Ac&&(Ac.detachEvent("onpropertychange",_S),Nc=Ac=null)}function _S(l){if(l.propertyName==="value"&&th(Nc)){var d=[];wS(d,Nc,l,gg(l)),uS(wP,d)}}function SP(l,d,p){l==="focusin"?(RS(),Ac=d,Nc=p,Ac.attachEvent("onpropertychange",_S)):l==="focusout"&&RS()}function CP(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return th(Nc)}function EP(l,d){if(l==="click")return th(d)}function RP(l,d){if(l==="input"||l==="change")return th(d)}function _P(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Wr=typeof Object.is=="function"?Object.is:_P;function kc(l,d){if(Wr(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),g=Object.keys(d);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var C=p[g];if(!Pe.call(d,C)||!Wr(l[C],d[C]))return!1}return!0}function TS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function DS(l,d){var p=TS(l);l=0;for(var g;p;){if(p.nodeType===3){if(g=l+p.textContent.length,l<=d&&g>=d)return{node:p,offset:d-l};l=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=TS(p)}}function AS(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?AS(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function NS(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=Xf(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=Xf(l.document)}return d}function Dg(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var TP=Ua&&"documentMode"in document&&11>=document.documentMode,Il=null,Ag=null,Mc=null,Ng=!1;function kS(l,d,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Ng||Il==null||Il!==Xf(g)||(g=Il,"selectionStart"in g&&Dg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Mc&&kc(Mc,g)||(Mc=g,g=zh(Ag,"onSelect"),0<g.length&&(d=new Zf("onSelect","select",null,d,p),l.push({event:d,listeners:g}),d.target=Il)))}function _s(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var Ol={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},kg={},MS={};Ua&&(MS=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Ts(l){if(kg[l])return kg[l];if(!Ol[l])return l;var d=Ol[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in MS)return kg[l]=d[p];return l}var IS=Ts("animationend"),OS=Ts("animationiteration"),PS=Ts("animationstart"),DP=Ts("transitionrun"),AP=Ts("transitionstart"),NP=Ts("transitioncancel"),jS=Ts("transitionend"),BS=new Map,Mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mg.push("scrollEnd");function zo(l,d){BS.set(l,d),Es(d,[l])}var FS=new WeakMap;function go(l,d){if(typeof l=="object"&&l!==null){var p=FS.get(l);return p!==void 0?p:(d={value:l,source:d,stack:eS(d)},FS.set(l,d),d)}return{value:l,source:d,stack:eS(d)}}var yo=[],Pl=0,Ig=0;function nh(){for(var l=Pl,d=Ig=Pl=0;d<l;){var p=yo[d];yo[d++]=null;var g=yo[d];yo[d++]=null;var C=yo[d];yo[d++]=null;var T=yo[d];if(yo[d++]=null,g!==null&&C!==null){var P=g.pending;P===null?C.next=C:(C.next=P.next,P.next=C),g.pending=C}T!==0&&LS(p,C,T)}}function rh(l,d,p,g){yo[Pl++]=l,yo[Pl++]=d,yo[Pl++]=p,yo[Pl++]=g,Ig|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function Og(l,d,p,g){return rh(l,d,p,g),oh(l)}function jl(l,d){return rh(l,null,null,d),oh(l)}function LS(l,d,p){l.lanes|=p;var g=l.alternate;g!==null&&(g.lanes|=p);for(var C=!1,T=l.return;T!==null;)T.childLanes|=p,g=T.alternate,g!==null&&(g.childLanes|=p),T.tag===22&&(l=T.stateNode,l===null||l._visibility&1||(C=!0)),l=T,T=T.return;return l.tag===3?(T=l.stateNode,C&&d!==null&&(C=31-Rt(p),l=T.hiddenUpdates,g=l[C],g===null?l[C]=[d]:g.push(d),d.lane=p|536870912),T):null}function oh(l){if(50<rd)throw rd=0,zy=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var Bl={};function kP(l,d,p,g){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(l,d,p,g){return new kP(l,d,p,g)}function Pg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Va(l,d){var p=l.alternate;return p===null?(p=$r(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function zS(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function ah(l,d,p,g,C,T){var P=0;if(g=l,typeof l=="function")Pg(l)&&(P=1);else if(typeof l=="string")P=Ij(l,p,de.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case I:return l=$r(31,p,d,C),l.elementType=I,l.lanes=T,l;case y:return Ds(p.children,C,T,d);case x:P=8,C|=24;break;case w:return l=$r(12,p,d,C|2),l.elementType=w,l.lanes=T,l;case A:return l=$r(13,p,d,C),l.elementType=A,l.lanes=T,l;case N:return l=$r(19,p,d,C),l.elementType=N,l.lanes=T,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:case R:P=10;break e;case E:P=9;break e;case D:P=11;break e;case k:P=14;break e;case M:P=16,g=null;break e}P=29,p=Error(r(130,l===null?"null":typeof l,"")),g=null}return d=$r(P,p,d,C),d.elementType=l,d.type=g,d.lanes=T,d}function Ds(l,d,p,g){return l=$r(7,l,g,d),l.lanes=p,l}function jg(l,d,p){return l=$r(6,l,null,d),l.lanes=p,l}function Bg(l,d,p){return d=$r(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var Fl=[],Ll=0,ih=null,sh=0,bo=[],xo=0,As=null,Ha=1,Wa="";function Ns(l,d){Fl[Ll++]=sh,Fl[Ll++]=ih,ih=l,sh=d}function US(l,d,p){bo[xo++]=Ha,bo[xo++]=Wa,bo[xo++]=As,As=l;var g=Ha;l=Wa;var C=32-Rt(g)-1;g&=~(1<<C),p+=1;var T=32-Rt(d)+C;if(30<T){var P=C-C%5;T=(g&(1<<P)-1).toString(32),g>>=P,C-=P,Ha=1<<32-Rt(d)+C|p<<C|g,Wa=T+l}else Ha=1<<T|p<<C|g,Wa=l}function Fg(l){l.return!==null&&(Ns(l,1),US(l,1,0))}function Lg(l){for(;l===ih;)ih=Fl[--Ll],Fl[Ll]=null,sh=Fl[--Ll],Fl[Ll]=null;for(;l===As;)As=bo[--xo],bo[xo]=null,Wa=bo[--xo],bo[xo]=null,Ha=bo[--xo],bo[xo]=null}var br=null,un=null,Pt=!1,ks=null,ia=!1,zg=Error(r(519));function Ms(l){var d=Error(r(418,""));throw Pc(go(d,l)),zg}function VS(l){var d=l.stateNode,p=l.type,g=l.memoizedProps;switch(d[nr]=l,d[Tr]=g,p){case"dialog":St("cancel",d),St("close",d);break;case"iframe":case"object":case"embed":St("load",d);break;case"video":case"audio":for(p=0;p<ad.length;p++)St(ad[p],d);break;case"source":St("error",d);break;case"img":case"image":case"link":St("error",d),St("load",d);break;case"details":St("toggle",d);break;case"input":St("invalid",d),rS(d,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),qf(d);break;case"select":St("invalid",d);break;case"textarea":St("invalid",d),aS(d,g.value,g.defaultValue,g.children),qf(d)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||g.suppressHydrationWarning===!0||aR(d.textContent,p)?(g.popover!=null&&(St("beforetoggle",d),St("toggle",d)),g.onScroll!=null&&St("scroll",d),g.onScrollEnd!=null&&St("scrollend",d),g.onClick!=null&&(d.onclick=Uh),d=!0):d=!1,d||Ms(l)}function HS(l){for(br=l.return;br;)switch(br.tag){case 5:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:br=br.return}}function Ic(l){if(l!==br)return!1;if(!Pt)return HS(l),Pt=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||nb(l.type,l.memoizedProps)),p=!p),p&&un&&Ms(l),HS(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(d===0){un=Vo(l.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++;l=l.nextSibling}un=null}}else d===27?(d=un,Gi(l.type)?(l=ib,ib=null,un=l):un=d):un=br?Vo(l.stateNode.nextSibling):null;return!0}function Oc(){un=br=null,Pt=!1}function WS(){var l=ks;return l!==null&&(kr===null?kr=l:kr.push.apply(kr,l),ks=null),l}function Pc(l){ks===null?ks=[l]:ks.push(l)}var Ug=G(null),Is=null,$a=null;function ki(l,d,p){te(Ug,d._currentValue),d._currentValue=p}function Ga(l){l._currentValue=Ug.current,Q(Ug)}function Vg(l,d,p){for(;l!==null;){var g=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,g!==null&&(g.childLanes|=d)):g!==null&&(g.childLanes&d)!==d&&(g.childLanes|=d),l===p)break;l=l.return}}function Hg(l,d,p,g){var C=l.child;for(C!==null&&(C.return=l);C!==null;){var T=C.dependencies;if(T!==null){var P=C.child;T=T.firstContext;e:for(;T!==null;){var z=T;T=C;for(var K=0;K<d.length;K++)if(z.context===d[K]){T.lanes|=p,z=T.alternate,z!==null&&(z.lanes|=p),Vg(T.return,p,l),g||(P=null);break e}T=z.next}}else if(C.tag===18){if(P=C.return,P===null)throw Error(r(341));P.lanes|=p,T=P.alternate,T!==null&&(T.lanes|=p),Vg(P,p,l),P=null}else P=C.child;if(P!==null)P.return=C;else for(P=C;P!==null;){if(P===l){P=null;break}if(C=P.sibling,C!==null){C.return=P.return,P=C;break}P=P.return}C=P}}function jc(l,d,p,g){l=null;for(var C=d,T=!1;C!==null;){if(!T){if((C.flags&524288)!==0)T=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var P=C.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var z=C.type;Wr(C.pendingProps.value,P.value)||(l!==null?l.push(z):l=[z])}}else if(C===oe.current){if(P=C.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(l!==null?l.push(dd):l=[dd])}C=C.return}l!==null&&Hg(d,l,p,g),d.flags|=262144}function lh(l){for(l=l.firstContext;l!==null;){if(!Wr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Os(l){Is=l,$a=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function rr(l){return $S(Is,l)}function uh(l,d){return Is===null&&Os(l),$S(l,d)}function $S(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},$a===null){if(l===null)throw Error(r(308));$a=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else $a=$a.next=d;return p}var MP=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,g){l.push(g)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},IP=e.unstable_scheduleCallback,OP=e.unstable_NormalPriority,Rn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wg(){return{controller:new MP,data:new Map,refCount:0}}function Bc(l){l.refCount--,l.refCount===0&&IP(OP,function(){l.controller.abort()})}var Fc=null,$g=0,zl=0,Ul=null;function PP(l,d){if(Fc===null){var p=Fc=[];$g=0,zl=qy(),Ul={status:"pending",value:void 0,then:function(g){p.push(g)}}}return $g++,d.then(GS,GS),d}function GS(){if(--$g===0&&Fc!==null){Ul!==null&&(Ul.status="fulfilled");var l=Fc;Fc=null,zl=0,Ul=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function jP(l,d){var p=[],g={status:"pending",value:null,reason:null,then:function(C){p.push(C)}};return l.then(function(){g.status="fulfilled",g.value=d;for(var C=0;C<p.length;C++)(0,p[C])(d)},function(C){for(g.status="rejected",g.reason=C,C=0;C<p.length;C++)(0,p[C])(void 0)}),g}var qS=B.S;B.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&PP(l,d),qS!==null&&qS(l,d)};var Ps=G(null);function Gg(){var l=Ps.current;return l!==null?l:Yt.pooledCache}function ch(l,d){d===null?te(Ps,Ps.current):te(Ps,d.pool)}function XS(){var l=Gg();return l===null?null:{parent:Rn._currentValue,pool:l}}var Lc=Error(r(460)),YS=Error(r(474)),dh=Error(r(542)),qg={then:function(){}};function KS(l){return l=l.status,l==="fulfilled"||l==="rejected"}function fh(){}function QS(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(fh,fh),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,ZS(l),l;default:if(typeof d.status=="string")d.then(fh,fh);else{if(l=Yt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(g){if(d.status==="pending"){var C=d;C.status="fulfilled",C.value=g}},function(g){if(d.status==="pending"){var C=d;C.status="rejected",C.reason=g}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,ZS(l),l}throw zc=d,Lc}}var zc=null;function JS(){if(zc===null)throw Error(r(459));var l=zc;return zc=null,l}function ZS(l){if(l===Lc||l===dh)throw Error(r(483))}var Mi=!1;function Xg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yg(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Ii(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Oi(l,d,p){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(Ut&2)!==0){var C=g.pending;return C===null?d.next=d:(d.next=C.next,C.next=d),g.pending=d,d=oh(l),LS(l,null,p),d}return rh(l,g,d,p),oh(l)}function Uc(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var g=d.lanes;g&=l.pendingLanes,p|=g,d.lanes=p,yr(l,p)}}function Kg(l,d){var p=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var C=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var P={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};T===null?C=T=P:T=T.next=P,p=p.next}while(p!==null);T===null?C=T=d:T=T.next=d}else C=T=d;p={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:g.shared,callbacks:g.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var Qg=!1;function Vc(){if(Qg){var l=Ul;if(l!==null)throw l}}function Hc(l,d,p,g){Qg=!1;var C=l.updateQueue;Mi=!1;var T=C.firstBaseUpdate,P=C.lastBaseUpdate,z=C.shared.pending;if(z!==null){C.shared.pending=null;var K=z,se=K.next;K.next=null,P===null?T=se:P.next=se,P=K;var ye=l.alternate;ye!==null&&(ye=ye.updateQueue,z=ye.lastBaseUpdate,z!==P&&(z===null?ye.firstBaseUpdate=se:z.next=se,ye.lastBaseUpdate=K))}if(T!==null){var Se=C.baseState;P=0,ye=se=K=null,z=T;do{var le=z.lane&-536870913,ue=le!==z.lane;if(ue?(Dt&le)===le:(g&le)===le){le!==0&&le===zl&&(Qg=!0),ye!==null&&(ye=ye.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var at=l,tt=z;le=d;var $t=p;switch(tt.tag){case 1:if(at=tt.payload,typeof at=="function"){Se=at.call($t,Se,le);break e}Se=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=tt.payload,le=typeof at=="function"?at.call($t,Se,le):at,le==null)break e;Se=f({},Se,le);break e;case 2:Mi=!0}}le=z.callback,le!==null&&(l.flags|=64,ue&&(l.flags|=8192),ue=C.callbacks,ue===null?C.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ye===null?(se=ye=ue,K=Se):ye=ye.next=ue,P|=le;if(z=z.next,z===null){if(z=C.shared.pending,z===null)break;ue=z,z=ue.next,ue.next=null,C.lastBaseUpdate=ue,C.shared.pending=null}}while(!0);ye===null&&(K=Se),C.baseState=K,C.firstBaseUpdate=se,C.lastBaseUpdate=ye,T===null&&(C.shared.lanes=0),Vi|=P,l.lanes=P,l.memoizedState=Se}}function eC(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function tC(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)eC(p[l],d)}var Vl=G(null),hh=G(0);function nC(l,d){l=Za,te(hh,l),te(Vl,d),Za=l|d.baseLanes}function Jg(){te(hh,Za),te(Vl,Vl.current)}function Zg(){Za=hh.current,Q(Vl),Q(hh)}var Pi=0,gt=null,Ht=null,bn=null,ph=!1,Hl=!1,js=!1,mh=0,Wc=0,Wl=null,BP=0;function pn(){throw Error(r(321))}function ey(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!Wr(l[p],d[p]))return!1;return!0}function ty(l,d,p,g,C,T){return Pi=T,gt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,B.H=l===null||l.memoizedState===null?LC:zC,js=!1,T=p(g,C),js=!1,Hl&&(T=oC(d,p,g,C)),rC(l),T}function rC(l){B.H=wh;var d=Ht!==null&&Ht.next!==null;if(Pi=0,bn=Ht=gt=null,ph=!1,Wc=0,Wl=null,d)throw Error(r(300));l===null||Fn||(l=l.dependencies,l!==null&&lh(l)&&(Fn=!0))}function oC(l,d,p,g){gt=l;var C=0;do{if(Hl&&(Wl=null),Wc=0,Hl=!1,25<=C)throw Error(r(301));if(C+=1,bn=Ht=null,l.updateQueue!=null){var T=l.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}B.H=WP,T=d(p,g)}while(Hl);return T}function FP(){var l=B.H,d=l.useState()[0];return d=typeof d.then=="function"?$c(d):d,l=l.useState()[0],(Ht!==null?Ht.memoizedState:null)!==l&&(gt.flags|=1024),d}function ny(){var l=mh!==0;return mh=0,l}function ry(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function oy(l){if(ph){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}ph=!1}Pi=0,bn=Ht=gt=null,Hl=!1,Wc=mh=0,Wl=null}function Ar(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?gt.memoizedState=bn=l:bn=bn.next=l,bn}function xn(){if(Ht===null){var l=gt.alternate;l=l!==null?l.memoizedState:null}else l=Ht.next;var d=bn===null?gt.memoizedState:bn.next;if(d!==null)bn=d,Ht=l;else{if(l===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Ht=l,l={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},bn===null?gt.memoizedState=bn=l:bn=bn.next=l}return bn}function ay(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $c(l){var d=Wc;return Wc+=1,Wl===null&&(Wl=[]),l=QS(Wl,l,d),d=gt,(bn===null?d.memoizedState:bn.next)===null&&(d=d.alternate,B.H=d===null||d.memoizedState===null?LC:zC),l}function vh(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return $c(l);if(l.$$typeof===R)return rr(l)}throw Error(r(438,String(l)))}function iy(l){var d=null,p=gt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var g=gt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(d={data:g.data.map(function(C){return C.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=ay(),gt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),g=0;g<l;g++)p[g]=O;return d.index++,p}function qa(l,d){return typeof d=="function"?d(l):d}function gh(l){var d=xn();return sy(d,Ht,l)}function sy(l,d,p){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var C=l.baseQueue,T=g.pending;if(T!==null){if(C!==null){var P=C.next;C.next=T.next,T.next=P}d.baseQueue=C=T,g.pending=null}if(T=l.baseState,C===null)l.memoizedState=T;else{d=C.next;var z=P=null,K=null,se=d,ye=!1;do{var Se=se.lane&-536870913;if(Se!==se.lane?(Dt&Se)===Se:(Pi&Se)===Se){var le=se.revertLane;if(le===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Se===zl&&(ye=!0);else if((Pi&le)===le){se=se.next,le===zl&&(ye=!0);continue}else Se={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(z=K=Se,P=T):K=K.next=Se,gt.lanes|=le,Vi|=le;Se=se.action,js&&p(T,Se),T=se.hasEagerState?se.eagerState:p(T,Se)}else le={lane:Se,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(z=K=le,P=T):K=K.next=le,gt.lanes|=Se,Vi|=Se;se=se.next}while(se!==null&&se!==d);if(K===null?P=T:K.next=z,!Wr(T,l.memoizedState)&&(Fn=!0,ye&&(p=Ul,p!==null)))throw p;l.memoizedState=T,l.baseState=P,l.baseQueue=K,g.lastRenderedState=T}return C===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function ly(l){var d=xn(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var g=p.dispatch,C=p.pending,T=d.memoizedState;if(C!==null){p.pending=null;var P=C=C.next;do T=l(T,P.action),P=P.next;while(P!==C);Wr(T,d.memoizedState)||(Fn=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),p.lastRenderedState=T}return[T,g]}function aC(l,d,p){var g=gt,C=xn(),T=Pt;if(T){if(p===void 0)throw Error(r(407));p=p()}else p=d();var P=!Wr((Ht||C).memoizedState,p);P&&(C.memoizedState=p,Fn=!0),C=C.queue;var z=lC.bind(null,g,C,l);if(Gc(2048,8,z,[l]),C.getSnapshot!==d||P||bn!==null&&bn.memoizedState.tag&1){if(g.flags|=2048,$l(9,yh(),sC.bind(null,g,C,p,d),null),Yt===null)throw Error(r(349));T||(Pi&124)!==0||iC(g,d,p)}return p}function iC(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=gt.updateQueue,d===null?(d=ay(),gt.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function sC(l,d,p,g){d.value=p,d.getSnapshot=g,uC(d)&&cC(l)}function lC(l,d,p){return p(function(){uC(d)&&cC(l)})}function uC(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!Wr(l,p)}catch{return!0}}function cC(l){var d=jl(l,2);d!==null&&Kr(d,l,2)}function uy(l){var d=Ar();if(typeof l=="function"){var p=l;if(l=p(),js){kt(!0);try{p()}finally{kt(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:l},d}function dC(l,d,p,g){return l.baseState=p,sy(l,Ht,typeof g=="function"?g:qa)}function LP(l,d,p,g,C){if(xh(l))throw Error(r(485));if(l=d.action,l!==null){var T={payload:C,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){T.listeners.push(P)}};B.T!==null?p(!0):T.isTransition=!1,g(T),p=d.pending,p===null?(T.next=d.pending=T,fC(d,T)):(T.next=p.next,d.pending=p.next=T)}}function fC(l,d){var p=d.action,g=d.payload,C=l.state;if(d.isTransition){var T=B.T,P={};B.T=P;try{var z=p(C,g),K=B.S;K!==null&&K(P,z),hC(l,d,z)}catch(se){cy(l,d,se)}finally{B.T=T}}else try{T=p(C,g),hC(l,d,T)}catch(se){cy(l,d,se)}}function hC(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){pC(l,d,g)},function(g){return cy(l,d,g)}):pC(l,d,p)}function pC(l,d,p){d.status="fulfilled",d.value=p,mC(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,fC(l,p)))}function cy(l,d,p){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do d.status="rejected",d.reason=p,mC(d),d=d.next;while(d!==g)}l.action=null}function mC(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function vC(l,d){return d}function gC(l,d){if(Pt){var p=Yt.formState;if(p!==null){e:{var g=gt;if(Pt){if(un){t:{for(var C=un,T=ia;C.nodeType!==8;){if(!T){C=null;break t}if(C=Vo(C.nextSibling),C===null){C=null;break t}}T=C.data,C=T==="F!"||T==="F"?C:null}if(C){un=Vo(C.nextSibling),g=C.data==="F!";break e}}Ms(g)}g=!1}g&&(d=p[0])}}return p=Ar(),p.memoizedState=p.baseState=d,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vC,lastRenderedState:d},p.queue=g,p=jC.bind(null,gt,g),g.dispatch=p,g=uy(!1),T=my.bind(null,gt,!1,g.queue),g=Ar(),C={state:d,dispatch:null,action:l,pending:null},g.queue=C,p=LP.bind(null,gt,C,T,p),C.dispatch=p,g.memoizedState=l,[d,p,!1]}function yC(l){var d=xn();return bC(d,Ht,l)}function bC(l,d,p){if(d=sy(l,d,vC)[0],l=gh(qa)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var g=$c(d)}catch(P){throw P===Lc?dh:P}else g=d;d=xn();var C=d.queue,T=C.dispatch;return p!==d.memoizedState&&(gt.flags|=2048,$l(9,yh(),zP.bind(null,C,p),null)),[g,T,l]}function zP(l,d){l.action=d}function xC(l){var d=xn(),p=Ht;if(p!==null)return bC(d,p,l);xn(),d=d.memoizedState,p=xn();var g=p.queue.dispatch;return p.memoizedState=l,[d,g,!1]}function $l(l,d,p,g){return l={tag:l,create:p,deps:g,inst:d,next:null},d=gt.updateQueue,d===null&&(d=ay(),gt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(g=p.next,p.next=l,l.next=g,d.lastEffect=l),l}function yh(){return{destroy:void 0,resource:void 0}}function wC(){return xn().memoizedState}function bh(l,d,p,g){var C=Ar();g=g===void 0?null:g,gt.flags|=l,C.memoizedState=$l(1|d,yh(),p,g)}function Gc(l,d,p,g){var C=xn();g=g===void 0?null:g;var T=C.memoizedState.inst;Ht!==null&&g!==null&&ey(g,Ht.memoizedState.deps)?C.memoizedState=$l(d,T,p,g):(gt.flags|=l,C.memoizedState=$l(1|d,T,p,g))}function SC(l,d){bh(8390656,8,l,d)}function CC(l,d){Gc(2048,8,l,d)}function EC(l,d){return Gc(4,2,l,d)}function RC(l,d){return Gc(4,4,l,d)}function _C(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function TC(l,d,p){p=p!=null?p.concat([l]):null,Gc(4,4,_C.bind(null,d,l),p)}function dy(){}function DC(l,d){var p=xn();d=d===void 0?null:d;var g=p.memoizedState;return d!==null&&ey(d,g[1])?g[0]:(p.memoizedState=[l,d],l)}function AC(l,d){var p=xn();d=d===void 0?null:d;var g=p.memoizedState;if(d!==null&&ey(d,g[1]))return g[0];if(g=l(),js){kt(!0);try{l()}finally{kt(!1)}}return p.memoizedState=[g,d],g}function fy(l,d,p){return p===void 0||(Pi&1073741824)!==0?l.memoizedState=d:(l.memoizedState=p,l=ME(),gt.lanes|=l,Vi|=l,p)}function NC(l,d,p,g){return Wr(p,d)?p:Vl.current!==null?(l=fy(l,p,g),Wr(l,d)||(Fn=!0),l):(Pi&42)===0?(Fn=!0,l.memoizedState=p):(l=ME(),gt.lanes|=l,Vi|=l,d)}function kC(l,d,p,g,C){var T=V.p;V.p=T!==0&&8>T?T:8;var P=B.T,z={};B.T=z,my(l,!1,d,p);try{var K=C(),se=B.S;if(se!==null&&se(z,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ye=jP(K,g);qc(l,d,ye,Yr(l))}else qc(l,d,g,Yr(l))}catch(Se){qc(l,d,{then:function(){},status:"rejected",reason:Se},Yr())}finally{V.p=T,B.T=P}}function UP(){}function hy(l,d,p,g){if(l.tag!==5)throw Error(r(476));var C=MC(l).queue;kC(l,C,d,U,p===null?UP:function(){return IC(l),p(g)})}function MC(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:U},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function IC(l){var d=MC(l).next.queue;qc(l,d,{},Yr())}function py(){return rr(dd)}function OC(){return xn().memoizedState}function PC(){return xn().memoizedState}function VP(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=Yr();l=Ii(p);var g=Oi(d,l,p);g!==null&&(Kr(g,d,p),Uc(g,d,p)),d={cache:Wg()},l.payload=d;return}d=d.return}}function HP(l,d,p){var g=Yr();p={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},xh(l)?BC(d,p):(p=Og(l,d,p,g),p!==null&&(Kr(p,l,g),FC(p,d,g)))}function jC(l,d,p){var g=Yr();qc(l,d,p,g)}function qc(l,d,p,g){var C={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(xh(l))BC(d,C);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var P=d.lastRenderedState,z=T(P,p);if(C.hasEagerState=!0,C.eagerState=z,Wr(z,P))return rh(l,d,C,0),Yt===null&&nh(),!1}catch{}finally{}if(p=Og(l,d,C,g),p!==null)return Kr(p,l,g),FC(p,d,g),!0}return!1}function my(l,d,p,g){if(g={lane:2,revertLane:qy(),action:g,hasEagerState:!1,eagerState:null,next:null},xh(l)){if(d)throw Error(r(479))}else d=Og(l,p,g,2),d!==null&&Kr(d,l,2)}function xh(l){var d=l.alternate;return l===gt||d!==null&&d===gt}function BC(l,d){Hl=ph=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function FC(l,d,p){if((p&4194048)!==0){var g=d.lanes;g&=l.pendingLanes,p|=g,d.lanes=p,yr(l,p)}}var wh={readContext:rr,use:vh,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn},LC={readContext:rr,use:vh,useCallback:function(l,d){return Ar().memoizedState=[l,d===void 0?null:d],l},useContext:rr,useEffect:SC,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,bh(4194308,4,_C.bind(null,d,l),p)},useLayoutEffect:function(l,d){return bh(4194308,4,l,d)},useInsertionEffect:function(l,d){bh(4,2,l,d)},useMemo:function(l,d){var p=Ar();d=d===void 0?null:d;var g=l();if(js){kt(!0);try{l()}finally{kt(!1)}}return p.memoizedState=[g,d],g},useReducer:function(l,d,p){var g=Ar();if(p!==void 0){var C=p(d);if(js){kt(!0);try{p(d)}finally{kt(!1)}}}else C=d;return g.memoizedState=g.baseState=C,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:C},g.queue=l,l=l.dispatch=HP.bind(null,gt,l),[g.memoizedState,l]},useRef:function(l){var d=Ar();return l={current:l},d.memoizedState=l},useState:function(l){l=uy(l);var d=l.queue,p=jC.bind(null,gt,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:dy,useDeferredValue:function(l,d){var p=Ar();return fy(p,l,d)},useTransition:function(){var l=uy(!1);return l=kC.bind(null,gt,l.queue,!0,!1),Ar().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var g=gt,C=Ar();if(Pt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),Yt===null)throw Error(r(349));(Dt&124)!==0||iC(g,d,p)}C.memoizedState=p;var T={value:p,getSnapshot:d};return C.queue=T,SC(lC.bind(null,g,T,l),[l]),g.flags|=2048,$l(9,yh(),sC.bind(null,g,T,p,d),null),p},useId:function(){var l=Ar(),d=Yt.identifierPrefix;if(Pt){var p=Wa,g=Ha;p=(g&~(1<<32-Rt(g)-1)).toString(32)+p,d=""+d+"R"+p,p=mh++,0<p&&(d+="H"+p.toString(32)),d+=""}else p=BP++,d=""+d+"r"+p.toString(32)+"";return l.memoizedState=d},useHostTransitionStatus:py,useFormState:gC,useActionState:gC,useOptimistic:function(l){var d=Ar();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=my.bind(null,gt,!0,p),p.dispatch=d,[l,d]},useMemoCache:iy,useCacheRefresh:function(){return Ar().memoizedState=VP.bind(null,gt)}},zC={readContext:rr,use:vh,useCallback:DC,useContext:rr,useEffect:CC,useImperativeHandle:TC,useInsertionEffect:EC,useLayoutEffect:RC,useMemo:AC,useReducer:gh,useRef:wC,useState:function(){return gh(qa)},useDebugValue:dy,useDeferredValue:function(l,d){var p=xn();return NC(p,Ht.memoizedState,l,d)},useTransition:function(){var l=gh(qa)[0],d=xn().memoizedState;return[typeof l=="boolean"?l:$c(l),d]},useSyncExternalStore:aC,useId:OC,useHostTransitionStatus:py,useFormState:yC,useActionState:yC,useOptimistic:function(l,d){var p=xn();return dC(p,Ht,l,d)},useMemoCache:iy,useCacheRefresh:PC},WP={readContext:rr,use:vh,useCallback:DC,useContext:rr,useEffect:CC,useImperativeHandle:TC,useInsertionEffect:EC,useLayoutEffect:RC,useMemo:AC,useReducer:ly,useRef:wC,useState:function(){return ly(qa)},useDebugValue:dy,useDeferredValue:function(l,d){var p=xn();return Ht===null?fy(p,l,d):NC(p,Ht.memoizedState,l,d)},useTransition:function(){var l=ly(qa)[0],d=xn().memoizedState;return[typeof l=="boolean"?l:$c(l),d]},useSyncExternalStore:aC,useId:OC,useHostTransitionStatus:py,useFormState:xC,useActionState:xC,useOptimistic:function(l,d){var p=xn();return Ht!==null?dC(p,Ht,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:iy,useCacheRefresh:PC},Gl=null,Xc=0;function Sh(l){var d=Xc;return Xc+=1,Gl===null&&(Gl=[]),QS(Gl,l,d)}function Yc(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Ch(l,d){throw d.$$typeof===h?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function UC(l){var d=l._init;return d(l._payload)}function VC(l){function d(ne,Z){if(l){var ae=ne.deletions;ae===null?(ne.deletions=[Z],ne.flags|=16):ae.push(Z)}}function p(ne,Z){if(!l)return null;for(;Z!==null;)d(ne,Z),Z=Z.sibling;return null}function g(ne){for(var Z=new Map;ne!==null;)ne.key!==null?Z.set(ne.key,ne):Z.set(ne.index,ne),ne=ne.sibling;return Z}function C(ne,Z){return ne=Va(ne,Z),ne.index=0,ne.sibling=null,ne}function T(ne,Z,ae){return ne.index=ae,l?(ae=ne.alternate,ae!==null?(ae=ae.index,ae<Z?(ne.flags|=67108866,Z):ae):(ne.flags|=67108866,Z)):(ne.flags|=1048576,Z)}function P(ne){return l&&ne.alternate===null&&(ne.flags|=67108866),ne}function z(ne,Z,ae,be){return Z===null||Z.tag!==6?(Z=jg(ae,ne.mode,be),Z.return=ne,Z):(Z=C(Z,ae),Z.return=ne,Z)}function K(ne,Z,ae,be){var ze=ae.type;return ze===y?ye(ne,Z,ae.props.children,be,ae.key):Z!==null&&(Z.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&UC(ze)===Z.type)?(Z=C(Z,ae.props),Yc(Z,ae),Z.return=ne,Z):(Z=ah(ae.type,ae.key,ae.props,null,ne.mode,be),Yc(Z,ae),Z.return=ne,Z)}function se(ne,Z,ae,be){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=Bg(ae,ne.mode,be),Z.return=ne,Z):(Z=C(Z,ae.children||[]),Z.return=ne,Z)}function ye(ne,Z,ae,be,ze){return Z===null||Z.tag!==7?(Z=Ds(ae,ne.mode,be,ze),Z.return=ne,Z):(Z=C(Z,ae),Z.return=ne,Z)}function Se(ne,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=jg(""+Z,ne.mode,ae),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return ae=ah(Z.type,Z.key,Z.props,null,ne.mode,ae),Yc(ae,Z),ae.return=ne,ae;case v:return Z=Bg(Z,ne.mode,ae),Z.return=ne,Z;case M:var be=Z._init;return Z=be(Z._payload),Se(ne,Z,ae)}if(Y(Z)||F(Z))return Z=Ds(Z,ne.mode,ae,null),Z.return=ne,Z;if(typeof Z.then=="function")return Se(ne,Sh(Z),ae);if(Z.$$typeof===R)return Se(ne,uh(ne,Z),ae);Ch(ne,Z)}return null}function le(ne,Z,ae,be){var ze=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ze!==null?null:z(ne,Z,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case m:return ae.key===ze?K(ne,Z,ae,be):null;case v:return ae.key===ze?se(ne,Z,ae,be):null;case M:return ze=ae._init,ae=ze(ae._payload),le(ne,Z,ae,be)}if(Y(ae)||F(ae))return ze!==null?null:ye(ne,Z,ae,be,null);if(typeof ae.then=="function")return le(ne,Z,Sh(ae),be);if(ae.$$typeof===R)return le(ne,Z,uh(ne,ae),be);Ch(ne,ae)}return null}function ue(ne,Z,ae,be,ze){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ne=ne.get(ae)||null,z(Z,ne,""+be,ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case m:return ne=ne.get(be.key===null?ae:be.key)||null,K(Z,ne,be,ze);case v:return ne=ne.get(be.key===null?ae:be.key)||null,se(Z,ne,be,ze);case M:var bt=be._init;return be=bt(be._payload),ue(ne,Z,ae,be,ze)}if(Y(be)||F(be))return ne=ne.get(ae)||null,ye(Z,ne,be,ze,null);if(typeof be.then=="function")return ue(ne,Z,ae,Sh(be),ze);if(be.$$typeof===R)return ue(ne,Z,ae,uh(Z,be),ze);Ch(Z,be)}return null}function at(ne,Z,ae,be){for(var ze=null,bt=null,Ke=Z,ot=Z=0,zn=null;Ke!==null&&ot<ae.length;ot++){Ke.index>ot?(zn=Ke,Ke=null):zn=Ke.sibling;var Ot=le(ne,Ke,ae[ot],be);if(Ot===null){Ke===null&&(Ke=zn);break}l&&Ke&&Ot.alternate===null&&d(ne,Ke),Z=T(Ot,Z,ot),bt===null?ze=Ot:bt.sibling=Ot,bt=Ot,Ke=zn}if(ot===ae.length)return p(ne,Ke),Pt&&Ns(ne,ot),ze;if(Ke===null){for(;ot<ae.length;ot++)Ke=Se(ne,ae[ot],be),Ke!==null&&(Z=T(Ke,Z,ot),bt===null?ze=Ke:bt.sibling=Ke,bt=Ke);return Pt&&Ns(ne,ot),ze}for(Ke=g(Ke);ot<ae.length;ot++)zn=ue(Ke,ne,ot,ae[ot],be),zn!==null&&(l&&zn.alternate!==null&&Ke.delete(zn.key===null?ot:zn.key),Z=T(zn,Z,ot),bt===null?ze=zn:bt.sibling=zn,bt=zn);return l&&Ke.forEach(function(Qi){return d(ne,Qi)}),Pt&&Ns(ne,ot),ze}function tt(ne,Z,ae,be){if(ae==null)throw Error(r(151));for(var ze=null,bt=null,Ke=Z,ot=Z=0,zn=null,Ot=ae.next();Ke!==null&&!Ot.done;ot++,Ot=ae.next()){Ke.index>ot?(zn=Ke,Ke=null):zn=Ke.sibling;var Qi=le(ne,Ke,Ot.value,be);if(Qi===null){Ke===null&&(Ke=zn);break}l&&Ke&&Qi.alternate===null&&d(ne,Ke),Z=T(Qi,Z,ot),bt===null?ze=Qi:bt.sibling=Qi,bt=Qi,Ke=zn}if(Ot.done)return p(ne,Ke),Pt&&Ns(ne,ot),ze;if(Ke===null){for(;!Ot.done;ot++,Ot=ae.next())Ot=Se(ne,Ot.value,be),Ot!==null&&(Z=T(Ot,Z,ot),bt===null?ze=Ot:bt.sibling=Ot,bt=Ot);return Pt&&Ns(ne,ot),ze}for(Ke=g(Ke);!Ot.done;ot++,Ot=ae.next())Ot=ue(Ke,ne,ot,Ot.value,be),Ot!==null&&(l&&Ot.alternate!==null&&Ke.delete(Ot.key===null?ot:Ot.key),Z=T(Ot,Z,ot),bt===null?ze=Ot:bt.sibling=Ot,bt=Ot);return l&&Ke.forEach(function($j){return d(ne,$j)}),Pt&&Ns(ne,ot),ze}function $t(ne,Z,ae,be){if(typeof ae=="object"&&ae!==null&&ae.type===y&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case m:e:{for(var ze=ae.key;Z!==null;){if(Z.key===ze){if(ze=ae.type,ze===y){if(Z.tag===7){p(ne,Z.sibling),be=C(Z,ae.props.children),be.return=ne,ne=be;break e}}else if(Z.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===M&&UC(ze)===Z.type){p(ne,Z.sibling),be=C(Z,ae.props),Yc(be,ae),be.return=ne,ne=be;break e}p(ne,Z);break}else d(ne,Z);Z=Z.sibling}ae.type===y?(be=Ds(ae.props.children,ne.mode,be,ae.key),be.return=ne,ne=be):(be=ah(ae.type,ae.key,ae.props,null,ne.mode,be),Yc(be,ae),be.return=ne,ne=be)}return P(ne);case v:e:{for(ze=ae.key;Z!==null;){if(Z.key===ze)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){p(ne,Z.sibling),be=C(Z,ae.children||[]),be.return=ne,ne=be;break e}else{p(ne,Z);break}else d(ne,Z);Z=Z.sibling}be=Bg(ae,ne.mode,be),be.return=ne,ne=be}return P(ne);case M:return ze=ae._init,ae=ze(ae._payload),$t(ne,Z,ae,be)}if(Y(ae))return at(ne,Z,ae,be);if(F(ae)){if(ze=F(ae),typeof ze!="function")throw Error(r(150));return ae=ze.call(ae),tt(ne,Z,ae,be)}if(typeof ae.then=="function")return $t(ne,Z,Sh(ae),be);if(ae.$$typeof===R)return $t(ne,Z,uh(ne,ae),be);Ch(ne,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Z!==null&&Z.tag===6?(p(ne,Z.sibling),be=C(Z,ae),be.return=ne,ne=be):(p(ne,Z),be=jg(ae,ne.mode,be),be.return=ne,ne=be),P(ne)):p(ne,Z)}return function(ne,Z,ae,be){try{Xc=0;var ze=$t(ne,Z,ae,be);return Gl=null,ze}catch(Ke){if(Ke===Lc||Ke===dh)throw Ke;var bt=$r(29,Ke,null,ne.mode);return bt.lanes=be,bt.return=ne,bt}finally{}}}var ql=VC(!0),HC=VC(!1),wo=G(null),sa=null;function ji(l){var d=l.alternate;te(_n,_n.current&1),te(wo,l),sa===null&&(d===null||Vl.current!==null||d.memoizedState!==null)&&(sa=l)}function WC(l){if(l.tag===22){if(te(_n,_n.current),te(wo,l),sa===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(sa=l)}}else Bi()}function Bi(){te(_n,_n.current),te(wo,wo.current)}function Xa(l){Q(wo),sa===l&&(sa=null),Q(_n)}var _n=G(0);function Eh(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||ab(p)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function vy(l,d,p,g){d=l.memoizedState,p=p(g,d),p=p==null?d:f({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var gy={enqueueSetState:function(l,d,p){l=l._reactInternals;var g=Yr(),C=Ii(g);C.payload=d,p!=null&&(C.callback=p),d=Oi(l,C,g),d!==null&&(Kr(d,l,g),Uc(d,l,g))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var g=Yr(),C=Ii(g);C.tag=1,C.payload=d,p!=null&&(C.callback=p),d=Oi(l,C,g),d!==null&&(Kr(d,l,g),Uc(d,l,g))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=Yr(),g=Ii(p);g.tag=2,d!=null&&(g.callback=d),d=Oi(l,g,p),d!==null&&(Kr(d,l,p),Uc(d,l,p))}};function $C(l,d,p,g,C,T,P){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,T,P):d.prototype&&d.prototype.isPureReactComponent?!kc(p,g)||!kc(C,T):!0}function GC(l,d,p,g){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,g),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,g),d.state!==l&&gy.enqueueReplaceState(d,d.state,null)}function Bs(l,d){var p=d;if("ref"in d){p={};for(var g in d)g!=="ref"&&(p[g]=d[g])}if(l=l.defaultProps){p===d&&(p=f({},p));for(var C in l)p[C]===void 0&&(p[C]=l[C])}return p}var Rh=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function qC(l){Rh(l)}function XC(l){console.error(l)}function YC(l){Rh(l)}function _h(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(g){setTimeout(function(){throw g})}}function KC(l,d,p){try{var g=l.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function yy(l,d,p){return p=Ii(p),p.tag=3,p.payload={element:null},p.callback=function(){_h(l,d)},p}function QC(l){return l=Ii(l),l.tag=3,l}function JC(l,d,p,g){var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var T=g.value;l.payload=function(){return C(T)},l.callback=function(){KC(d,p,g)}}var P=p.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(l.callback=function(){KC(d,p,g),typeof C!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})})}function $P(l,d,p,g,C){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(d=p.alternate,d!==null&&jc(d,p,C,!0),p=wo.current,p!==null){switch(p.tag){case 13:return sa===null?Vy():p.alternate===null&&cn===0&&(cn=3),p.flags&=-257,p.flags|=65536,p.lanes=C,g===qg?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([g]):d.add(g),Wy(l,g,C)),!1;case 22:return p.flags|=65536,g===qg?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([g]):p.add(g)),Wy(l,g,C)),!1}throw Error(r(435,p.tag))}return Wy(l,g,C),Vy(),!1}if(Pt)return d=wo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=C,g!==zg&&(l=Error(r(422),{cause:g}),Pc(go(l,p)))):(g!==zg&&(d=Error(r(423),{cause:g}),Pc(go(d,p))),l=l.current.alternate,l.flags|=65536,C&=-C,l.lanes|=C,g=go(g,p),C=yy(l.stateNode,g,C),Kg(l,C),cn!==4&&(cn=2)),!1;var T=Error(r(520),{cause:g});if(T=go(T,p),nd===null?nd=[T]:nd.push(T),cn!==4&&(cn=2),d===null)return!0;g=go(g,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=C&-C,p.lanes|=l,l=yy(p.stateNode,g,l),Kg(p,l),!1;case 1:if(d=p.type,T=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Hi===null||!Hi.has(T))))return p.flags|=65536,C&=-C,p.lanes|=C,C=QC(C),JC(C,l,p,g),Kg(p,C),!1}p=p.return}while(p!==null);return!1}var ZC=Error(r(461)),Fn=!1;function qn(l,d,p,g){d.child=l===null?HC(d,null,p,g):ql(d,l.child,p,g)}function eE(l,d,p,g,C){p=p.render;var T=d.ref;if("ref"in g){var P={};for(var z in g)z!=="ref"&&(P[z]=g[z])}else P=g;return Os(d),g=ty(l,d,p,P,T,C),z=ny(),l!==null&&!Fn?(ry(l,d,C),Ya(l,d,C)):(Pt&&z&&Fg(d),d.flags|=1,qn(l,d,g,C),d.child)}function tE(l,d,p,g,C){if(l===null){var T=p.type;return typeof T=="function"&&!Pg(T)&&T.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=T,nE(l,d,T,g,C)):(l=ah(p.type,null,g,d,d.mode,C),l.ref=d.ref,l.return=d,d.child=l)}if(T=l.child,!_y(l,C)){var P=T.memoizedProps;if(p=p.compare,p=p!==null?p:kc,p(P,g)&&l.ref===d.ref)return Ya(l,d,C)}return d.flags|=1,l=Va(T,g),l.ref=d.ref,l.return=d,d.child=l}function nE(l,d,p,g,C){if(l!==null){var T=l.memoizedProps;if(kc(T,g)&&l.ref===d.ref)if(Fn=!1,d.pendingProps=g=T,_y(l,C))(l.flags&131072)!==0&&(Fn=!0);else return d.lanes=l.lanes,Ya(l,d,C)}return by(l,d,p,g,C)}function rE(l,d,p){var g=d.pendingProps,C=g.children,T=l!==null?l.memoizedState:null;if(g.mode==="hidden"){if((d.flags&128)!==0){if(g=T!==null?T.baseLanes|p:p,l!==null){for(C=d.child=l.child,T=0;C!==null;)T=T|C.lanes|C.childLanes,C=C.sibling;d.childLanes=T&~g}else d.childLanes=0,d.child=null;return oE(l,d,g,p)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&ch(d,T!==null?T.cachePool:null),T!==null?nC(d,T):Jg(),WC(d);else return d.lanes=d.childLanes=536870912,oE(l,d,T!==null?T.baseLanes|p:p,p)}else T!==null?(ch(d,T.cachePool),nC(d,T),Bi(),d.memoizedState=null):(l!==null&&ch(d,null),Jg(),Bi());return qn(l,d,C,p),d.child}function oE(l,d,p,g){var C=Gg();return C=C===null?null:{parent:Rn._currentValue,pool:C},d.memoizedState={baseLanes:p,cachePool:C},l!==null&&ch(d,null),Jg(),WC(d),l!==null&&jc(l,d,g,!0),null}function Th(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function by(l,d,p,g,C){return Os(d),p=ty(l,d,p,g,void 0,C),g=ny(),l!==null&&!Fn?(ry(l,d,C),Ya(l,d,C)):(Pt&&g&&Fg(d),d.flags|=1,qn(l,d,p,C),d.child)}function aE(l,d,p,g,C,T){return Os(d),d.updateQueue=null,p=oC(d,g,p,C),rC(l),g=ny(),l!==null&&!Fn?(ry(l,d,T),Ya(l,d,T)):(Pt&&g&&Fg(d),d.flags|=1,qn(l,d,p,T),d.child)}function iE(l,d,p,g,C){if(Os(d),d.stateNode===null){var T=Bl,P=p.contextType;typeof P=="object"&&P!==null&&(T=rr(P)),T=new p(g,T),d.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=gy,d.stateNode=T,T._reactInternals=d,T=d.stateNode,T.props=g,T.state=d.memoizedState,T.refs={},Xg(d),P=p.contextType,T.context=typeof P=="object"&&P!==null?rr(P):Bl,T.state=d.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(vy(d,p,P,g),T.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(P=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),P!==T.state&&gy.enqueueReplaceState(T,T.state,null),Hc(d,g,T,C),Vc(),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308),g=!0}else if(l===null){T=d.stateNode;var z=d.memoizedProps,K=Bs(p,z);T.props=K;var se=T.context,ye=p.contextType;P=Bl,typeof ye=="object"&&ye!==null&&(P=rr(ye));var Se=p.getDerivedStateFromProps;ye=typeof Se=="function"||typeof T.getSnapshotBeforeUpdate=="function",z=d.pendingProps!==z,ye||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z||se!==P)&&GC(d,T,g,P),Mi=!1;var le=d.memoizedState;T.state=le,Hc(d,g,T,C),Vc(),se=d.memoizedState,z||le!==se||Mi?(typeof Se=="function"&&(vy(d,p,Se,g),se=d.memoizedState),(K=Mi||$C(d,p,K,g,le,se,P))?(ye||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(d.flags|=4194308)):(typeof T.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=g,d.memoizedState=se),T.props=g,T.state=se,T.context=P,g=K):(typeof T.componentDidMount=="function"&&(d.flags|=4194308),g=!1)}else{T=d.stateNode,Yg(l,d),P=d.memoizedProps,ye=Bs(p,P),T.props=ye,Se=d.pendingProps,le=T.context,se=p.contextType,K=Bl,typeof se=="object"&&se!==null&&(K=rr(se)),z=p.getDerivedStateFromProps,(se=typeof z=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==Se||le!==K)&&GC(d,T,g,K),Mi=!1,le=d.memoizedState,T.state=le,Hc(d,g,T,C),Vc();var ue=d.memoizedState;P!==Se||le!==ue||Mi||l!==null&&l.dependencies!==null&&lh(l.dependencies)?(typeof z=="function"&&(vy(d,p,z,g),ue=d.memoizedState),(ye=Mi||$C(d,p,ye,g,le,ue,K)||l!==null&&l.dependencies!==null&&lh(l.dependencies))?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,ue,K),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,ue,K)),typeof T.componentDidUpdate=="function"&&(d.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===l.memoizedProps&&le===l.memoizedState||(d.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&le===l.memoizedState||(d.flags|=1024),d.memoizedProps=g,d.memoizedState=ue),T.props=g,T.state=ue,T.context=K,g=ye):(typeof T.componentDidUpdate!="function"||P===l.memoizedProps&&le===l.memoizedState||(d.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&le===l.memoizedState||(d.flags|=1024),g=!1)}return T=g,Th(l,d),g=(d.flags&128)!==0,T||g?(T=d.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:T.render(),d.flags|=1,l!==null&&g?(d.child=ql(d,l.child,null,C),d.child=ql(d,null,p,C)):qn(l,d,p,C),d.memoizedState=T.state,l=d.child):l=Ya(l,d,C),l}function sE(l,d,p,g){return Oc(),d.flags|=256,qn(l,d,p,g),d.child}var xy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wy(l){return{baseLanes:l,cachePool:XS()}}function Sy(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=So),l}function lE(l,d,p){var g=d.pendingProps,C=!1,T=(d.flags&128)!==0,P;if((P=T)||(P=l!==null&&l.memoizedState===null?!1:(_n.current&2)!==0),P&&(C=!0,d.flags&=-129),P=(d.flags&32)!==0,d.flags&=-33,l===null){if(Pt){if(C?ji(d):Bi(),Pt){var z=un,K;if(K=z){e:{for(K=z,z=ia;K.nodeType!==8;){if(!z){z=null;break e}if(K=Vo(K.nextSibling),K===null){z=null;break e}}z=K}z!==null?(d.memoizedState={dehydrated:z,treeContext:As!==null?{id:Ha,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},K=$r(18,null,null,0),K.stateNode=z,K.return=d,d.child=K,br=d,un=null,K=!0):K=!1}K||Ms(d)}if(z=d.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return ab(z)?d.lanes=32:d.lanes=536870912,null;Xa(d)}return z=g.children,g=g.fallback,C?(Bi(),C=d.mode,z=Dh({mode:"hidden",children:z},C),g=Ds(g,C,p,null),z.return=d,g.return=d,z.sibling=g,d.child=z,C=d.child,C.memoizedState=wy(p),C.childLanes=Sy(l,P,p),d.memoizedState=xy,g):(ji(d),Cy(d,z))}if(K=l.memoizedState,K!==null&&(z=K.dehydrated,z!==null)){if(T)d.flags&256?(ji(d),d.flags&=-257,d=Ey(l,d,p)):d.memoizedState!==null?(Bi(),d.child=l.child,d.flags|=128,d=null):(Bi(),C=g.fallback,z=d.mode,g=Dh({mode:"visible",children:g.children},z),C=Ds(C,z,p,null),C.flags|=2,g.return=d,C.return=d,g.sibling=C,d.child=g,ql(d,l.child,null,p),g=d.child,g.memoizedState=wy(p),g.childLanes=Sy(l,P,p),d.memoizedState=xy,d=C);else if(ji(d),ab(z)){if(P=z.nextSibling&&z.nextSibling.dataset,P)var se=P.dgst;P=se,g=Error(r(419)),g.stack="",g.digest=P,Pc({value:g,source:null,stack:null}),d=Ey(l,d,p)}else if(Fn||jc(l,d,p,!1),P=(p&l.childLanes)!==0,Fn||P){if(P=Yt,P!==null&&(g=p&-p,g=(g&42)!==0?1:Cs(g),g=(g&(P.suspendedLanes|p))!==0?0:g,g!==0&&g!==K.retryLane))throw K.retryLane=g,jl(l,g),Kr(P,l,g),ZC;z.data==="$?"||Vy(),d=Ey(l,d,p)}else z.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=K.treeContext,un=Vo(z.nextSibling),br=d,Pt=!0,ks=null,ia=!1,l!==null&&(bo[xo++]=Ha,bo[xo++]=Wa,bo[xo++]=As,Ha=l.id,Wa=l.overflow,As=d),d=Cy(d,g.children),d.flags|=4096);return d}return C?(Bi(),C=g.fallback,z=d.mode,K=l.child,se=K.sibling,g=Va(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,se!==null?C=Va(se,C):(C=Ds(C,z,p,null),C.flags|=2),C.return=d,g.return=d,g.sibling=C,d.child=g,g=C,C=d.child,z=l.child.memoizedState,z===null?z=wy(p):(K=z.cachePool,K!==null?(se=Rn._currentValue,K=K.parent!==se?{parent:se,pool:se}:K):K=XS(),z={baseLanes:z.baseLanes|p,cachePool:K}),C.memoizedState=z,C.childLanes=Sy(l,P,p),d.memoizedState=xy,g):(ji(d),p=l.child,l=p.sibling,p=Va(p,{mode:"visible",children:g.children}),p.return=d,p.sibling=null,l!==null&&(P=d.deletions,P===null?(d.deletions=[l],d.flags|=16):P.push(l)),d.child=p,d.memoizedState=null,p)}function Cy(l,d){return d=Dh({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function Dh(l,d){return l=$r(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Ey(l,d,p){return ql(d,l.child,null,p),l=Cy(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function uE(l,d,p){l.lanes|=d;var g=l.alternate;g!==null&&(g.lanes|=d),Vg(l.return,d,p)}function Ry(l,d,p,g,C){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:C}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=p,T.tailMode=C)}function cE(l,d,p){var g=d.pendingProps,C=g.revealOrder,T=g.tail;if(qn(l,d,g.children,p),g=_n.current,(g&2)!==0)g=g&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&uE(l,p,d);else if(l.tag===19)uE(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}switch(te(_n,g),C){case"forwards":for(p=d.child,C=null;p!==null;)l=p.alternate,l!==null&&Eh(l)===null&&(C=p),p=p.sibling;p=C,p===null?(C=d.child,d.child=null):(C=p.sibling,p.sibling=null),Ry(d,!1,C,p,T);break;case"backwards":for(p=null,C=d.child,d.child=null;C!==null;){if(l=C.alternate,l!==null&&Eh(l)===null){d.child=C;break}l=C.sibling,C.sibling=p,p=C,C=l}Ry(d,!0,p,null,T);break;case"together":Ry(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Ya(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),Vi|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(jc(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=Va(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=Va(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function _y(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&lh(l)))}function GP(l,d,p){switch(d.tag){case 3:ve(d,d.stateNode.containerInfo),ki(d,Rn,l.memoizedState.cache),Oc();break;case 27:case 5:Oe(d);break;case 4:ve(d,d.stateNode.containerInfo);break;case 10:ki(d,d.type,d.memoizedProps.value);break;case 13:var g=d.memoizedState;if(g!==null)return g.dehydrated!==null?(ji(d),d.flags|=128,null):(p&d.child.childLanes)!==0?lE(l,d,p):(ji(d),l=Ya(l,d,p),l!==null?l.sibling:null);ji(d);break;case 19:var C=(l.flags&128)!==0;if(g=(p&d.childLanes)!==0,g||(jc(l,d,p,!1),g=(p&d.childLanes)!==0),C){if(g)return cE(l,d,p);d.flags|=128}if(C=d.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),te(_n,_n.current),g)break;return null;case 22:case 23:return d.lanes=0,rE(l,d,p);case 24:ki(d,Rn,l.memoizedState.cache)}return Ya(l,d,p)}function dE(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)Fn=!0;else{if(!_y(l,p)&&(d.flags&128)===0)return Fn=!1,GP(l,d,p);Fn=(l.flags&131072)!==0}else Fn=!1,Pt&&(d.flags&1048576)!==0&&US(d,sh,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var g=d.elementType,C=g._init;if(g=C(g._payload),d.type=g,typeof g=="function")Pg(g)?(l=Bs(g,l),d.tag=1,d=iE(null,d,g,l,p)):(d.tag=0,d=by(null,d,g,l,p));else{if(g!=null){if(C=g.$$typeof,C===D){d.tag=11,d=eE(null,d,g,l,p);break e}else if(C===k){d.tag=14,d=tE(null,d,g,l,p);break e}}throw d=W(g)||g,Error(r(306,d,""))}}return d;case 0:return by(l,d,d.type,d.pendingProps,p);case 1:return g=d.type,C=Bs(g,d.pendingProps),iE(l,d,g,C,p);case 3:e:{if(ve(d,d.stateNode.containerInfo),l===null)throw Error(r(387));g=d.pendingProps;var T=d.memoizedState;C=T.element,Yg(l,d),Hc(d,g,null,p);var P=d.memoizedState;if(g=P.cache,ki(d,Rn,g),g!==T.cache&&Hg(d,[Rn],p,!0),Vc(),g=P.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:P.cache},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){d=sE(l,d,g,p);break e}else if(g!==C){C=go(Error(r(424)),d),Pc(C),d=sE(l,d,g,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(un=Vo(l.firstChild),br=d,Pt=!0,ks=null,ia=!0,p=HC(d,null,g,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Oc(),g===C){d=Ya(l,d,p);break e}qn(l,d,g,p)}d=d.child}return d;case 26:return Th(l,d),l===null?(p=mR(d.type,null,d.pendingProps,null))?d.memoizedState=p:Pt||(p=d.type,l=d.pendingProps,g=Vh(ie.current).createElement(p),g[nr]=d,g[Tr]=l,Yn(g,p,l),Bn(g),d.stateNode=g):d.memoizedState=mR(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Oe(d),l===null&&Pt&&(g=d.stateNode=fR(d.type,d.pendingProps,ie.current),br=d,ia=!0,C=un,Gi(d.type)?(ib=C,un=Vo(g.firstChild)):un=C),qn(l,d,d.pendingProps.children,p),Th(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Pt&&((C=g=un)&&(g=xj(g,d.type,d.pendingProps,ia),g!==null?(d.stateNode=g,br=d,un=Vo(g.firstChild),ia=!1,C=!0):C=!1),C||Ms(d)),Oe(d),C=d.type,T=d.pendingProps,P=l!==null?l.memoizedProps:null,g=T.children,nb(C,T)?g=null:P!==null&&nb(C,P)&&(d.flags|=32),d.memoizedState!==null&&(C=ty(l,d,FP,null,null,p),dd._currentValue=C),Th(l,d),qn(l,d,g,p),d.child;case 6:return l===null&&Pt&&((l=p=un)&&(p=wj(p,d.pendingProps,ia),p!==null?(d.stateNode=p,br=d,un=null,l=!0):l=!1),l||Ms(d)),null;case 13:return lE(l,d,p);case 4:return ve(d,d.stateNode.containerInfo),g=d.pendingProps,l===null?d.child=ql(d,null,g,p):qn(l,d,g,p),d.child;case 11:return eE(l,d,d.type,d.pendingProps,p);case 7:return qn(l,d,d.pendingProps,p),d.child;case 8:return qn(l,d,d.pendingProps.children,p),d.child;case 12:return qn(l,d,d.pendingProps.children,p),d.child;case 10:return g=d.pendingProps,ki(d,d.type,g.value),qn(l,d,g.children,p),d.child;case 9:return C=d.type._context,g=d.pendingProps.children,Os(d),C=rr(C),g=g(C),d.flags|=1,qn(l,d,g,p),d.child;case 14:return tE(l,d,d.type,d.pendingProps,p);case 15:return nE(l,d,d.type,d.pendingProps,p);case 19:return cE(l,d,p);case 31:return g=d.pendingProps,p=d.mode,g={mode:g.mode,children:g.children},l===null?(p=Dh(g,p),p.ref=d.ref,d.child=p,p.return=d,d=p):(p=Va(l.child,g),p.ref=d.ref,d.child=p,p.return=d,d=p),d;case 22:return rE(l,d,p);case 24:return Os(d),g=rr(Rn),l===null?(C=Gg(),C===null&&(C=Yt,T=Wg(),C.pooledCache=T,T.refCount++,T!==null&&(C.pooledCacheLanes|=p),C=T),d.memoizedState={parent:g,cache:C},Xg(d),ki(d,Rn,C)):((l.lanes&p)!==0&&(Yg(l,d),Hc(d,null,null,p),Vc()),C=l.memoizedState,T=d.memoizedState,C.parent!==g?(C={parent:g,cache:g},d.memoizedState=C,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=C),ki(d,Rn,g)):(g=T.cache,ki(d,Rn,g),g!==C.cache&&Hg(d,[Rn],p,!0))),qn(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ka(l){l.flags|=4}function fE(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!xR(d)){if(d=wo.current,d!==null&&((Dt&4194048)===Dt?sa!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||d!==sa))throw zc=qg,YS;l.flags|=8192}}function Ah(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?_t():536870912,l.lanes|=d,Ql|=d)}function Kc(l,d){if(!Pt)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function nn(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,g=0;if(d)for(var C=l.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags&65011712,g|=C.flags&65011712,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=g,l.childLanes=p,d}function qP(l,d,p){var g=d.pendingProps;switch(Lg(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(d),null;case 1:return nn(d),null;case 3:return p=d.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),Ga(Rn),pe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Ic(d)?Ka(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,WS())),nn(d),null;case 26:return p=d.memoizedState,l===null?(Ka(d),p!==null?(nn(d),fE(d,p)):(nn(d),d.flags&=-16777217)):p?p!==l.memoizedState?(Ka(d),nn(d),fE(d,p)):(nn(d),d.flags&=-16777217):(l.memoizedProps!==g&&Ka(d),nn(d),d.flags&=-16777217),null;case 27:je(d),p=ie.current;var C=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==g&&Ka(d);else{if(!g){if(d.stateNode===null)throw Error(r(166));return nn(d),null}l=de.current,Ic(d)?VS(d):(l=fR(C,g,p),d.stateNode=l,Ka(d))}return nn(d),null;case 5:if(je(d),p=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==g&&Ka(d);else{if(!g){if(d.stateNode===null)throw Error(r(166));return nn(d),null}if(l=de.current,Ic(d))VS(d);else{switch(C=Vh(ie.current),l){case 1:l=C.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=C.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=C.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof g.is=="string"?C.createElement("select",{is:g.is}):C.createElement("select"),g.multiple?l.multiple=!0:g.size&&(l.size=g.size);break;default:l=typeof g.is=="string"?C.createElement(p,{is:g.is}):C.createElement(p)}}l[nr]=d,l[Tr]=g;e:for(C=d.child;C!==null;){if(C.tag===5||C.tag===6)l.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===d)break e;for(;C.sibling===null;){if(C.return===null||C.return===d)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}d.stateNode=l;e:switch(Yn(l,p,g),p){case"button":case"input":case"select":case"textarea":l=!!g.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ka(d)}}return nn(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==g&&Ka(d);else{if(typeof g!="string"&&d.stateNode===null)throw Error(r(166));if(l=ie.current,Ic(d)){if(l=d.stateNode,p=d.memoizedProps,g=null,C=br,C!==null)switch(C.tag){case 27:case 5:g=C.memoizedProps}l[nr]=d,l=!!(l.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||aR(l.nodeValue,p)),l||Ms(d)}else l=Vh(l).createTextNode(g),l[nr]=d,d.stateNode=l}return nn(d),null;case 13:if(g=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(C=Ic(d),g!==null&&g.dehydrated!==null){if(l===null){if(!C)throw Error(r(318));if(C=d.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[nr]=d}else Oc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;nn(d),C=!1}else C=WS(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=C),C=!0;if(!C)return d.flags&256?(Xa(d),d):(Xa(d),null)}if(Xa(d),(d.flags&128)!==0)return d.lanes=p,d;if(p=g!==null,l=l!==null&&l.memoizedState!==null,p){g=d.child,C=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(C=g.alternate.memoizedState.cachePool.pool);var T=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),T!==C&&(g.flags|=2048)}return p!==l&&p&&(d.child.flags|=8192),Ah(d,d.updateQueue),nn(d),null;case 4:return pe(),l===null&&Qy(d.stateNode.containerInfo),nn(d),null;case 10:return Ga(d.type),nn(d),null;case 19:if(Q(_n),C=d.memoizedState,C===null)return nn(d),null;if(g=(d.flags&128)!==0,T=C.rendering,T===null)if(g)Kc(C,!1);else{if(cn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(T=Eh(l),T!==null){for(d.flags|=128,Kc(C,!1),l=T.updateQueue,d.updateQueue=l,Ah(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)zS(p,l),p=p.sibling;return te(_n,_n.current&1|2),d.child}l=l.sibling}C.tail!==null&&_e()>Mh&&(d.flags|=128,g=!0,Kc(C,!1),d.lanes=4194304)}else{if(!g)if(l=Eh(T),l!==null){if(d.flags|=128,g=!0,l=l.updateQueue,d.updateQueue=l,Ah(d,l),Kc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!T.alternate&&!Pt)return nn(d),null}else 2*_e()-C.renderingStartTime>Mh&&p!==536870912&&(d.flags|=128,g=!0,Kc(C,!1),d.lanes=4194304);C.isBackwards?(T.sibling=d.child,d.child=T):(l=C.last,l!==null?l.sibling=T:d.child=T,C.last=T)}return C.tail!==null?(d=C.tail,C.rendering=d,C.tail=d.sibling,C.renderingStartTime=_e(),d.sibling=null,l=_n.current,te(_n,g?l&1|2:l&1),d):(nn(d),null);case 22:case 23:return Xa(d),Zg(),g=d.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(d.flags|=8192):g&&(d.flags|=8192),g?(p&536870912)!==0&&(d.flags&128)===0&&(nn(d),d.subtreeFlags&6&&(d.flags|=8192)):nn(d),p=d.updateQueue,p!==null&&Ah(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),g=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==p&&(d.flags|=2048),l!==null&&Q(Ps),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),Ga(Rn),nn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function XP(l,d){switch(Lg(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Ga(Rn),pe(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return je(d),null;case 13:if(Xa(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Oc()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return Q(_n),null;case 4:return pe(),null;case 10:return Ga(d.type),null;case 22:case 23:return Xa(d),Zg(),l!==null&&Q(Ps),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Ga(Rn),null;case 25:return null;default:return null}}function hE(l,d){switch(Lg(d),d.tag){case 3:Ga(Rn),pe();break;case 26:case 27:case 5:je(d);break;case 4:pe();break;case 13:Xa(d);break;case 19:Q(_n);break;case 10:Ga(d.type);break;case 22:case 23:Xa(d),Zg(),l!==null&&Q(Ps);break;case 24:Ga(Rn)}}function Qc(l,d){try{var p=d.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var C=g.next;p=C;do{if((p.tag&l)===l){g=void 0;var T=p.create,P=p.inst;g=T(),P.destroy=g}p=p.next}while(p!==C)}}catch(z){Xt(d,d.return,z)}}function Fi(l,d,p){try{var g=d.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var T=C.next;g=T;do{if((g.tag&l)===l){var P=g.inst,z=P.destroy;if(z!==void 0){P.destroy=void 0,C=d;var K=p,se=z;try{se()}catch(ye){Xt(C,K,ye)}}}g=g.next}while(g!==T)}}catch(ye){Xt(d,d.return,ye)}}function pE(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{tC(d,p)}catch(g){Xt(l,l.return,g)}}}function mE(l,d,p){p.props=Bs(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(g){Xt(l,d,g)}}function Jc(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof p=="function"?l.refCleanup=p(g):p.current=g}}catch(C){Xt(l,d,C)}}function la(l,d){var p=l.ref,g=l.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(C){Xt(l,d,C)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(C){Xt(l,d,C)}else p.current=null}function vE(l){var d=l.type,p=l.memoizedProps,g=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break e;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(C){Xt(l,l.return,C)}}function Ty(l,d,p){try{var g=l.stateNode;mj(g,l.type,p,d),g[Tr]=d}catch(C){Xt(l,l.return,C)}}function gE(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Gi(l.type)||l.tag===4}function Dy(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||gE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Gi(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ay(l,d,p){var g=l.tag;if(g===5||g===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Uh));else if(g!==4&&(g===27&&Gi(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(Ay(l,d,p),l=l.sibling;l!==null;)Ay(l,d,p),l=l.sibling}function Nh(l,d,p){var g=l.tag;if(g===5||g===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(g!==4&&(g===27&&Gi(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Nh(l,d,p),l=l.sibling;l!==null;)Nh(l,d,p),l=l.sibling}function yE(l){var d=l.stateNode,p=l.memoizedProps;try{for(var g=l.type,C=d.attributes;C.length;)d.removeAttributeNode(C[0]);Yn(d,g,p),d[nr]=l,d[Tr]=p}catch(T){Xt(l,l.return,T)}}var Qa=!1,mn=!1,Ny=!1,bE=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function YP(l,d){if(l=l.containerInfo,eb=Xh,l=NS(l),Dg(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var C=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var P=0,z=-1,K=-1,se=0,ye=0,Se=l,le=null;t:for(;;){for(var ue;Se!==p||C!==0&&Se.nodeType!==3||(z=P+C),Se!==T||g!==0&&Se.nodeType!==3||(K=P+g),Se.nodeType===3&&(P+=Se.nodeValue.length),(ue=Se.firstChild)!==null;)le=Se,Se=ue;for(;;){if(Se===l)break t;if(le===p&&++se===C&&(z=P),le===T&&++ye===g&&(K=P),(ue=Se.nextSibling)!==null)break;Se=le,le=Se.parentNode}Se=ue}p=z===-1||K===-1?null:{start:z,end:K}}else p=null}p=p||{start:0,end:0}}else p=null;for(tb={focusedElem:l,selectionRange:p},Xh=!1,Ln=d;Ln!==null;)if(d=Ln,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,Ln=l;else for(;Ln!==null;){switch(d=Ln,T=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&T!==null){l=void 0,p=d,C=T.memoizedProps,T=T.memoizedState,g=p.stateNode;try{var at=Bs(p.type,C,p.elementType===p.type);l=g.getSnapshotBeforeUpdate(at,T),g.__reactInternalSnapshotBeforeUpdate=l}catch(tt){Xt(p,p.return,tt)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)ob(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":ob(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Ln=l;break}Ln=d.return}}function xE(l,d,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:Li(l,p),g&4&&Qc(5,p);break;case 1:if(Li(l,p),g&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(P){Xt(p,p.return,P)}else{var C=Bs(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(C,d,l.__reactInternalSnapshotBeforeUpdate)}catch(P){Xt(p,p.return,P)}}g&64&&pE(p),g&512&&Jc(p,p.return);break;case 3:if(Li(l,p),g&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{tC(l,d)}catch(P){Xt(p,p.return,P)}}break;case 27:d===null&&g&4&&yE(p);case 26:case 5:Li(l,p),d===null&&g&4&&vE(p),g&512&&Jc(p,p.return);break;case 12:Li(l,p);break;case 13:Li(l,p),g&4&&CE(l,p),g&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=oj.bind(null,p),Sj(l,p))));break;case 22:if(g=p.memoizedState!==null||Qa,!g){d=d!==null&&d.memoizedState!==null||mn,C=Qa;var T=mn;Qa=g,(mn=d)&&!T?zi(l,p,(p.subtreeFlags&8772)!==0):Li(l,p),Qa=C,mn=T}break;case 30:break;default:Li(l,p)}}function wE(l){var d=l.alternate;d!==null&&(l.alternate=null,wE(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&ug(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var tn=null,Nr=!1;function Ja(l,d,p){for(p=p.child;p!==null;)SE(l,d,p),p=p.sibling}function SE(l,d,p){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Be,p)}catch{}switch(p.tag){case 26:mn||la(p,d),Ja(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:mn||la(p,d);var g=tn,C=Nr;Gi(p.type)&&(tn=p.stateNode,Nr=!1),Ja(l,d,p),sd(p.stateNode),tn=g,Nr=C;break;case 5:mn||la(p,d);case 6:if(g=tn,C=Nr,tn=null,Ja(l,d,p),tn=g,Nr=C,tn!==null)if(Nr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(p.stateNode)}catch(T){Xt(p,d,T)}else try{tn.removeChild(p.stateNode)}catch(T){Xt(p,d,T)}break;case 18:tn!==null&&(Nr?(l=tn,cR(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),md(l)):cR(tn,p.stateNode));break;case 4:g=tn,C=Nr,tn=p.stateNode.containerInfo,Nr=!0,Ja(l,d,p),tn=g,Nr=C;break;case 0:case 11:case 14:case 15:mn||Fi(2,p,d),mn||Fi(4,p,d),Ja(l,d,p);break;case 1:mn||(la(p,d),g=p.stateNode,typeof g.componentWillUnmount=="function"&&mE(p,d,g)),Ja(l,d,p);break;case 21:Ja(l,d,p);break;case 22:mn=(g=mn)||p.memoizedState!==null,Ja(l,d,p),mn=g;break;default:Ja(l,d,p)}}function CE(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{md(l)}catch(p){Xt(d,d.return,p)}}function KP(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new bE),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new bE),d;default:throw Error(r(435,l.tag))}}function ky(l,d){var p=KP(l);d.forEach(function(g){var C=aj.bind(null,l,g);p.has(g)||(p.add(g),g.then(C,C))})}function Gr(l,d){var p=d.deletions;if(p!==null)for(var g=0;g<p.length;g++){var C=p[g],T=l,P=d,z=P;e:for(;z!==null;){switch(z.tag){case 27:if(Gi(z.type)){tn=z.stateNode,Nr=!1;break e}break;case 5:tn=z.stateNode,Nr=!1;break e;case 3:case 4:tn=z.stateNode.containerInfo,Nr=!0;break e}z=z.return}if(tn===null)throw Error(r(160));SE(T,P,C),tn=null,Nr=!1,T=C.alternate,T!==null&&(T.return=null),C.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)EE(d,l),d=d.sibling}var Uo=null;function EE(l,d){var p=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Gr(d,l),qr(l),g&4&&(Fi(3,l,l.return),Qc(3,l),Fi(5,l,l.return));break;case 1:Gr(d,l),qr(l),g&512&&(mn||p===null||la(p,p.return)),g&64&&Qa&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var C=Uo;if(Gr(d,l),qr(l),g&512&&(mn||p===null||la(p,p.return)),g&4){var T=p!==null?p.memoizedState:null;if(g=l.memoizedState,p===null)if(g===null)if(l.stateNode===null){e:{g=l.type,p=l.memoizedProps,C=C.ownerDocument||C;t:switch(g){case"title":T=C.getElementsByTagName("title")[0],(!T||T[Sc]||T[nr]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=C.createElement(g),C.head.insertBefore(T,C.querySelector("head > title"))),Yn(T,g,p),T[nr]=l,Bn(T),g=T;break e;case"link":var P=yR("link","href",C).get(g+(p.href||""));if(P){for(var z=0;z<P.length;z++)if(T=P[z],T.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&T.getAttribute("rel")===(p.rel==null?null:p.rel)&&T.getAttribute("title")===(p.title==null?null:p.title)&&T.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){P.splice(z,1);break t}}T=C.createElement(g),Yn(T,g,p),C.head.appendChild(T);break;case"meta":if(P=yR("meta","content",C).get(g+(p.content||""))){for(z=0;z<P.length;z++)if(T=P[z],T.getAttribute("content")===(p.content==null?null:""+p.content)&&T.getAttribute("name")===(p.name==null?null:p.name)&&T.getAttribute("property")===(p.property==null?null:p.property)&&T.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&T.getAttribute("charset")===(p.charSet==null?null:p.charSet)){P.splice(z,1);break t}}T=C.createElement(g),Yn(T,g,p),C.head.appendChild(T);break;default:throw Error(r(468,g))}T[nr]=l,Bn(T),g=T}l.stateNode=g}else bR(C,l.type,l.stateNode);else l.stateNode=gR(C,g,l.memoizedProps);else T!==g?(T===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):T.count--,g===null?bR(C,l.type,l.stateNode):gR(C,g,l.memoizedProps)):g===null&&l.stateNode!==null&&Ty(l,l.memoizedProps,p.memoizedProps)}break;case 27:Gr(d,l),qr(l),g&512&&(mn||p===null||la(p,p.return)),p!==null&&g&4&&Ty(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Gr(d,l),qr(l),g&512&&(mn||p===null||la(p,p.return)),l.flags&32){C=l.stateNode;try{Al(C,"")}catch(ue){Xt(l,l.return,ue)}}g&4&&l.stateNode!=null&&(C=l.memoizedProps,Ty(l,C,p!==null?p.memoizedProps:C)),g&1024&&(Ny=!0);break;case 6:if(Gr(d,l),qr(l),g&4){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,p=l.stateNode;try{p.nodeValue=g}catch(ue){Xt(l,l.return,ue)}}break;case 3:if($h=null,C=Uo,Uo=Hh(d.containerInfo),Gr(d,l),Uo=C,qr(l),g&4&&p!==null&&p.memoizedState.isDehydrated)try{md(d.containerInfo)}catch(ue){Xt(l,l.return,ue)}Ny&&(Ny=!1,RE(l));break;case 4:g=Uo,Uo=Hh(l.stateNode.containerInfo),Gr(d,l),qr(l),Uo=g;break;case 12:Gr(d,l),qr(l);break;case 13:Gr(d,l),qr(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(By=_e()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,ky(l,g)));break;case 22:C=l.memoizedState!==null;var K=p!==null&&p.memoizedState!==null,se=Qa,ye=mn;if(Qa=se||C,mn=ye||K,Gr(d,l),mn=ye,Qa=se,qr(l),g&8192)e:for(d=l.stateNode,d._visibility=C?d._visibility&-2:d._visibility|1,C&&(p===null||K||Qa||mn||Fs(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){K=p=d;try{if(T=K.stateNode,C)P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{z=K.stateNode;var Se=K.memoizedProps.style,le=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;z.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){Xt(K,K.return,ue)}}}else if(d.tag===6){if(p===null){K=d;try{K.stateNode.nodeValue=C?"":K.memoizedProps}catch(ue){Xt(K,K.return,ue)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}g&4&&(g=l.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,ky(l,p))));break;case 19:Gr(d,l),qr(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,ky(l,g)));break;case 30:break;case 21:break;default:Gr(d,l),qr(l)}}function qr(l){var d=l.flags;if(d&2){try{for(var p,g=l.return;g!==null;){if(gE(g)){p=g;break}g=g.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var C=p.stateNode,T=Dy(l);Nh(l,T,C);break;case 5:var P=p.stateNode;p.flags&32&&(Al(P,""),p.flags&=-33);var z=Dy(l);Nh(l,z,P);break;case 3:case 4:var K=p.stateNode.containerInfo,se=Dy(l);Ay(l,se,K);break;default:throw Error(r(161))}}catch(ye){Xt(l,l.return,ye)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function RE(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;RE(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Li(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)xE(l,d.alternate,d),d=d.sibling}function Fs(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:Fi(4,d,d.return),Fs(d);break;case 1:la(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&mE(d,d.return,p),Fs(d);break;case 27:sd(d.stateNode);case 26:case 5:la(d,d.return),Fs(d);break;case 22:d.memoizedState===null&&Fs(d);break;case 30:Fs(d);break;default:Fs(d)}l=l.sibling}}function zi(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var g=d.alternate,C=l,T=d,P=T.flags;switch(T.tag){case 0:case 11:case 15:zi(C,T,p),Qc(4,T);break;case 1:if(zi(C,T,p),g=T,C=g.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(se){Xt(g,g.return,se)}if(g=T,C=g.updateQueue,C!==null){var z=g.stateNode;try{var K=C.shared.hiddenCallbacks;if(K!==null)for(C.shared.hiddenCallbacks=null,C=0;C<K.length;C++)eC(K[C],z)}catch(se){Xt(g,g.return,se)}}p&&P&64&&pE(T),Jc(T,T.return);break;case 27:yE(T);case 26:case 5:zi(C,T,p),p&&g===null&&P&4&&vE(T),Jc(T,T.return);break;case 12:zi(C,T,p);break;case 13:zi(C,T,p),p&&P&4&&CE(C,T);break;case 22:T.memoizedState===null&&zi(C,T,p),Jc(T,T.return);break;case 30:break;default:zi(C,T,p)}d=d.sibling}}function My(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Bc(p))}function Iy(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Bc(l))}function ua(l,d,p,g){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)_E(l,d,p,g),d=d.sibling}function _E(l,d,p,g){var C=d.flags;switch(d.tag){case 0:case 11:case 15:ua(l,d,p,g),C&2048&&Qc(9,d);break;case 1:ua(l,d,p,g);break;case 3:ua(l,d,p,g),C&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Bc(l)));break;case 12:if(C&2048){ua(l,d,p,g),l=d.stateNode;try{var T=d.memoizedProps,P=T.id,z=T.onPostCommit;typeof z=="function"&&z(P,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(K){Xt(d,d.return,K)}}else ua(l,d,p,g);break;case 13:ua(l,d,p,g);break;case 23:break;case 22:T=d.stateNode,P=d.alternate,d.memoizedState!==null?T._visibility&2?ua(l,d,p,g):Zc(l,d):T._visibility&2?ua(l,d,p,g):(T._visibility|=2,Xl(l,d,p,g,(d.subtreeFlags&10256)!==0)),C&2048&&My(P,d);break;case 24:ua(l,d,p,g),C&2048&&Iy(d.alternate,d);break;default:ua(l,d,p,g)}}function Xl(l,d,p,g,C){for(C=C&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var T=l,P=d,z=p,K=g,se=P.flags;switch(P.tag){case 0:case 11:case 15:Xl(T,P,z,K,C),Qc(8,P);break;case 23:break;case 22:var ye=P.stateNode;P.memoizedState!==null?ye._visibility&2?Xl(T,P,z,K,C):Zc(T,P):(ye._visibility|=2,Xl(T,P,z,K,C)),C&&se&2048&&My(P.alternate,P);break;case 24:Xl(T,P,z,K,C),C&&se&2048&&Iy(P.alternate,P);break;default:Xl(T,P,z,K,C)}d=d.sibling}}function Zc(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,g=d,C=g.flags;switch(g.tag){case 22:Zc(p,g),C&2048&&My(g.alternate,g);break;case 24:Zc(p,g),C&2048&&Iy(g.alternate,g);break;default:Zc(p,g)}d=d.sibling}}var ed=8192;function Yl(l){if(l.subtreeFlags&ed)for(l=l.child;l!==null;)TE(l),l=l.sibling}function TE(l){switch(l.tag){case 26:Yl(l),l.flags&ed&&l.memoizedState!==null&&Pj(Uo,l.memoizedState,l.memoizedProps);break;case 5:Yl(l);break;case 3:case 4:var d=Uo;Uo=Hh(l.stateNode.containerInfo),Yl(l),Uo=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=ed,ed=16777216,Yl(l),ed=d):Yl(l));break;default:Yl(l)}}function DE(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function td(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var g=d[p];Ln=g,NE(g,l)}DE(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)AE(l),l=l.sibling}function AE(l){switch(l.tag){case 0:case 11:case 15:td(l),l.flags&2048&&Fi(9,l,l.return);break;case 3:td(l);break;case 12:td(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,kh(l)):td(l);break;default:td(l)}}function kh(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var g=d[p];Ln=g,NE(g,l)}DE(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:Fi(8,d,d.return),kh(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,kh(d));break;default:kh(d)}l=l.sibling}}function NE(l,d){for(;Ln!==null;){var p=Ln;switch(p.tag){case 0:case 11:case 15:Fi(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Bc(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,Ln=g;else e:for(p=l;Ln!==null;){g=Ln;var C=g.sibling,T=g.return;if(wE(g),g===p){Ln=null;break e}if(C!==null){C.return=T,Ln=C;break e}Ln=T}}}var QP={getCacheForType:function(l){var d=rr(Rn),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p}},JP=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Yt=null,wt=null,Dt=0,Vt=0,Xr=null,Ui=!1,Kl=!1,Oy=!1,Za=0,cn=0,Vi=0,Ls=0,Py=0,So=0,Ql=0,nd=null,kr=null,jy=!1,By=0,Mh=1/0,Ih=null,Hi=null,Xn=0,Wi=null,Jl=null,Zl=0,Fy=0,Ly=null,kE=null,rd=0,zy=null;function Yr(){if((Ut&2)!==0&&Dt!==0)return Dt&-Dt;if(B.T!==null){var l=zl;return l!==0?l:qy()}return Di()}function ME(){So===0&&(So=(Dt&536870912)===0||Pt?ft():536870912);var l=wo.current;return l!==null&&(l.flags|=32),So}function Kr(l,d,p){(l===Yt&&(Vt===2||Vt===9)||l.cancelPendingCommit!==null)&&(eu(l,0),$i(l,Dt,So,!1)),Mt(l,p),((Ut&2)===0||l!==Yt)&&(l===Yt&&((Ut&2)===0&&(Ls|=p),cn===4&&$i(l,Dt,So,!1)),ca(l))}function IE(l,d,p){if((Ut&6)!==0)throw Error(r(327));var g=!p&&(d&124)===0&&(d&l.expiredLanes)===0||ln(l,d),C=g?tj(l,d):Hy(l,d,!0),T=g;do{if(C===0){Kl&&!g&&$i(l,d,0,!1);break}else{if(p=l.current.alternate,T&&!ZP(p)){C=Hy(l,d,!1),T=!1;continue}if(C===2){if(T=d,l.errorRecoveryDisabledLanes&T)var P=0;else P=l.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){d=P;e:{var z=l;C=nd;var K=z.current.memoizedState.isDehydrated;if(K&&(eu(z,P).flags|=256),P=Hy(z,P,!1),P!==2){if(Oy&&!K){z.errorRecoveryDisabledLanes|=T,Ls|=T,C=4;break e}T=kr,kr=C,T!==null&&(kr===null?kr=T:kr.push.apply(kr,T))}C=P}if(T=!1,C!==2)continue}}if(C===1){eu(l,0),$i(l,d,0,!0);break}e:{switch(g=l,T=C,T){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:$i(g,d,So,!Ui);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(C=By+300-_e(),10<C)){if($i(g,d,So,!Ui),La(g,0,!0)!==0)break e;g.timeoutHandle=lR(OE.bind(null,g,p,kr,Ih,jy,d,So,Ls,Ql,Ui,T,2,-0,0),C);break e}OE(g,p,kr,Ih,jy,d,So,Ls,Ql,Ui,T,0,-0,0)}}break}while(!0);ca(l)}function OE(l,d,p,g,C,T,P,z,K,se,ye,Se,le,ue){if(l.timeoutHandle=-1,Se=d.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(cd={stylesheets:null,count:0,unsuspend:Oj},TE(d),Se=jj(),Se!==null)){l.cancelPendingCommit=Se(UE.bind(null,l,d,T,p,g,C,P,z,K,ye,1,le,ue)),$i(l,T,P,!se);return}UE(l,d,T,p,g,C,P,z,K)}function ZP(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var C=p[g],T=C.getSnapshot;C=C.value;try{if(!Wr(T(),C))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function $i(l,d,p,g){d&=~Py,d&=~Ls,l.suspendedLanes|=d,l.pingedLanes&=~d,g&&(l.warmLanes|=d),g=l.expirationTimes;for(var C=d;0<C;){var T=31-Rt(C),P=1<<T;g[T]=-1,C&=~P}p!==0&&En(l,p,d)}function Oh(){return(Ut&6)===0?(od(0),!1):!0}function Uy(){if(wt!==null){if(Vt===0)var l=wt.return;else l=wt,$a=Is=null,oy(l),Gl=null,Xc=0,l=wt;for(;l!==null;)hE(l.alternate,l),l=l.return;wt=null}}function eu(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,gj(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Uy(),Yt=l,wt=p=Va(l.current,null),Dt=d,Vt=0,Xr=null,Ui=!1,Kl=ln(l,d),Oy=!1,Ql=So=Py=Ls=Vi=cn=0,kr=nd=null,jy=!1,(d&8)!==0&&(d|=d&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=d;0<g;){var C=31-Rt(g),T=1<<C;d|=l[C],g&=~T}return Za=d,nh(),p}function PE(l,d){gt=null,B.H=wh,d===Lc||d===dh?(d=JS(),Vt=3):d===YS?(d=JS(),Vt=4):Vt=d===ZC?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Xr=d,wt===null&&(cn=1,_h(l,go(d,l.current)))}function jE(){var l=B.H;return B.H=wh,l===null?wh:l}function BE(){var l=B.A;return B.A=QP,l}function Vy(){cn=4,Ui||(Dt&4194048)!==Dt&&wo.current!==null||(Kl=!0),(Vi&134217727)===0&&(Ls&134217727)===0||Yt===null||$i(Yt,Dt,So,!1)}function Hy(l,d,p){var g=Ut;Ut|=2;var C=jE(),T=BE();(Yt!==l||Dt!==d)&&(Ih=null,eu(l,d)),d=!1;var P=cn;e:do try{if(Vt!==0&&wt!==null){var z=wt,K=Xr;switch(Vt){case 8:Uy(),P=6;break e;case 3:case 2:case 9:case 6:wo.current===null&&(d=!0);var se=Vt;if(Vt=0,Xr=null,tu(l,z,K,se),p&&Kl){P=0;break e}break;default:se=Vt,Vt=0,Xr=null,tu(l,z,K,se)}}ej(),P=cn;break}catch(ye){PE(l,ye)}while(!0);return d&&l.shellSuspendCounter++,$a=Is=null,Ut=g,B.H=C,B.A=T,wt===null&&(Yt=null,Dt=0,nh()),P}function ej(){for(;wt!==null;)FE(wt)}function tj(l,d){var p=Ut;Ut|=2;var g=jE(),C=BE();Yt!==l||Dt!==d?(Ih=null,Mh=_e()+500,eu(l,d)):Kl=ln(l,d);e:do try{if(Vt!==0&&wt!==null){d=wt;var T=Xr;t:switch(Vt){case 1:Vt=0,Xr=null,tu(l,d,T,1);break;case 2:case 9:if(KS(T)){Vt=0,Xr=null,LE(d);break}d=function(){Vt!==2&&Vt!==9||Yt!==l||(Vt=7),ca(l)},T.then(d,d);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:KS(T)?(Vt=0,Xr=null,LE(d)):(Vt=0,Xr=null,tu(l,d,T,7));break;case 5:var P=null;switch(wt.tag){case 26:P=wt.memoizedState;case 5:case 27:var z=wt;if(!P||xR(P)){Vt=0,Xr=null;var K=z.sibling;if(K!==null)wt=K;else{var se=z.return;se!==null?(wt=se,Ph(se)):wt=null}break t}}Vt=0,Xr=null,tu(l,d,T,5);break;case 6:Vt=0,Xr=null,tu(l,d,T,6);break;case 8:Uy(),cn=6;break e;default:throw Error(r(462))}}nj();break}catch(ye){PE(l,ye)}while(!0);return $a=Is=null,B.H=g,B.A=C,Ut=p,wt!==null?0:(Yt=null,Dt=0,nh(),cn)}function nj(){for(;wt!==null&&!it();)FE(wt)}function FE(l){var d=dE(l.alternate,l,Za);l.memoizedProps=l.pendingProps,d===null?Ph(l):wt=d}function LE(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=aE(p,d,d.pendingProps,d.type,void 0,Dt);break;case 11:d=aE(p,d,d.pendingProps,d.type.render,d.ref,Dt);break;case 5:oy(d);default:hE(p,d),d=wt=zS(d,Za),d=dE(p,d,Za)}l.memoizedProps=l.pendingProps,d===null?Ph(l):wt=d}function tu(l,d,p,g){$a=Is=null,oy(d),Gl=null,Xc=0;var C=d.return;try{if($P(l,C,d,p,Dt)){cn=1,_h(l,go(p,l.current)),wt=null;return}}catch(T){if(C!==null)throw wt=C,T;cn=1,_h(l,go(p,l.current)),wt=null;return}d.flags&32768?(Pt||g===1?l=!0:Kl||(Dt&536870912)!==0?l=!1:(Ui=l=!0,(g===2||g===9||g===3||g===6)&&(g=wo.current,g!==null&&g.tag===13&&(g.flags|=16384))),zE(d,l)):Ph(d)}function Ph(l){var d=l;do{if((d.flags&32768)!==0){zE(d,Ui);return}l=d.return;var p=qP(d.alternate,d,Za);if(p!==null){wt=p;return}if(d=d.sibling,d!==null){wt=d;return}wt=d=l}while(d!==null);cn===0&&(cn=5)}function zE(l,d){do{var p=XP(l.alternate,l);if(p!==null){p.flags&=32767,wt=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){wt=l;return}wt=l=p}while(l!==null);cn=6,wt=null}function UE(l,d,p,g,C,T,P,z,K){l.cancelPendingCommit=null;do jh();while(Xn!==0);if((Ut&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(T=d.lanes|d.childLanes,T|=Ig,It(l,p,T,P,z,K),l===Yt&&(wt=Yt=null,Dt=0),Jl=d,Wi=l,Zl=p,Fy=T,Ly=C,kE=g,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,ij(st,function(){return GE(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||g){g=B.T,B.T=null,C=V.p,V.p=2,P=Ut,Ut|=4;try{YP(l,d,p)}finally{Ut=P,V.p=C,B.T=g}}Xn=1,VE(),HE(),WE()}}function VE(){if(Xn===1){Xn=0;var l=Wi,d=Jl,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=B.T,B.T=null;var g=V.p;V.p=2;var C=Ut;Ut|=4;try{EE(d,l);var T=tb,P=NS(l.containerInfo),z=T.focusedElem,K=T.selectionRange;if(P!==z&&z&&z.ownerDocument&&AS(z.ownerDocument.documentElement,z)){if(K!==null&&Dg(z)){var se=K.start,ye=K.end;if(ye===void 0&&(ye=se),"selectionStart"in z)z.selectionStart=se,z.selectionEnd=Math.min(ye,z.value.length);else{var Se=z.ownerDocument||document,le=Se&&Se.defaultView||window;if(le.getSelection){var ue=le.getSelection(),at=z.textContent.length,tt=Math.min(K.start,at),$t=K.end===void 0?tt:Math.min(K.end,at);!ue.extend&&tt>$t&&(P=$t,$t=tt,tt=P);var ne=DS(z,tt),Z=DS(z,$t);if(ne&&Z&&(ue.rangeCount!==1||ue.anchorNode!==ne.node||ue.anchorOffset!==ne.offset||ue.focusNode!==Z.node||ue.focusOffset!==Z.offset)){var ae=Se.createRange();ae.setStart(ne.node,ne.offset),ue.removeAllRanges(),tt>$t?(ue.addRange(ae),ue.extend(Z.node,Z.offset)):(ae.setEnd(Z.node,Z.offset),ue.addRange(ae))}}}}for(Se=[],ue=z;ue=ue.parentNode;)ue.nodeType===1&&Se.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Se.length;z++){var be=Se[z];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Xh=!!eb,tb=eb=null}finally{Ut=C,V.p=g,B.T=p}}l.current=d,Xn=2}}function HE(){if(Xn===2){Xn=0;var l=Wi,d=Jl,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=B.T,B.T=null;var g=V.p;V.p=2;var C=Ut;Ut|=4;try{xE(l,d.alternate,d)}finally{Ut=C,V.p=g,B.T=p}}Xn=3}}function WE(){if(Xn===4||Xn===3){Xn=0,nt();var l=Wi,d=Jl,p=Zl,g=kE;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Xn=5:(Xn=0,Jl=Wi=null,$E(l,l.pendingLanes));var C=l.pendingLanes;if(C===0&&(Hi=null),wc(p),d=d.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Be,d,void 0,(d.current.flags&128)===128)}catch{}if(g!==null){d=B.T,C=V.p,V.p=2,B.T=null;try{for(var T=l.onRecoverableError,P=0;P<g.length;P++){var z=g[P];T(z.value,{componentStack:z.stack})}}finally{B.T=d,V.p=C}}(Zl&3)!==0&&jh(),ca(l),C=l.pendingLanes,(p&4194090)!==0&&(C&42)!==0?l===zy?rd++:(rd=0,zy=l):rd=0,od(0)}}function $E(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Bc(d)))}function jh(l){return VE(),HE(),WE(),GE()}function GE(){if(Xn!==5)return!1;var l=Wi,d=Fy;Fy=0;var p=wc(Zl),g=B.T,C=V.p;try{V.p=32>p?32:p,B.T=null,p=Ly,Ly=null;var T=Wi,P=Zl;if(Xn=0,Jl=Wi=null,Zl=0,(Ut&6)!==0)throw Error(r(331));var z=Ut;if(Ut|=4,AE(T.current),_E(T,T.current,P,p),Ut=z,od(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Be,T)}catch{}return!0}finally{V.p=C,B.T=g,$E(l,d)}}function qE(l,d,p){d=go(p,d),d=yy(l.stateNode,d,2),l=Oi(l,d,2),l!==null&&(Mt(l,2),ca(l))}function Xt(l,d,p){if(l.tag===3)qE(l,l,p);else for(;d!==null;){if(d.tag===3){qE(d,l,p);break}else if(d.tag===1){var g=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Hi===null||!Hi.has(g))){l=go(p,l),p=QC(2),g=Oi(d,p,2),g!==null&&(JC(p,g,d,l),Mt(g,2),ca(g));break}}d=d.return}}function Wy(l,d,p){var g=l.pingCache;if(g===null){g=l.pingCache=new JP;var C=new Set;g.set(d,C)}else C=g.get(d),C===void 0&&(C=new Set,g.set(d,C));C.has(p)||(Oy=!0,C.add(p),l=rj.bind(null,l,d,p),d.then(l,l))}function rj(l,d,p){var g=l.pingCache;g!==null&&g.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Yt===l&&(Dt&p)===p&&(cn===4||cn===3&&(Dt&62914560)===Dt&&300>_e()-By?(Ut&2)===0&&eu(l,0):Py|=p,Ql===Dt&&(Ql=0)),ca(l)}function XE(l,d){d===0&&(d=_t()),l=jl(l,d),l!==null&&(Mt(l,d),ca(l))}function oj(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),XE(l,p)}function aj(l,d){var p=0;switch(l.tag){case 13:var g=l.stateNode,C=l.memoizedState;C!==null&&(p=C.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(d),XE(l,p)}function ij(l,d){return Te(l,d)}var Bh=null,nu=null,$y=!1,Fh=!1,Gy=!1,zs=0;function ca(l){l!==nu&&l.next===null&&(nu===null?Bh=nu=l:nu=nu.next=l),Fh=!0,$y||($y=!0,lj())}function od(l,d){if(!Gy&&Fh){Gy=!0;do for(var p=!1,g=Bh;g!==null;){if(l!==0){var C=g.pendingLanes;if(C===0)var T=0;else{var P=g.suspendedLanes,z=g.pingedLanes;T=(1<<31-Rt(42|l)+1)-1,T&=C&~(P&~z),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(p=!0,JE(g,T))}else T=Dt,T=La(g,g===Yt?T:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(T&3)===0||ln(g,T)||(p=!0,JE(g,T));g=g.next}while(p);Gy=!1}}function sj(){YE()}function YE(){Fh=$y=!1;var l=0;zs!==0&&(vj()&&(l=zs),zs=0);for(var d=_e(),p=null,g=Bh;g!==null;){var C=g.next,T=KE(g,d);T===0?(g.next=null,p===null?Bh=C:p.next=C,C===null&&(nu=p)):(p=g,(l!==0||(T&3)!==0)&&(Fh=!0)),g=C}od(l)}function KE(l,d){for(var p=l.suspendedLanes,g=l.pingedLanes,C=l.expirationTimes,T=l.pendingLanes&-62914561;0<T;){var P=31-Rt(T),z=1<<P,K=C[P];K===-1?((z&p)===0||(z&g)!==0)&&(C[P]=Ti(z,d)):K<=d&&(l.expiredLanes|=z),T&=~z}if(d=Yt,p=Dt,p=La(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,p===0||l===d&&(Vt===2||Vt===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&Je(g),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||ln(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(g!==null&&Je(g),wc(p)){case 2:case 8:p=Ze;break;case 32:p=st;break;case 268435456:p=He;break;default:p=st}return g=QE.bind(null,l),p=Te(p,g),l.callbackPriority=d,l.callbackNode=p,d}return g!==null&&g!==null&&Je(g),l.callbackPriority=2,l.callbackNode=null,2}function QE(l,d){if(Xn!==0&&Xn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(jh()&&l.callbackNode!==p)return null;var g=Dt;return g=La(l,l===Yt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(IE(l,g,d),KE(l,_e()),l.callbackNode!=null&&l.callbackNode===p?QE.bind(null,l):null)}function JE(l,d){if(jh())return null;IE(l,d,!0)}function lj(){yj(function(){(Ut&6)!==0?Te(ke,sj):YE()})}function qy(){return zs===0&&(zs=ft()),zs}function ZE(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Yf(""+l)}function eR(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function uj(l,d,p,g,C){if(d==="submit"&&p&&p.stateNode===C){var T=ZE((C[Tr]||null).action),P=g.submitter;P&&(d=(d=P[Tr]||null)?ZE(d.formAction):P.getAttribute("formAction"),d!==null&&(T=d,P=null));var z=new Zf("action","action",null,g,C);l.push({event:z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(zs!==0){var K=P?eR(C,P):new FormData(C);hy(p,{pending:!0,data:K,method:C.method,action:T},null,K)}}else typeof T=="function"&&(z.preventDefault(),K=P?eR(C,P):new FormData(C),hy(p,{pending:!0,data:K,method:C.method,action:T},T,K))},currentTarget:C}]})}}for(var Xy=0;Xy<Mg.length;Xy++){var Yy=Mg[Xy],cj=Yy.toLowerCase(),dj=Yy[0].toUpperCase()+Yy.slice(1);zo(cj,"on"+dj)}zo(IS,"onAnimationEnd"),zo(OS,"onAnimationIteration"),zo(PS,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(DP,"onTransitionRun"),zo(AP,"onTransitionStart"),zo(NP,"onTransitionCancel"),zo(jS,"onTransitionEnd"),_l("onMouseEnter",["mouseout","mouseover"]),_l("onMouseLeave",["mouseout","mouseover"]),_l("onPointerEnter",["pointerout","pointerover"]),_l("onPointerLeave",["pointerout","pointerover"]),Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Es("onBeforeInput",["compositionend","keypress","textInput","paste"]),Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ad));function tR(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var g=l[p],C=g.event;g=g.listeners;e:{var T=void 0;if(d)for(var P=g.length-1;0<=P;P--){var z=g[P],K=z.instance,se=z.currentTarget;if(z=z.listener,K!==T&&C.isPropagationStopped())break e;T=z,C.currentTarget=se;try{T(C)}catch(ye){Rh(ye)}C.currentTarget=null,T=K}else for(P=0;P<g.length;P++){if(z=g[P],K=z.instance,se=z.currentTarget,z=z.listener,K!==T&&C.isPropagationStopped())break e;T=z,C.currentTarget=se;try{T(C)}catch(ye){Rh(ye)}C.currentTarget=null,T=K}}}}function St(l,d){var p=d[lg];p===void 0&&(p=d[lg]=new Set);var g=l+"__bubble";p.has(g)||(nR(d,l,2,!1),p.add(g))}function Ky(l,d,p){var g=0;d&&(g|=4),nR(p,l,g,d)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Qy(l){if(!l[Lh]){l[Lh]=!0,Y2.forEach(function(p){p!=="selectionchange"&&(fj.has(p)||Ky(p,!1,l),Ky(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Lh]||(d[Lh]=!0,Ky("selectionchange",!1,d))}}function nR(l,d,p,g){switch(_R(d)){case 2:var C=Lj;break;case 8:C=zj;break;default:C=db}p=C.bind(null,d,p,l),C=void 0,!bg||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(C=!0),g?C!==void 0?l.addEventListener(d,p,{capture:!0,passive:C}):l.addEventListener(d,p,!0):C!==void 0?l.addEventListener(d,p,{passive:C}):l.addEventListener(d,p,!1)}function Jy(l,d,p,g,C){var T=g;if((d&1)===0&&(d&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var z=g.stateNode.containerInfo;if(z===C)break;if(P===4)for(P=g.return;P!==null;){var K=P.tag;if((K===3||K===4)&&P.stateNode.containerInfo===C)return;P=P.return}for(;z!==null;){if(P=Cl(z),P===null)return;if(K=P.tag,K===5||K===6||K===26||K===27){g=T=P;continue e}z=z.parentNode}}g=g.return}uS(function(){var se=T,ye=gg(p),Se=[];e:{var le=BS.get(l);if(le!==void 0){var ue=Zf,at=l;switch(l){case"keypress":if(Qf(p)===0)break e;case"keydown":case"keyup":ue=iP;break;case"focusin":at="focus",ue=Cg;break;case"focusout":at="blur",ue=Cg;break;case"beforeblur":case"afterblur":ue=Cg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=fS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=XO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=uP;break;case IS:case OS:case PS:ue=QO;break;case jS:ue=dP;break;case"scroll":case"scrollend":ue=GO;break;case"wheel":ue=hP;break;case"copy":case"cut":case"paste":ue=ZO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=pS;break;case"toggle":case"beforetoggle":ue=mP}var tt=(d&4)!==0,$t=!tt&&(l==="scroll"||l==="scrollend"),ne=tt?le!==null?le+"Capture":null:le;tt=[];for(var Z=se,ae;Z!==null;){var be=Z;if(ae=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ae===null||ne===null||(be=Ec(Z,ne),be!=null&&tt.push(id(Z,be,ae))),$t)break;Z=Z.return}0<tt.length&&(le=new ue(le,at,null,p,ye),Se.push({event:le,listeners:tt}))}}if((d&7)===0){e:{if(le=l==="mouseover"||l==="pointerover",ue=l==="mouseout"||l==="pointerout",le&&p!==vg&&(at=p.relatedTarget||p.fromElement)&&(Cl(at)||at[Sl]))break e;if((ue||le)&&(le=ye.window===ye?ye:(le=ye.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(at=p.relatedTarget||p.toElement,ue=se,at=at?Cl(at):null,at!==null&&($t=a(at),tt=at.tag,at!==$t||tt!==5&&tt!==27&&tt!==6)&&(at=null)):(ue=null,at=se),ue!==at)){if(tt=fS,be="onMouseLeave",ne="onMouseEnter",Z="mouse",(l==="pointerout"||l==="pointerover")&&(tt=pS,be="onPointerLeave",ne="onPointerEnter",Z="pointer"),$t=ue==null?le:Cc(ue),ae=at==null?le:Cc(at),le=new tt(be,Z+"leave",ue,p,ye),le.target=$t,le.relatedTarget=ae,be=null,Cl(ye)===se&&(tt=new tt(ne,Z+"enter",at,p,ye),tt.target=ae,tt.relatedTarget=$t,be=tt),$t=be,ue&&at)t:{for(tt=ue,ne=at,Z=0,ae=tt;ae;ae=ru(ae))Z++;for(ae=0,be=ne;be;be=ru(be))ae++;for(;0<Z-ae;)tt=ru(tt),Z--;for(;0<ae-Z;)ne=ru(ne),ae--;for(;Z--;){if(tt===ne||ne!==null&&tt===ne.alternate)break t;tt=ru(tt),ne=ru(ne)}tt=null}else tt=null;ue!==null&&rR(Se,le,ue,tt,!1),at!==null&&$t!==null&&rR(Se,$t,at,tt,!0)}}e:{if(le=se?Cc(se):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var ze=SS;else if(xS(le))if(CS)ze=RP;else{ze=CP;var bt=SP}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&mg(se.elementType)&&(ze=SS):ze=EP;if(ze&&(ze=ze(l,se))){wS(Se,ze,p,ye);break e}bt&&bt(l,le,se),l==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&pg(le,"number",le.value)}switch(bt=se?Cc(se):window,l){case"focusin":(xS(bt)||bt.contentEditable==="true")&&(Il=bt,Ag=se,Mc=null);break;case"focusout":Mc=Ag=Il=null;break;case"mousedown":Ng=!0;break;case"contextmenu":case"mouseup":case"dragend":Ng=!1,kS(Se,p,ye);break;case"selectionchange":if(TP)break;case"keydown":case"keyup":kS(Se,p,ye)}var Ke;if(Rg)e:{switch(l){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Ml?yS(l,p)&&(ot="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(ot="onCompositionStart");ot&&(mS&&p.locale!=="ko"&&(Ml||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Ml&&(Ke=cS()):(Ni=ye,xg="value"in Ni?Ni.value:Ni.textContent,Ml=!0)),bt=zh(se,ot),0<bt.length&&(ot=new hS(ot,l,null,p,ye),Se.push({event:ot,listeners:bt}),Ke?ot.data=Ke:(Ke=bS(p),Ke!==null&&(ot.data=Ke)))),(Ke=gP?yP(l,p):bP(l,p))&&(ot=zh(se,"onBeforeInput"),0<ot.length&&(bt=new hS("onBeforeInput","beforeinput",null,p,ye),Se.push({event:bt,listeners:ot}),bt.data=Ke)),uj(Se,l,se,p,ye)}tR(Se,d)})}function id(l,d,p){return{instance:l,listener:d,currentTarget:p}}function zh(l,d){for(var p=d+"Capture",g=[];l!==null;){var C=l,T=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||T===null||(C=Ec(l,p),C!=null&&g.unshift(id(l,C,T)),C=Ec(l,d),C!=null&&g.push(id(l,C,T))),l.tag===3)return g;l=l.return}return[]}function ru(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function rR(l,d,p,g,C){for(var T=d._reactName,P=[];p!==null&&p!==g;){var z=p,K=z.alternate,se=z.stateNode;if(z=z.tag,K!==null&&K===g)break;z!==5&&z!==26&&z!==27||se===null||(K=se,C?(se=Ec(p,T),se!=null&&P.unshift(id(p,se,K))):C||(se=Ec(p,T),se!=null&&P.push(id(p,se,K)))),p=p.return}P.length!==0&&l.push({event:d,listeners:P})}var hj=/\r\n?/g,pj=/\u0000|\uFFFD/g;function oR(l){return(typeof l=="string"?l:""+l).replace(hj,`
`).replace(pj,"")}function aR(l,d){return d=oR(d),oR(l)===d}function Uh(){}function Wt(l,d,p,g,C,T){switch(p){case"children":typeof g=="string"?d==="body"||d==="textarea"&&g===""||Al(l,g):(typeof g=="number"||typeof g=="bigint")&&d!=="body"&&Al(l,""+g);break;case"className":Gf(l,"class",g);break;case"tabIndex":Gf(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Gf(l,p,g);break;case"style":sS(l,g,T);break;case"data":if(d!=="object"){Gf(l,"data",g);break}case"src":case"href":if(g===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(p);break}g=Yf(""+g),l.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(p==="formAction"?(d!=="input"&&Wt(l,d,"name",C.name,C,null),Wt(l,d,"formEncType",C.formEncType,C,null),Wt(l,d,"formMethod",C.formMethod,C,null),Wt(l,d,"formTarget",C.formTarget,C,null)):(Wt(l,d,"encType",C.encType,C,null),Wt(l,d,"method",C.method,C,null),Wt(l,d,"target",C.target,C,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(p);break}g=Yf(""+g),l.setAttribute(p,g);break;case"onClick":g!=null&&(l.onclick=Uh);break;case"onScroll":g!=null&&St("scroll",l);break;case"onScrollEnd":g!=null&&St("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}p=Yf(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,""+g):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":g===!0?l.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,g):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(p,g):l.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(p):l.setAttribute(p,g);break;case"popover":St("beforetoggle",l),St("toggle",l),$f(l,"popover",g);break;case"xlinkActuate":za(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":za(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":za(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":za(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":za(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":za(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":za(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":za(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":za(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":$f(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=WO.get(p)||p,$f(l,p,g))}}function Zy(l,d,p,g,C,T){switch(p){case"style":sS(l,g,T);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof g=="string"?Al(l,g):(typeof g=="number"||typeof g=="bigint")&&Al(l,""+g);break;case"onScroll":g!=null&&St("scroll",l);break;case"onScrollEnd":g!=null&&St("scrollend",l);break;case"onClick":g!=null&&(l.onclick=Uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!K2.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(C=p.endsWith("Capture"),d=p.slice(2,C?p.length-7:void 0),T=l[Tr]||null,T=T!=null?T[p]:null,typeof T=="function"&&l.removeEventListener(d,T,C),typeof g=="function")){typeof T!="function"&&T!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,g,C);break e}p in l?l[p]=g:g===!0?l.setAttribute(p,""):$f(l,p,g)}}}function Yn(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",l),St("load",l);var g=!1,C=!1,T;for(T in p)if(p.hasOwnProperty(T)){var P=p[T];if(P!=null)switch(T){case"src":g=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Wt(l,d,T,P,p,null)}}C&&Wt(l,d,"srcSet",p.srcSet,p,null),g&&Wt(l,d,"src",p.src,p,null);return;case"input":St("invalid",l);var z=T=P=C=null,K=null,se=null;for(g in p)if(p.hasOwnProperty(g)){var ye=p[g];if(ye!=null)switch(g){case"name":C=ye;break;case"type":P=ye;break;case"checked":K=ye;break;case"defaultChecked":se=ye;break;case"value":T=ye;break;case"defaultValue":z=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,d));break;default:Wt(l,d,g,ye,p,null)}}rS(l,T,z,K,se,P,C,!1),qf(l);return;case"select":St("invalid",l),g=P=T=null;for(C in p)if(p.hasOwnProperty(C)&&(z=p[C],z!=null))switch(C){case"value":T=z;break;case"defaultValue":P=z;break;case"multiple":g=z;default:Wt(l,d,C,z,p,null)}d=T,p=P,l.multiple=!!g,d!=null?Dl(l,!!g,d,!1):p!=null&&Dl(l,!!g,p,!0);return;case"textarea":St("invalid",l),T=C=g=null;for(P in p)if(p.hasOwnProperty(P)&&(z=p[P],z!=null))switch(P){case"value":g=z;break;case"defaultValue":C=z;break;case"children":T=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Wt(l,d,P,z,p,null)}aS(l,g,C,T),qf(l);return;case"option":for(K in p)if(p.hasOwnProperty(K)&&(g=p[K],g!=null))switch(K){case"selected":l.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Wt(l,d,K,g,p,null)}return;case"dialog":St("beforetoggle",l),St("toggle",l),St("cancel",l),St("close",l);break;case"iframe":case"object":St("load",l);break;case"video":case"audio":for(g=0;g<ad.length;g++)St(ad[g],l);break;case"image":St("error",l),St("load",l);break;case"details":St("toggle",l);break;case"embed":case"source":case"link":St("error",l),St("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in p)if(p.hasOwnProperty(se)&&(g=p[se],g!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Wt(l,d,se,g,p,null)}return;default:if(mg(d)){for(ye in p)p.hasOwnProperty(ye)&&(g=p[ye],g!==void 0&&Zy(l,d,ye,g,p,void 0));return}}for(z in p)p.hasOwnProperty(z)&&(g=p[z],g!=null&&Wt(l,d,z,g,p,null))}function mj(l,d,p,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,T=null,P=null,z=null,K=null,se=null,ye=null;for(ue in p){var Se=p[ue];if(p.hasOwnProperty(ue)&&Se!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":K=Se;default:g.hasOwnProperty(ue)||Wt(l,d,ue,null,g,Se)}}for(var le in g){var ue=g[le];if(Se=p[le],g.hasOwnProperty(le)&&(ue!=null||Se!=null))switch(le){case"type":T=ue;break;case"name":C=ue;break;case"checked":se=ue;break;case"defaultChecked":ye=ue;break;case"value":P=ue;break;case"defaultValue":z=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,d));break;default:ue!==Se&&Wt(l,d,le,ue,g,Se)}}hg(l,P,z,K,se,ye,T,C);return;case"select":ue=P=z=le=null;for(T in p)if(K=p[T],p.hasOwnProperty(T)&&K!=null)switch(T){case"value":break;case"multiple":ue=K;default:g.hasOwnProperty(T)||Wt(l,d,T,null,g,K)}for(C in g)if(T=g[C],K=p[C],g.hasOwnProperty(C)&&(T!=null||K!=null))switch(C){case"value":le=T;break;case"defaultValue":z=T;break;case"multiple":P=T;default:T!==K&&Wt(l,d,C,T,g,K)}d=z,p=P,g=ue,le!=null?Dl(l,!!p,le,!1):!!g!=!!p&&(d!=null?Dl(l,!!p,d,!0):Dl(l,!!p,p?[]:"",!1));return;case"textarea":ue=le=null;for(z in p)if(C=p[z],p.hasOwnProperty(z)&&C!=null&&!g.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Wt(l,d,z,null,g,C)}for(P in g)if(C=g[P],T=p[P],g.hasOwnProperty(P)&&(C!=null||T!=null))switch(P){case"value":le=C;break;case"defaultValue":ue=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==T&&Wt(l,d,P,C,g,T)}oS(l,le,ue);return;case"option":for(var at in p)if(le=p[at],p.hasOwnProperty(at)&&le!=null&&!g.hasOwnProperty(at))switch(at){case"selected":l.selected=!1;break;default:Wt(l,d,at,null,g,le)}for(K in g)if(le=g[K],ue=p[K],g.hasOwnProperty(K)&&le!==ue&&(le!=null||ue!=null))switch(K){case"selected":l.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Wt(l,d,K,le,g,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in p)le=p[tt],p.hasOwnProperty(tt)&&le!=null&&!g.hasOwnProperty(tt)&&Wt(l,d,tt,null,g,le);for(se in g)if(le=g[se],ue=p[se],g.hasOwnProperty(se)&&le!==ue&&(le!=null||ue!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,d));break;default:Wt(l,d,se,le,g,ue)}return;default:if(mg(d)){for(var $t in p)le=p[$t],p.hasOwnProperty($t)&&le!==void 0&&!g.hasOwnProperty($t)&&Zy(l,d,$t,void 0,g,le);for(ye in g)le=g[ye],ue=p[ye],!g.hasOwnProperty(ye)||le===ue||le===void 0&&ue===void 0||Zy(l,d,ye,le,g,ue);return}}for(var ne in p)le=p[ne],p.hasOwnProperty(ne)&&le!=null&&!g.hasOwnProperty(ne)&&Wt(l,d,ne,null,g,le);for(Se in g)le=g[Se],ue=p[Se],!g.hasOwnProperty(Se)||le===ue||le==null&&ue==null||Wt(l,d,Se,le,g,ue)}var eb=null,tb=null;function Vh(l){return l.nodeType===9?l:l.ownerDocument}function iR(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sR(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function nb(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var rb=null;function vj(){var l=window.event;return l&&l.type==="popstate"?l===rb?!1:(rb=l,!0):(rb=null,!1)}var lR=typeof setTimeout=="function"?setTimeout:void 0,gj=typeof clearTimeout=="function"?clearTimeout:void 0,uR=typeof Promise=="function"?Promise:void 0,yj=typeof queueMicrotask=="function"?queueMicrotask:typeof uR<"u"?function(l){return uR.resolve(null).then(l).catch(bj)}:lR;function bj(l){setTimeout(function(){throw l})}function Gi(l){return l==="head"}function cR(l,d){var p=d,g=0,C=0;do{var T=p.nextSibling;if(l.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"){if(0<g&&8>g){p=g;var P=l.ownerDocument;if(p&1&&sd(P.documentElement),p&2&&sd(P.body),p&4)for(p=P.head,sd(p),P=p.firstChild;P;){var z=P.nextSibling,K=P.nodeName;P[Sc]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&P.rel.toLowerCase()==="stylesheet"||p.removeChild(P),P=z}}if(C===0){l.removeChild(T),md(d);return}C--}else p==="$"||p==="$?"||p==="$!"?C++:g=p.charCodeAt(0)-48;else g=0;p=T}while(p);md(d)}function ob(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":ob(p),ug(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function xj(l,d,p,g){for(;l.nodeType===1;){var C=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[Sc])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(T=l.getAttribute("rel"),T==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(T!==C.rel||l.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||l.getAttribute("title")!==(C.title==null?null:C.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(T=l.getAttribute("src"),(T!==(C.src==null?null:C.src)||l.getAttribute("type")!==(C.type==null?null:C.type)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&T&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var T=C.name==null?null:""+C.name;if(C.type==="hidden"&&l.getAttribute("name")===T)return l}else return l;if(l=Vo(l.nextSibling),l===null)break}return null}function wj(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Vo(l.nextSibling),l===null))return null;return l}function ab(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function Sj(l,d){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")d();else{var g=function(){d(),p.removeEventListener("DOMContentLoaded",g)};p.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function Vo(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var ib=null;function dR(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return l;d--}else p==="/$"&&d++}l=l.previousSibling}return null}function fR(l,d,p){switch(d=Vh(p),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function sd(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);ug(l)}var Co=new Map,hR=new Set;function Hh(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ei=V.d;V.d={f:Cj,r:Ej,D:Rj,C:_j,L:Tj,m:Dj,X:Nj,S:Aj,M:kj};function Cj(){var l=ei.f(),d=Oh();return l||d}function Ej(l){var d=El(l);d!==null&&d.tag===5&&d.type==="form"?IC(d):ei.r(l)}var ou=typeof document>"u"?null:document;function pR(l,d,p){var g=ou;if(g&&typeof d=="string"&&d){var C=vo(d);C='link[rel="'+l+'"][href="'+C+'"]',typeof p=="string"&&(C+='[crossorigin="'+p+'"]'),hR.has(C)||(hR.add(C),l={rel:l,crossOrigin:p,href:d},g.querySelector(C)===null&&(d=g.createElement("link"),Yn(d,"link",l),Bn(d),g.head.appendChild(d)))}}function Rj(l){ei.D(l),pR("dns-prefetch",l,null)}function _j(l,d){ei.C(l,d),pR("preconnect",l,d)}function Tj(l,d,p){ei.L(l,d,p);var g=ou;if(g&&l&&d){var C='link[rel="preload"][as="'+vo(d)+'"]';d==="image"&&p&&p.imageSrcSet?(C+='[imagesrcset="'+vo(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(C+='[imagesizes="'+vo(p.imageSizes)+'"]')):C+='[href="'+vo(l)+'"]';var T=C;switch(d){case"style":T=au(l);break;case"script":T=iu(l)}Co.has(T)||(l=f({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),Co.set(T,l),g.querySelector(C)!==null||d==="style"&&g.querySelector(ld(T))||d==="script"&&g.querySelector(ud(T))||(d=g.createElement("link"),Yn(d,"link",l),Bn(d),g.head.appendChild(d)))}}function Dj(l,d){ei.m(l,d);var p=ou;if(p&&l){var g=d&&typeof d.as=="string"?d.as:"script",C='link[rel="modulepreload"][as="'+vo(g)+'"][href="'+vo(l)+'"]',T=C;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=iu(l)}if(!Co.has(T)&&(l=f({rel:"modulepreload",href:l},d),Co.set(T,l),p.querySelector(C)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ud(T)))return}g=p.createElement("link"),Yn(g,"link",l),Bn(g),p.head.appendChild(g)}}}function Aj(l,d,p){ei.S(l,d,p);var g=ou;if(g&&l){var C=Rl(g).hoistableStyles,T=au(l);d=d||"default";var P=C.get(T);if(!P){var z={loading:0,preload:null};if(P=g.querySelector(ld(T)))z.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":d},p),(p=Co.get(T))&&sb(l,p);var K=P=g.createElement("link");Bn(K),Yn(K,"link",l),K._p=new Promise(function(se,ye){K.onload=se,K.onerror=ye}),K.addEventListener("load",function(){z.loading|=1}),K.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Wh(P,d,g)}P={type:"stylesheet",instance:P,count:1,state:z},C.set(T,P)}}}function Nj(l,d){ei.X(l,d);var p=ou;if(p&&l){var g=Rl(p).hoistableScripts,C=iu(l),T=g.get(C);T||(T=p.querySelector(ud(C)),T||(l=f({src:l,async:!0},d),(d=Co.get(C))&&lb(l,d),T=p.createElement("script"),Bn(T),Yn(T,"link",l),p.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(C,T))}}function kj(l,d){ei.M(l,d);var p=ou;if(p&&l){var g=Rl(p).hoistableScripts,C=iu(l),T=g.get(C);T||(T=p.querySelector(ud(C)),T||(l=f({src:l,async:!0,type:"module"},d),(d=Co.get(C))&&lb(l,d),T=p.createElement("script"),Bn(T),Yn(T,"link",l),p.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(C,T))}}function mR(l,d,p,g){var C=(C=ie.current)?Hh(C):null;if(!C)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=au(p.href),p=Rl(C).hoistableStyles,g=p.get(d),g||(g={type:"style",instance:null,count:0,state:null},p.set(d,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=au(p.href);var T=Rl(C).hoistableStyles,P=T.get(l);if(P||(C=C.ownerDocument||C,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(l,P),(T=C.querySelector(ld(l)))&&!T._p&&(P.instance=T,P.state.loading=5),Co.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Co.set(l,p),T||Mj(C,l,p,P.state))),d&&g===null)throw Error(r(528,""));return P}if(d&&g!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=iu(p),p=Rl(C).hoistableScripts,g=p.get(d),g||(g={type:"script",instance:null,count:0,state:null},p.set(d,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function au(l){return'href="'+vo(l)+'"'}function ld(l){return'link[rel="stylesheet"]['+l+"]"}function vR(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function Mj(l,d,p,g){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?g.loading=1:(d=l.createElement("link"),g.preload=d,d.addEventListener("load",function(){return g.loading|=1}),d.addEventListener("error",function(){return g.loading|=2}),Yn(d,"link",p),Bn(d),l.head.appendChild(d))}function iu(l){return'[src="'+vo(l)+'"]'}function ud(l){return"script[async]"+l}function gR(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var g=l.querySelector('style[data-href~="'+vo(p.href)+'"]');if(g)return d.instance=g,Bn(g),g;var C=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),Bn(g),Yn(g,"style",C),Wh(g,p.precedence,l),d.instance=g;case"stylesheet":C=au(p.href);var T=l.querySelector(ld(C));if(T)return d.state.loading|=4,d.instance=T,Bn(T),T;g=vR(p),(C=Co.get(C))&&sb(g,C),T=(l.ownerDocument||l).createElement("link"),Bn(T);var P=T;return P._p=new Promise(function(z,K){P.onload=z,P.onerror=K}),Yn(T,"link",g),d.state.loading|=4,Wh(T,p.precedence,l),d.instance=T;case"script":return T=iu(p.src),(C=l.querySelector(ud(T)))?(d.instance=C,Bn(C),C):(g=p,(C=Co.get(T))&&(g=f({},p),lb(g,C)),l=l.ownerDocument||l,C=l.createElement("script"),Bn(C),Yn(C,"link",g),l.head.appendChild(C),d.instance=C);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(g=d.instance,d.state.loading|=4,Wh(g,p.precedence,l));return d.instance}function Wh(l,d,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=g.length?g[g.length-1]:null,T=C,P=0;P<g.length;P++){var z=g[P];if(z.dataset.precedence===d)T=z;else if(T!==C)break}T?T.parentNode.insertBefore(l,T.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function sb(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function lb(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var $h=null;function yR(l,d,p){if($h===null){var g=new Map,C=$h=new Map;C.set(p,g)}else C=$h,g=C.get(p),g||(g=new Map,C.set(p,g));if(g.has(l))return g;for(g.set(l,null),p=p.getElementsByTagName(l),C=0;C<p.length;C++){var T=p[C];if(!(T[Sc]||T[nr]||l==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var P=T.getAttribute(d)||"";P=l+P;var z=g.get(P);z?z.push(T):g.set(P,[T])}}return g}function bR(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function Ij(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function xR(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var cd=null;function Oj(){}function Pj(l,d,p){if(cd===null)throw Error(r(475));var g=cd;if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=au(p.href),T=l.querySelector(ld(C));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(g.count++,g=Gh.bind(g),l.then(g,g)),d.state.loading|=4,d.instance=T,Bn(T);return}T=l.ownerDocument||l,p=vR(p),(C=Co.get(C))&&sb(p,C),T=T.createElement("link"),Bn(T);var P=T;P._p=new Promise(function(z,K){P.onload=z,P.onerror=K}),Yn(T,"link",p),d.instance=T}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(g.count++,d=Gh.bind(g),l.addEventListener("load",d),l.addEventListener("error",d))}}function jj(){if(cd===null)throw Error(r(475));var l=cd;return l.stylesheets&&l.count===0&&ub(l,l.stylesheets),0<l.count?function(d){var p=setTimeout(function(){if(l.stylesheets&&ub(l,l.stylesheets),l.unsuspend){var g=l.unsuspend;l.unsuspend=null,g()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(p)}}:null}function Gh(){if(this.count--,this.count===0){if(this.stylesheets)ub(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var qh=null;function ub(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,qh=new Map,d.forEach(Bj,l),qh=null,Gh.call(l))}function Bj(l,d){if(!(d.state.loading&4)){var p=qh.get(l);if(p)var g=p.get(null);else{p=new Map,qh.set(l,p);for(var C=l.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<C.length;T++){var P=C[T];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(p.set(P.dataset.precedence,P),g=P)}g&&p.set(null,g)}C=d.instance,P=C.getAttribute("data-precedence"),T=p.get(P)||g,T===g&&p.set(null,C),p.set(P,C),this.count++,g=Gh.bind(this),C.addEventListener("load",g),C.addEventListener("error",g),T?T.parentNode.insertBefore(C,T.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(C,l.firstChild)),d.state.loading|=4}}var dd={$$typeof:R,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Fj(l,d,p,g,C,T,P,z){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.hiddenUpdates=Tt(null),this.identifierPrefix=g,this.onUncaughtError=C,this.onCaughtError=T,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function wR(l,d,p,g,C,T,P,z,K,se,ye,Se){return l=new Fj(l,d,p,P,z,K,se,Se),d=1,T===!0&&(d|=24),T=$r(3,null,null,d),l.current=T,T.stateNode=l,d=Wg(),d.refCount++,l.pooledCache=d,d.refCount++,T.memoizedState={element:g,isDehydrated:p,cache:d},Xg(T),l}function SR(l){return l?(l=Bl,l):Bl}function CR(l,d,p,g,C,T){C=SR(C),g.context===null?g.context=C:g.pendingContext=C,g=Ii(d),g.payload={element:p},T=T===void 0?null:T,T!==null&&(g.callback=T),p=Oi(l,g,d),p!==null&&(Kr(p,l,d),Uc(p,l,d))}function ER(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function cb(l,d){ER(l,d),(l=l.alternate)&&ER(l,d)}function RR(l){if(l.tag===13){var d=jl(l,67108864);d!==null&&Kr(d,l,67108864),cb(l,67108864)}}var Xh=!0;function Lj(l,d,p,g){var C=B.T;B.T=null;var T=V.p;try{V.p=2,db(l,d,p,g)}finally{V.p=T,B.T=C}}function zj(l,d,p,g){var C=B.T;B.T=null;var T=V.p;try{V.p=8,db(l,d,p,g)}finally{V.p=T,B.T=C}}function db(l,d,p,g){if(Xh){var C=fb(g);if(C===null)Jy(l,d,g,Yh,p),TR(l,g);else if(Vj(C,l,d,p,g))g.stopPropagation();else if(TR(l,g),d&4&&-1<Uj.indexOf(l)){for(;C!==null;){var T=El(C);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var P=gr(T.pendingLanes);if(P!==0){var z=T;for(z.pendingLanes|=2,z.entangledLanes|=2;P;){var K=1<<31-Rt(P);z.entanglements[1]|=K,P&=~K}ca(T),(Ut&6)===0&&(Mh=_e()+500,od(0))}}break;case 13:z=jl(T,2),z!==null&&Kr(z,T,2),Oh(),cb(T,2)}if(T=fb(g),T===null&&Jy(l,d,g,Yh,p),T===C)break;C=T}C!==null&&g.stopPropagation()}else Jy(l,d,g,null,p)}}function fb(l){return l=gg(l),hb(l)}var Yh=null;function hb(l){if(Yh=null,l=Cl(l),l!==null){var d=a(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=i(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return Yh=l,null}function _R(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case ke:return 2;case Ze:return 8;case st:case Ye:return 32;case He:return 268435456;default:return 32}default:return 32}}var pb=!1,qi=null,Xi=null,Yi=null,fd=new Map,hd=new Map,Ki=[],Uj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TR(l,d){switch(l){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":fd.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":hd.delete(d.pointerId)}}function pd(l,d,p,g,C,T){return l===null||l.nativeEvent!==T?(l={blockedOn:d,domEventName:p,eventSystemFlags:g,nativeEvent:T,targetContainers:[C]},d!==null&&(d=El(d),d!==null&&RR(d)),l):(l.eventSystemFlags|=g,d=l.targetContainers,C!==null&&d.indexOf(C)===-1&&d.push(C),l)}function Vj(l,d,p,g,C){switch(d){case"focusin":return qi=pd(qi,l,d,p,g,C),!0;case"dragenter":return Xi=pd(Xi,l,d,p,g,C),!0;case"mouseover":return Yi=pd(Yi,l,d,p,g,C),!0;case"pointerover":var T=C.pointerId;return fd.set(T,pd(fd.get(T)||null,l,d,p,g,C)),!0;case"gotpointercapture":return T=C.pointerId,hd.set(T,pd(hd.get(T)||null,l,d,p,g,C)),!0}return!1}function DR(l){var d=Cl(l.target);if(d!==null){var p=a(d);if(p!==null){if(d=p.tag,d===13){if(d=i(p),d!==null){l.blockedOn=d,sg(l.priority,function(){if(p.tag===13){var g=Yr();g=Cs(g);var C=jl(p,g);C!==null&&Kr(C,p,g),cb(p,g)}});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Kh(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=fb(l.nativeEvent);if(p===null){p=l.nativeEvent;var g=new p.constructor(p.type,p);vg=g,p.target.dispatchEvent(g),vg=null}else return d=El(p),d!==null&&RR(d),l.blockedOn=p,!1;d.shift()}return!0}function AR(l,d,p){Kh(l)&&p.delete(d)}function Hj(){pb=!1,qi!==null&&Kh(qi)&&(qi=null),Xi!==null&&Kh(Xi)&&(Xi=null),Yi!==null&&Kh(Yi)&&(Yi=null),fd.forEach(AR),hd.forEach(AR)}function Qh(l,d){l.blockedOn===d&&(l.blockedOn=null,pb||(pb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hj)))}var Jh=null;function NR(l){Jh!==l&&(Jh=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Jh===l&&(Jh=null);for(var d=0;d<l.length;d+=3){var p=l[d],g=l[d+1],C=l[d+2];if(typeof g!="function"){if(hb(g||p)===null)continue;break}var T=El(p);T!==null&&(l.splice(d,3),d-=3,hy(T,{pending:!0,data:C,method:p.method,action:g},g,C))}}))}function md(l){function d(K){return Qh(K,l)}qi!==null&&Qh(qi,l),Xi!==null&&Qh(Xi,l),Yi!==null&&Qh(Yi,l),fd.forEach(d),hd.forEach(d);for(var p=0;p<Ki.length;p++){var g=Ki[p];g.blockedOn===l&&(g.blockedOn=null)}for(;0<Ki.length&&(p=Ki[0],p.blockedOn===null);)DR(p),p.blockedOn===null&&Ki.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var C=p[g],T=p[g+1],P=C[Tr]||null;if(typeof T=="function")P||NR(p);else if(P){var z=null;if(T&&T.hasAttribute("formAction")){if(C=T,P=T[Tr]||null)z=P.formAction;else if(hb(C)!==null)continue}else z=P.action;typeof z=="function"?p[g+1]=z:(p.splice(g,3),g-=3),NR(p)}}}function mb(l){this._internalRoot=l}Zh.prototype.render=mb.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,g=Yr();CR(p,g,l,d,null,null)},Zh.prototype.unmount=mb.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;CR(l.current,2,null,l,null,null),Oh(),d[Sl]=null}};function Zh(l){this._internalRoot=l}Zh.prototype.unstable_scheduleHydration=function(l){if(l){var d=Di();l={blockedOn:null,target:l,priority:d};for(var p=0;p<Ki.length&&d!==0&&d<Ki[p].priority;p++);Ki.splice(p,0,l),p===0&&DR(l)}};var kR=t.version;if(kR!=="19.1.1")throw Error(r(527,kR,"19.1.1"));V.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=u(d),l=l!==null?c(l):null,l=l===null?null:l.stateNode,l};var Wj={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{Be=ep.inject(Wj),rt=ep}catch{}}return gd.createRoot=function(l,d){if(!o(l))throw Error(r(299));var p=!1,g="",C=qC,T=XC,P=YC,z=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(P=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(z=d.unstable_transitionCallbacks)),d=wR(l,1,!1,null,null,p,g,C,T,P,z,null),l[Sl]=d.current,Qy(l),new mb(d)},gd.hydrateRoot=function(l,d,p){if(!o(l))throw Error(r(299));var g=!1,C="",T=qC,P=XC,z=YC,K=null,se=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onUncaughtError!==void 0&&(T=p.onUncaughtError),p.onCaughtError!==void 0&&(P=p.onCaughtError),p.onRecoverableError!==void 0&&(z=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(K=p.unstable_transitionCallbacks),p.formState!==void 0&&(se=p.formState)),d=wR(l,1,!0,d,p??null,g,C,T,P,z,K,se),d.context=SR(null),p=d.current,g=Yr(),g=Cs(g),C=Ii(g),C.callback=null,Oi(p,C,g),p=g,d.current.lanes=p,Mt(d,p),ca(d),l[Sl]=d.current,Qy(l),new Zh(d)},gd.version="19.1.1",gd}var UR;function nB(){if(UR)return yb.exports;UR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yb.exports=tB(),yb.exports}var rB=nB();const oB=Ju(rB);var ya=function(){return ya=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ya.apply(this,arguments)};function mA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function aB(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Mp="right-scroll-bar-position",Ip="width-before-scroll-bar",iB="with-scroll-bars-hidden",sB="--removed-body-scroll-bar-size";function Sb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function lB(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var uB=typeof window<"u"?_.useLayoutEffect:_.useEffect,VR=new WeakMap;function cB(e,t){var n=lB(null,function(r){return e.forEach(function(o){return Sb(o,r)})});return uB(function(){var r=VR.get(n);if(r){var o=new Set(r),a=new Set(e),i=n.current;o.forEach(function(s){a.has(s)||Sb(s,null)}),a.forEach(function(s){o.has(s)||Sb(s,i)})}VR.set(n,e)},[e]),n}function dB(e){return e}function fB(e,t){t===void 0&&(t=dB);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(s){return s!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var s=n;n=[],s.forEach(a),i=n}var u=function(){var f=i;i=[],f.forEach(a)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(f){i.push(f),c()},filter:function(f){return i=i.filter(f),n}}}};return o}function hB(e){e===void 0&&(e={});var t=fB(null);return t.options=ya({async:!0,ssr:!1},e),t}var vA=function(e){var t=e.sideCar,n=mA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,ya({},n))};vA.isSideCarExport=!0;function pB(e,t){return e.useMedium(t),vA}var gA=hB(),Cb=function(){},Um=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:Cb,onWheelCapture:Cb,onTouchMoveCapture:Cb}),o=r[0],a=r[1],i=e.forwardProps,s=e.children,u=e.className,c=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,v=e.noRelative,y=e.noIsolation,x=e.inert,w=e.allowPinchZoom,S=e.as,E=S===void 0?"div":S,R=e.gapMode,D=mA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,N=cB([n,t]),k=ya(ya({},D),o);return _.createElement(_.Fragment,null,f&&_.createElement(A,{sideCar:gA,removeScrollBar:c,shards:h,noRelative:v,noIsolation:y,inert:x,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:R}),i?_.cloneElement(_.Children.only(s),ya(ya({},k),{ref:N})):_.createElement(E,ya({},k,{className:u,ref:N}),s))});Um.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Um.classNames={fullWidth:Ip,zeroRight:Mp};var mB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mB();return t&&e.setAttribute("nonce",t),e}function gB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bB=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vB())&&(gB(t,n),yB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xB=function(){var e=bB();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},yA=function(){var e=xB(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},wB={left:0,top:0,right:0,gap:0},Eb=function(e){return parseInt(e||"",10)||0},SB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Eb(n),Eb(r),Eb(o)]},CB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wB;var t=SB(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},EB=yA(),Au="data-scroll-locked",RB=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(iB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Au,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mp,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Ip,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Mp," .").concat(Mp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ip," .").concat(Ip,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Au,`] {
    `).concat(sB,": ").concat(s,`px;
  }
`)},HR=function(){var e=parseInt(document.body.getAttribute(Au)||"0",10);return isFinite(e)?e:0},_B=function(){_.useEffect(function(){return document.body.setAttribute(Au,(HR()+1).toString()),function(){var e=HR()-1;e<=0?document.body.removeAttribute(Au):document.body.setAttribute(Au,e.toString())}},[])},TB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;_B();var a=_.useMemo(function(){return CB(o)},[o]);return _.createElement(EB,{styles:RB(a,!t,o,n?"":"!important")})},B0=!1;if(typeof window<"u")try{var np=Object.defineProperty({},"passive",{get:function(){return B0=!0,!0}});window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{B0=!1}var su=B0?{passive:!1}:!1,DB=function(e){return e.tagName==="TEXTAREA"},bA=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!DB(e)&&n[t]==="visible")},AB=function(e){return bA(e,"overflowY")},NB=function(e){return bA(e,"overflowX")},WR=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=xA(e,r);if(o){var a=wA(e,r),i=a[1],s=a[2];if(i>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},MB=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},xA=function(e,t){return e==="v"?AB(t):NB(t)},wA=function(e,t){return e==="v"?kB(t):MB(t)},IB=function(e,t){return e==="h"&&t==="rtl"?-1:1},OB=function(e,t,n,r,o){var a=IB(e,window.getComputedStyle(t).direction),i=a*r,s=n.target,u=t.contains(s),c=!1,f=i>0,h=0,m=0;do{if(!s)break;var v=wA(e,s),y=v[0],x=v[1],w=v[2],S=x-w-a*y;(y||S)&&xA(e,s)&&(h+=S,m+=y);var E=s.parentNode;s=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(c=!0),c},rp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$R=function(e){return[e.deltaX,e.deltaY]},GR=function(e){return e&&"current"in e?e.current:e},PB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BB=0,lu=[];function FB(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),o=_.useState(BB++)[0],a=_.useState(yA)[0],i=_.useRef(e);_.useEffect(function(){i.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=aB([e.lockRef.current],(e.shards||[]).map(GR),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=_.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var S=rp(x),E=n.current,R="deltaX"in x?x.deltaX:E[0]-S[0],D="deltaY"in x?x.deltaY:E[1]-S[1],A,N=x.target,k=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in x&&k==="h"&&N.type==="range")return!1;var M=WR(k,N);if(!M)return!0;if(M?A=k:(A=k==="v"?"h":"v",M=WR(k,N)),!M)return!1;if(!r.current&&"changedTouches"in x&&(R||D)&&(r.current=A),!A)return!0;var I=r.current||A;return OB(I,w,x,I==="h"?R:D)},[]),u=_.useCallback(function(x){var w=x;if(!(!lu.length||lu[lu.length-1]!==a)){var S="deltaY"in w?$R(w):rp(w),E=t.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&PB(A.delta,S)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var R=(i.current.shards||[]).map(GR).filter(Boolean).filter(function(A){return A.contains(w.target)}),D=R.length>0?s(w,R[0]):!i.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),c=_.useCallback(function(x,w,S,E){var R={name:x,delta:w,target:S,should:E,shadowParent:LB(S)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(D){return D!==R})},1)},[]),f=_.useCallback(function(x){n.current=rp(x),r.current=void 0},[]),h=_.useCallback(function(x){c(x.type,$R(x),x.target,s(x,e.lockRef.current))},[]),m=_.useCallback(function(x){c(x.type,rp(x),x.target,s(x,e.lockRef.current))},[]);_.useEffect(function(){return lu.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",u,su),document.addEventListener("touchmove",u,su),document.addEventListener("touchstart",f,su),function(){lu=lu.filter(function(x){return x!==a}),document.removeEventListener("wheel",u,su),document.removeEventListener("touchmove",u,su),document.removeEventListener("touchstart",f,su)}},[]);var v=e.removeScrollBar,y=e.inert;return _.createElement(_.Fragment,null,y?_.createElement(a,{styles:jB(o)}):null,v?_.createElement(TB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function LB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zB=pB(gA,FB);var Xp=_.forwardRef(function(e,t){return _.createElement(Um,ya({},e,{ref:t,sideCar:zB}))});Xp.classNames=Um.classNames;function Or(e){return Object.keys(e)}function Rb(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Xx(e,t){const n={...e},r=t;return Rb(e)&&Rb(t)&&Object.keys(t).forEach(o=>{Rb(r[o])&&o in e?n[o]=Xx(n[o],r[o]):n[o]=r[o]}),n}function UB(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function VB(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function Ld(e){const t=VB(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function qR(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function SA(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return t?qR(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(a=>n(a)).join(",");if(r.includes(" "))return r.split(" ").map(a=>n(a)).join(" ");const o=r.replace("px","");if(!Number.isNaN(Number(o))){const a=`${Number(o)/16}${e}`;return t?qR(a):a}}return r}return n}const xe=SA("rem",{shouldScale:!0}),XR=SA("em");function vf(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function CA(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function ys(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==_.Fragment:!1}function Oo(e){const t=_.createContext(null);return[({children:o,value:a})=>b.jsx(t.Provider,{value:a,children:o}),()=>{const o=_.useContext(t);if(o===null)throw new Error(e);return o}]}function gf(e=null){const t=_.createContext(e);return[({children:o,value:a})=>b.jsx(t.Provider,{value:a,children:o}),()=>_.useContext(t)]}const HB={app:100,modal:200,popover:300,overlay:400,max:9999};function Er(e){return HB[e]}const Yp=()=>{};function WB(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Yp:n=>{n.key==="Escape"&&(e(n),t.onTrigger?.())}}function Et(e,t="size",n=!0){if(e!==void 0)return CA(e)?n?xe(e):e:`var(--${t}-${e})`}function fr(e){return Et(e,"mantine-spacing")}function hn(e){return e===void 0?"var(--mantine-radius-default)":Et(e,"mantine-radius")}function Vn(e){return Et(e,"mantine-font-size")}function EA(e){return Et(e,"mantine-line-height",!1)}function Yx(e){if(e)return Et(e,"mantine-shadow",!1)}function Eu(e,t){return n=>{e?.(n),t?.(n)}}function $B(e,t){return e in t?Ld(t[e]):Ld(e)}function GB(e,t){const n=e.map(r=>({value:r,px:$B(r,t)}));return n.sort((r,o)=>r.px-o.px),n}function Nu(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Op(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function Sa(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function qB(e,t){if(e===t||Number.isNaN(e)&&Number.isNaN(t))return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const n=Object.keys(e),{length:r}=n;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1){const a=n[o];if(!(a in t)||e[a]!==t[a]&&!(Number.isNaN(e[a])&&Number.isNaN(t[a])))return!1}return!0}function XB(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}function Xs(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>t.current?.(...n),[])}function Vm(e,t){const{delay:n,flushOnUnmount:r,leading:o}=typeof t=="number"?{delay:t,flushOnUnmount:!1,leading:!1}:t,a=Xs(e),i=_.useRef(0),s=_.useMemo(()=>{const u=Object.assign((...c)=>{window.clearTimeout(i.current);const f=u._isFirstCall;u._isFirstCall=!1;function h(){window.clearTimeout(i.current),i.current=0,u._isFirstCall=!0}if(o&&f){a(...c);const y=()=>{h()},x=()=>{i.current!==0&&(h(),a(...c))},w=()=>{h()};u.flush=x,u.cancel=w,i.current=window.setTimeout(y,n);return}if(o&&!f){const y=()=>{i.current!==0&&(h(),a(...c))},x=()=>{h()};u.flush=y,u.cancel=x;const w=()=>{h()};i.current=window.setTimeout(w,n);return}const m=()=>{i.current!==0&&(h(),a(...c))},v=()=>{h()};u.flush=m,u.cancel=v,i.current=window.setTimeout(m,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return u},[a,n,o]);return _.useEffect(()=>()=>{r?s.flush():s.cancel()},[s,r]),s}const YB=["mousedown","touchstart"];function KB(e,t,n){const r=_.useRef(null),o=t||YB;return _.useEffect(()=>{const a=i=>{const{target:s}=i??{};if(Array.isArray(n)){const u=!document.body.contains(s)&&s.tagName!=="HTML";n.every(f=>!!f&&!i.composedPath().includes(f))&&!u&&e()}else r.current&&!r.current.contains(s)&&e()};return o.forEach(i=>document.addEventListener(i,a)),()=>{o.forEach(i=>document.removeEventListener(i,a))}},[r,e,n]),r}function QB(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function JB(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function RA(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=_.useState(n?t:JB(e));return _.useEffect(()=>{try{const a=window.matchMedia(e);return o(a.matches),QB(a,i=>o(i.matches))}catch{return}},[e]),r||!1}function ZB(e,t){return RA("(prefers-color-scheme: dark)",e==="dark",t)?"dark":"light"}const Zu=typeof document<"u"?_.useLayoutEffect:_.useEffect;function ss(e,t){const n=_.useRef(!1);_.useEffect(()=>()=>{n.current=!1},[]),_.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function _A({opened:e,shouldReturnFocus:t=!0}){const n=_.useRef(null),r=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return ss(()=>{let o=-1;const a=i=>{i.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",a),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",a)}},[e,t]),r}const eF=/input|select|textarea|button|object/,TA="a, input, select, textarea, button, object, [tabindex]";function tF(e){return e.style.display==="none"}function nF(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(tF(n))return!1;n=n.parentNode}return!0}function DA(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function F0(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(DA(e));return(eF.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&nF(e)}function AA(e){const t=DA(e);return(Number.isNaN(t)||t>=0)&&F0(e)}function rF(e){return Array.from(e.querySelectorAll(TA)).filter(AA)}function oF(e,t){const n=rF(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();let a=r===o.activeElement||e===o.activeElement;const i=o.activeElement;if(i.tagName==="INPUT"&&i.getAttribute("type")==="radio"&&(a=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===i.getAttribute("name")).includes(r)),!a)return;t.preventDefault();const u=n[t.shiftKey?n.length-1:0];u&&u.focus()}function aF(e=!0){const t=_.useRef(null),n=o=>{let a=o.querySelector("[data-autofocus]");if(!a){const i=Array.from(o.querySelectorAll(TA));a=i.find(AA)||i.find(F0)||null,!a&&F0(o)&&(a=o)}a&&a.focus({preventScroll:!0})},r=_.useCallback(o=>{e&&o!==null&&t.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&n(o)}),t.current=o):t.current=null)},[e]);return _.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const o=a=>{a.key==="Tab"&&t.current&&oF(t.current,a)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),r}const iF=e=>(e+1)%1e6;function sF(){const[,e]=_.useReducer(iF,0);return e}const lF=ut.useId||(()=>{});function uF(){const e=lF();return e?`mantine-${e.replace(/:/g,"")}`:""}function Po(e){const t=uF(),[n,r]=_.useState(t);return Zu(()=>{r(Sa())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function cF(e,t,n){_.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function zd(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function NA(...e){const t=new Map;return n=>{if(e.forEach(r=>{const o=zd(r,n);o&&t.set(r,o)}),t.size>0)return()=>{e.forEach(r=>{const o=t.get(r);o&&typeof o=="function"?o():zd(r,null)}),t.clear()}}}function On(...e){return _.useCallback(NA(...e),e)}function Da({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,a]=_.useState(t!==void 0?t:n),i=(s,...u)=>{a(s),r?.(s,...u)};return e!==void 0?[e,r,!0]:[o,i,!1]}function Hm(e,t){return RA("(prefers-reduced-motion: reduce)",e,t)}function dF(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(!qB(e[n],t[n]))return!1;return!0}function fF(e){const t=_.useRef([]),n=_.useRef(0);return dF(t.current,e)||(t.current=e,n.current+=1),[n.current]}function hF(e,t){_.useEffect(e,fF(t))}function pF(e=[!1,!0]){const[[t],n]=_.useReducer((r,o)=>{const a=o instanceof Function?o(r[0]):o,i=Math.abs(r.indexOf(a));return r.slice(i).concat(r.slice(0,i))},e);return[t,n]}function YR(e=!1,t={}){const[n,r]=_.useState(e),o=_.useCallback(()=>{r(s=>s||(t.onOpen?.(),!0))},[t.onOpen]),a=_.useCallback(()=>{r(s=>s&&(t.onClose?.(),!1))},[t.onClose]),i=_.useCallback(()=>{n?a():o()},[a,o,n]);return[n,{open:o,close:a,toggle:i}]}function mF(e,t,n={autoInvoke:!1}){const r=_.useRef(null),o=_.useCallback((...i)=>{r.current||(r.current=window.setTimeout(()=>{e(i),r.current=null},t))},[t]),a=_.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return _.useEffect(()=>(n.autoInvoke&&o(),a),[a,o]),{start:o,clear:a}}function vF(e){const t=_.useRef(void 0);return _.useEffect(()=>{t.current=e},[e]),t.current}function gF(e,t,n){const r=_.useRef(null),o=_.useRef(null);return _.useEffect(()=>{const a=typeof n=="function"?n():n;return(a||o.current)&&(r.current=new MutationObserver(e),r.current.observe(a||o.current,t)),()=>{r.current?.disconnect()}},[e,t]),o}function yF(){const[e,t]=_.useState(!1);return _.useEffect(()=>t(!0),[]),e}function bF(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function xF(e){function t(r){const o=Object.keys(r).reduce((a,i)=>(a[`${e}:${i}`]=s=>r[i](s.detail),a),{});Zu(()=>(Object.keys(o).forEach(a=>{window.removeEventListener(a,o[a]),window.addEventListener(a,o[a])}),()=>Object.keys(o).forEach(a=>{window.removeEventListener(a,o[a])})),[o])}function n(r){return(...o)=>bF(`${e}:${String(r)}`,o[0])}return[t,n]}var wF={};function kA(){return typeof process<"u"&&wF?"production":"development"}function Wm(e){const t=ut.version;return typeof ut.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function MA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=MA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function kn(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=MA(e))&&(r&&(r+=" "),r+=t);return r}const SF={};function CF(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,o])=>{t[r]?t[r]=kn(t[r],o):t[r]=o})}),t}function $m({theme:e,classNames:t,props:n,stylesCtx:r}){const a=(Array.isArray(t)?t:[t]).map(i=>typeof i=="function"?i(e,n,r):i||SF);return CF(a)}function Kp({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((a,i)=>typeof i=="function"?{...a,...i(e,n,r)}:{...a,...i},{})}const Kx=_.createContext(null);function bs(){const e=_.useContext(Kx);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function EF(){return bs().cssVariablesResolver}function RF(){return bs().classNamesPrefix}function Gm(){return bs().getStyleNonce}function _F(){return bs().withStaticClasses}function TF(){return bs().headless}function DF(){return bs().stylesTransform?.sx}function AF(){return bs().stylesTransform?.styles}function qm(){return bs().env||"default"}function NF(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function kF(e){let t=e.replace("#","");if(t.length===3){const i=t.split("");t=[i[0],i[0],i[1],i[1],i[2],i[2]].join("")}if(t.length===8){const i=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:i}}const n=parseInt(t,16),r=n>>16&255,o=n>>8&255,a=n&255;return{r,g:o,b:a,a:1}}function MF(e){const[t,n,r,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:o===void 0?1:o}}function IF(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),o=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100,i=n[5]?parseFloat(n[5]):void 0,s=(1-Math.abs(2*a-1))*o,u=r/60,c=s*(1-Math.abs(u%2-1)),f=a-s/2;let h,m,v;return u>=0&&u<1?(h=s,m=c,v=0):u>=1&&u<2?(h=c,m=s,v=0):u>=2&&u<3?(h=0,m=s,v=c):u>=3&&u<4?(h=0,m=c,v=s):u>=4&&u<5?(h=c,m=0,v=s):(h=s,m=0,v=c),{r:Math.round((h+f)*255),g:Math.round((m+f)*255),b:Math.round((v+f)*255),a:i||1}}function Qx(e){return NF(e)?kF(e):e.startsWith("rgb")?MF(e):e.startsWith("hsl")?IF(e):{r:0,g:0,b:0,a:1}}function op(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:o,a}=Qx(e),i=1-t,s=u=>Math.round(u*i);return`rgba(${s(n)}, ${s(r)}, ${s(o)}, ${a})`}function Ud(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function _b(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function OF(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function PF(e){if(e.startsWith("oklch("))return(OF(e)||0)/100;const{r:t,g:n,b:r}=Qx(e),o=t/255,a=n/255,i=r/255,s=_b(o),u=_b(a),c=_b(i);return .2126*s+.7152*u+.0722*c}function yd(e,t=.179){return e.startsWith("var(")?!1:PF(e)>t}function dl({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:yd(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:yd(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:yd(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),a=o?Number(o):void 0,i=r in t.colors;if(i){const s=a!==void 0?t.colors[r][a]:t.colors[r][Ud(t,n||"light")];return{color:r,value:s,shade:a,isThemeColor:i,isLight:yd(s,t.luminanceThreshold),variable:o?`--mantine-color-${r}-${a}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:i,isLight:yd(e,t.luminanceThreshold),shade:a,variable:void 0}}function Dn(e,t){const n=dl({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function L0(e,t){const n={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},r=Dn(n.from,t),o=Dn(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${o} 100%)`}function pa(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:o}=Qx(e);return`rgba(${n}, ${r}, ${o}, ${t})`}const uu=pa,jF=({color:e,theme:t,variant:n,gradient:r,autoContrast:o})=>{const a=dl({color:e,theme:t}),i=typeof o=="boolean"?o:t.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const s=i&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:s,border:`${xe(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:s,border:`${xe(1)} solid transparent`}:{background:e,hover:op(e,.1),color:s,border:`${xe(1)} solid transparent`}}if(n==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${xe(1)} solid transparent`};const s=t.colors[a.color][a.shade];return{background:pa(s,.1),hover:pa(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${xe(1)} solid transparent`}}return{background:pa(e,.1),hover:pa(e,.12),color:e,border:`${xe(1)} solid transparent`}}if(n==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${xe(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:pa(t.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${xe(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:pa(e,.05),color:e,border:`${xe(1)} solid ${e}`};if(n==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${xe(1)} solid transparent`};const s=t.colors[a.color][a.shade];return{background:"transparent",hover:pa(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${xe(1)} solid transparent`}}return{background:"transparent",hover:pa(e,.12),color:e,border:`${xe(1)} solid transparent`}}return n==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${xe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${xe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${xe(1)} solid transparent`}:n==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:op(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${xe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:op(t.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${xe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:op(t.white,.01),color:e,border:`${xe(1)} solid transparent`}:n==="gradient"?{background:L0(r,t),hover:L0(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${xe(1)} solid var(--mantine-color-default-border)`}:{}},BF={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},KR="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Jx={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:BF,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:jF,autoContrast:!1,luminanceThreshold:.3,fontFamily:KR,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:KR,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:xe(34),lineHeight:"1.3"},h2:{fontSize:xe(26),lineHeight:"1.35"},h3:{fontSize:xe(22),lineHeight:"1.4"},h4:{fontSize:xe(18),lineHeight:"1.45"},h5:{fontSize:xe(16),lineHeight:"1.5"},h6:{fontSize:xe(14),lineHeight:"1.5"}}},fontSizes:{xs:xe(12),sm:xe(14),md:xe(16),lg:xe(18),xl:xe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:xe(2),sm:xe(4),md:xe(8),lg:xe(16),xl:xe(32)},spacing:{xs:xe(10),sm:xe(12),md:xe(16),lg:xe(20),xl:xe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), 0 ${xe(1)} ${xe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${xe(10)} ${xe(15)} ${xe(-5)}, rgba(0, 0, 0, 0.04) 0 ${xe(7)} ${xe(7)} ${xe(-5)}`,md:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${xe(20)} ${xe(25)} ${xe(-5)}, rgba(0, 0, 0, 0.04) 0 ${xe(10)} ${xe(10)} ${xe(-5)}`,lg:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${xe(28)} ${xe(23)} ${xe(-7)}, rgba(0, 0, 0, 0.04) 0 ${xe(12)} ${xe(12)} ${xe(-7)}`,xl:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${xe(36)} ${xe(28)} ${xe(-7)}, rgba(0, 0, 0, 0.04) 0 ${xe(17)} ${xe(17)} ${xe(-7)}`},other:{},components:{}};function QR(e){return e==="auto"||e==="dark"||e==="light"}function FF({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return QR(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&QR(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const LF="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",JR="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Tb(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function ZR(e){if(!(e.primaryColor in e.colors))throw new Error(LF);if(typeof e.primaryShade=="object"&&(!Tb(e.primaryShade.dark)||!Tb(e.primaryShade.light)))throw new Error(JR);if(typeof e.primaryShade=="number"&&!Tb(e.primaryShade))throw new Error(JR)}function zF(e,t){if(!t)return ZR(e),e;const n=Xx(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(n.headings.fontFamily=t.fontFamily),ZR(n),n}const Zx=_.createContext(null),UF=()=>_.useContext(Zx)||Jx;function vr(){const e=_.useContext(Zx);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function IA({theme:e,children:t,inherit:n=!0}){const r=UF(),o=_.useMemo(()=>zF(n?r:Jx,e),[e,r,n]);return b.jsx(Zx.Provider,{value:o,children:t})}IA.displayName="@mantine/core/MantineThemeProvider";function VF(){const e=vr(),t=Gm(),n=Or(e.breakpoints).reduce((r,o)=>{const a=e.breakpoints[o].includes("px"),i=Ld(e.breakpoints[o]),s=a?`${i-.1}px`:XR(i-.1),u=a?`${i}px`:XR(i);return`${r}@media (max-width: ${s}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return b.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:n}})}function Db(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function bd(e,t){return(Array.isArray(e)?e:[e]).reduce((r,o)=>`${o}{${r}}`,t)}function HF(e,t){const n=Db(e.variables),r=n?bd(t,n):"",o=Db(e.dark),a=Db(e.light),i=o?bd(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,o):"",s=a?bd(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,a):"";return`${r}

${i}

${s}`}function yf({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&dl({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function e_(e,t){return yf({color:e.colors[e.primaryColor][Ud(e,t)],theme:e,autoContrast:null})}function ap({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:o=!0}){if(!e.colors[t])return{};if(n==="light"){const s=Ud(e,"light"),u={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:uu(e.colors[t][s],.1),[`--mantine-color-${r}-light-hover`]:uu(e.colors[t][s],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline-hover`]:uu(e.colors[t][s],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...u}:u}const a=Ud(e,"dark"),i={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:uu(e.colors[t][Math.max(0,a-2)],.15),[`--mantine-color-${r}-light-hover`]:uu(e.colors[t][Math.max(0,a-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(a-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(a-4,0)})`,[`--mantine-color-${r}-outline-hover`]:uu(e.colors[t][Math.max(a-4,0)],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...i}:i}function WF(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function cu(e,t,n){Or(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const OA=e=>{const t=Ud(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:xe(e.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":e_(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":e_(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};cu(r.variables,e.breakpoints,"breakpoint"),cu(r.variables,e.spacing,"spacing"),cu(r.variables,e.fontSizes,"font-size"),cu(r.variables,e.lineHeights,"line-height"),cu(r.variables,e.shadows,"shadow"),cu(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,i)=>{r.variables[`--mantine-primary-color-${i}`]=`var(--mantine-color-${e.primaryColor}-${i})`}),Or(e.colors).forEach(a=>{const i=e.colors[a];if(WF(i)){Object.assign(r.light,ap({theme:e,name:i.name,color:i.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,ap({theme:e,name:i.name,color:i.dark,colorScheme:"dark",withColorValues:!0}));return}i.forEach((s,u)=>{r.variables[`--mantine-color-${a}-${u}`]=s}),Object.assign(r.light,ap({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,ap({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return Or(o).forEach(a=>{r.variables[`--mantine-${a}-font-size`]=o[a].fontSize,r.variables[`--mantine-${a}-line-height`]=o[a].lineHeight,r.variables[`--mantine-${a}-font-weight`]=o[a].fontWeight||e.headings.fontWeight}),r};function $F({theme:e,generator:t}){const n=OA(e),r=t?.(e);return r?Xx(n,r):n}const Ab=OA(Jx);function GF(e){const t={variables:{},light:{},dark:{}};return Or(e.variables).forEach(n=>{Ab.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Or(e.light).forEach(n=>{Ab.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Or(e.dark).forEach(n=>{Ab.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function qF(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function PA({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=vr(),r=Gm(),o=EF(),a=$F({theme:n,generator:o}),i=e===":root"&&t,s=i?GF(a):a,u=HF(s,e);return u?b.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${u}${i?"":qF(e)}`}}):null}PA.displayName="@mantine/CssVariables";function du(e,t){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:n?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",r)}function XF({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const o=_.useRef(null),[a,i]=_.useState(()=>e.get(t)),s=r||a,u=_.useCallback(f=>{r||(du(f,n),i(f),e.set(f))},[e.set,s,r]),c=_.useCallback(()=>{i(t),du(t,n),e.clear()},[e.clear,t]);return _.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),Zu(()=>{du(e.get(t),n)},[]),_.useEffect(()=>{if(r)return du(r,n),()=>{};r===void 0&&du(a,n),typeof window<"u"&&"matchMedia"in window&&(o.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=h=>{a==="auto"&&du(h.matches?"dark":"light",n)};return o.current?.addEventListener("change",f),()=>o.current?.removeEventListener("change",f)},[a,r]),{colorScheme:s,setColorScheme:u,clearColorScheme:c}}function YF({respectReducedMotion:e,getRootElement:t}){Zu(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}function jA({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:a=!0,withCssVariables:i=!0,cssVariablesSelector:s=":root",classNamesPrefix:u="mantine",colorSchemeManager:c=FF(),defaultColorScheme:f="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:v,stylesTransform:y,env:x}){const{colorScheme:w,setColorScheme:S,clearColorScheme:E}=XF({defaultColorScheme:f,forceColorScheme:v,manager:c,getRootElement:h});return YF({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:h}),b.jsx(Kx.Provider,{value:{colorScheme:w,setColorScheme:S,clearColorScheme:E,getRootElement:h,classNamesPrefix:u,getStyleNonce:n,cssVariablesResolver:m,cssVariablesSelector:s,withStaticClasses:r,stylesTransform:y,env:x},children:b.jsxs(IA,{theme:e,children:[i&&b.jsx(PA,{cssVariablesSelector:s,deduplicateCssVariables:a}),o&&b.jsx(VF,{}),t]})})}jA.displayName="@mantine/core/MantineProvider";function fl({classNames:e,styles:t,props:n,stylesCtx:r}){const o=vr();return{resolvedClassNames:$m({theme:o,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:Kp({theme:o,styles:t,props:n,stylesCtx:r||void 0})}}const KF={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function QF({theme:e,options:t,unstyled:n}){return kn(t?.focusable&&!n&&(e.focusClassName||KF[e.focusRing]),t?.active&&!n&&e.activeClassName)}function JF({selector:e,stylesCtx:t,options:n,props:r,theme:o}){return $m({theme:o,classNames:n?.classNames,props:n?.props||r,stylesCtx:t})[e]}function t_({selector:e,stylesCtx:t,theme:n,classNames:r,props:o}){return $m({theme:n,classNames:r,props:o,stylesCtx:t})[e]}function ZF({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function eL({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function tL({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(o=>`${t}-${o}-${n}`)}function nL({themeName:e,theme:t,selector:n,props:r,stylesCtx:o}){return e.map(a=>$m({theme:t,classNames:t.components[a]?.classNames,props:r,stylesCtx:o})?.[n])}function rL({options:e,classes:t,selector:n,unstyled:r}){return e?.variant&&!r?t[`${n}--${e.variant}`]:void 0}function oL({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:o,classNames:a,classes:i,unstyled:s,className:u,rootSelector:c,props:f,stylesCtx:h,withStaticClasses:m,headless:v,transformedStyles:y}){return kn(QF({theme:e,options:t,unstyled:s||v}),nL({theme:e,themeName:n,selector:r,props:f,stylesCtx:h}),rL({options:t,classes:i,selector:r,unstyled:s}),t_({selector:r,stylesCtx:h,theme:e,classNames:a,props:f}),t_({selector:r,stylesCtx:h,theme:e,classNames:y,props:f}),JF({selector:r,stylesCtx:h,options:t,props:f,theme:e}),ZF({rootSelector:c,selector:r,className:u}),eL({selector:r,classes:i,unstyled:s||v}),m&&!v&&tL({themeName:n,classNamesPrefix:o,selector:r,withStaticClass:t?.withStaticClass}),t?.className)}function aL({theme:e,themeName:t,props:n,stylesCtx:r,selector:o}){return t.map(a=>Kp({theme:e,styles:e.components[a]?.styles,props:n,stylesCtx:r})[o]).reduce((a,i)=>({...a,...i}),{})}function z0({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...z0({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function iL(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...vf(n[r])}}),t),{})}function sL({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:o,selector:a,themeName:i,headless:s}){return iL([s?{}:t?.(n,r,o),...i.map(u=>n.components?.[u]?.vars?.(n,r,o)),e?.(n,r,o)])?.[a]}function lL({theme:e,themeName:t,selector:n,options:r,props:o,stylesCtx:a,rootSelector:i,styles:s,style:u,vars:c,varsResolver:f,headless:h,withStylesTransform:m}){return{...!m&&aL({theme:e,themeName:t,props:o,stylesCtx:a,selector:n}),...!m&&Kp({theme:e,styles:s,props:o,stylesCtx:a})[n],...!m&&Kp({theme:e,styles:r?.styles,props:r?.props||o,stylesCtx:a})[n],...sL({theme:e,props:o,stylesCtx:a,vars:c,varsResolver:f,selector:n,themeName:t,headless:h}),...i===n?z0({style:u,theme:e}):null,...z0({style:r?.style,theme:e})}}function uL({props:e,stylesCtx:t,themeName:n}){const r=vr(),o=AF()?.();return{getTransformedStyles:i=>o?[...i.map(u=>o(u,{props:e,theme:r,ctx:t})),...n.map(u=>o(r.components[u]?.styles,{props:e,theme:r,ctx:t}))].filter(Boolean):[],withStylesTransform:!!o}}function et({name:e,classes:t,props:n,stylesCtx:r,className:o,style:a,rootSelector:i="root",unstyled:s,classNames:u,styles:c,vars:f,varsResolver:h,attributes:m}){const v=vr(),y=RF(),x=_F(),w=TF(),S=(Array.isArray(e)?e:[e]).filter(D=>D),{withStylesTransform:E,getTransformedStyles:R}=uL({props:n,stylesCtx:r,themeName:S});return(D,A)=>({className:oL({theme:v,options:A,themeName:S,selector:D,classNamesPrefix:y,classNames:u,classes:t,unstyled:s,className:o,rootSelector:i,props:n,stylesCtx:r,withStaticClasses:x,headless:w,transformedStyles:R([A?.styles,c])}),style:lL({theme:v,themeName:S,selector:D,options:A,props:n,stylesCtx:r,rootSelector:i,styles:c,style:a,vars:f,varsResolver:h,headless:w,withStylesTransform:E}),...m?.[D]})}function e1(e,t){return typeof e=="boolean"?e:t.autoContrast}function n_(e){const t=document.createElement("style");return t.setAttribute("data-mantine-styles","inline"),t.innerHTML="*, *::before, *::after {transition: none !important;}",t.setAttribute("data-mantine-disable-transition","true"),e&&t.setAttribute("nonce",e),document.head.appendChild(t),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function BA({keepTransitions:e}={}){const t=_.useRef(Yp),n=_.useRef(-1),r=_.useContext(Kx),o=Gm(),a=_.useRef(o?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const i=h=>{r.setColorScheme(h),t.current=e?()=>{}:n_(a.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},s=()=>{r.clearColorScheme(),t.current=e?()=>{}:n_(a.current),window.clearTimeout(n.current),n.current=window.setTimeout(()=>{t.current?.()},10)},u=ZB("light",{getInitialValueInEffect:!1}),c=r.colorScheme==="auto"?u:r.colorScheme,f=_.useCallback(()=>i(c==="light"?"dark":"light"),[i,c]);return _.useEffect(()=>()=>{t.current?.(),window.clearTimeout(n.current)},[]),{colorScheme:r.colorScheme,setColorScheme:i,clearColorScheme:s,toggleColorScheme:f}}function Ce(e,t,n){const r=vr(),o=r.components[e]?.defaultProps,a=typeof o=="function"?o(r):o;return{...t,...a,...vf(n)}}function Nb(e){return Or(e).reduce((t,n)=>e[n]!==void 0?`${t}${UB(n)}:${e[n]};`:t,"").trim()}function cL({selector:e,styles:t,media:n,container:r}){const o=t?Nb(t):"",a=Array.isArray(n)?n.map(s=>`@media${s.query}{${e}{${Nb(s.styles)}}}`):[],i=Array.isArray(r)?r.map(s=>`@container ${s.query}{${e}{${Nb(s.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${a.join("")}${i.join("")}`.trim()}function t1(e){const t=Gm();return b.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:cL(e)}})}function bf(e){const{m:t,mx:n,my:r,mt:o,mb:a,ml:i,mr:s,me:u,ms:c,p:f,px:h,py:m,pt:v,pb:y,pl:x,pr:w,pe:S,ps:E,bd:R,bdrs:D,bg:A,c:N,opacity:k,ff:M,fz:I,fw:O,lts:L,ta:F,lh:X,fs:W,tt:Y,td:B,w:V,miw:U,maw:$,h:j,mih:G,mah:Q,bgsz:te,bgp:de,bgr:we,bga:ie,pos:oe,top:ve,left:pe,bottom:Oe,right:je,inset:Pe,display:Te,flex:Je,hiddenFrom:it,visibleFrom:nt,lightHidden:_e,darkHidden:De,sx:ke,...Ze}=e;return{styleProps:vf({m:t,mx:n,my:r,mt:o,mb:a,ml:i,mr:s,me:u,ms:c,p:f,px:h,py:m,pt:v,pb:y,pl:x,pr:w,pe:S,ps:E,bd:R,bg:A,c:N,opacity:k,ff:M,fz:I,fw:O,lts:L,ta:F,lh:X,fs:W,tt:Y,td:B,w:V,miw:U,maw:$,h:j,mih:G,mah:Q,bgsz:te,bgp:de,bgr:we,bga:ie,pos:oe,top:ve,left:pe,bottom:Oe,right:je,inset:Pe,display:Te,flex:Je,bdrs:D,hiddenFrom:it,visibleFrom:nt,lightHidden:_e,darkHidden:De,sx:ke}),rest:Ze}}const dL={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function n1(e,t){const n=dl({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function fL(e,t){const n=dl({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:n1(e,t)}function hL(e,t){if(typeof e=="number")return xe(e);if(typeof e=="string"){const[n,r,...o]=e.split(" ").filter(i=>i.trim()!=="");let a=`${xe(n)}`;return r&&(a+=` ${r}`),o.length>0&&(a+=` ${n1(o.join(" "),t)}`),a.trim()}return e}const r_={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function pL(e){return typeof e=="string"&&e in r_?r_[e]:e}const mL=["h1","h2","h3","h4","h5","h6"];function vL(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&mL.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?xe(e):e}function gL(e){return e}const yL=["h1","h2","h3","h4","h5","h6"];function bL(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&yL.includes(e)?`var(--mantine-${e}-line-height)`:e}function xL(e,t){return typeof e=="string"&&e in t.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?xe(e):e}function wL(e){return typeof e=="number"?xe(e):e}function SL(e,t){if(typeof e=="number")return xe(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return xe(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const kb={color:n1,textColor:fL,fontSize:vL,spacing:SL,radius:xL,identity:gL,size:wL,lineHeight:bL,fontFamily:pL,border:hL};function o_(e){return e.replace("(min-width: ","").replace("em)","")}function CL({media:e,...t}){const r=Object.keys(e).sort((o,a)=>Number(o_(o))-Number(o_(a))).map(o=>({query:o,styles:e[o]}));return{...t,media:r}}function EL(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function RL(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function _L(e){return typeof e=="object"&&e!==null?Or(e).filter(t=>t!=="base"):[]}function TL(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function DL({styleProps:e,data:t,theme:n}){return CL(Or(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const a=t[o],i=Array.isArray(a.property)?a.property:[a.property],s=RL(e[o]);if(!EL(e[o]))return i.forEach(c=>{r.inlineStyles[c]=kb[a.type](s,n)}),r;r.hasResponsiveStyles=!0;const u=_L(e[o]);return i.forEach(c=>{s!=null&&(r.styles[c]=kb[a.type](s,n)),u.forEach(f=>{const h=`(min-width: ${n.breakpoints[f]})`;r.media[h]={...r.media[h],[c]:kb[a.type](TL(e[o],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function FA(){return`__m__-${_.useId().replace(/:/g,"")}`}function r1(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...r1(r,t)}),{}):typeof e=="function"?e(t):e??{}}function LA(e){return e.startsWith("data-")?e:`data-${e}`}function AL(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[LA(n)]=e[n]),t},{})}function zA(e){return e?typeof e=="string"?{[LA(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...zA(n)}),{}):AL(e):null}function U0(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...U0(r,t)}),{}):typeof e=="function"?e(t):e??{}}function NL({theme:e,style:t,vars:n,styleProps:r}){const o=U0(t,e),a=U0(n,e);return{...o,...a,...r}}const UA=_.forwardRef(({component:e,style:t,__vars:n,className:r,variant:o,mod:a,size:i,hiddenFrom:s,visibleFrom:u,lightHidden:c,darkHidden:f,renderRoot:h,__size:m,...v},y)=>{const x=vr(),w=e||"div",{styleProps:S,rest:E}=bf(v),D=DF()?.()?.(S.sx),A=FA(),N=DL({styleProps:S,theme:x,data:dL}),k={ref:y,style:NL({theme:x,style:t,vars:n,styleProps:N.inlineStyles}),className:kn(r,D,{[A]:N.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":f,[`mantine-hidden-from-${s}`]:s,[`mantine-visible-from-${u}`]:u}),"data-variant":o,"data-size":CA(i)?void 0:i||void 0,size:m,...zA(a),...E};return b.jsxs(b.Fragment,{children:[N.hasResponsiveStyles&&b.jsx(t1,{selector:`.${A}`,styles:N.styles,media:N.media}),typeof h=="function"?h(k):b.jsx(w,{...k})]})});UA.displayName="@mantine/core/Box";const re=UA;function VA(e){return e}function Me(e){const t=_.forwardRef(e);return t.extend=VA,t.withProps=n=>{const r=_.forwardRef((o,a)=>b.jsx(t,{...n,...o,ref:a}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Rr(e){const t=_.forwardRef(e);return t.withProps=n=>{const r=_.forwardRef((o,a)=>b.jsx(t,{...n,...o,ref:a}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=VA,t}const kL=_.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function xf(){return _.useContext(kL)}var ec=pA();const Ru=Ju(ec);function ML(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Mb(e){return e?.current?e.current.scrollHeight:"auto"}const xd=typeof window<"u"&&window.requestAnimationFrame,a_=0,IL=e=>({height:0,overflow:"hidden",...e?{}:{display:"none"}});function OL({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r,keepMounted:o=!1}){const a=_.useRef(null),i=IL(o),[s,u]=_.useState(r?{}:i),c=y=>{ec.flushSync(()=>u(y))},f=y=>{c(x=>({...x,...y}))};function h(y){const x=e||ML(y);return{transition:`height ${x}ms ${t}, opacity ${x}ms ${t}`}}ss(()=>{typeof xd=="function"&&xd(r?()=>{f({willChange:"height",display:"block",overflow:"hidden"}),xd(()=>{const y=Mb(a);f({...h(y),height:y})})}:()=>{const y=Mb(a);f({...h(y),willChange:"height",height:y}),xd(()=>f({height:a_,overflow:"hidden"}))})},[r]);const m=y=>{if(!(y.target!==a.current||y.propertyName!=="height"))if(r){const x=Mb(a);x===s.height?c({}):f({height:x}),n()}else s.height===a_&&(c(i),n())};function v({style:y={},refKey:x="ref",...w}={}){const S=w[x],E={"aria-hidden":!r,...w,[x]:NA(a,S),onTransitionEnd:m,style:{boxSizing:"border-box",...y,...s}};return ut.version.startsWith("18")?r||(E.inert=""):E.inert=!r,E}return v}const PL={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},HA=Me((e,t)=>{const{children:n,in:r,transitionDuration:o,transitionTimingFunction:a,style:i,onTransitionEnd:s,animateOpacity:u,keepMounted:c,...f}=Ce("Collapse",PL,e),h=vr(),m=Hm(),y=(h.respectReducedMotion?m:!1)?0:o,x=OL({opened:r,transitionDuration:y,transitionTimingFunction:a,onTransitionEnd:s,keepMounted:c});return y===0?r?b.jsx(re,{...f,children:n}):null:b.jsx(re,{...x({style:{opacity:r||!u?1:0,transition:u?`opacity ${y}ms ${a}`:"none",...r1(i,h)},ref:t,...f}),children:n})});HA.displayName="@mantine/core/Collapse";function Xm(){return typeof window<"u"}function tc(e){return WA(e)?(e.nodeName||"").toLowerCase():"#document"}function Pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ia(e){var t;return(t=(WA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WA(e){return Xm()?e instanceof Node||e instanceof Pr(e).Node:!1}function en(e){return Xm()?e instanceof Element||e instanceof Pr(e).Element:!1}function uo(e){return Xm()?e instanceof HTMLElement||e instanceof Pr(e).HTMLElement:!1}function V0(e){return!Xm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pr(e).ShadowRoot}const jL=new Set(["inline","contents"]);function wf(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Mo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!jL.has(o)}const BL=new Set(["table","td","th"]);function FL(e){return BL.has(tc(e))}const LL=[":popover-open",":modal"];function Ym(e){return LL.some(t=>{try{return e.matches(t)}catch{return!1}})}const zL=["transform","translate","scale","rotate","perspective"],UL=["transform","translate","scale","rotate","perspective","filter"],VL=["paint","layout","strict","content"];function o1(e){const t=Km(),n=en(e)?Mo(e):e;return zL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||UL.some(r=>(n.willChange||"").includes(r))||VL.some(r=>(n.contain||"").includes(r))}function HL(e){let t=di(e);for(;uo(t)&&!ps(t);){if(o1(t))return t;if(Ym(t))return null;t=di(t)}return null}function Km(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WL=new Set(["html","body","#document"]);function ps(e){return WL.has(tc(e))}function Mo(e){return Pr(e).getComputedStyle(e)}function Qm(e){return en(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function di(e){if(tc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||V0(e)&&e.host||Ia(e);return V0(t)?t.host:t}function $A(e){const t=di(e);return ps(t)?e.ownerDocument?e.ownerDocument.body:e.body:uo(t)&&wf(t)?t:$A(t)}function ui(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=$A(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=Pr(o);if(a){const s=H0(i);return t.concat(i,i.visualViewport||[],wf(o)?o:[],s&&n?ui(s):[])}return t.concat(o,ui(o,[],n))}function H0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function i_(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Vd(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&V0(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function GA(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function qA(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function $L(e){return XL()?!1:!s_()&&e.width===0&&e.height===0||s_()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function GL(){return/apple/i.test(navigator.vendor)}function s_(){const e=/android/i;return e.test(GA())||e.test(qA())}function qL(){return GA().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function XL(){return qA().includes("jsdom/")}function W0(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function YL(e){return"nativeEvent"in e}function KL(e){return e.matches("html,body")}function Qs(e){return e?.ownerDocument||document}function Ib(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function yu(e){return"composedPath"in e?e.composedPath()[0]:e.target}const QL="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function JL(e){return uo(e)&&e.matches(QL)}const ZL=["top","right","bottom","left"],Yo=Math.min,sr=Math.max,Qp=Math.round,ip=Math.floor,Ca=e=>({x:e,y:e}),e5={left:"right",right:"left",bottom:"top",top:"bottom"},t5={start:"end",end:"start"};function $0(e,t,n){return sr(e,Yo(t,n))}function Aa(e,t){return typeof e=="function"?e(t):e}function Ko(e){return e.split("-")[0]}function nc(e){return e.split("-")[1]}function a1(e){return e==="x"?"y":"x"}function i1(e){return e==="y"?"height":"width"}const n5=new Set(["top","bottom"]);function Wo(e){return n5.has(Ko(e))?"y":"x"}function s1(e){return a1(Wo(e))}function r5(e,t,n){n===void 0&&(n=!1);const r=nc(e),o=s1(e),a=i1(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Jp(i)),[i,Jp(i)]}function o5(e){const t=Jp(e);return[G0(e),t,G0(t)]}function G0(e){return e.replace(/start|end/g,t=>t5[t])}const l_=["left","right"],u_=["right","left"],a5=["top","bottom"],i5=["bottom","top"];function s5(e,t,n){switch(e){case"top":case"bottom":return n?t?u_:l_:t?l_:u_;case"left":case"right":return t?a5:i5;default:return[]}}function l5(e,t,n,r){const o=nc(e);let a=s5(Ko(e),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(G0)))),a}function Jp(e){return e.replace(/left|right|bottom|top/g,t=>e5[t])}function u5(e){return{top:0,right:0,bottom:0,left:0,...e}}function l1(e){return typeof e!="number"?u5(e):{top:e,right:e,bottom:e,left:e}}function Uu(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function c_(e,t,n){let{reference:r,floating:o}=e;const a=Wo(t),i=s1(t),s=i1(i),u=Ko(t),c=a==="y",f=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,m=r[s]/2-o[s]/2;let v;switch(u){case"top":v={x:f,y:r.y-o.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-o.width,y:h};break;default:v={x:r.x,y:r.y}}switch(nc(t)){case"start":v[i]-=m*(n&&c?-1:1);break;case"end":v[i]+=m*(n&&c?-1:1);break}return v}const c5=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,s=a.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:h}=c_(c,r,u),m=r,v={},y=0;for(let x=0;x<s.length;x++){const{name:w,fn:S}=s[x],{x:E,y:R,data:D,reset:A}=await S({x:f,y:h,initialPlacement:r,placement:m,strategy:o,middlewareData:v,rects:c,platform:i,elements:{reference:e,floating:t}});f=E??f,h=R??h,v={...v,[w]:{...v[w],...D}},A&&y<=50&&(y++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(c=A.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):A.rects),{x:f,y:h}=c_(c,m,u)),x=-1)}return{x:f,y:h,placement:m,strategy:o,middlewareData:v}};async function Hd(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:i,elements:s,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:v=0}=Aa(t,e),y=l1(v),w=s[m?h==="floating"?"reference":"floating":h],S=Uu(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:u})),E=h==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),D=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},A=Uu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:E,offsetParent:R,strategy:u}):E);return{top:(S.top-A.top+y.top)/D.y,bottom:(A.bottom-S.bottom+y.bottom)/D.y,left:(S.left-A.left+y.left)/D.x,right:(A.right-S.right+y.right)/D.x}}const d5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:s,middlewareData:u}=t,{element:c,padding:f=0}=Aa(e,t)||{};if(c==null)return{};const h=l1(f),m={x:n,y:r},v=s1(o),y=i1(v),x=await i.getDimensions(c),w=v==="y",S=w?"top":"left",E=w?"bottom":"right",R=w?"clientHeight":"clientWidth",D=a.reference[y]+a.reference[v]-m[v]-a.floating[y],A=m[v]-a.reference[v],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=N?N[R]:0;(!k||!await(i.isElement==null?void 0:i.isElement(N)))&&(k=s.floating[R]||a.floating[y]);const M=D/2-A/2,I=k/2-x[y]/2-1,O=Yo(h[S],I),L=Yo(h[E],I),F=O,X=k-x[y]-L,W=k/2-x[y]/2+M,Y=$0(F,W,X),B=!u.arrow&&nc(o)!=null&&W!==Y&&a.reference[y]/2-(W<F?O:L)-x[y]/2<0,V=B?W<F?W-F:W-X:0;return{[v]:m[v]+V,data:{[v]:Y,centerOffset:W-Y-V,...B&&{alignmentOffset:V}},reset:B}}}),f5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:s,platform:u,elements:c}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...w}=Aa(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const S=Ko(o),E=Wo(s),R=Ko(s)===s,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),A=m||(R||!x?[Jp(s)]:o5(s)),N=y!=="none";!m&&N&&A.push(...l5(s,x,y,D));const k=[s,...A],M=await Hd(t,w),I=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&I.push(M[S]),h){const W=r5(o,i,D);I.push(M[W[0]],M[W[1]])}if(O=[...O,{placement:o,overflows:I}],!I.every(W=>W<=0)){var L,F;const W=(((L=a.flip)==null?void 0:L.index)||0)+1,Y=k[W];if(Y&&(!(h==="alignment"?E!==Wo(Y):!1)||O.every(U=>Wo(U.placement)===E?U.overflows[0]>0:!0)))return{data:{index:W,overflows:O},reset:{placement:Y}};let B=(F=O.filter(V=>V.overflows[0]<=0).sort((V,U)=>V.overflows[1]-U.overflows[1])[0])==null?void 0:F.placement;if(!B)switch(v){case"bestFit":{var X;const V=(X=O.filter(U=>{if(N){const $=Wo(U.placement);return $===E||$==="y"}return!0}).map(U=>[U.placement,U.overflows.filter($=>$>0).reduce(($,j)=>$+j,0)]).sort((U,$)=>U[1]-$[1])[0])==null?void 0:X[0];V&&(B=V);break}case"initialPlacement":B=s;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function d_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function f_(e){return ZL.some(t=>e[t]>=0)}const h5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Aa(e,t);switch(r){case"referenceHidden":{const a=await Hd(t,{...o,elementContext:"reference"}),i=d_(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:f_(i)}}}case"escaped":{const a=await Hd(t,{...o,altBoundary:!0}),i=d_(a,n.floating);return{data:{escapedOffsets:i,escaped:f_(i)}}}default:return{}}}}};function XA(e){const t=Yo(...e.map(a=>a.left)),n=Yo(...e.map(a=>a.top)),r=sr(...e.map(a=>a.right)),o=sr(...e.map(a=>a.bottom));return{x:t,y:n,width:r-t,height:o-n}}function p5(e){const t=e.slice().sort((o,a)=>o.y-a.y),n=[];let r=null;for(let o=0;o<t.length;o++){const a=t[o];!r||a.y-r.y>r.height/2?n.push([a]):n[n.length-1].push(a),r=a}return n.map(o=>Uu(XA(o)))}const m5=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:a,strategy:i}=t,{padding:s=2,x:u,y:c}=Aa(e,t),f=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),h=p5(f),m=Uu(XA(f)),v=l1(s);function y(){if(h.length===2&&h[0].left>h[1].right&&u!=null&&c!=null)return h.find(w=>u>w.left-v.left&&u<w.right+v.right&&c>w.top-v.top&&c<w.bottom+v.bottom)||m;if(h.length>=2){if(Wo(n)==="y"){const O=h[0],L=h[h.length-1],F=Ko(n)==="top",X=O.top,W=L.bottom,Y=F?O.left:L.left,B=F?O.right:L.right,V=B-Y,U=W-X;return{top:X,bottom:W,left:Y,right:B,width:V,height:U,x:Y,y:X}}const w=Ko(n)==="left",S=sr(...h.map(O=>O.right)),E=Yo(...h.map(O=>O.left)),R=h.filter(O=>w?O.left===E:O.right===S),D=R[0].top,A=R[R.length-1].bottom,N=E,k=S,M=k-N,I=A-D;return{top:D,bottom:A,left:N,right:k,width:M,height:I,x:N,y:D}}return m}const x=await a.getElementRects({reference:{getBoundingClientRect:y},floating:r.floating,strategy:i});return o.reference.x!==x.reference.x||o.reference.y!==x.reference.y||o.reference.width!==x.reference.width||o.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}},YA=new Set(["left","top"]);async function v5(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Ko(n),s=nc(n),u=Wo(n)==="y",c=YA.has(i)?-1:1,f=a&&u?-1:1,h=Aa(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof y=="number"&&(v=s==="end"?y*-1:y),u?{x:v*f,y:m*c}:{x:m*c,y:v*f}}const g5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:s}=t,u=await v5(t,e);return i===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:a+u.y,data:{...u,placement:i}}}}},y5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:s={fn:w=>{let{x:S,y:E}=w;return{x:S,y:E}}},...u}=Aa(e,t),c={x:n,y:r},f=await Hd(t,u),h=Wo(Ko(o)),m=a1(h);let v=c[m],y=c[h];if(a){const w=m==="y"?"top":"left",S=m==="y"?"bottom":"right",E=v+f[w],R=v-f[S];v=$0(E,v,R)}if(i){const w=h==="y"?"top":"left",S=h==="y"?"bottom":"right",E=y+f[w],R=y-f[S];y=$0(E,y,R)}const x=s.fn({...t,[m]:v,[h]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[h]:i}}}}}},b5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:i}=t,{offset:s=0,mainAxis:u=!0,crossAxis:c=!0}=Aa(e,t),f={x:n,y:r},h=Wo(o),m=a1(h);let v=f[m],y=f[h];const x=Aa(s,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const R=m==="y"?"height":"width",D=a.reference[m]-a.floating[R]+w.mainAxis,A=a.reference[m]+a.reference[R]-w.mainAxis;v<D?v=D:v>A&&(v=A)}if(c){var S,E;const R=m==="y"?"width":"height",D=YA.has(Ko(o)),A=a.reference[h]-a.floating[R]+(D&&((S=i.offset)==null?void 0:S[h])||0)+(D?0:w.crossAxis),N=a.reference[h]+a.reference[R]+(D?0:((E=i.offset)==null?void 0:E[h])||0)-(D?w.crossAxis:0);y<A?y=A:y>N&&(y=N)}return{[m]:v,[h]:y}}}},x5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:i,elements:s}=t,{apply:u=()=>{},...c}=Aa(e,t),f=await Hd(t,c),h=Ko(o),m=nc(o),v=Wo(o)==="y",{width:y,height:x}=a.floating;let w,S;h==="top"||h==="bottom"?(w=h,S=m===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(S=h,w=m==="end"?"top":"bottom");const E=x-f.top-f.bottom,R=y-f.left-f.right,D=Yo(x-f[w],E),A=Yo(y-f[S],R),N=!t.middlewareData.shift;let k=D,M=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=E),N&&!m){const O=sr(f.left,0),L=sr(f.right,0),F=sr(f.top,0),X=sr(f.bottom,0);v?M=y-2*(O!==0||L!==0?O+L:sr(f.left,f.right)):k=x-2*(F!==0||X!==0?F+X:sr(f.top,f.bottom))}await u({...t,availableWidth:M,availableHeight:k});const I=await i.getDimensions(s.floating);return y!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function KA(e){const t=Mo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=uo(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,s=Qp(n)!==a||Qp(r)!==i;return s&&(n=a,r=i),{width:n,height:r,$:s}}function u1(e){return en(e)?e:e.contextElement}function ku(e){const t=u1(e);if(!uo(t))return Ca(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=KA(t);let i=(a?Qp(n.width):n.width)/r,s=(a?Qp(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const w5=Ca(0);function QA(e){const t=Pr(e);return!Km()||!t.visualViewport?w5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function S5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Pr(e)?!1:t}function sl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=u1(e);let i=Ca(1);t&&(r?en(r)&&(i=ku(r)):i=ku(e));const s=S5(a,n,r)?QA(a):Ca(0);let u=(o.left+s.x)/i.x,c=(o.top+s.y)/i.y,f=o.width/i.x,h=o.height/i.y;if(a){const m=Pr(a),v=r&&en(r)?Pr(r):r;let y=m,x=H0(y);for(;x&&r&&v!==y;){const w=ku(x),S=x.getBoundingClientRect(),E=Mo(x),R=S.left+(x.clientLeft+parseFloat(E.paddingLeft))*w.x,D=S.top+(x.clientTop+parseFloat(E.paddingTop))*w.y;u*=w.x,c*=w.y,f*=w.x,h*=w.y,u+=R,c+=D,y=Pr(x),x=H0(y)}}return Uu({width:f,height:h,x:u,y:c})}function Jm(e,t){const n=Qm(e).scrollLeft;return t?t.left+n:sl(Ia(e)).left+n}function JA(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Jm(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function C5(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",i=Ia(r),s=t?Ym(t.floating):!1;if(r===i||s&&a)return n;let u={scrollLeft:0,scrollTop:0},c=Ca(1);const f=Ca(0),h=uo(r);if((h||!h&&!a)&&((tc(r)!=="body"||wf(i))&&(u=Qm(r)),uo(r))){const v=sl(r);c=ku(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const m=i&&!h&&!a?JA(i,u):Ca(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+f.x+m.x,y:n.y*c.y-u.scrollTop*c.y+f.y+m.y}}function E5(e){return Array.from(e.getClientRects())}function R5(e){const t=Ia(e),n=Qm(e),r=e.ownerDocument.body,o=sr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=sr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Jm(e);const s=-n.scrollTop;return Mo(r).direction==="rtl"&&(i+=sr(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:s}}const h_=25;function _5(e,t){const n=Pr(e),r=Ia(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,s=0,u=0;if(o){a=o.width,i=o.height;const f=Km();(!f||f&&t==="fixed")&&(s=o.offsetLeft,u=o.offsetTop)}const c=Jm(r);if(c<=0){const f=r.ownerDocument,h=f.body,m=getComputedStyle(h),v=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(r.clientWidth-h.clientWidth-v);y<=h_&&(a-=y)}else c<=h_&&(a+=c);return{width:a,height:i,x:s,y:u}}const T5=new Set(["absolute","fixed"]);function D5(e,t){const n=sl(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=uo(e)?ku(e):Ca(1),i=e.clientWidth*a.x,s=e.clientHeight*a.y,u=o*a.x,c=r*a.y;return{width:i,height:s,x:u,y:c}}function p_(e,t,n){let r;if(t==="viewport")r=_5(e,n);else if(t==="document")r=R5(Ia(e));else if(en(t))r=D5(t,n);else{const o=QA(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Uu(r)}function ZA(e,t){const n=di(e);return n===t||!en(n)||ps(n)?!1:Mo(n).position==="fixed"||ZA(n,t)}function A5(e,t){const n=t.get(e);if(n)return n;let r=ui(e,[],!1).filter(s=>en(s)&&tc(s)!=="body"),o=null;const a=Mo(e).position==="fixed";let i=a?di(e):e;for(;en(i)&&!ps(i);){const s=Mo(i),u=o1(i);!u&&s.position==="fixed"&&(o=null),(a?!u&&!o:!u&&s.position==="static"&&!!o&&T5.has(o.position)||wf(i)&&!u&&ZA(e,i))?r=r.filter(f=>f!==i):o=s,i=di(i)}return t.set(e,r),r}function N5(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?Ym(t)?[]:A5(t,this._c):[].concat(n),r],s=i[0],u=i.reduce((c,f)=>{const h=p_(t,f,o);return c.top=sr(h.top,c.top),c.right=Yo(h.right,c.right),c.bottom=Yo(h.bottom,c.bottom),c.left=sr(h.left,c.left),c},p_(t,s,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function k5(e){const{width:t,height:n}=KA(e);return{width:t,height:n}}function M5(e,t,n){const r=uo(t),o=Ia(t),a=n==="fixed",i=sl(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const u=Ca(0);function c(){u.x=Jm(o)}if(r||!r&&!a)if((tc(t)!=="body"||wf(o))&&(s=Qm(t)),r){const v=sl(t,!0,a,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else o&&c();a&&!r&&o&&c();const f=o&&!r&&!a?JA(o,s):Ca(0),h=i.left+s.scrollLeft-u.x-f.x,m=i.top+s.scrollTop-u.y-f.y;return{x:h,y:m,width:i.width,height:i.height}}function Ob(e){return Mo(e).position==="static"}function m_(e,t){if(!uo(e)||Mo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ia(e)===n&&(n=n.ownerDocument.body),n}function eN(e,t){const n=Pr(e);if(Ym(e))return n;if(!uo(e)){let o=di(e);for(;o&&!ps(o);){if(en(o)&&!Ob(o))return o;o=di(o)}return n}let r=m_(e,t);for(;r&&FL(r)&&Ob(r);)r=m_(r,t);return r&&ps(r)&&Ob(r)&&!o1(r)?n:r||HL(e)||n}const I5=async function(e){const t=this.getOffsetParent||eN,n=this.getDimensions,r=await n(e.floating);return{reference:M5(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function O5(e){return Mo(e).direction==="rtl"}const P5={convertOffsetParentRelativeRectToViewportRelativeRect:C5,getDocumentElement:Ia,getClippingRect:N5,getOffsetParent:eN,getElementRects:I5,getClientRects:E5,getDimensions:k5,getScale:ku,isElement:en,isRTL:O5};function tN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function j5(e,t){let n=null,r;const o=Ia(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function i(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),a();const c=e.getBoundingClientRect(),{left:f,top:h,width:m,height:v}=c;if(s||t(),!m||!v)return;const y=ip(h),x=ip(o.clientWidth-(f+m)),w=ip(o.clientHeight-(h+v)),S=ip(f),R={rootMargin:-y+"px "+-x+"px "+-w+"px "+-S+"px",threshold:sr(0,Yo(1,u))||1};let D=!0;function A(N){const k=N[0].intersectionRatio;if(k!==u){if(!D)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!tN(c,e.getBoundingClientRect())&&i(),D=!1}try{n=new IntersectionObserver(A,{...R,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,R)}n.observe(e)}return i(!0),a}function nN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=u1(e),f=o||a?[...c?ui(c):[],...ui(t)]:[];f.forEach(S=>{o&&S.addEventListener("scroll",n,{passive:!0}),a&&S.addEventListener("resize",n)});const h=c&&s?j5(c,n):null;let m=-1,v=null;i&&(v=new ResizeObserver(S=>{let[E]=S;E&&E.target===c&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var R;(R=v)==null||R.observe(t)})),n()}),c&&!u&&v.observe(c),v.observe(t));let y,x=u?sl(e):null;u&&w();function w(){const S=sl(e);x&&!tN(x,S)&&n(),x=S,y=requestAnimationFrame(w)}return n(),()=>{var S;f.forEach(E=>{o&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),h?.(),(S=v)==null||S.disconnect(),v=null,u&&cancelAnimationFrame(y)}}const B5=g5,F5=y5,L5=f5,z5=x5,U5=h5,v_=d5,V5=m5,H5=b5,W5=(e,t,n)=>{const r=new Map,o={platform:P5,...n},a={...o.platform,_c:r};return c5(e,t,{...o,platform:a})};var $5=typeof document<"u",G5=function(){},Pp=$5?_.useLayoutEffect:G5;function Zp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Zp(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Zp(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function rN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function g_(e,t){const n=rN(e);return Math.round(t*n)/n}function Pb(e){const t=_.useRef(e);return Pp(()=>{t.current=e}),t}function q5(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:i}={},transform:s=!0,whileElementsMounted:u,open:c}=e,[f,h]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=_.useState(r);Zp(m,r)||v(r);const[y,x]=_.useState(null),[w,S]=_.useState(null),E=_.useCallback(U=>{U!==N.current&&(N.current=U,x(U))},[]),R=_.useCallback(U=>{U!==k.current&&(k.current=U,S(U))},[]),D=a||y,A=i||w,N=_.useRef(null),k=_.useRef(null),M=_.useRef(f),I=u!=null,O=Pb(u),L=Pb(o),F=Pb(c),X=_.useCallback(()=>{if(!N.current||!k.current)return;const U={placement:t,strategy:n,middleware:m};L.current&&(U.platform=L.current),W5(N.current,k.current,U).then($=>{const j={...$,isPositioned:F.current!==!1};W.current&&!Zp(M.current,j)&&(M.current=j,ec.flushSync(()=>{h(j)}))})},[m,t,n,L,F]);Pp(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[c]);const W=_.useRef(!1);Pp(()=>(W.current=!0,()=>{W.current=!1}),[]),Pp(()=>{if(D&&(N.current=D),A&&(k.current=A),D&&A){if(O.current)return O.current(D,A,X);X()}},[D,A,X,O,I]);const Y=_.useMemo(()=>({reference:N,floating:k,setReference:E,setFloating:R}),[E,R]),B=_.useMemo(()=>({reference:D,floating:A}),[D,A]),V=_.useMemo(()=>{const U={position:n,left:0,top:0};if(!B.floating)return U;const $=g_(B.floating,f.x),j=g_(B.floating,f.y);return s?{...U,transform:"translate("+$+"px, "+j+"px)",...rN(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:j}},[n,s,B.floating,f.x,f.y]);return _.useMemo(()=>({...f,update:X,refs:Y,elements:B,floatingStyles:V}),[f,X,Y,B,V])}const X5=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?v_({element:r.current,padding:o}).fn(n):{}:r?v_({element:r,padding:o}).fn(n):{}}}},oN=(e,t)=>({...B5(e),options:[e,t]}),c1=(e,t)=>({...F5(e),options:[e,t]}),y_=(e,t)=>({...H5(e),options:[e,t]}),em=(e,t)=>({...L5(e),options:[e,t]}),Y5=(e,t)=>({...z5(e),options:[e,t]}),K5=(e,t)=>({...U5(e),options:[e,t]}),Id=(e,t)=>({...V5(e),options:[e,t]}),aN=(e,t)=>({...X5(e),options:[e,t]});function iN(e){return _.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const sN={...Qj},Q5=sN.useInsertionEffect,J5=Q5||(e=>e());function oi(e){const t=_.useRef(()=>{});return J5(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Ea=typeof document<"u"?_.useLayoutEffect:_.useEffect;let b_=!1,Z5=0;const x_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Z5++;function e6(){const[e,t]=_.useState(()=>b_?x_():void 0);return Ea(()=>{e==null&&t(x_())},[]),_.useEffect(()=>{b_=!0},[]),e}const t6=sN.useId,lN=t6||e6;function n6(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const r6=_.createContext(null),o6=_.createContext(null),d1=()=>{var e;return((e=_.useContext(r6))==null?void 0:e.id)||null},f1=()=>_.useContext(o6);function h1(e){return"data-floating-ui-"+e}function jb(e){const t=_.useRef(e);return Ea(()=>{t.current=e}),t}const w_=h1("safe-polygon");function jp(e,t,n){return n&&!W0(n)?0:typeof e=="number"?e:e?.[t]}function uN(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:a,elements:i}=e,{enabled:s=!0,delay:u=0,handleClose:c=null,mouseOnly:f=!1,restMs:h=0,move:m=!0}=t,v=f1(),y=d1(),x=jb(c),w=jb(u),S=jb(n),E=_.useRef(),R=_.useRef(-1),D=_.useRef(),A=_.useRef(-1),N=_.useRef(!0),k=_.useRef(!1),M=_.useRef(()=>{}),I=_.useRef(!1),O=_.useCallback(()=>{var V;const U=(V=o.current.openEvent)==null?void 0:V.type;return U?.includes("mouse")&&U!=="mousedown"},[o]);_.useEffect(()=>{if(!s)return;function V(U){let{open:$}=U;$||(clearTimeout(R.current),clearTimeout(A.current),N.current=!0,I.current=!1)}return a.on("openchange",V),()=>{a.off("openchange",V)}},[s,a]),_.useEffect(()=>{if(!s||!x.current||!n)return;function V($){O()&&r(!1,$,"hover")}const U=Qs(i.floating).documentElement;return U.addEventListener("mouseleave",V),()=>{U.removeEventListener("mouseleave",V)}},[i.floating,n,r,s,x,O]);const L=_.useCallback(function(V,U,$){U===void 0&&(U=!0),$===void 0&&($="hover");const j=jp(w.current,"close",E.current);j&&!D.current?(clearTimeout(R.current),R.current=window.setTimeout(()=>r(!1,V,$),j)):U&&(clearTimeout(R.current),r(!1,V,$))},[w,r]),F=oi(()=>{M.current(),D.current=void 0}),X=oi(()=>{if(k.current){const V=Qs(i.floating).body;V.style.pointerEvents="",V.removeAttribute(w_),k.current=!1}}),W=oi(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);_.useEffect(()=>{if(!s)return;function V(G){if(clearTimeout(R.current),N.current=!1,f&&!W0(E.current)||h>0&&!jp(w.current,"open"))return;const Q=jp(w.current,"open",E.current);Q?R.current=window.setTimeout(()=>{S.current||r(!0,G,"hover")},Q):n||r(!0,G,"hover")}function U(G){if(W())return;M.current();const Q=Qs(i.floating);if(clearTimeout(A.current),I.current=!1,x.current&&o.current.floatingContext){n||clearTimeout(R.current),D.current=x.current({...o.current.floatingContext,tree:v,x:G.clientX,y:G.clientY,onClose(){X(),F(),W()||L(G,!0,"safe-polygon")}});const de=D.current;Q.addEventListener("mousemove",de),M.current=()=>{Q.removeEventListener("mousemove",de)};return}(E.current==="touch"?!Vd(i.floating,G.relatedTarget):!0)&&L(G)}function $(G){W()||o.current.floatingContext&&(x.current==null||x.current({...o.current.floatingContext,tree:v,x:G.clientX,y:G.clientY,onClose(){X(),F(),W()||L(G)}})(G))}if(en(i.domReference)){var j;const G=i.domReference;return n&&G.addEventListener("mouseleave",$),(j=i.floating)==null||j.addEventListener("mouseleave",$),m&&G.addEventListener("mousemove",V,{once:!0}),G.addEventListener("mouseenter",V),G.addEventListener("mouseleave",U),()=>{var Q;n&&G.removeEventListener("mouseleave",$),(Q=i.floating)==null||Q.removeEventListener("mouseleave",$),m&&G.removeEventListener("mousemove",V),G.removeEventListener("mouseenter",V),G.removeEventListener("mouseleave",U)}}},[i,s,e,f,h,m,L,F,X,r,n,S,v,w,x,o,W]),Ea(()=>{var V;if(s&&n&&(V=x.current)!=null&&V.__options.blockPointerEvents&&O()){k.current=!0;const $=i.floating;if(en(i.domReference)&&$){var U;const j=Qs(i.floating).body;j.setAttribute(w_,"");const G=i.domReference,Q=v==null||(U=v.nodesRef.current.find(te=>te.id===y))==null||(U=U.context)==null?void 0:U.elements.floating;return Q&&(Q.style.pointerEvents=""),j.style.pointerEvents="none",G.style.pointerEvents="auto",$.style.pointerEvents="auto",()=>{j.style.pointerEvents="",G.style.pointerEvents="",$.style.pointerEvents=""}}}},[s,n,y,i,v,x,O]),Ea(()=>{n||(E.current=void 0,I.current=!1,F(),X())},[n,F,X]),_.useEffect(()=>()=>{F(),clearTimeout(R.current),clearTimeout(A.current),X()},[s,i.domReference,F,X]);const Y=_.useMemo(()=>{function V(U){E.current=U.pointerType}return{onPointerDown:V,onPointerEnter:V,onMouseMove(U){const{nativeEvent:$}=U;function j(){!N.current&&!S.current&&r(!0,$,"hover")}f&&!W0(E.current)||n||h===0||I.current&&U.movementX**2+U.movementY**2<2||(clearTimeout(A.current),E.current==="touch"?j():(I.current=!0,A.current=window.setTimeout(j,h)))}}},[f,r,n,S,h]),B=_.useMemo(()=>({onMouseEnter(){clearTimeout(R.current)},onMouseLeave(V){W()||L(V.nativeEvent,!1)}}),[L,W]);return _.useMemo(()=>s?{reference:Y,floating:B}:{},[s,Y,B])}const q0=()=>{},cN=_.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:q0,setState:q0,isInstantPhase:!1}),a6=()=>_.useContext(cN);function dN(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,a]=_.useReducer((u,c)=>({...u,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),i=_.useRef(null),s=_.useCallback(u=>{a({currentId:u})},[]);return Ea(()=>{o.currentId?i.current===null?i.current=o.currentId:o.isInstantPhase||a({isInstantPhase:!0}):(o.isInstantPhase&&a({isInstantPhase:!1}),i.current=null)},[o.currentId,o.isInstantPhase]),_.createElement(cN.Provider,{value:_.useMemo(()=>({...o,setState:a,setCurrentId:s}),[o,s])},t)}function fN(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:a,enabled:i=!0}=t,s=a??o,u=a6(),{currentId:c,setCurrentId:f,initialDelay:h,setState:m,timeoutMs:v}=u;return Ea(()=>{i&&c&&(m({delay:{open:1,close:jp(h,"close")}}),c!==s&&r(!1))},[i,s,r,m,c,h]),Ea(()=>{function y(){r(!1),m({delay:h,currentId:null})}if(i&&c&&!n&&c===s){if(v){const x=window.setTimeout(y,v);return()=>{clearTimeout(x)}}y()}},[i,n,m,c,s,r,h,v]),Ea(()=>{i&&(f===q0||!n||f(s))},[i,n,f,s]),u}function Bb(e,t){let n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}),r=n;for(;r.length;)r=e.filter(o=>{var a;return(a=r)==null?void 0:a.some(i=>{var s;return o.parentId===i.id&&((s=o.context)==null?void 0:s.open)})}),n=n.concat(r);return n}const i6="data-floating-ui-focusable",s6={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},l6={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},S_=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function hN(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:a}=e,{enabled:i=!0,escapeKey:s=!0,outsidePress:u=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:m=!1,bubbles:v,capture:y}=t,x=f1(),w=oi(typeof u=="function"?u:()=>!1),S=typeof u=="function"?w:u,E=_.useRef(!1),R=_.useRef(!1),{escapeKey:D,outsidePress:A}=S_(v),{escapeKey:N,outsidePress:k}=S_(y),M=_.useRef(!1),I=oi(Y=>{var B;if(!n||!i||!s||Y.key!=="Escape"||M.current)return;const V=(B=a.current.floatingContext)==null?void 0:B.nodeId,U=x?Bb(x.nodesRef.current,V):[];if(!D&&(Y.stopPropagation(),U.length>0)){let $=!0;if(U.forEach(j=>{var G;if((G=j.context)!=null&&G.open&&!j.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}r(!1,YL(Y)?Y.nativeEvent:Y,"escape-key")}),O=oi(Y=>{var B;const V=()=>{var U;I(Y),(U=yu(Y))==null||U.removeEventListener("keydown",V)};(B=yu(Y))==null||B.addEventListener("keydown",V)}),L=oi(Y=>{var B;const V=E.current;E.current=!1;const U=R.current;if(R.current=!1,c==="click"&&U||V||typeof S=="function"&&!S(Y))return;const $=yu(Y),j="["+h1("inert")+"]",G=Qs(o.floating).querySelectorAll(j);let Q=en($)?$:null;for(;Q&&!ps(Q);){const ie=di(Q);if(ps(ie)||!en(ie))break;Q=ie}if(G.length&&en($)&&!KL($)&&!Vd($,o.floating)&&Array.from(G).every(ie=>!Vd(Q,ie)))return;if(uo($)&&W){const ie=$.clientWidth>0&&$.scrollWidth>$.clientWidth,oe=$.clientHeight>0&&$.scrollHeight>$.clientHeight;let ve=oe&&Y.offsetX>$.clientWidth;if(oe&&Mo($).direction==="rtl"&&(ve=Y.offsetX<=$.offsetWidth-$.clientWidth),ve||ie&&Y.offsetY>$.clientHeight)return}const te=(B=a.current.floatingContext)==null?void 0:B.nodeId,de=x&&Bb(x.nodesRef.current,te).some(ie=>{var oe;return Ib(Y,(oe=ie.context)==null?void 0:oe.elements.floating)});if(Ib(Y,o.floating)||Ib(Y,o.domReference)||de)return;const we=x?Bb(x.nodesRef.current,te):[];if(we.length>0){let ie=!0;if(we.forEach(oe=>{var ve;if((ve=oe.context)!=null&&ve.open&&!oe.context.dataRef.current.__outsidePressBubbles){ie=!1;return}}),!ie)return}r(!1,Y,"outside-press")}),F=oi(Y=>{var B;const V=()=>{var U;L(Y),(U=yu(Y))==null||U.removeEventListener(c,V)};(B=yu(Y))==null||B.addEventListener(c,V)});_.useEffect(()=>{if(!n||!i)return;a.current.__escapeKeyBubbles=D,a.current.__outsidePressBubbles=A;let Y=-1;function B(G){r(!1,G,"ancestor-scroll")}function V(){window.clearTimeout(Y),M.current=!0}function U(){Y=window.setTimeout(()=>{M.current=!1},Km()?5:0)}const $=Qs(o.floating);s&&($.addEventListener("keydown",N?O:I,N),$.addEventListener("compositionstart",V),$.addEventListener("compositionend",U)),S&&$.addEventListener(c,k?F:L,k);let j=[];return m&&(en(o.domReference)&&(j=ui(o.domReference)),en(o.floating)&&(j=j.concat(ui(o.floating))),!en(o.reference)&&o.reference&&o.reference.contextElement&&(j=j.concat(ui(o.reference.contextElement)))),j=j.filter(G=>{var Q;return G!==((Q=$.defaultView)==null?void 0:Q.visualViewport)}),j.forEach(G=>{G.addEventListener("scroll",B,{passive:!0})}),()=>{s&&($.removeEventListener("keydown",N?O:I,N),$.removeEventListener("compositionstart",V),$.removeEventListener("compositionend",U)),S&&$.removeEventListener(c,k?F:L,k),j.forEach(G=>{G.removeEventListener("scroll",B)}),window.clearTimeout(Y)}},[a,o,s,S,c,n,r,m,i,D,A,I,N,O,L,k,F]),_.useEffect(()=>{E.current=!1},[S,c]);const X=_.useMemo(()=>({onKeyDown:I,[s6[h]]:Y=>{f&&r(!1,Y.nativeEvent,"reference-press")}}),[I,r,f,h]),W=_.useMemo(()=>({onKeyDown:I,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[l6[c]]:()=>{E.current=!0}}),[I,c]);return _.useMemo(()=>i?{reference:X,floating:W}:{},[i,X,W])}function u6(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=lN(),a=_.useRef({}),[i]=_.useState(()=>n6()),s=d1()!=null,[u,c]=_.useState(r.reference),f=oi((v,y,x)=>{a.current.openEvent=v?y:void 0,i.emit("openchange",{open:v,event:y,reason:x,nested:s}),n?.(v,y,x)}),h=_.useMemo(()=>({setPositionReference:c}),[]),m=_.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return _.useMemo(()=>({dataRef:a,open:t,onOpenChange:f,elements:m,events:i,floatingId:o,refs:h}),[t,f,m,i,o,h])}function Zm(e){e===void 0&&(e={});const{nodeId:t}=e,n=u6({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[a,i]=_.useState(null),[s,u]=_.useState(null),f=o?.domReference||a,h=_.useRef(null),m=f1();Ea(()=>{f&&(h.current=f)},[f]);const v=q5({...e,elements:{...o,...s&&{reference:s}}}),y=_.useCallback(R=>{const D=en(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;u(D),v.refs.setReference(D)},[v.refs]),x=_.useCallback(R=>{(en(R)||R===null)&&(h.current=R,i(R)),(en(v.refs.reference.current)||v.refs.reference.current===null||R!==null&&!en(R))&&v.refs.setReference(R)},[v.refs]),w=_.useMemo(()=>({...v.refs,setReference:x,setPositionReference:y,domReference:h}),[v.refs,x,y]),S=_.useMemo(()=>({...v.elements,domReference:f}),[v.elements,f]),E=_.useMemo(()=>({...v,...r,refs:w,elements:S,nodeId:t}),[v,w,S,t,r]);return Ea(()=>{r.dataRef.current.floatingContext=E;const R=m?.nodesRef.current.find(D=>D.id===t);R&&(R.context=E)}),_.useMemo(()=>({...v,context:E,refs:w,elements:S}),[v,w,S,E])}function c6(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:a,elements:i}=e,{enabled:s=!0,visibleOnly:u=!0}=t,c=_.useRef(!1),f=_.useRef(),h=_.useRef(!0);_.useEffect(()=>{if(!s)return;const v=Pr(i.domReference);function y(){!n&&uo(i.domReference)&&i.domReference===i_(Qs(i.domReference))&&(c.current=!0)}function x(){h.current=!0}return v.addEventListener("blur",y),v.addEventListener("keydown",x,!0),()=>{v.removeEventListener("blur",y),v.removeEventListener("keydown",x,!0)}},[i.domReference,n,s]),_.useEffect(()=>{if(!s)return;function v(y){let{reason:x}=y;(x==="reference-press"||x==="escape-key")&&(c.current=!0)}return o.on("openchange",v),()=>{o.off("openchange",v)}},[o,s]),_.useEffect(()=>()=>{clearTimeout(f.current)},[]);const m=_.useMemo(()=>({onPointerDown(v){$L(v.nativeEvent)||(h.current=!1)},onMouseLeave(){c.current=!1},onFocus(v){if(c.current)return;const y=yu(v.nativeEvent);if(u&&en(y))try{if(GL()&&qL())throw Error();if(!y.matches(":focus-visible"))return}catch{if(!h.current&&!JL(y))return}r(!0,v.nativeEvent,"focus")},onBlur(v){c.current=!1;const y=v.relatedTarget,x=v.nativeEvent,w=en(y)&&y.hasAttribute(h1("focus-guard"))&&y.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var S;const E=i_(i.domReference?i.domReference.ownerDocument:document);!y&&E===i.domReference||Vd((S=a.current.floatingContext)==null?void 0:S.refs.floating.current,E)||Vd(i.domReference,E)||w||r(!1,x,"focus")})}}),[a,i.domReference,r,u]);return _.useMemo(()=>s?{reference:m}:{},[s,m])}const C_="active",E_="selected";function Fb(e,t,n){const r=new Map,o=n==="item";let a=e;if(o&&e){const{[C_]:i,[E_]:s,...u}=e;a=u}return{...n==="floating"&&{tabIndex:-1,[i6]:""},...a,...t.map(i=>{const s=i?i[n]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(u=>{let[c,f]=u;if(!(o&&[C_,E_].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof f=="function"){var h;(h=r.get(c))==null||h.push(f),i[c]=function(){for(var m,v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];return(m=r.get(c))==null?void 0:m.map(w=>w(...y)).find(w=>w!==void 0)}}}else i[c]=f}),i),{})}}function pN(e){e===void 0&&(e=[]);const t=e.map(s=>s?.reference),n=e.map(s=>s?.floating),r=e.map(s=>s?.item),o=_.useCallback(s=>Fb(s,e,"reference"),t),a=_.useCallback(s=>Fb(s,e,"floating"),n),i=_.useCallback(s=>Fb(s,e,"item"),r);return _.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:i}),[o,a,i])}const d6=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function mN(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:a=!0,role:i="dialog"}=t,s=(n=d6.get(i))!=null?n:i,u=lN(),f=d1()!=null,h=_.useMemo(()=>s==="tooltip"||i==="label"?{["aria-"+(i==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":r?o:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:u},...s==="menu"&&f&&{role:"menuitem"},...i==="select"&&{"aria-autocomplete":"none"},...i==="combobox"&&{"aria-autocomplete":"list"}},[s,o,f,r,u,i]),m=_.useMemo(()=>{const y={id:o,...s&&{role:s}};return s==="tooltip"||i==="label"?y:{...y,...s==="menu"&&{"aria-labelledby":u}}},[s,o,u,i]),v=_.useCallback(y=>{let{active:x,selected:w}=y;const S={role:"option",...x&&{id:o+"-option"}};switch(i){case"select":return{...S,"aria-selected":x&&w};case"combobox":return{...S,...x&&{"aria-selected":!0}}}return{}},[o,i]);return _.useMemo(()=>a?{reference:h,floating:m,item:v}:{},[a,h,m,v])}const[f6,jo]=Oo("ScrollArea.Root component was not found in tree");function Vu(e,t){const n=Xs(t);Zu(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const h6=_.forwardRef((e,t)=>{const{style:n,...r}=e,o=jo(),[a,i]=_.useState(0),[s,u]=_.useState(0),c=!!(a&&s);return Vu(o.scrollbarX,()=>{const f=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(f),u(f)}),Vu(o.scrollbarY,()=>{const f=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(f),i(f)}),c?b.jsx("div",{...r,ref:t,style:{...n,width:a,height:s}}):null}),p6=_.forwardRef((e,t)=>{const n=jo(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.jsx(h6,{...e,ref:t}):null}),m6={scrollHideDelay:1e3,type:"hover"},vN=_.forwardRef((e,t)=>{const{type:n,scrollHideDelay:r,scrollbars:o,getStyles:a,...i}=Ce("ScrollAreaRoot",m6,e),[s,u]=_.useState(null),[c,f]=_.useState(null),[h,m]=_.useState(null),[v,y]=_.useState(null),[x,w]=_.useState(null),[S,E]=_.useState(0),[R,D]=_.useState(0),[A,N]=_.useState(!1),[k,M]=_.useState(!1),I=On(t,O=>u(O));return b.jsx(f6,{value:{type:n,scrollHideDelay:r,scrollArea:s,viewport:c,onViewportChange:f,content:h,onContentChange:m,scrollbarX:v,onScrollbarXChange:y,scrollbarXEnabled:A,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:k,onScrollbarYEnabledChange:M,onCornerWidthChange:E,onCornerHeightChange:D,getStyles:a},children:b.jsx(re,{...i,ref:I,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${S}px`,"--sa-corner-height":o!=="xy"?"0px":`${R}px`}})})});vN.displayName="@mantine/core/ScrollAreaRoot";function gN(e,t){const n=e/t;return Number.isNaN(n)?0:n}function ev(e){const t=gN(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function yN(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function v6(e,[t,n]){return Math.min(n,Math.max(t,e))}function R_(e,t,n="ltr"){const r=ev(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,i=t.content-t.viewport,s=a-r,u=n==="ltr"?[0,i]:[i*-1,0],c=v6(e,u);return yN([0,i],[0,s])(c)}function g6(e,t,n,r="ltr"){const o=ev(n),a=o/2,i=t||a,s=o-i,u=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return yN([u,c],h)(e)}function bN(e,t){return e>0&&e<t}function rs(e){return e?parseInt(e,10):0}function rl(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e?.(r),(n===!1||!r.defaultPrevented)&&t?.(r)}}const[y6,xN]=Oo("ScrollAreaScrollbar was not found in tree"),wN=_.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:i,onThumbPositionChange:s,onDragScroll:u,onWheelScroll:c,onResize:f,...h}=e,m=jo(),[v,y]=_.useState(null),x=On(t,M=>y(M)),w=_.useRef(null),S=_.useRef(""),{viewport:E}=m,R=n.content-n.viewport,D=Xs(c),A=Xs(s),N=Vm(f,10),k=M=>{if(w.current){const I=M.clientX-w.current.left,O=M.clientY-w.current.top;u({x:I,y:O})}};return _.useEffect(()=>{const M=I=>{const O=I.target;v?.contains(O)&&D(I,R)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[E,v,R,D]),_.useEffect(A,[n,A]),Vu(v,N),Vu(m.content,N),b.jsx(y6,{value:{scrollbar:v,hasThumb:r,onThumbChange:Xs(o),onThumbPointerUp:Xs(a),onThumbPositionChange:A,onThumbPointerDown:Xs(i)},children:b.jsx("div",{...h,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...h.style},onPointerDown:rl(e.onPointerDown,M=>{M.preventDefault(),M.button===0&&(M.target.setPointerCapture(M.pointerId),w.current=v.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k(M))}),onPointerMove:rl(e.onPointerMove,k),onPointerUp:rl(e.onPointerUp,M=>{const I=M.target;I.hasPointerCapture(M.pointerId)&&(M.preventDefault(),I.releasePointerCapture(M.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=S.current,w.current=null}})})}),SN=_.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...a}=e,i=jo(),[s,u]=_.useState(),c=_.useRef(null),f=On(t,c,i.onScrollbarXChange);return _.useEffect(()=>{c.current&&u(getComputedStyle(c.current))},[c]),b.jsx(wN,{"data-orientation":"horizontal",...a,ref:f,sizes:n,style:{...o,"--sa-thumb-width":`${ev(n)}px`},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const v=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(v),bN(v,m)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:rs(s.paddingLeft),paddingEnd:rs(s.paddingRight)}})}})});SN.displayName="@mantine/core/ScrollAreaScrollbarX";const CN=_.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:o,...a}=e,i=jo(),[s,u]=_.useState(),c=_.useRef(null),f=On(t,c,i.onScrollbarYChange);return _.useEffect(()=>{c.current&&u(window.getComputedStyle(c.current))},[]),b.jsx(wN,{...a,"data-orientation":"vertical",ref:f,sizes:n,style:{"--sa-thumb-height":`${ev(n)}px`,...o},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const v=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(v),bN(v,m)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:rs(s.paddingTop),paddingEnd:rs(s.paddingBottom)}})}})});CN.displayName="@mantine/core/ScrollAreaScrollbarY";const tv=_.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:o}=xf(),a=jo(),i=_.useRef(null),s=_.useRef(0),[u,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=gN(u.viewport,u.content),h={...r,sizes:u,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:v=>{i.current=v},onThumbPointerUp:()=>{s.current=0},onThumbPointerDown:v=>{s.current=v}},m=(v,y)=>g6(v,s.current,u,y);return n==="horizontal"?b.jsx(SN,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const v=a.viewport.scrollLeft,y=R_(v,u,o);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=m(v,o))}}):n==="vertical"?b.jsx(CN,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const v=a.viewport.scrollTop,y=R_(v,u);u.scrollbar.size===0?i.current.style.setProperty("--thumb-opacity","0"):i.current.style.setProperty("--thumb-opacity","1"),i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=m(v))}}):null});tv.displayName="@mantine/core/ScrollAreaScrollbarVisible";const p1=_.forwardRef((e,t)=>{const n=jo(),{forceMount:r,...o}=e,[a,i]=_.useState(!1),s=e.orientation==="horizontal",u=Vm(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(s?c:f)}},10);return Vu(n.viewport,u),Vu(n.content,u),r||a?b.jsx(tv,{"data-state":a?"visible":"hidden",...o,ref:t}):null});p1.displayName="@mantine/core/ScrollAreaScrollbarAuto";const EN=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jo(),[a,i]=_.useState(!1);return _.useEffect(()=>{const{scrollArea:s}=o;let u=0;if(s){const c=()=>{window.clearTimeout(u),i(!0)},f=()=>{u=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),n||a?b.jsx(p1,{"data-state":a?"visible":"hidden",...r,ref:t}):null});EN.displayName="@mantine/core/ScrollAreaScrollbarHover";const b6=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jo(),a=e.orientation==="horizontal",[i,s]=_.useState("hidden"),u=Vm(()=>s("idle"),100);return _.useEffect(()=>{if(i==="idle"){const c=window.setTimeout(()=>s("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[i,o.scrollHideDelay]),_.useEffect(()=>{const{viewport:c}=o,f=a?"scrollLeft":"scrollTop";if(c){let h=c[f];const m=()=>{const v=c[f];h!==v&&(s("scrolling"),u()),h=v};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[o.viewport,a,u]),n||i!=="hidden"?b.jsx(tv,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:rl(e.onPointerEnter,()=>s("interacting")),onPointerLeave:rl(e.onPointerLeave,()=>s("idle"))}):null}),X0=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=jo(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,s=e.orientation==="horizontal";return _.useEffect(()=>(s?a(!0):i(!0),()=>{s?a(!1):i(!1)}),[s,a,i]),o.type==="hover"?b.jsx(EN,{...r,ref:t,forceMount:n}):o.type==="scroll"?b.jsx(b6,{...r,ref:t,forceMount:n}):o.type==="auto"?b.jsx(p1,{...r,ref:t,forceMount:n}):o.type==="always"?b.jsx(tv,{...r,ref:t}):null});X0.displayName="@mantine/core/ScrollAreaScrollbar";function x6(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,s=n.top!==a.top;(i||s)&&t(),n=a,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)}const RN=_.forwardRef((e,t)=>{const{style:n,...r}=e,o=jo(),a=xN(),{onThumbPositionChange:i}=a,s=On(t,f=>a.onThumbChange(f)),u=_.useRef(void 0),c=Vm(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const{viewport:f}=o;if(f){const h=()=>{if(c(),!u.current){const m=x6(f,i);u.current=m,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,c,i]),b.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...r,ref:s,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:rl(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,y=f.clientY-m.top;a.onThumbPointerDown({x:v,y})}),onPointerUp:rl(e.onPointerUp,a.onThumbPointerUp)})});RN.displayName="@mantine/core/ScrollAreaThumb";const Y0=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=xN();return n||o.hasThumb?b.jsx(RN,{ref:t,...r}):null});Y0.displayName="@mantine/core/ScrollAreaThumb";const _N=_.forwardRef(({children:e,style:t,...n},r)=>{const o=jo(),a=On(r,o.onViewportChange);return b.jsx(re,{...n,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t},children:b.jsx("div",{...o.getStyles("content"),ref:o.onContentChange,children:e})})});_N.displayName="@mantine/core/ScrollAreaViewport";var m1={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const TN={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},w6=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":xe(t),"--scrollarea-over-scroll-behavior":n}}),ho=Me((e,t)=>{const n=Ce("ScrollArea",TN,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,scrollbarSize:u,vars:c,type:f,scrollHideDelay:h,viewportProps:m,viewportRef:v,onScrollPositionChange:y,children:x,offsetScrollbars:w,scrollbars:S,onBottomReached:E,onTopReached:R,overscrollBehavior:D,attributes:A,...N}=n,[k,M]=_.useState(!1),[I,O]=_.useState(!1),[L,F]=_.useState(!1),X=et({name:"ScrollArea",props:n,classes:m1,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:A,vars:c,varsResolver:w6}),W=_.useRef(null),Y=iN([v,W]);return _.useEffect(()=>{if(!W.current||w!=="present")return;const B=W.current,V=new ResizeObserver(()=>{const{scrollHeight:U,clientHeight:$,scrollWidth:j,clientWidth:G}=B;O(U>$),F(j>G)});return V.observe(B),()=>V.disconnect()},[W,w]),b.jsxs(vN,{getStyles:X,type:f==="never"?"always":f,scrollHideDelay:h,ref:t,scrollbars:S,...X("root"),...N,children:[b.jsx(_N,{...m,...X("viewport",{style:m?.style}),ref:Y,"data-offset-scrollbars":w===!0?"xy":w||void 0,"data-scrollbars":S||void 0,"data-horizontal-hidden":w==="present"&&!L?"true":void 0,"data-vertical-hidden":w==="present"&&!I?"true":void 0,onScroll:B=>{m?.onScroll?.(B),y?.({x:B.currentTarget.scrollLeft,y:B.currentTarget.scrollTop});const{scrollTop:V,scrollHeight:U,clientHeight:$}=B.currentTarget;V-(U-$)>=-.6&&E?.(),V===0&&R?.()},children:x}),(S==="xy"||S==="x")&&b.jsx(X0,{...X("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||w==="present"&&!L?!0:void 0,forceMount:!0,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:b.jsx(Y0,{...X("thumb")})}),(S==="xy"||S==="y")&&b.jsx(X0,{...X("scrollbar"),orientation:"vertical","data-hidden":f==="never"||w==="present"&&!I?!0:void 0,forceMount:!0,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:b.jsx(Y0,{...X("thumb")})}),b.jsx(p6,{...X("corner"),"data-hovered":k||void 0,"data-hidden":f==="never"||void 0})]})});ho.displayName="@mantine/core/ScrollArea";const v1=Me((e,t)=>{const{children:n,classNames:r,styles:o,scrollbarSize:a,scrollHideDelay:i,type:s,dir:u,offsetScrollbars:c,viewportRef:f,onScrollPositionChange:h,unstyled:m,variant:v,viewportProps:y,scrollbars:x,style:w,vars:S,onBottomReached:E,onTopReached:R,onOverflowChange:D,...A}=Ce("ScrollAreaAutosize",TN,e),N=_.useRef(null),k=iN([f,N]),[M,I]=_.useState(!1),O=_.useRef(!1);return _.useEffect(()=>{if(!D)return;const L=N.current;if(!L)return;const F=()=>{const W=L.scrollHeight>L.clientHeight;W!==M&&(O.current?D?.(W):(O.current=!0,W&&D?.(!0)),I(W))};F();const X=new ResizeObserver(F);return X.observe(L),()=>X.disconnect()},[D,M]),b.jsx(re,{...A,ref:t,style:[{display:"flex",overflow:"hidden"},w],children:b.jsx(re,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...x==="y"&&{minWidth:0},...x==="x"&&{minHeight:0},...x==="xy"&&{minWidth:0,minHeight:0},...x===!1&&{minWidth:0,minHeight:0}},children:b.jsx(ho,{classNames:r,styles:o,scrollHideDelay:i,scrollbarSize:a,type:s,dir:u,offsetScrollbars:c,viewportRef:k,onScrollPositionChange:h,unstyled:m,variant:v,viewportProps:y,vars:S,scrollbars:x,onBottomReached:E,onTopReached:R,"data-autosize":"true",children:n})})})});ho.classes=m1;v1.displayName="@mantine/core/ScrollAreaAutosize";v1.classes=m1;ho.Autosize=v1;var DN={root:"m_87cf2631"};const S6={__staticSelector:"UnstyledButton"},Qo=Rr((e,t)=>{const n=Ce("UnstyledButton",S6,e),{className:r,component:o="button",__staticSelector:a,unstyled:i,classNames:s,styles:u,style:c,attributes:f,...h}=n,m=et({name:a,props:n,classes:DN,className:r,style:c,classNames:s,styles:u,unstyled:i,attributes:f});return b.jsx(re,{...m("root",{focusable:!0}),component:o,ref:t,type:o==="button"?"button":void 0,...h})});Qo.classes=DN;Qo.displayName="@mantine/core/UnstyledButton";var AN={root:"m_515a97f8"};const g1=Me((e,t)=>{const n=Ce("VisuallyHidden",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,attributes:c,...f}=n,h=et({name:"VisuallyHidden",classes:AN,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:c});return b.jsx(re,{component:"span",ref:t,...h("root"),...f})});g1.classes=AN;g1.displayName="@mantine/core/VisuallyHidden";var NN={root:"m_1b7284a3"};const C6=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:hn(t),"--paper-shadow":Yx(n)}}),Zo=Rr((e,t)=>{const n=Ce("Paper",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,withBorder:u,vars:c,radius:f,shadow:h,variant:m,mod:v,attributes:y,...x}=n,w=et({name:"Paper",props:n,classes:NN,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:y,vars:c,varsResolver:C6});return b.jsx(re,{ref:t,mod:[{"data-with-border":u},v],...w("root"),variant:m,...x})});Zo.classes=NN;Zo.displayName="@mantine/core/Paper";function __(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function T_(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const E6={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function R6({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:a,arrowY:i,dir:s}){const[u,c="center"]=e.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[E6[u]]:r},h=-t/2;return u==="left"?{...f,...__(c,i,n,o),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...f,...__(c,i,n,o),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...f,...T_(c,a,n,o,s),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...f,...T_(c,a,n,o,s),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const tm=_.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,visible:a,arrowX:i,arrowY:s,style:u,...c},f)=>{const{dir:h}=xf();return a?b.jsx("div",{...c,ref:f,style:{...u,...R6({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,dir:h,arrowX:i,arrowY:s})}}):null});tm.displayName="@mantine/core/FloatingArrow";function kN(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}var MN={root:"m_9814e45f"};const _6={zIndex:Er("modal")},T6=(e,{gradient:t,color:n,backgroundOpacity:r,blur:o,radius:a,zIndex:i})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&pa(n||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${xe(o)})`:void 0,"--overlay-radius":a===void 0?void 0:hn(a),"--overlay-z-index":i?.toString()}}),nv=Rr((e,t)=>{const n=Ce("Overlay",_6,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,fixed:c,center:f,children:h,radius:m,zIndex:v,gradient:y,blur:x,color:w,backgroundOpacity:S,mod:E,attributes:R,...D}=n,A=et({name:"Overlay",props:n,classes:MN,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:R,vars:u,varsResolver:T6});return b.jsx(re,{ref:t,...A("root"),mod:[{center:f,fixed:c},E],...D,children:h})});nv.classes=MN;nv.displayName="@mantine/core/Overlay";function Lb(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function D6({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||Lb(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const o=Lb(n);return o.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(o),o}return Lb(n)}const A6={reuseTargetNode:!0},IN=Me((e,t)=>{const{children:n,target:r,reuseTargetNode:o,...a}=Ce("Portal",A6,e),[i,s]=_.useState(!1),u=_.useRef(null);return Zu(()=>(s(!0),u.current=D6({target:r,reuseTargetNode:o,...a}),zd(t,u.current),!r&&!o&&u.current&&document.body.appendChild(u.current),()=>{!r&&!o&&u.current&&document.body.removeChild(u.current)}),[r]),!i||!u.current?null:ec.createPortal(b.jsx(b.Fragment,{children:n}),u.current)});IN.displayName="@mantine/core/Portal";const ms=Me(({withinPortal:e=!0,children:t,...n},r)=>qm()==="test"||!e?b.jsx(b.Fragment,{children:t}):b.jsx(IN,{ref:r,...n,children:t}));ms.displayName="@mantine/core/OptionalPortal";const wd=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),sp={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...wd("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...wd("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...wd("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...wd("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...wd("top"),common:{transformOrigin:"top right"}}},D_={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function N6({transition:e,state:t,duration:n,timingFunction:r}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in sp?{transitionProperty:sp[e].transitionProperty,...o,...sp[e].common,...sp[e][D_[t]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[D_[t]]}}function k6({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:a,onEntered:i,onExited:s,enterDelay:u,exitDelay:c}){const f=vr(),h=Hm(),m=f.respectReducedMotion?h:!1,[v,y]=_.useState(m?0:e),[x,w]=_.useState(r?"entered":"exited"),S=_.useRef(-1),E=_.useRef(-1),R=_.useRef(-1);function D(){window.clearTimeout(S.current),window.clearTimeout(E.current),cancelAnimationFrame(R.current)}const A=k=>{D();const M=k?o:a,I=k?i:s,O=m?0:k?e:t;y(O),O===0?(typeof M=="function"&&M(),typeof I=="function"&&I(),w(k?"entered":"exited")):R.current=requestAnimationFrame(()=>{Ru.flushSync(()=>{w(k?"pre-entering":"pre-exiting")}),R.current=requestAnimationFrame(()=>{typeof M=="function"&&M(),w(k?"entering":"exiting"),S.current=window.setTimeout(()=>{typeof I=="function"&&I(),w(k?"entered":"exited")},O)})})},N=k=>{if(D(),typeof(k?u:c)!="number"){A(k);return}E.current=window.setTimeout(()=>{A(k)},k?u:c)};return ss(()=>{N(r)},[r]),_.useEffect(()=>()=>{D()},[]),{transitionDuration:v,transitionStatus:x,transitionTimingFunction:n||"ease"}}function fi({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:o,children:a,timingFunction:i="ease",onExit:s,onEntered:u,onEnter:c,onExited:f,enterDelay:h,exitDelay:m}){const v=qm(),{transitionDuration:y,transitionStatus:x,transitionTimingFunction:w}=k6({mounted:o,exitDuration:r,duration:n,timingFunction:i,onExit:s,onEntered:u,onEnter:c,onExited:f,enterDelay:h,exitDelay:m});return y===0||v==="test"?o?b.jsx(b.Fragment,{children:a({})}):e?a({display:"none"}):null:x==="exited"?e?a({display:"none"}):null:b.jsx(b.Fragment,{children:a(N6({transition:t,duration:y,state:x,timingFunction:w}))})}fi.displayName="@mantine/core/Transition";const[M6,ON]=Oo("Popover component was not found in the tree");function rv({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const o=aF(t),a=On(o,r);return ys(e)?_.cloneElement(e,{[n]:a}):e}function PN(e){return b.jsx(g1,{tabIndex:-1,"data-autofocus":!0,...e})}rv.displayName="@mantine/core/FocusTrap";PN.displayName="@mantine/core/FocusTrapInitialFocus";rv.InitialFocus=PN;var jN={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const y1=Me((e,t)=>{const n=Ce("PopoverDropdown",null,e),{className:r,style:o,vars:a,children:i,onKeyDownCapture:s,variant:u,classNames:c,styles:f,...h}=n,m=ON(),v=_A({opened:m.opened,shouldReturnFocus:m.returnFocus}),y=m.withRoles?{"aria-labelledby":m.getTargetId(),id:m.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=On(t,m.floating);return m.disabled?null:b.jsx(ms,{...m.portalProps,withinPortal:m.withinPortal,children:b.jsx(fi,{mounted:m.opened,...m.transitionProps,transition:m.transitionProps?.transition||"fade",duration:m.transitionProps?.duration??150,keepMounted:m.keepMounted,exitDuration:typeof m.transitionProps?.exitDuration=="number"?m.transitionProps.exitDuration:m.transitionProps?.duration,children:w=>b.jsx(rv,{active:m.trapFocus&&m.opened,innerRef:x,children:b.jsxs(re,{...y,...h,variant:u,onKeyDownCapture:WB(()=>{m.onClose?.(),m.onDismiss?.()},{active:m.closeOnEscape,onTrigger:v,onKeyDown:s}),"data-position":m.placement,"data-fixed":m.floatingStrategy==="fixed"||void 0,...m.getStyles("dropdown",{className:r,props:n,classNames:c,styles:f,style:[{...w,zIndex:m.zIndex,top:m.y??0,left:m.x??0,width:m.width==="target"?void 0:xe(m.width),...m.referenceHidden?{display:"none"}:null},m.resolvedStyles.dropdown,f?.dropdown,o]}),children:[i,b.jsx(tm,{ref:m.arrowRef,arrowX:m.arrowX,arrowY:m.arrowY,visible:m.withArrow,position:m.placement,arrowSize:m.arrowSize,arrowRadius:m.arrowRadius,arrowOffset:m.arrowOffset,arrowPosition:m.arrowPosition,...m.getStyles("arrow",{props:n,classNames:c,styles:f})})]})})})})});y1.classes=jN;y1.displayName="@mantine/core/PopoverDropdown";const I6={refProp:"ref",popupType:"dialog"},BN=Me((e,t)=>{const{children:n,refProp:r,popupType:o,...a}=Ce("PopoverTarget",I6,e);if(!ys(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=a,s=ON(),u=On(s.reference,Wm(n),t),c=s.withRoles?{"aria-haspopup":o,"aria-expanded":s.opened,"aria-controls":s.getDropdownId(),id:s.getTargetId()}:{};return _.cloneElement(n,{...i,...c,...s.targetProps,className:kn(s.targetProps.className,i.className,n.props.className),[r]:u,...s.controlled?null:{onClick:()=>{s.onToggle(),n.props.onClick?.()}}})});BN.displayName="@mantine/core/PopoverTarget";function O6(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function P6(e,t,n){const r=O6(e.middlewares),o=[oN(e.offset),K5()];return e.dropdownVisible&&n!=="test"&&e.preventPositionChangeWhenVisible&&(r.flip=!1,r.shift=!1),r.shift&&o.push(c1(typeof r.shift=="boolean"?{limiter:y_(),padding:5}:{limiter:y_(),padding:5,...r.shift})),r.flip&&o.push(typeof r.flip=="boolean"?em():em(r.flip)),r.inline&&o.push(typeof r.inline=="boolean"?Id():Id(r.inline)),o.push(aN({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&o.push(Y5({...typeof r.size=="boolean"?{}:r.size,apply({rects:a,availableWidth:i,availableHeight:s,...u}){const f=t().refs.floating.current?.style??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:a,availableWidth:i,availableHeight:s,...u}):Object.assign(f,{maxWidth:`${i}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(f,{width:`${a.reference.width}px`})}})),o}function j6(e){const t=qm(),[n,r]=Da({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),o=_.useRef(n),a=()=>{n&&!e.disabled&&r(!1)},i=()=>{e.disabled||r(!n)},s=Zm({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:P6(e,()=>s,t)});return _.useEffect(()=>{if(!(!s.refs.reference.current||!s.refs.floating.current)&&n)return nN(s.refs.reference.current,s.refs.floating.current,s.update)},[n,s.update]),ss(()=>{e.onPositionChange?.(s.placement),e.positionRef.current=s.placement},[s.placement,e.preventPositionChangeWhenVisible]),ss(()=>{n!==o.current&&(n?e.onOpen?.():e.onClose?.()),o.current=n},[n,e.onClose,e.onOpen]),ss(()=>{let u=-1;return n&&(u=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(u)}},[n,e.position]),{floating:s,controlled:typeof e.opened=="boolean",opened:n,onClose:a,onToggle:i}}const B6={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Er("popover"),__staticSelector:"Popover",width:"max-content"},F6=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:hn(t),"--popover-shadow":Yx(n)}});function co(e){const t=Ce("Popover",B6,e),{children:n,position:r,offset:o,onPositionChange:a,positionDependencies:i,opened:s,transitionProps:u,onExitTransitionEnd:c,onEnterTransitionEnd:f,width:h,middlewares:m,withArrow:v,arrowSize:y,arrowOffset:x,arrowRadius:w,arrowPosition:S,unstyled:E,classNames:R,styles:D,closeOnClickOutside:A,withinPortal:N,portalProps:k,closeOnEscape:M,clickOutsideEvents:I,trapFocus:O,onClose:L,onDismiss:F,onOpen:X,onChange:W,zIndex:Y,radius:B,shadow:V,id:U,defaultOpened:$,__staticSelector:j,withRoles:G,disabled:Q,returnFocus:te,variant:de,keepMounted:we,vars:ie,floatingStrategy:oe,withOverlay:ve,overlayProps:pe,hideDetached:Oe,attributes:je,preventPositionChangeWhenVisible:Pe,...Te}=t,Je=et({name:j,props:t,classes:jN,classNames:R,styles:D,unstyled:E,attributes:je,rootSelector:"dropdown",vars:ie,varsResolver:F6}),{resolvedStyles:it}=fl({classNames:R,styles:D,props:t}),[nt,_e]=_.useState(s??$??!1),De=_.useRef(r),ke=_.useRef(null),[Ze,st]=_.useState(null),[Ye,He]=_.useState(null),{dir:qt}=xf(),Ae=qm(),Be=Po(U),rt=j6({middlewares:m,width:h,position:kN(qt,r),offset:typeof o=="number"?o+(v?y/2:0):o,arrowRef:ke,arrowOffset:x,onPositionChange:a,positionDependencies:i,opened:s,defaultOpened:$,onChange:W,onOpen:X,onClose:L,onDismiss:F,strategy:oe,dropdownVisible:nt,setDropdownVisible:_e,positionRef:De,disabled:Q,preventPositionChangeWhenVisible:Pe,keepMounted:we});KB(()=>{A&&(rt.onClose(),F?.())},I,[Ze,Ye]);const kt=_.useCallback(Jt=>{st(Jt),rt.floating.refs.setReference(Jt)},[rt.floating.refs.setReference]),Rt=_.useCallback(Jt=>{He(Jt),rt.floating.refs.setFloating(Jt)},[rt.floating.refs.setFloating]),jn=_.useCallback(()=>{u?.onExited?.(),c?.(),_e(!1),De.current=r},[u?.onExited,c]),zt=_.useCallback(()=>{u?.onEntered?.(),f?.()},[u?.onEntered,f]);return b.jsxs(M6,{value:{returnFocus:te,disabled:Q,controlled:rt.controlled,reference:kt,floating:Rt,x:rt.floating.x,y:rt.floating.y,arrowX:rt.floating?.middlewareData?.arrow?.x,arrowY:rt.floating?.middlewareData?.arrow?.y,opened:rt.opened,arrowRef:ke,transitionProps:{...u,onExited:jn,onEntered:zt},width:h,withArrow:v,arrowSize:y,arrowOffset:x,arrowRadius:w,arrowPosition:S,placement:rt.floating.placement,trapFocus:O,withinPortal:N,portalProps:k,zIndex:Y,radius:B,shadow:V,closeOnEscape:M,onDismiss:F,onClose:rt.onClose,onToggle:rt.onToggle,getTargetId:()=>`${Be}-target`,getDropdownId:()=>`${Be}-dropdown`,withRoles:G,targetProps:Te,__staticSelector:j,classNames:R,styles:D,unstyled:E,variant:de,keepMounted:we,getStyles:Je,resolvedStyles:it,floatingStrategy:oe,referenceHidden:Oe&&Ae!=="test"?rt.floating.middlewareData.hide?.referenceHidden:!1},children:[n,ve&&b.jsx(fi,{transition:"fade",mounted:rt.opened,duration:u?.duration||250,exitDuration:u?.exitDuration||250,children:Jt=>b.jsx(ms,{withinPortal:N,children:b.jsx(nv,{...pe,...Je("overlay",{className:pe?.className,style:[Jt,pe?.style]})})})})]})}co.Target=BN;co.Dropdown=y1;co.displayName="@mantine/core/Popover";co.extend=e=>e;var $o={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const FN=_.forwardRef(({className:e,...t},n)=>b.jsxs(re,{component:"span",className:kn($o.barsLoader,e),...t,ref:n,children:[b.jsx("span",{className:$o.bar}),b.jsx("span",{className:$o.bar}),b.jsx("span",{className:$o.bar})]}));FN.displayName="@mantine/core/Bars";const LN=_.forwardRef(({className:e,...t},n)=>b.jsxs(re,{component:"span",className:kn($o.dotsLoader,e),...t,ref:n,children:[b.jsx("span",{className:$o.dot}),b.jsx("span",{className:$o.dot}),b.jsx("span",{className:$o.dot})]}));LN.displayName="@mantine/core/Dots";const zN=_.forwardRef(({className:e,...t},n)=>b.jsx(re,{component:"span",className:kn($o.ovalLoader,e),...t,ref:n}));zN.displayName="@mantine/core/Oval";const UN={bars:FN,oval:zN,dots:LN},L6={loaders:UN,type:"oval"},z6=(e,{size:t,color:n})=>({root:{"--loader-size":Et(t,"loader-size"),"--loader-color":n?Dn(n,e):void 0}}),ea=Me((e,t)=>{const n=Ce("Loader",L6,e),{size:r,color:o,type:a,vars:i,className:s,style:u,classNames:c,styles:f,unstyled:h,loaders:m,variant:v,children:y,attributes:x,...w}=n,S=et({name:"Loader",props:n,classes:$o,className:s,style:u,classNames:c,styles:f,unstyled:h,attributes:x,vars:i,varsResolver:z6});return y?b.jsx(re,{...S("root"),ref:t,...w,children:y}):b.jsx(re,{...S("root"),ref:t,component:m[a],variant:v,size:r,...w})});ea.defaultLoaders=UN;ea.classes=$o;ea.displayName="@mantine/core/Loader";var rc={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const A_={orientation:"horizontal"},U6=(e,{borderWidth:t})=>({group:{"--ai-border-width":xe(t)}}),b1=Me((e,t)=>{const n=Ce("ActionIconGroup",A_,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,orientation:u,vars:c,borderWidth:f,variant:h,mod:m,attributes:v,...y}=Ce("ActionIconGroup",A_,e),x=et({name:"ActionIconGroup",props:n,classes:rc,className:r,style:o,classNames:a,styles:i,unstyled:s,attributes:v,vars:c,varsResolver:U6,rootSelector:"group"});return b.jsx(re,{...x("group"),ref:t,variant:h,mod:[{"data-orientation":u},m],role:"group",...y})});b1.classes=rc;b1.displayName="@mantine/core/ActionIconGroup";const V6=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:a,size:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{groupSection:{"--section-height":Et(i,"section-height"),"--section-padding-x":Et(i,"section-padding-x"),"--section-fz":Vn(i),"--section-radius":t===void 0?void 0:hn(t),"--section-bg":n||o?s.background:void 0,"--section-color":s.color,"--section-bd":n||o?s.border:void 0}}},x1=Me((e,t)=>{const n=Ce("ActionIconGroupSection",null,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,vars:u,variant:c,gradient:f,radius:h,autoContrast:m,attributes:v,...y}=n,x=et({name:"ActionIconGroupSection",props:n,classes:rc,className:r,style:o,classNames:a,styles:i,unstyled:s,attributes:v,vars:u,varsResolver:V6,rootSelector:"groupSection"});return b.jsx(re,{...x("groupSection"),ref:t,variant:c,...y})});x1.classes=rc;x1.displayName="@mantine/core/ActionIconGroupSection";const H6=(e,{size:t,radius:n,variant:r,gradient:o,color:a,autoContrast:i})=>{const s=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:i});return{root:{"--ai-size":Et(t,"ai-size"),"--ai-radius":n===void 0?void 0:hn(n),"--ai-bg":a||r?s.background:void 0,"--ai-hover":a||r?s.hover:void 0,"--ai-hover-color":a||r?s.hoverColor:void 0,"--ai-color":s.color,"--ai-bd":a||r?s.border:void 0}}},Cn=Rr((e,t)=>{const n=Ce("ActionIcon",null,e),{className:r,unstyled:o,variant:a,classNames:i,styles:s,style:u,loading:c,loaderProps:f,size:h,color:m,radius:v,__staticSelector:y,gradient:x,vars:w,children:S,disabled:E,"data-disabled":R,autoContrast:D,mod:A,attributes:N,...k}=n,M=et({name:["ActionIcon",y],props:n,className:r,style:u,classes:rc,classNames:i,styles:s,unstyled:o,attributes:N,vars:w,varsResolver:H6});return b.jsxs(Qo,{...M("root",{active:!E&&!c&&!R}),...k,unstyled:o,variant:a,size:h,disabled:E||c,ref:t,mod:[{loading:c,disabled:E||R},A],children:[typeof c=="boolean"&&b.jsx(fi,{mounted:c,transition:"slide-down",duration:150,children:I=>b.jsx(re,{component:"span",...M("loader",{style:I}),"aria-hidden":!0,children:b.jsx(ea,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),b.jsx(re,{component:"span",mod:{loading:c},...M("icon"),children:S})]})});Cn.classes=rc;Cn.displayName="@mantine/core/ActionIcon";Cn.Group=b1;Cn.GroupSection=x1;const VN=_.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));VN.displayName="@mantine/core/CloseIcon";var HN={root:"m_86a44da5","root--subtle":"m_220c80f2"};const W6={variant:"subtle"},$6=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":Et(t,"cb-size"),"--cb-radius":n===void 0?void 0:hn(n),"--cb-icon-size":xe(r)}}),hl=Rr((e,t)=>{const n=Ce("CloseButton",W6,e),{iconSize:r,children:o,vars:a,radius:i,className:s,classNames:u,style:c,styles:f,unstyled:h,"data-disabled":m,disabled:v,variant:y,icon:x,mod:w,attributes:S,__staticSelector:E,...R}=n,D=et({name:E||"CloseButton",props:n,className:s,style:c,classes:HN,classNames:u,styles:f,unstyled:h,attributes:S,vars:a,varsResolver:$6});return b.jsxs(Qo,{ref:t,...R,unstyled:h,variant:y,disabled:v,mod:[{disabled:v||m},w],...D("root",{variant:y,active:!v&&!m}),children:[x||b.jsx(VN,{}),o]})});hl.classes=HN;hl.displayName="@mantine/core/CloseButton";function G6(e){return _.Children.toArray(e).filter(Boolean)}var WN={root:"m_4081bf90"};const q6={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},X6=(e,{grow:t,preventGrowOverflow:n,gap:r,align:o,justify:a,wrap:i},{childWidth:s})=>({root:{"--group-child-width":t&&n?s:void 0,"--group-gap":fr(r),"--group-align":o,"--group-justify":a,"--group-wrap":i}}),$e=Me((e,t)=>{const n=Ce("Group",q6,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,children:u,gap:c,align:f,justify:h,wrap:m,grow:v,preventGrowOverflow:y,vars:x,variant:w,__size:S,mod:E,attributes:R,...D}=n,A=G6(u),N=A.length,k=fr(c??"md"),I={childWidth:`calc(${100/N}% - (${k} - ${k} / ${N}))`},O=et({name:"Group",props:n,stylesCtx:I,className:o,style:a,classes:WN,classNames:r,styles:i,unstyled:s,attributes:R,vars:x,varsResolver:X6});return b.jsx(re,{...O("root"),ref:t,variant:w,mod:[{grow:v},E],size:S,...D,children:A})});$e.classes=WN;$e.displayName="@mantine/core/Group";const[Y6,mi]=Oo("ModalBase component was not found in tree");function K6({opened:e,transitionDuration:t}){const[n,r]=_.useState(e),o=_.useRef(-1),i=Hm()?0:t;return _.useEffect(()=>(e?(r(!0),window.clearTimeout(o.current)):i===0?r(!1):o.current=window.setTimeout(()=>r(!1),i),()=>window.clearTimeout(o.current)),[e,i]),n}function Q6({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:o,onClose:a,returnFocus:i}){const s=Po(e),[u,c]=_.useState(!1),[f,h]=_.useState(!1),m=typeof t?.duration=="number"?t?.duration:200,v=K6({opened:n,transitionDuration:m});return cF("keydown",y=>{y.key==="Escape"&&o&&!y.isComposing&&n&&y.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&a()},{capture:!0}),_A({opened:n,shouldReturnFocus:r&&i}),{_id:s,titleMounted:u,bodyMounted:f,shouldLockScroll:v,setTitleMounted:c,setBodyMounted:h}}const w1=_.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:o,onExitTransitionEnd:a,onEnterTransitionEnd:i,trapFocus:s,closeOnEscape:u,returnFocus:c,closeOnClickOutside:f,withinPortal:h,portalProps:m,lockScroll:v,children:y,zIndex:x,shadow:w,padding:S,__vars:E,unstyled:R,removeScrollProps:D,...A},N)=>{const{_id:k,titleMounted:M,bodyMounted:I,shouldLockScroll:O,setTitleMounted:L,setBodyMounted:F}=Q6({id:r,transitionProps:o,opened:t,trapFocus:s,closeOnEscape:u,onClose:n,returnFocus:c}),{key:X,...W}=D||{};return b.jsx(ms,{...m,withinPortal:h,children:b.jsx(Y6,{value:{opened:t,onClose:n,closeOnClickOutside:f,onExitTransitionEnd:a,onEnterTransitionEnd:i,transitionProps:{...o,keepMounted:e},getTitleId:()=>`${k}-title`,getBodyId:()=>`${k}-body`,titleMounted:M,bodyMounted:I,setTitleMounted:L,setBodyMounted:F,trapFocus:s,closeOnEscape:u,zIndex:x,unstyled:R},children:b.jsx(Xp,{enabled:O&&v,...W,children:b.jsx(re,{ref:N,...A,__vars:{...E,"--mb-z-index":(x||Er("modal")).toString(),"--mb-shadow":Yx(w),"--mb-padding":fr(S)},children:y})},X)})})});w1.displayName="@mantine/core/ModalBase";function J6(){const e=mi();return _.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Hu={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const S1=_.forwardRef(({className:e,...t},n)=>{const r=J6(),o=mi();return b.jsx(re,{ref:n,...t,id:r,className:kn({[Hu.body]:!o.unstyled},e)})});S1.displayName="@mantine/core/ModalBaseBody";const C1=_.forwardRef(({className:e,onClick:t,...n},r)=>{const o=mi();return b.jsx(hl,{ref:r,...n,onClick:a=>{o.onClose(),t?.(a)},className:kn({[Hu.close]:!o.unstyled},e),unstyled:o.unstyled})});C1.displayName="@mantine/core/ModalBaseCloseButton";const E1=_.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:o,...a},i)=>{const s=mi();return b.jsx(fi,{mounted:s.opened,transition:"pop",...s.transitionProps,onExited:()=>{s.onExitTransitionEnd?.(),s.transitionProps?.onExited?.()},onEntered:()=>{s.onEnterTransitionEnd?.(),s.transitionProps?.onEntered?.()},...e,children:u=>b.jsx("div",{...n,className:kn({[Hu.inner]:!s.unstyled},n.className),children:b.jsx(rv,{active:s.opened&&s.trapFocus,innerRef:i,children:b.jsx(Zo,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":s.bodyMounted?s.getBodyId():void 0,"aria-labelledby":s.titleMounted?s.getTitleId():void 0,style:[o,u],className:kn({[Hu.content]:!s.unstyled},t),unstyled:s.unstyled,children:a.children})})})})});E1.displayName="@mantine/core/ModalBaseContent";const R1=_.forwardRef(({className:e,...t},n)=>{const r=mi();return b.jsx(re,{component:"header",ref:n,className:kn({[Hu.header]:!r.unstyled},e),...t})});R1.displayName="@mantine/core/ModalBaseHeader";const Z6={duration:200,timingFunction:"ease",transition:"fade"};function ez(e){const t=mi();return{...Z6,...t.transitionProps,...e}}const _1=_.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...o},a)=>{const i=mi(),s=ez(t);return b.jsx(fi,{mounted:r!==void 0?r:i.opened,...s,transition:"fade",children:u=>b.jsx(nv,{ref:a,fixed:!0,style:[n,u],zIndex:i.zIndex,unstyled:i.unstyled,onClick:c=>{e?.(c),i.closeOnClickOutside&&i.onClose()},...o})})});_1.displayName="@mantine/core/ModalBaseOverlay";function tz(){const e=mi();return _.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const T1=_.forwardRef(({className:e,...t},n)=>{const r=tz(),o=mi();return b.jsx(re,{component:"h2",ref:n,className:kn({[Hu.title]:!o.unstyled},e),...t,id:r})});T1.displayName="@mantine/core/ModalBaseTitle";function $N({children:e}){return b.jsx(b.Fragment,{children:e})}const[nz,rz]=gf({size:"sm"}),GN=Me((e,t)=>{const n=Ce("InputClearButton",null,e),{size:r,variant:o,vars:a,classNames:i,styles:s,...u}=n,c=rz(),{resolvedClassNames:f,resolvedStyles:h}=fl({classNames:i,styles:s,props:n});return b.jsx(hl,{variant:o||"transparent",ref:t,size:r||c?.size||"sm",classNames:f,styles:h,__staticSelector:"InputClearButton",...u})});GN.displayName="@mantine/core/InputClearButton";const[oz,Sf]=gf({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Bo={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const az=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Vn(t)} - ${xe(2)})`}}),ov=Me((e,t)=>{const n=Ce("InputDescription",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,size:c,__staticSelector:f,__inheritStyles:h=!0,attributes:m,variant:v,...y}=Ce("InputDescription",null,n),x=Sf(),w=et({name:["InputWrapper",f],props:n,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:m,rootSelector:"description",vars:u,varsResolver:az}),S=h&&x?.getStyles||w;return b.jsx(re,{component:"p",ref:t,variant:v,size:c,...S("description",x?.getStyles?{className:o,style:a}:void 0),...y})});ov.classes=Bo;ov.displayName="@mantine/core/InputDescription";const iz=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Vn(t)} - ${xe(2)})`}}),av=Me((e,t)=>{const n=Ce("InputError",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,size:c,attributes:f,__staticSelector:h,__inheritStyles:m=!0,variant:v,...y}=n,x=et({name:["InputWrapper",h],props:n,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:f,rootSelector:"error",vars:u,varsResolver:iz}),w=Sf(),S=m&&w?.getStyles||x;return b.jsx(re,{component:"p",ref:t,variant:v,size:c,...S("error",w?.getStyles?{className:o,style:a}:void 0),...y})});av.classes=Bo;av.displayName="@mantine/core/InputError";const N_={labelElement:"label"},sz=(e,{size:t})=>({label:{"--input-label-size":Vn(t),"--input-asterisk-color":void 0}}),iv=Me((e,t)=>{const n=Ce("InputLabel",N_,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,labelElement:c,size:f,required:h,htmlFor:m,onMouseDown:v,children:y,__staticSelector:x,variant:w,mod:S,attributes:E,...R}=Ce("InputLabel",N_,n),D=et({name:["InputWrapper",x],props:n,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:E,rootSelector:"label",vars:u,varsResolver:sz}),A=Sf(),N=A?.getStyles||D;return b.jsxs(re,{...N("label",A?.getStyles?{className:o,style:a}:void 0),component:c,variant:w,size:f,ref:t,htmlFor:c==="label"?m:void 0,mod:[{required:h},S],onMouseDown:k=>{v?.(k),!k.defaultPrevented&&k.detail>1&&k.preventDefault()},...R,children:[y,h&&b.jsx("span",{...N("required"),"aria-hidden":!0,children:" *"})]})});iv.classes=Bo;iv.displayName="@mantine/core/InputLabel";const D1=Me((e,t)=>{const n=Ce("InputPlaceholder",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,__staticSelector:c,variant:f,error:h,mod:m,attributes:v,...y}=n,x=et({name:["InputPlaceholder",c],props:n,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:v,rootSelector:"placeholder"});return b.jsx(re,{...x("placeholder"),mod:[{error:!!h},m],component:"span",variant:f,ref:t,...y})});D1.classes=Bo;D1.displayName="@mantine/core/InputPlaceholder";function lz(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),o=e.slice(0,r),a=e.slice(r+1),i=t&&o.includes("description")||n&&o.includes("error");return{offsetBottom:t&&a.includes("description")||n&&a.includes("error"),offsetTop:i}}const uz={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},cz=(e,{size:t})=>({label:{"--input-label-size":Vn(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Vn(t)} - ${xe(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Vn(t)} - ${xe(2)})`}}),A1=Me((e,t)=>{const n=Ce("InputWrapper",uz,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,size:c,variant:f,__staticSelector:h,inputContainer:m,inputWrapperOrder:v,label:y,error:x,description:w,labelProps:S,descriptionProps:E,errorProps:R,labelElement:D,children:A,withAsterisk:N,id:k,required:M,__stylesApiProps:I,mod:O,attributes:L,...F}=n,X=et({name:["InputWrapper",h],props:I||n,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:L,vars:u,varsResolver:cz}),W={size:c,variant:f,__staticSelector:h},Y=Po(k),B=typeof N=="boolean"?N:M,V=R?.id||`${Y}-error`,U=E?.id||`${Y}-description`,$=Y,j=!!x&&typeof x!="boolean",G=!!w,Q=`${j?V:""} ${G?U:""}`,te=Q.trim().length>0?Q.trim():void 0,de=S?.id||`${Y}-label`,we=y&&b.jsx(iv,{labelElement:D,id:de,htmlFor:$,required:B,...W,...S,children:y},"label"),ie=G&&b.jsx(ov,{...E,...W,size:E?.size||W.size,id:E?.id||U,children:w},"description"),oe=b.jsx(_.Fragment,{children:m(A)},"input"),ve=j&&_.createElement(av,{...R,...W,size:R?.size||W.size,key:"error",id:R?.id||V},x),pe=v.map(Oe=>{switch(Oe){case"label":return we;case"input":return oe;case"description":return ie;case"error":return ve;default:return null}});return b.jsx(oz,{value:{getStyles:X,describedBy:te,inputId:$,labelId:de,...lz(v,{hasDescription:G,hasError:j})},children:b.jsx(re,{ref:t,variant:f,size:c,mod:[{error:!!x},O],...X("root"),...F,children:pe})})});A1.classes=Bo;A1.displayName="@mantine/core/InputWrapper";const dz={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},fz=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Et(t.size,"input-height"),"--input-fz":Vn(t.size),"--input-radius":t.radius===void 0?void 0:hn(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?xe(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?xe(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Et(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),yn=Rr((e,t)=>{const n=Ce("Input",dz,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,required:u,__staticSelector:c,__stylesApiProps:f,size:h,wrapperProps:m,error:v,disabled:y,leftSection:x,leftSectionProps:w,leftSectionWidth:S,rightSection:E,rightSectionProps:R,rightSectionWidth:D,rightSectionPointerEvents:A,leftSectionPointerEvents:N,variant:k,vars:M,pointer:I,multiline:O,radius:L,id:F,withAria:X,withErrorStyles:W,mod:Y,inputSize:B,attributes:V,__clearSection:U,__clearable:$,__defaultRightSection:j,...G}=n,{styleProps:Q,rest:te}=bf(G),de=Sf(),we={offsetBottom:de?.offsetBottom,offsetTop:de?.offsetTop},ie=et({name:["Input",c],props:f||n,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:V,stylesCtx:we,rootSelector:"wrapper",vars:M,varsResolver:fz}),oe=X?{required:u,disabled:y,"aria-invalid":!!v,"aria-describedby":de?.describedBy,id:de?.inputId||F}:{},ve=E||$&&U||j;return b.jsx(nz,{value:{size:h||"sm"},children:b.jsxs(re,{...ie("wrapper"),...Q,...m,mod:[{error:!!v&&W,pointer:I,disabled:y,multiline:O,"data-with-right-section":!!ve,"data-with-left-section":!!x},Y],variant:k,size:h,children:[x&&b.jsx("div",{...w,"data-position":"left",...ie("section",{className:w?.className,style:w?.style}),children:x}),b.jsx(re,{component:"input",...te,...oe,ref:t,required:u,mod:{disabled:y,error:!!v&&W},variant:k,__size:B,...ie("input")}),ve&&b.jsx("div",{...R,"data-position":"right",...ie("section",{className:R?.className,style:R?.style}),children:ve})]})})});yn.classes=Bo;yn.Wrapper=A1;yn.Label=iv;yn.Error=av;yn.Description=ov;yn.Placeholder=D1;yn.ClearButton=GN;yn.displayName="@mantine/core/Input";function hz(e,t,n){const r=Ce(e,t,n),{label:o,description:a,error:i,required:s,classNames:u,styles:c,className:f,unstyled:h,__staticSelector:m,__stylesApiProps:v,errorProps:y,labelProps:x,descriptionProps:w,wrapperProps:S,id:E,size:R,style:D,inputContainer:A,inputWrapperOrder:N,withAsterisk:k,variant:M,vars:I,mod:O,attributes:L,...F}=r,{styleProps:X,rest:W}=bf(F),Y={label:o,description:a,error:i,required:s,classNames:u,className:f,__staticSelector:m,__stylesApiProps:v||r,errorProps:y,labelProps:x,descriptionProps:w,unstyled:h,styles:c,size:R,style:D,inputContainer:A,inputWrapperOrder:N,withAsterisk:k,variant:M,id:E,mod:O,attributes:L,...S};return{...W,classNames:u,styles:c,unstyled:h,wrapperProps:{...Y,...X},inputProps:{required:s,classNames:u,styles:c,unstyled:h,size:R,__staticSelector:m,__stylesApiProps:v||r,error:i,variant:M,id:E,attributes:L}}}const pz={__staticSelector:"InputBase",withAria:!0,size:"sm"},po=Rr((e,t)=>{const{inputProps:n,wrapperProps:r,...o}=hz("InputBase",pz,e);return b.jsx(yn.Wrapper,{...r,children:b.jsx(yn,{...n,...o,ref:t})})});po.classes={...yn.classes,...yn.Wrapper.classes};po.displayName="@mantine/core/InputBase";function mz(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function vz({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const o=_.useRef(-1),[a,i]=_.useState(!1),[s,u]=_.useState(typeof r=="boolean"?r:!1),c=()=>{if(!e||!t||!n.current)return;const v=e.getBoundingClientRect(),y=t.getBoundingClientRect(),x=window.getComputedStyle(e),w=window.getComputedStyle(t),S=rs(x.borderTopWidth)+rs(w.borderTopWidth),E=rs(x.borderLeftWidth)+rs(w.borderLeftWidth),R={top:v.top-y.top-S,left:v.left-y.left-E,width:v.width,height:v.height};n.current.style.transform=`translateY(${R.top}px) translateX(${R.left}px)`,n.current.style.width=`${R.width}px`,n.current.style.height=`${R.height}px`},f=()=>{window.clearTimeout(o.current),n.current&&(n.current.style.transitionDuration="0ms"),c(),o.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},h=_.useRef(null),m=_.useRef(null);return _.useEffect(()=>{if(c(),e)return h.current=new ResizeObserver(f),h.current.observe(e),t&&(m.current=new ResizeObserver(f),m.current.observe(t)),()=>{h.current?.disconnect(),m.current?.disconnect()}},[t,e]),_.useEffect(()=>{if(t){const v=y=>{mz(y.target,t)&&(f(),u(!1))};return t.addEventListener("transitionend",v),()=>{t.removeEventListener("transitionend",v)}}},[t]),mF(()=>{kA()!=="test"&&i(!0)},20,{autoInvoke:!0}),gF(v=>{v.forEach(y=>{y.type==="attributes"&&y.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:a,hidden:s}}var qN={root:"m_96b553a6"};const gz=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),N1=Me((e,t)=>{const n=Ce("FloatingIndicator",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,target:c,parent:f,transitionDuration:h,mod:m,displayAfterTransitionEnd:v,attributes:y,...x}=n,w=et({name:"FloatingIndicator",classes:qN,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:y,vars:u,varsResolver:gz}),S=_.useRef(null),{initialized:E,hidden:R}=vz({target:c,parent:f,ref:S,displayAfterTransitionEnd:v}),D=On(t,S);return!c||!f?null:b.jsx(re,{ref:D,mod:[{initialized:E,hidden:R},m],...w("root"),...x})});N1.displayName="@mantine/core/FloatingIndicator";N1.classes=qN;var XN={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const yz=(e,{radius:t,color:n,variant:r,autoContrast:o})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:o});return{root:{"--alert-radius":t===void 0?void 0:hn(t),"--alert-bg":n||r?a.background:void 0,"--alert-color":a.color,"--alert-bd":n||r?a.border:void 0}}},ai=Me((e,t)=>{const n=Ce("Alert",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,radius:c,color:f,title:h,children:m,id:v,icon:y,withCloseButton:x,onClose:w,closeButtonLabel:S,variant:E,autoContrast:R,attributes:D,...A}=n,N=et({name:"Alert",classes:XN,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:D,vars:u,varsResolver:yz}),k=Po(v),M=h&&`${k}-title`||void 0,I=`${k}-body`;return b.jsx(re,{id:k,...N("root",{variant:E}),variant:E,ref:t,...A,role:"alert","aria-describedby":I,"aria-labelledby":M,children:b.jsxs("div",{...N("wrapper"),children:[y&&b.jsx("div",{...N("icon"),children:y}),b.jsxs("div",{...N("body"),children:[h&&b.jsx("div",{...N("title"),"data-with-close-button":x||void 0,children:b.jsx("span",{id:M,...N("label"),children:h})}),m&&b.jsx("div",{id:I,...N("message"),"data-variant":E,children:m})]}),x&&b.jsx(hl,{...N("closeButton"),onClick:w,variant:"transparent",size:16,iconSize:16,"aria-label":S,unstyled:s})]})})});ai.classes=XN;ai.displayName="@mantine/core/Alert";var YN={root:"m_b6d8b162"};function bz(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const xz={inherit:!1},wz=(e,{variant:t,lineClamp:n,gradient:r,size:o,color:a})=>({root:{"--text-fz":Vn(o),"--text-lh":EA(o),"--text-gradient":t==="gradient"?L0(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":a?Dn(a,e):void 0}}),me=Rr((e,t)=>{const n=Ce("Text",xz,e),{lineClamp:r,truncate:o,inline:a,inherit:i,gradient:s,span:u,__staticSelector:c,vars:f,className:h,style:m,classNames:v,styles:y,unstyled:x,variant:w,mod:S,size:E,attributes:R,...D}=n,A=et({name:["Text",c],props:n,classes:YN,className:h,style:m,classNames:v,styles:y,unstyled:x,attributes:R,vars:f,varsResolver:wz});return b.jsx(re,{...A("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:w,mod:[{"data-truncate":bz(o),"data-line-clamp":typeof r=="number","data-inline":a,"data-inherit":i},S],size:E,...D})});me.classes=YN;me.displayName="@mantine/core/Text";var KN={root:"m_849cf0da"};const Sz={underline:"hover"},sv=Rr((e,t)=>{const{underline:n,className:r,unstyled:o,mod:a,...i}=Ce("Anchor",Sz,e);return b.jsx(me,{component:"a",ref:t,className:kn({[KN.root]:!o},r),...i,mod:[{underline:n},a],__staticSelector:"Anchor",unstyled:o})});sv.classes=KN;sv.displayName="@mantine/core/Anchor";function QN(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>QN(t))}:e}function Cz(e){return e?e.map(t=>QN(t)):[]}function JN(e){return e.reduce((t,n)=>"group"in n?{...t,...JN(n.items)}:(t[n.value]=n,t),{})}var zr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Ez={error:null},Rz=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":Et(t,"combobox-chevron-size"),"--combobox-chevron-color":n?Dn(n,e):void 0}}),k1=Me((e,t)=>{const n=Ce("ComboboxChevron",Ez,e),{size:r,error:o,style:a,className:i,classNames:s,styles:u,unstyled:c,vars:f,mod:h,...m}=n,v=et({name:"ComboboxChevron",classes:zr,props:n,style:a,className:i,classNames:s,styles:u,unstyled:c,vars:f,varsResolver:Rz,rootSelector:"chevron"});return b.jsx(re,{component:"svg",...m,...v("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},h],ref:t,children:b.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});k1.classes=zr;k1.displayName="@mantine/core/ComboboxChevron";const[_z,Fo]=Oo("Combobox component was not found in tree"),ZN=_.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...o},a)=>b.jsx(yn.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:i=>{i.preventDefault(),t?.(i)},onClick:i=>{r(),n?.(i)}}));ZN.displayName="@mantine/core/ComboboxClearButton";const M1=Me((e,t)=>{const{classNames:n,styles:r,className:o,style:a,hidden:i,...s}=Ce("ComboboxDropdown",null,e),u=Fo();return b.jsx(co.Dropdown,{...s,ref:t,role:"presentation","data-hidden":i||void 0,...u.getStyles("dropdown",{className:o,style:a,classNames:n,styles:r})})});M1.classes=zr;M1.displayName="@mantine/core/ComboboxDropdown";const Tz={refProp:"ref"},e3=Me((e,t)=>{const{children:n,refProp:r}=Ce("ComboboxDropdownTarget",Tz,e);if(Fo(),!ys(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return b.jsx(co.Target,{ref:t,refProp:r,children:n})});e3.displayName="@mantine/core/ComboboxDropdownTarget";const I1=Me((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,...s}=Ce("ComboboxEmpty",null,e),u=Fo();return b.jsx(re,{ref:t,...u.getStyles("empty",{className:r,classNames:n,styles:a,style:o}),...s})});I1.classes=zr;I1.displayName="@mantine/core/ComboboxEmpty";function O1({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:o,autoComplete:a}){const i=Fo(),[s,u]=_.useState(null),c=h=>{if(e?.(h),!i.readOnly&&t){if(h.nativeEvent.isComposing)return;if(h.nativeEvent.code==="ArrowDown"&&(h.preventDefault(),i.store.dropdownOpened?u(i.store.selectNextOption()):(i.store.openDropdown("keyboard"),u(i.store.selectActiveOption()),i.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="ArrowUp"&&(h.preventDefault(),i.store.dropdownOpened?u(i.store.selectPreviousOption()):(i.store.openDropdown("keyboard"),u(i.store.selectActiveOption()),i.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="Enter"||h.nativeEvent.code==="NumpadEnter"){if(h.nativeEvent.keyCode===229)return;const m=i.store.getSelectedOptionIndex();i.store.dropdownOpened&&m!==-1?(h.preventDefault(),i.store.clickSelectedOption()):o==="button"&&(h.preventDefault(),i.store.openDropdown("keyboard"))}h.key==="Escape"&&i.store.closeDropdown("keyboard"),h.nativeEvent.code==="Space"&&o==="button"&&(h.preventDefault(),i.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r?!!(i.store.listId&&i.store.dropdownOpened):void 0,"aria-controls":i.store.dropdownOpened&&i.store.listId?i.store.listId:void 0,"aria-activedescendant":i.store.dropdownOpened&&s||void 0,autoComplete:a,"data-expanded":i.store.dropdownOpened||void 0,"data-mantine-stop-propagation":i.store.dropdownOpened||void 0}:{},onKeyDown:c}}const Dz={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},t3=Me((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:i,targetType:s,autoComplete:u,...c}=Ce("ComboboxEventsTarget",Dz,e);if(!ys(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=Fo(),h=O1({targetType:s,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:u});return _.cloneElement(n,{...h,...c,[r]:On(t,f.store.targetRef,Wm(n))})});t3.displayName="@mantine/core/ComboboxEventsTarget";const P1=Me((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,...s}=Ce("ComboboxFooter",null,e),u=Fo();return b.jsx(re,{ref:t,...u.getStyles("footer",{className:r,classNames:n,style:o,styles:a}),...s,onMouseDown:c=>{c.preventDefault()}})});P1.classes=zr;P1.displayName="@mantine/core/ComboboxFooter";const j1=Me((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,children:s,label:u,id:c,...f}=Ce("ComboboxGroup",null,e),h=Fo(),m=Po(c);return b.jsxs(re,{ref:t,role:"group","aria-labelledby":u?m:void 0,...h.getStyles("group",{className:r,classNames:n,style:o,styles:a}),...f,children:[u&&b.jsx("div",{id:m,...h.getStyles("groupLabel",{classNames:n,styles:a}),children:u}),s]})});j1.classes=zr;j1.displayName="@mantine/core/ComboboxGroup";const B1=Me((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,...s}=Ce("ComboboxHeader",null,e),u=Fo();return b.jsx(re,{ref:t,...u.getStyles("header",{className:r,classNames:n,style:o,styles:a}),...s,onMouseDown:c=>{c.preventDefault()}})});B1.classes=zr;B1.displayName="@mantine/core/ComboboxHeader";function n3({value:e,valuesDivider:t=",",...n}){return b.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}n3.displayName="@mantine/core/ComboboxHiddenInput";const F1=Me((e,t)=>{const n=Ce("ComboboxOption",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,onClick:u,id:c,active:f,onMouseDown:h,onMouseOver:m,disabled:v,selected:y,mod:x,...w}=n,S=Fo(),E=_.useId(),R=c||E;return b.jsx(re,{...S.getStyles("option",{className:o,classNames:r,styles:i,style:a}),...w,ref:t,id:R,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":v,"combobox-selected":y},x],role:"option",onClick:D=>{v?D.preventDefault():(S.onOptionSubmit?.(n.value,n),u?.(D))},onMouseDown:D=>{D.preventDefault(),h?.(D)},onMouseOver:D=>{S.resetSelectionOnOptionHover&&S.store.resetSelectedOption(),m?.(D)}})});F1.classes=zr;F1.displayName="@mantine/core/ComboboxOption";const L1=Me((e,t)=>{const n=Ce("ComboboxOptions",null,e),{classNames:r,className:o,style:a,styles:i,id:s,onMouseDown:u,labelledBy:c,...f}=n,h=Fo(),m=Po(s);return _.useEffect(()=>{h.store.setListId(m)},[m]),b.jsx(re,{ref:t,...h.getStyles("options",{className:o,style:a,classNames:r,styles:i}),...f,id:m,role:"listbox","aria-labelledby":c,onMouseDown:v=>{v.preventDefault(),u?.(v)}})});L1.classes=zr;L1.displayName="@mantine/core/ComboboxOptions";const Az={withAriaAttributes:!0,withKeyboardNavigation:!0},z1=Me((e,t)=>{const n=Ce("ComboboxSearch",Az,e),{classNames:r,styles:o,unstyled:a,vars:i,withAriaAttributes:s,onKeyDown:u,withKeyboardNavigation:c,size:f,...h}=n,m=Fo(),v=m.getStyles("search"),y=O1({targetType:"input",withAriaAttributes:s,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return b.jsx(yn,{ref:On(t,m.store.searchRef),classNames:[{input:v.className},r],styles:[{input:v.style},o],size:f||m.size,...y,...h,__staticSelector:"Combobox"})});z1.classes=zr;z1.displayName="@mantine/core/ComboboxSearch";const Nz={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},r3=Me((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:i,targetType:s,autoComplete:u,...c}=Ce("ComboboxTarget",Nz,e);if(!ys(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=Fo(),h=O1({targetType:s,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:n.props.onKeyDown,autoComplete:u}),m=_.cloneElement(n,{...h,...c});return b.jsx(co.Target,{ref:On(t,f.store.targetRef),children:m})});r3.displayName="@mantine/core/ComboboxTarget";function kz(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Mz(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function Iz(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function o3({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:o,loop:a=!0,scrollBehavior:i="instant"}={}){const[s,u]=Da({value:t,defaultValue:e,finalValue:!1,onChange:n}),c=_.useRef(null),f=_.useRef(-1),h=_.useRef(null),m=_.useRef(null),v=_.useRef(-1),y=_.useRef(-1),x=_.useRef(-1),w=_.useCallback((B="unknown")=>{s||(u(!0),o?.(B))},[u,o,s]),S=_.useCallback((B="unknown")=>{s&&(u(!1),r?.(B))},[u,r,s]),E=_.useCallback((B="unknown")=>{s?S(B):w(B)},[S,w,s]),R=_.useCallback(()=>{const B=document.querySelector(`#${c.current} [data-combobox-selected]`);B?.removeAttribute("data-combobox-selected"),B?.removeAttribute("aria-selected")},[]),D=_.useCallback(B=>{const U=document.getElementById(c.current)?.querySelectorAll("[data-combobox-option]");if(!U)return null;const $=B>=U.length?0:B<0?U.length-1:B;return f.current=$,U?.[$]&&!U[$].hasAttribute("data-combobox-disabled")?(R(),U[$].setAttribute("data-combobox-selected","true"),U[$].setAttribute("aria-selected","true"),U[$].scrollIntoView({block:"nearest",behavior:i}),U[$].id):null},[i,R]),A=_.useCallback(()=>{const B=document.querySelector(`#${c.current} [data-combobox-active]`);if(B){const V=document.querySelectorAll(`#${c.current} [data-combobox-option]`),U=Array.from(V).findIndex($=>$===B);return D(U)}return D(0)},[D]),N=_.useCallback(()=>D(Mz(f.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),a)),[D,a]),k=_.useCallback(()=>D(kz(f.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),a)),[D,a]),M=_.useCallback(()=>D(Iz(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[D]),I=_.useCallback((B="selected",V)=>{x.current=window.setTimeout(()=>{const U=document.querySelectorAll(`#${c.current} [data-combobox-option]`),$=Array.from(U).findIndex(j=>j.hasAttribute(`data-combobox-${B}`));f.current=$,V?.scrollIntoView&&U[$]?.scrollIntoView({block:"nearest",behavior:i})},0)},[]),O=_.useCallback(()=>{f.current=-1,R()},[R]),L=_.useCallback(()=>{document.querySelectorAll(`#${c.current} [data-combobox-option]`)?.[f.current]?.click()},[]),F=_.useCallback(B=>{c.current=B},[]),X=_.useCallback(()=>{v.current=window.setTimeout(()=>h.current.focus(),0)},[]),W=_.useCallback(()=>{y.current=window.setTimeout(()=>m.current.focus(),0)},[]),Y=_.useCallback(()=>f.current,[]);return _.useEffect(()=>()=>{window.clearTimeout(v.current),window.clearTimeout(y.current),window.clearTimeout(x.current)},[]),{dropdownOpened:s,openDropdown:w,closeDropdown:S,toggleDropdown:E,selectedOptionIndex:f.current,getSelectedOptionIndex:Y,selectOption:D,selectFirstOption:M,selectActiveOption:A,selectNextOption:N,selectPreviousOption:k,resetSelectedOption:O,updateSelectedOptionIndex:I,listId:c.current,setListId:F,clickSelectedOption:L,searchRef:h,focusSearchInput:X,targetRef:m,focusTarget:W}}const Oz={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},Pz=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Vn(t),"--combobox-option-padding":Et(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:xe(n),"--combobox-option-fz":Vn(t),"--combobox-option-padding":Et(t,"combobox-option-padding")}});function Gt(e){const t=Ce("Combobox",Oz,e),{classNames:n,styles:r,unstyled:o,children:a,store:i,vars:s,onOptionSubmit:u,onClose:c,size:f,dropdownPadding:h,resetSelectionOnOptionHover:m,__staticSelector:v,readOnly:y,attributes:x,...w}=t,S=o3(),E=i||S,R=et({name:v||"Combobox",classes:zr,props:t,classNames:n,styles:r,unstyled:o,attributes:x,vars:s,varsResolver:Pz}),D=()=>{c?.(),E.closeDropdown()};return b.jsx(_z,{value:{getStyles:R,store:E,onOptionSubmit:u,size:f,resetSelectionOnOptionHover:m,readOnly:y},children:b.jsx(co,{opened:E.dropdownOpened,preventPositionChangeWhenVisible:!0,...w,onChange:A=>!A&&D(),withRoles:!1,unstyled:o,children:a})})}const jz=e=>e;Gt.extend=jz;Gt.classes=zr;Gt.displayName="@mantine/core/Combobox";Gt.Target=r3;Gt.Dropdown=M1;Gt.Options=L1;Gt.Option=F1;Gt.Search=z1;Gt.Empty=I1;Gt.Chevron=k1;Gt.Footer=P1;Gt.Header=B1;Gt.EventsTarget=t3;Gt.DropdownTarget=e3;Gt.Group=j1;Gt.ClearButton=ZN;Gt.HiddenInput=n3;var a3={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const Bz=a3,i3=_.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:o,unstyled:a,children:i,label:s,description:u,id:c,disabled:f,error:h,size:m,labelPosition:v="left",bodyElement:y="div",labelElement:x="label",variant:w,style:S,vars:E,mod:R,attributes:D,...A},N)=>{const k=et({name:e,props:t,className:n,style:S,classes:a3,classNames:r,styles:o,unstyled:a,attributes:D});return b.jsx(re,{...k("root"),ref:N,__vars:{"--label-fz":Vn(m),"--label-lh":Et(m,"label-lh")},mod:[{"label-position":v},R],variant:w,size:m,...A,children:b.jsxs(re,{component:y,htmlFor:y==="label"?c:void 0,...k("body"),children:[i,b.jsxs("div",{...k("labelWrapper"),"data-disabled":f||void 0,children:[s&&b.jsx(re,{component:x,htmlFor:x==="label"?c:void 0,...k("label"),"data-disabled":f||void 0,children:s}),u&&b.jsx(yn.Description,{size:m,__inheritStyles:!1,...k("description"),children:u}),h&&typeof h!="boolean"&&b.jsx(yn.Error,{size:m,__inheritStyles:!1,...k("error"),children:h})]})]})})});i3.displayName="@mantine/core/InlineInput";const s3=_.createContext(null),Fz=s3.Provider,l3=()=>_.useContext(s3),[Lz,zz]=gf();var u3={card:"m_26775b0a"};const Uz={withBorder:!0},Vz=(e,{radius:t})=>({card:{"--card-radius":hn(t)}}),U1=Me((e,t)=>{const n=Ce("CheckboxCard",Uz,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,checked:c,mod:f,withBorder:h,value:m,onClick:v,defaultChecked:y,onChange:x,attributes:w,...S}=n,E=et({name:"CheckboxCard",classes:u3,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:w,vars:u,varsResolver:Vz,rootSelector:"card"}),R=l3(),D=typeof c=="boolean"?c:R?R.value.includes(m||""):void 0,[A,N]=Da({value:D,defaultValue:y,finalValue:!1,onChange:x});return b.jsx(Lz,{value:{checked:A},children:b.jsx(Qo,{ref:t,mod:[{"with-border":h,checked:A},f],...E("card"),...S,role:"checkbox","aria-checked":A,onClick:k=>{v?.(k),R?.onChange(m||""),N(!A)}})})});U1.displayName="@mantine/core/CheckboxCard";U1.classes=u3;function Hz({children:e,role:t}){const n=Sf();return n?b.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):b.jsx(b.Fragment,{children:e})}const V1=Me((e,t)=>{const{value:n,defaultValue:r,onChange:o,size:a,wrapperProps:i,children:s,readOnly:u,...c}=Ce("CheckboxGroup",null,e),[f,h]=Da({value:n,defaultValue:r,finalValue:[],onChange:o}),m=v=>{const y=typeof v=="string"?v:v.currentTarget.value;!u&&h(f.includes(y)?f.filter(x=>x!==y):[...f,y])};return b.jsx(Fz,{value:{value:f,onChange:m,size:a},children:b.jsx(yn.Wrapper,{size:a,ref:t,...i,...c,labelElement:"div",__staticSelector:"CheckboxGroup",children:b.jsx(Hz,{role:"group",children:s})})})});V1.classes=yn.Wrapper.classes;V1.displayName="@mantine/core/CheckboxGroup";function c3({size:e,style:t,...n}){const r=e!==void 0?{width:xe(e),height:xe(e),...t}:t;return b.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:b.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function d3({indeterminate:e,...t}){return e?b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:b.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):b.jsx(c3,{...t})}var f3={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const Wz={icon:d3},$z=(e,{radius:t,color:n,size:r,iconColor:o,variant:a,autoContrast:i})=>{const s=dl({color:n||e.primaryColor,theme:e}),u=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{indicator:{"--checkbox-size":Et(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:hn(t),"--checkbox-color":a==="outline"?u:Dn(n,e),"--checkbox-icon-color":o?Dn(o,e):e1(i,e)?yf({color:n,theme:e,autoContrast:i}):void 0}}},H1=Me((e,t)=>{const n=Ce("CheckboxIndicator",Wz,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,icon:c,indeterminate:f,radius:h,color:m,iconColor:v,autoContrast:y,checked:x,mod:w,variant:S,disabled:E,attributes:R,...D}=n,A=et({name:"CheckboxIndicator",classes:f3,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:R,vars:u,varsResolver:$z,rootSelector:"indicator"}),N=zz(),k=typeof x=="boolean"||typeof f=="boolean"?x||f:N?.checked||!1;return b.jsx(re,{ref:t,...A("indicator",{variant:S}),variant:S,mod:[{checked:k,disabled:E},w],...D,children:b.jsx(c,{indeterminate:f,...A("icon")})})});H1.displayName="@mantine/core/CheckboxIndicator";H1.classes=f3;var h3={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const Gz={labelPosition:"right",icon:d3},qz=(e,{radius:t,color:n,size:r,iconColor:o,variant:a,autoContrast:i})=>{const s=dl({color:n||e.primaryColor,theme:e}),u=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{root:{"--checkbox-size":Et(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:hn(t),"--checkbox-color":a==="outline"?u:Dn(n,e),"--checkbox-icon-color":o?Dn(o,e):e1(i,e)?yf({color:n,theme:e,autoContrast:i}):void 0}}},oc=Me((e,t)=>{const n=Ce("Checkbox",Gz,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,color:c,label:f,id:h,size:m,radius:v,wrapperProps:y,checked:x,labelPosition:w,description:S,error:E,disabled:R,variant:D,indeterminate:A,icon:N,rootRef:k,iconColor:M,onChange:I,autoContrast:O,mod:L,attributes:F,...X}=n,W=l3(),Y=m||W?.size,B=et({name:"Checkbox",props:n,classes:h3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:F,vars:u,varsResolver:qz}),{styleProps:V,rest:U}=bf(X),$=Po(h),j=W?{checked:W.value.includes(U.value),onChange:te=>{W.onChange(te),I?.(te)}}:{},G=_.useRef(null),Q=t||G;return _.useEffect(()=>{Q&&"current"in Q&&Q.current&&(Q.current.indeterminate=A||!1)},[A,Q]),b.jsx(i3,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:$,size:Y,labelPosition:w,label:f,description:S,error:E,disabled:R,classNames:r,styles:i,unstyled:s,"data-checked":j.checked||x||void 0,variant:D,ref:k,mod:L,...V,...y,children:b.jsxs(re,{...B("inner"),mod:{"data-label-position":w},children:[b.jsx(re,{component:"input",id:$,ref:Q,checked:x,disabled:R,mod:{error:!!E,indeterminate:A},...B("input",{focusable:!0,variant:D}),onChange:I,...U,...j,type:"checkbox"}),b.jsx(N,{indeterminate:A,...B("icon")})]})})});oc.classes={...h3,...Bz};oc.displayName="@mantine/core/Checkbox";oc.Group=V1;oc.Indicator=H1;oc.Card=U1;function Wd(e){return"group"in e}function p3({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),o=[];for(let a=0;a<e.length;a+=1){const i=e[a];if(o.length===n)return o;Wd(i)&&o.push({group:i.group,items:p3({options:i.items,search:t,limit:n-o.length})}),Wd(i)||i.label.toLowerCase().includes(r)&&o.push(i)}return o}function Xz(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function m3(e,t=new Set){if(Array.isArray(e))for(const n of e)if(Wd(n))m3(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function Yz(e,t){return Array.isArray(e)?e.includes(t):e===t}function v3({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:o,renderOption:a}){if(!Wd(e)){const s=Yz(n,e.value),u=t&&s&&b.jsx(c3,{className:zr.optionsDropdownCheckIcon}),c=b.jsxs(b.Fragment,{children:[r==="left"&&u,b.jsx("span",{children:e.label}),r==="right"&&u]});return b.jsx(Gt.Option,{value:e.value,disabled:e.disabled,className:kn({[zr.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":s||void 0,"aria-selected":s,active:s,children:typeof a=="function"?a({option:e,checked:s}):c})}const i=e.items.map(s=>b.jsx(v3,{data:s,value:n,unstyled:o,withCheckIcon:t,checkIconPosition:r,renderOption:a},s.value));return b.jsx(Gt.Group,{label:e.group,children:i})}function Kz({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:o,limit:a,maxDropdownHeight:i,withScrollArea:s=!0,filterOptions:u=!0,withCheckIcon:c=!1,value:f,checkIconPosition:h,nothingFoundMessage:m,unstyled:v,labelId:y,renderOption:x,scrollAreaProps:w,"aria-label":S}){m3(e);const R=typeof o=="string"?(r||p3)({options:e,search:u?o:"",limit:a??1/0}):e,D=Xz(R),A=R.map(N=>b.jsx(v3,{data:N,withCheckIcon:c,value:f,checkIconPosition:h,unstyled:v,renderOption:x},Wd(N)?N.group:N.value));return b.jsx(Gt.Dropdown,{hidden:t||n&&D,"data-composed":!0,children:b.jsxs(Gt.Options,{labelledBy:y,"aria-label":S,children:[s?b.jsx(ho.Autosize,{mah:i??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...w,children:A}):A,D&&m&&b.jsx(Gt.Empty,{children:m})]})})}var g3={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const Qz=(e,{radius:t,color:n,gradient:r,variant:o,size:a,autoContrast:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{root:{"--badge-height":Et(a,"badge-height"),"--badge-padding-x":Et(a,"badge-padding-x"),"--badge-fz":Et(a,"badge-fz"),"--badge-radius":t===void 0?void 0:hn(t),"--badge-bg":n||o?s.background:void 0,"--badge-color":n||o?s.color:void 0,"--badge-bd":n||o?s.border:void 0,"--badge-dot-color":o==="dot"?Dn(n,e):void 0}}},ma=Rr((e,t)=>{const n=Ce("Badge",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,radius:c,color:f,gradient:h,leftSection:m,rightSection:v,children:y,variant:x,fullWidth:w,autoContrast:S,circle:E,mod:R,attributes:D,...A}=n,N=et({name:"Badge",props:n,classes:g3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:D,vars:u,varsResolver:Qz});return b.jsxs(re,{variant:x,mod:[{block:w,circle:E,"with-right-section":!!v,"with-left-section":!!m},R],...N("root",{variant:x}),ref:t,...A,children:[m&&b.jsx("span",{...N("section"),"data-position":"left",children:m}),b.jsx("span",{...N("label"),children:y}),v&&b.jsx("span",{...N("section"),"data-position":"right",children:v})]})});ma.classes=g3;ma.displayName="@mantine/core/Badge";var y3={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const Jz=(e,{color:t,size:n,lineSize:r,transitionDuration:o,transitionTimingFunction:a})=>({root:{"--burger-color":t?Dn(t,e):void 0,"--burger-size":Et(n,"burger-size"),"--burger-line-size":r?xe(r):void 0,"--burger-transition-duration":o===void 0?void 0:`${o}ms`,"--burger-transition-timing-function":a}}),W1=Me((e,t)=>{const n=Ce("Burger",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,opened:c,children:f,transitionDuration:h,transitionTimingFunction:m,lineSize:v,attributes:y,...x}=n,w=et({name:"Burger",classes:y3,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:y,vars:u,varsResolver:Jz});return b.jsxs(Qo,{...w("root"),ref:t,...x,children:[b.jsx(re,{mod:["reduce-motion",{opened:c}],...w("burger")}),f]})});W1.classes=y3;W1.displayName="@mantine/core/Burger";var ac={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const k_={orientation:"horizontal"},Zz=(e,{borderWidth:t})=>({group:{"--button-border-width":xe(t)}}),$1=Me((e,t)=>{const n=Ce("ButtonGroup",k_,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,orientation:u,vars:c,borderWidth:f,variant:h,mod:m,attributes:v,...y}=Ce("ButtonGroup",k_,e),x=et({name:"ButtonGroup",props:n,classes:ac,className:r,style:o,classNames:a,styles:i,unstyled:s,attributes:v,vars:c,varsResolver:Zz,rootSelector:"group"});return b.jsx(re,{...x("group"),ref:t,variant:h,mod:[{"data-orientation":u},m],role:"group",...y})});$1.classes=ac;$1.displayName="@mantine/core/ButtonGroup";const e8=(e,{radius:t,color:n,gradient:r,variant:o,autoContrast:a,size:i})=>{const s=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{groupSection:{"--section-height":Et(i,"section-height"),"--section-padding-x":Et(i,"section-padding-x"),"--section-fz":i?.includes("compact")?Vn(i.replace("compact-","")):Vn(i),"--section-radius":t===void 0?void 0:hn(t),"--section-bg":n||o?s.background:void 0,"--section-color":s.color,"--section-bd":n||o?s.border:void 0}}},G1=Me((e,t)=>{const n=Ce("ButtonGroupSection",null,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,vars:u,variant:c,gradient:f,radius:h,autoContrast:m,attributes:v,...y}=n,x=et({name:"ButtonGroupSection",props:n,classes:ac,className:r,style:o,classNames:a,styles:i,unstyled:s,attributes:v,vars:u,varsResolver:e8,rootSelector:"groupSection"});return b.jsx(re,{...x("groupSection"),ref:t,variant:c,...y})});G1.classes=ac;G1.displayName="@mantine/core/ButtonGroupSection";const t8={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${xe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},n8=(e,{radius:t,color:n,gradient:r,variant:o,size:a,justify:i,autoContrast:s})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--button-justify":i,"--button-height":Et(a,"button-height"),"--button-padding-x":Et(a,"button-padding-x"),"--button-fz":a?.includes("compact")?Vn(a.replace("compact-","")):Vn(a),"--button-radius":t===void 0?void 0:hn(t),"--button-bg":n||o?u.background:void 0,"--button-hover":n||o?u.hover:void 0,"--button-color":u.color,"--button-bd":n||o?u.border:void 0,"--button-hover-color":n||o?u.hoverColor:void 0}}},Fe=Rr((e,t)=>{const n=Ce("Button",null,e),{style:r,vars:o,className:a,color:i,disabled:s,children:u,leftSection:c,rightSection:f,fullWidth:h,variant:m,radius:v,loading:y,loaderProps:x,gradient:w,classNames:S,styles:E,unstyled:R,"data-disabled":D,autoContrast:A,mod:N,attributes:k,...M}=n,I=et({name:"Button",props:n,classes:ac,className:a,style:r,classNames:S,styles:E,unstyled:R,attributes:k,vars:o,varsResolver:n8}),O=!!c,L=!!f;return b.jsxs(Qo,{ref:t,...I("root",{active:!s&&!y&&!D}),unstyled:R,variant:m,disabled:s||y,mod:[{disabled:s||D,loading:y,block:h,"with-left-section":O,"with-right-section":L},N],...M,children:[typeof y=="boolean"&&b.jsx(fi,{mounted:y,transition:t8,duration:150,children:F=>b.jsx(re,{component:"span",...I("loader",{style:F}),"aria-hidden":!0,children:b.jsx(ea,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),b.jsxs("span",{...I("inner"),children:[c&&b.jsx(re,{component:"span",...I("section"),mod:{position:"left"},children:c}),b.jsx(re,{component:"span",mod:{loading:y},...I("label"),children:u}),f&&b.jsx(re,{component:"span",...I("section"),mod:{position:"right"},children:f})]})]})});Fe.classes=ac;Fe.displayName="@mantine/core/Button";Fe.Group=$1;Fe.GroupSection=G1;const[r8,o8]=Oo("Card component was not found in tree");var q1={root:"m_e615b15f",section:"m_599a2148"};const lv=Rr((e,t)=>{const n=Ce("CardSection",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,withBorder:u,inheritPadding:c,mod:f,...h}=n,m=o8();return b.jsx(re,{ref:t,mod:[{"with-border":u,"inherit-padding":c},f],...m.getStyles("section",{className:o,style:a,styles:i,classNames:r}),...h})});lv.classes=q1;lv.displayName="@mantine/core/CardSection";const a8=(e,{padding:t})=>({root:{"--card-padding":fr(t)}}),Zn=Rr((e,t)=>{const n=Ce("Card",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,children:c,padding:f,attributes:h,...m}=n,v=et({name:"Card",props:n,classes:q1,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:h,vars:u,varsResolver:a8}),y=_.Children.toArray(c),x=y.map((w,S)=>typeof w=="object"&&w&&"type"in w&&w.type===lv?_.cloneElement(w,{"data-first-section":S===0||void 0,"data-last-section":S===y.length-1||void 0}):w);return b.jsx(r8,{value:{getStyles:v},children:b.jsx(Zo,{ref:t,unstyled:s,...v("root"),...m,children:x})})});Zn.classes=q1;Zn.displayName="@mantine/core/Card";Zn.Section=lv;var b3={root:"m_4451eb3a"};const Qr=Rr((e,t)=>{const n=Ce("Center",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,inline:c,mod:f,attributes:h,...m}=n,v=et({name:"Center",props:n,classes:b3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:h,vars:u});return b.jsx(re,{ref:t,mod:[{inline:c},f],...v("root"),...m})});Qr.classes=b3;Qr.displayName="@mantine/core/Center";var x3={root:"m_7485cace"};const i8=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:Et(t,"container-size")}}),Kt=Me((e,t)=>{const n=Ce("Container",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,fluid:c,mod:f,attributes:h,strategy:m,...v}=n,y=et({name:"Container",classes:x3,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:h,vars:u,varsResolver:i8});return b.jsx(re,{ref:t,mod:[{fluid:c,strategy:m||"block"},f],...y("root"),...v})});Kt.classes=x3;Kt.displayName="@mantine/core/Container";var w3={root:"m_3eebeb36",label:"m_9e365f20"};const s8={orientation:"horizontal"},l8=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?Dn(t,e):void 0,"--divider-border-style":n,"--divider-size":Et(r,"divider-size")}}),jr=Me((e,t)=>{const n=Ce("Divider",s8,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,color:c,orientation:f,label:h,labelPosition:m,mod:v,attributes:y,...x}=n,w=et({name:"Divider",classes:w3,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:y,vars:u,varsResolver:l8});return b.jsx(re,{ref:t,mod:[{orientation:f,"with-label":!!h},v],...w("root"),...x,role:"separator",children:h&&b.jsx(re,{component:"span",mod:{position:m},...w("label"),children:h})})});jr.classes=w3;jr.displayName="@mantine/core/Divider";const[u8,ic]=Oo("Drawer component was not found in tree");var vi={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const uv=Me((e,t)=>{const n=Ce("DrawerBody",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=ic();return b.jsx(S1,{ref:t,...c.getStyles("body",{classNames:r,style:a,styles:i,className:o}),...u})});uv.classes=vi;uv.displayName="@mantine/core/DrawerBody";const cv=Me((e,t)=>{const n=Ce("DrawerCloseButton",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=ic();return b.jsx(C1,{ref:t,...c.getStyles("close",{classNames:r,style:a,styles:i,className:o}),...u})});cv.classes=vi;cv.displayName="@mantine/core/DrawerCloseButton";const dv=Me((e,t)=>{const n=Ce("DrawerContent",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,children:u,radius:c,__hidden:f,...h}=n,m=ic(),v=m.scrollAreaComponent||$N;return b.jsx(E1,{...m.getStyles("content",{className:o,style:a,styles:i,classNames:r}),innerProps:m.getStyles("inner",{className:o,style:a,styles:i,classNames:r}),ref:t,...h,radius:c||m.radius||0,"data-hidden":f||void 0,children:b.jsx(v,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:u})})});dv.classes=vi;dv.displayName="@mantine/core/DrawerContent";const fv=Me((e,t)=>{const n=Ce("DrawerHeader",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=ic();return b.jsx(R1,{ref:t,...c.getStyles("header",{classNames:r,style:a,styles:i,className:o}),...u})});fv.classes=vi;fv.displayName="@mantine/core/DrawerHeader";const hv=Me((e,t)=>{const n=Ce("DrawerOverlay",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=ic();return b.jsx(_1,{ref:t,...c.getStyles("overlay",{classNames:r,style:a,styles:i,className:o}),...u})});hv.classes=vi;hv.displayName="@mantine/core/DrawerOverlay";function c8(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function d8(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const f8={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},h8={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},p8={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Er("modal"),position:"left"},m8=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":Et(n,"drawer-size"),"--drawer-flex":d8(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":c8(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":xe(r)}}),pv=Me((e,t)=>{const n=Ce("DrawerRoot",p8,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,scrollAreaComponent:c,position:f,transitionProps:h,radius:m,attributes:v,...y}=n,{dir:x}=xf(),w=et({name:"Drawer",classes:vi,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:v,vars:u,varsResolver:m8}),S=(x==="rtl"?h8:f8)[f];return b.jsx(u8,{value:{scrollAreaComponent:c,getStyles:w,radius:m},children:b.jsx(w1,{ref:t,...w("root"),transitionProps:{transition:S,...h},"data-offset-scrollbars":c===ho.Autosize||void 0,unstyled:s,...y})})});pv.classes=vi;pv.displayName="@mantine/core/DrawerRoot";const[v8,g8]=gf();function S3({children:e}){const[t,n]=_.useState([]),[r,o]=_.useState(Er("modal"));return b.jsx(v8,{value:{stack:t,addModal:(a,i)=>{n(s=>[...new Set([...s,a])]),o(s=>typeof i=="number"&&typeof s=="number"?Math.max(s,i):s)},removeModal:a=>n(i=>i.filter(s=>s!==a)),getZIndex:a=>`calc(${r} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}S3.displayName="@mantine/core/DrawerStack";const mv=Me((e,t)=>{const n=Ce("DrawerTitle",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=ic();return b.jsx(T1,{ref:t,...c.getStyles("title",{classNames:r,style:a,styles:i,className:o}),...u})});mv.classes=vi;mv.displayName="@mantine/core/DrawerTitle";const y8={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Er("modal"),withOverlay:!0,withCloseButton:!0},ta=Me((e,t)=>{const{title:n,withOverlay:r,overlayProps:o,withCloseButton:a,closeButtonProps:i,children:s,opened:u,stackId:c,zIndex:f,...h}=Ce("Drawer",y8,e),m=g8(),v=!!n||a,y=m&&c?{closeOnEscape:m.currentId===c,trapFocus:m.currentId===c,zIndex:m.getZIndex(c)}:{},x=r===!1?!1:c&&m?m.currentId===c:u;return _.useEffect(()=>{m&&c&&(u?m.addModal(c,f||Er("modal")):m.removeModal(c))},[u,c,f]),b.jsxs(pv,{ref:t,opened:u,zIndex:m&&c?m.getZIndex(c):f,...h,...y,children:[r&&b.jsx(hv,{visible:x,transitionProps:m&&c?{duration:0}:void 0,...o}),b.jsxs(dv,{__hidden:m&&c&&u?c!==m.currentId:!1,children:[v&&b.jsxs(fv,{children:[n&&b.jsx(mv,{children:n}),a&&b.jsx(cv,{...i})]}),b.jsx(uv,{children:s})]})]})});ta.classes=vi;ta.displayName="@mantine/core/Drawer";ta.Root=pv;ta.Overlay=hv;ta.Content=dv;ta.Body=uv;ta.Header=fv;ta.Title=mv;ta.CloseButton=cv;ta.Stack=S3;const b8={multiple:!1},C3=_.forwardRef((e,t)=>{const{onChange:n,children:r,multiple:o,accept:a,name:i,form:s,resetRef:u,disabled:c,capture:f,inputProps:h,...m}=Ce("FileButton",b8,e),v=_.useRef(null),y=()=>{!c&&v.current?.click()},x=S=>{if(S.currentTarget.files===null)return n(o?[]:null);n(o?Array.from(S.currentTarget.files):S.currentTarget.files[0]||null)};return zd(u,()=>{v.current&&(v.current.value="")}),b.jsxs(b.Fragment,{children:[b.jsx("input",{style:{display:"none"},type:"file",accept:a,multiple:o,onChange:x,ref:On(t,v),name:i,form:s,capture:f,...h}),r({onClick:y,...m})]})});C3.displayName="@mantine/core/FileButton";const x8=({value:e})=>b.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(t=>t.name).join(", "):e?.name}),w8={valueComponent:x8},X1=Me((e,t)=>{const n=Ce("FileInput",w8,e),{unstyled:r,vars:o,onChange:a,value:i,defaultValue:s,multiple:u,accept:c,name:f,form:h,valueComponent:m,clearable:v,clearButtonProps:y,readOnly:x,capture:w,fileInputProps:S,rightSection:E,size:R,placeholder:D,component:A,resetRef:N,classNames:k,styles:M,attributes:I,...O}=n,L=_.useRef(null),{resolvedClassNames:F,resolvedStyles:X}=fl({classNames:k,styles:M,props:n}),[W,Y]=Da({value:i,defaultValue:s,onChange:a,finalValue:u?[]:null}),B=Array.isArray(W)?W.length!==0:W!==null,V=E||(v&&B&&!x?b.jsx(hl,{...y,variant:"subtle",onClick:()=>Y(u?[]:null),size:R,unstyled:r}):null);return _.useEffect(()=>{(Array.isArray(W)&&W.length===0||W===null)&&L.current?.()},[W]),b.jsx(C3,{onChange:Y,multiple:u,accept:c,name:f,form:h,resetRef:On(L,N),disabled:x,capture:w,inputProps:S,children:U=>b.jsx(po,{component:A||"button",ref:t,rightSection:V,...U,...O,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:r,size:R,classNames:k,styles:M,attributes:I,children:B?b.jsx(m,{value:W}):b.jsx(yn.Placeholder,{__staticSelector:"FileInput",classNames:F,styles:X,attributes:I,children:D})})})});X1.classes=po.classes;X1.displayName="@mantine/core/FileInput";const nm=X1,[S8,E3]=Oo("HoverCard component was not found in the tree"),R3=_.createContext(!1),C8=R3.Provider,Y1=()=>_.useContext(R3);function _3(e){const{children:t,onMouseEnter:n,onMouseLeave:r,...o}=Ce("HoverCardDropdown",null,e),a=E3();if(Y1()&&a.getFloatingProps&&a.floating){const c=a.getFloatingProps();return b.jsx(co.Dropdown,{ref:a.floating,...c,onMouseEnter:Eu(n,c.onMouseEnter),onMouseLeave:Eu(r,c.onMouseLeave),...o,children:t})}const s=Eu(n,a.openDropdown),u=Eu(r,a.closeDropdown);return b.jsx(co.Dropdown,{onMouseEnter:s,onMouseLeave:u,...o,children:t})}_3.displayName="@mantine/core/HoverCardDropdown";const E8={openDelay:0,closeDelay:0};function K1(e){const{openDelay:t,closeDelay:n,children:r}=Ce("HoverCardGroup",E8,e);return b.jsx(C8,{value:!0,children:b.jsx(dN,{delay:{open:t,close:n},children:r})})}K1.displayName="@mantine/core/HoverCardGroup";K1.extend=e=>e;const R8={refProp:"ref"},T3=_.forwardRef((e,t)=>{const{children:n,refProp:r,eventPropsWrapperName:o,...a}=Ce("HoverCardTarget",R8,e);if(!ys(n))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=E3();if(Y1()&&i.getReferenceProps&&i.reference){const h=i.getReferenceProps();return b.jsx(co.Target,{refProp:r,ref:t,...a,children:_.cloneElement(n,o?{[o]:{...h,ref:i.reference}}:{...h,ref:i.reference})})}const u=Eu(n.props.onMouseEnter,i.openDropdown),c=Eu(n.props.onMouseLeave,i.closeDropdown),f={onMouseEnter:u,onMouseLeave:c};return b.jsx(co.Target,{refProp:r,ref:t,...a,children:_.cloneElement(n,o?{[o]:f}:f)})});T3.displayName="@mantine/core/HoverCardTarget";function _8(e){const[t,n]=_.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:t,a=Y1(),i=Po(),s=_.useRef(-1),u=_.useRef(-1),c=_.useCallback(()=>{window.clearTimeout(s.current),window.clearTimeout(u.current)},[]),f=_.useCallback(R=>{n(R),R?(y(i),e.onOpen?.()):e.onClose?.()},[i,e.onOpen,e.onClose]),{context:h,refs:m}=Zm({open:o,onOpenChange:f}),{delay:v,setCurrentId:y}=fN(h,{id:i}),{getReferenceProps:x,getFloatingProps:w}=pN([uN(h,{enabled:!0,delay:a?v:{open:e.openDelay,close:e.closeDelay}}),mN(h,{role:"dialog"}),hN(h,{enabled:a})]),S=_.useCallback(()=>{a||(c(),e.openDelay===0||e.openDelay===void 0?f(!0):s.current=window.setTimeout(()=>f(!0),e.openDelay))},[a,c,e.openDelay,f]),E=_.useCallback(()=>{a||(c(),e.closeDelay===0||e.closeDelay===void 0?f(!1):u.current=window.setTimeout(()=>f(!1),e.closeDelay))},[a,c,e.closeDelay,f]);return _.useEffect(()=>()=>c(),[c]),{opened:o,reference:m.setReference,floating:m.setFloating,getReferenceProps:x,getFloatingProps:w,openDropdown:S,closeDropdown:E}}const T8={openDelay:0,closeDelay:150,initiallyOpened:!1};function ls(e){const{children:t,onOpen:n,onClose:r,openDelay:o,closeDelay:a,initiallyOpened:i,...s}=Ce("HoverCard",T8,e),u=_8({openDelay:o,closeDelay:a,defaultOpened:i,onOpen:n,onClose:r});return b.jsx(S8,{value:{openDropdown:u.openDropdown,closeDropdown:u.closeDropdown,getReferenceProps:u.getReferenceProps,getFloatingProps:u.getFloatingProps,reference:u.reference,floating:u.floating},children:b.jsx(co,{...s,opened:u.opened,__staticSelector:"HoverCard",children:t})})}ls.displayName="@mantine/core/HoverCard";ls.Target=T3;ls.Dropdown=_3;ls.Group=K1;ls.extend=e=>e;var D3={root:"m_9e117634"};const D8=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:hn(t),"--image-object-fit":n}}),$d=Rr((e,t)=>{const n=Ce("Image",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,onError:c,src:f,radius:h,fit:m,fallbackSrc:v,mod:y,attributes:x,...w}=n,[S,E]=_.useState(!f);_.useEffect(()=>E(!f),[f]);const R=et({name:"Image",classes:D3,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:x,vars:u,varsResolver:D8});return S&&v?b.jsx(re,{component:"img",ref:t,src:v,...R("root"),onError:c,mod:["fallback",y],...w}):b.jsx(re,{component:"img",ref:t,...R("root"),src:f,onError:D=>{c?.(D),E(!0)},mod:y,...w})});$d.classes=D3;$d.displayName="@mantine/core/Image";function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(null,arguments)}function Q1(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A8=_.useLayoutEffect,N8=function(t){var n=ut.useRef(t);return A8(function(){n.current=t}),n},M_=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},k8=function(t,n){var r=ut.useRef();return ut.useCallback(function(o){t.current=o,r.current&&M_(r.current,null),r.current=n,n&&M_(n,o)},[n])},I_={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},M8=function(t){Object.keys(I_).forEach(function(n){t.style.setProperty(n,I_[n],"important")})},O_=M8,xr=null,P_=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function I8(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),xr||(xr=document.createElement("textarea"),xr.setAttribute("tabindex","-1"),xr.setAttribute("aria-hidden","true"),O_(xr)),xr.parentNode===null&&document.body.appendChild(xr);var o=e.paddingSize,a=e.borderSize,i=e.sizingStyle,s=i.boxSizing;Object.keys(i).forEach(function(m){var v=m;xr.style[v]=i[v]}),O_(xr),xr.value=t;var u=P_(xr,e);xr.value=t,u=P_(xr,e),xr.value="x";var c=xr.scrollHeight-o,f=c*n;s==="border-box"&&(f=f+o+a),u=Math.max(f,u);var h=c*r;return s==="border-box"&&(h=h+o+a),u=Math.min(h,u),[u,c]}var j_=function(){},O8=function(t,n){return t.reduce(function(r,o){return r[o]=n[o],r},{})},P8=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],j8=!!document.documentElement.currentStyle,B8=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=O8(P8,n),o=r.boxSizing;if(o==="")return null;j8&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:i}},F8=B8;function J1(e,t,n){var r=N8(n);_.useLayoutEffect(function(){var o=function(i){return r.current(i)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var L8=function(t,n){J1(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},z8=function(t){J1(window,"resize",t)},U8=function(t){J1(document.fonts,"loadingdone",t)},V8=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],H8=function(t,n){var r=t.cacheMeasurements,o=t.maxRows,a=t.minRows,i=t.onChange,s=i===void 0?j_:i,u=t.onHeightChange,c=u===void 0?j_:u,f=Q1(t,V8),h=f.value!==void 0,m=_.useRef(null),v=k8(m,n),y=_.useRef(0),x=_.useRef(),w=function(){var R=m.current,D=r&&x.current?x.current:F8(R);if(D){x.current=D;var A=I8(D,R.value||R.placeholder||"x",a,o),N=A[0],k=A[1];y.current!==N&&(y.current=N,R.style.setProperty("height",N+"px","important"),c(N,{rowHeight:k}))}},S=function(R){h||w(),s(R)};return _.useLayoutEffect(w),L8(m,function(){if(!h){var E=m.current.value;requestAnimationFrame(function(){var R=m.current;R&&E!==R.value&&w()})}}),z8(w),U8(w),_.createElement("textarea",Wu({},f,{onChange:S,ref:v}))},W8=_.forwardRef(H8);const $8={size:"sm"},Gd=Me((e,t)=>{const{autosize:n,maxRows:r,minRows:o,__staticSelector:a,resize:i,...s}=Ce("Textarea",$8,e),u=n&&kA()!=="test",c=u?{maxRows:r,minRows:o}:{};return b.jsx(po,{component:u?W8:"textarea",ref:t,...s,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":i},...c})});Gd.classes=po.classes;Gd.displayName="@mantine/core/Textarea";const[G8,q8]=Oo("List component was not found in tree");var Z1={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const ew=Me((e,t)=>{const n=Ce("ListItem",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,icon:u,children:c,mod:f,...h}=n,m=q8(),v=u||m.icon,y={classNames:r,styles:i};return b.jsx(re,{...m.getStyles("item",{...y,className:o,style:a}),component:"li",mod:[{"with-icon":!!v,centered:m.center},f],ref:t,...h,children:b.jsxs("div",{...m.getStyles("itemWrapper",y),children:[v&&b.jsx("span",{...m.getStyles("itemIcon",y),children:v}),b.jsx("span",{...m.getStyles("itemLabel",y),children:c})]})})});ew.classes=Z1;ew.displayName="@mantine/core/ListItem";const X8={type:"unordered"},Y8=(e,{size:t,spacing:n})=>({root:{"--list-fz":Vn(t),"--list-lh":EA(t),"--list-spacing":fr(n)}}),fn=Me((e,t)=>{const n=Ce("List",X8,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,children:c,type:f,withPadding:h,icon:m,spacing:v,center:y,listStyleType:x,mod:w,attributes:S,...E}=n,R=et({name:"List",classes:Z1,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:S,vars:u,varsResolver:Y8});return b.jsx(G8,{value:{center:y,icon:m,getStyles:R},children:b.jsx(re,{...R("root",{style:{listStyleType:x}}),component:f==="unordered"?"ul":"ol",mod:[{"with-padding":h},w],ref:t,...E,children:c})})});fn.classes=Z1;fn.displayName="@mantine/core/List";fn.Item=ew;const[K8,sc]=Oo("Modal component was not found in tree");var gi={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const vv=Me((e,t)=>{const n=Ce("ModalBody",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=sc();return b.jsx(S1,{ref:t,...c.getStyles("body",{classNames:r,style:a,styles:i,className:o}),...u})});vv.classes=gi;vv.displayName="@mantine/core/ModalBody";const gv=Me((e,t)=>{const n=Ce("ModalCloseButton",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=sc();return b.jsx(C1,{ref:t,...c.getStyles("close",{classNames:r,style:a,styles:i,className:o}),...u})});gv.classes=gi;gv.displayName="@mantine/core/ModalCloseButton";const yv=Me((e,t)=>{const n=Ce("ModalContent",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,children:u,__hidden:c,...f}=n,h=sc(),m=h.scrollAreaComponent||$N;return b.jsx(E1,{...h.getStyles("content",{className:o,style:a,styles:i,classNames:r}),innerProps:h.getStyles("inner",{className:o,style:a,styles:i,classNames:r}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:t,...f,children:b.jsx(m,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${xe(h.yOffset)} * 2))`},children:u})})});yv.classes=gi;yv.displayName="@mantine/core/ModalContent";const bv=Me((e,t)=>{const n=Ce("ModalHeader",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=sc();return b.jsx(R1,{ref:t,...c.getStyles("header",{classNames:r,style:a,styles:i,className:o}),...u})});bv.classes=gi;bv.displayName="@mantine/core/ModalHeader";const xv=Me((e,t)=>{const n=Ce("ModalOverlay",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=sc();return b.jsx(_1,{ref:t,...c.getStyles("overlay",{classNames:r,style:a,styles:i,className:o}),...u})});xv.classes=gi;xv.displayName="@mantine/core/ModalOverlay";const Q8={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Er("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},J8=(e,{radius:t,size:n,yOffset:r,xOffset:o})=>({root:{"--modal-radius":t===void 0?void 0:hn(t),"--modal-size":Et(n,"modal-size"),"--modal-y-offset":xe(r),"--modal-x-offset":xe(o)}}),wv=Me((e,t)=>{const n=Ce("ModalRoot",Q8,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,yOffset:c,scrollAreaComponent:f,radius:h,fullScreen:m,centered:v,xOffset:y,__staticSelector:x,attributes:w,...S}=n,E=et({name:x,classes:gi,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:w,vars:u,varsResolver:J8});return b.jsx(K8,{value:{yOffset:c,scrollAreaComponent:f,getStyles:E,fullScreen:m},children:b.jsx(w1,{ref:t,...E("root"),"data-full-screen":m||void 0,"data-centered":v||void 0,"data-offset-scrollbars":f===ho.Autosize||void 0,unstyled:s,...S})})});wv.classes=gi;wv.displayName="@mantine/core/ModalRoot";const[Z8,eU]=gf();function A3({children:e}){const[t,n]=_.useState([]),[r,o]=_.useState(Er("modal"));return b.jsx(Z8,{value:{stack:t,addModal:(a,i)=>{n(s=>[...new Set([...s,a])]),o(s=>typeof i=="number"&&typeof s=="number"?Math.max(s,i):s)},removeModal:a=>n(i=>i.filter(s=>s!==a)),getZIndex:a=>`calc(${r} + ${t.indexOf(a)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}A3.displayName="@mantine/core/ModalStack";const Sv=Me((e,t)=>{const n=Ce("ModalTitle",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=n,c=sc();return b.jsx(T1,{ref:t,...c.getStyles("title",{classNames:r,style:a,styles:i,className:o}),...u})});Sv.classes=gi;Sv.displayName="@mantine/core/ModalTitle";const tU={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Er("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},pr=Me((e,t)=>{const{title:n,withOverlay:r,overlayProps:o,withCloseButton:a,closeButtonProps:i,children:s,radius:u,opened:c,stackId:f,zIndex:h,...m}=Ce("Modal",tU,e),v=eU(),y=!!n||a,x=v&&f?{closeOnEscape:v.currentId===f,trapFocus:v.currentId===f,zIndex:v.getZIndex(f)}:{},w=r===!1?!1:f&&v?v.currentId===f:c;return _.useEffect(()=>{v&&f&&(c?v.addModal(f,h||Er("modal")):v.removeModal(f))},[c,f,h]),b.jsxs(wv,{ref:t,radius:u,opened:c,zIndex:v&&f?v.getZIndex(f):h,...m,...x,children:[r&&b.jsx(xv,{visible:w,transitionProps:v&&f?{duration:0}:void 0,...o}),b.jsxs(yv,{radius:u,__hidden:v&&f&&c?f!==v.currentId:!1,children:[y&&b.jsxs(bv,{children:[n&&b.jsx(Sv,{children:n}),a&&b.jsx(gv,{...i})]}),b.jsx(vv,{children:s})]})]})});pr.classes=gi;pr.displayName="@mantine/core/Modal";pr.Root=wv;pr.Overlay=xv;pr.Content=yv;pr.Body=vv;pr.Header=bv;pr.Title=Sv;pr.CloseButton=gv;pr.Stack=A3;var N3={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const nU={withCloseButton:!0},rU=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:hn(t),"--notification-color":n?Dn(n,e):void 0}}),tw=Me((e,t)=>{const n=Ce("Notification",nU,e),{className:r,color:o,radius:a,loading:i,withCloseButton:s,withBorder:u,title:c,icon:f,children:h,onClose:m,closeButtonProps:v,classNames:y,style:x,styles:w,unstyled:S,variant:E,vars:R,mod:D,loaderProps:A,role:N,attributes:k,...M}=n,I=et({name:"Notification",classes:N3,props:n,className:r,style:x,classNames:y,styles:w,unstyled:S,attributes:k,vars:R,varsResolver:rU});return b.jsxs(re,{...I("root"),mod:[{"data-with-icon":!!f||i,"data-with-border":u},D],ref:t,variant:E,role:N||"alert",...M,children:[f&&!i&&b.jsx("div",{...I("icon"),children:f}),i&&b.jsx(ea,{size:28,color:o,...A,...I("loader")}),b.jsxs("div",{...I("body"),children:[c&&b.jsx("div",{...I("title"),children:c}),b.jsx(re,{...I("description"),mod:{"data-with-title":!!c},children:h})]}),s&&b.jsx(hl,{iconSize:16,color:"gray",...v,unstyled:S,onClick:m,...I("closeButton")})]})});tw.classes=N3;tw.displayName="@mantine/core/Notification";function k3(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}var qd;(function(e){e.event="event",e.props="prop"})(qd||(qd={}));function ns(){}function oU(e){var t,n=void 0;return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return t&&r.length===t.length&&r.every(function(a,i){return a===t[i]})||(t=r,n=e.apply(void 0,r)),n}}function Xd(e){return!!(e||"").match(/\d/)}function Mu(e){return e==null}function aU(e){return typeof e=="number"&&isNaN(e)}function M3(e){return Mu(e)||aU(e)||typeof e=="number"&&!isFinite(e)}function I3(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function iU(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function sU(e,t,n){var r=iU(n),o=e.search(/[1-9]/);return o=o===-1?e.length:o,e.substring(0,o)+e.substring(o,e.length).replace(r,"$1"+t)}function lU(e){var t=_.useRef(e);t.current=e;var n=_.useRef(function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return t.current.apply(t,r)});return n.current}function nw(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var o=e.split("."),a=o[0],i=o[1]||"";return{beforeDecimal:a,afterDecimal:i,hasNegation:n,addNegation:r}}function uU(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",o=n[1]||"";return(t?"-":"")+r+(o?"."+o:"")}function O3(e,t,n){for(var r="",o=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||o;return r}function B_(e,t){return Array(t+1).join(e)}function P3(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),o=r[0],a=r[1];if(a=Number(a),!a)return n+o;o=o.replace(".","");var i=1+a,s=o.length;return i<0?o="0."+B_("0",Math.abs(i))+o:i>=s?o=o+B_("0",i-s):o=(o.substring(0,i)||"0")+"."+o.substring(i),n+o}function F_(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,o=nw(e),a=o.beforeDecimal,i=o.afterDecimal,s=o.hasNegation,u=parseFloat("0."+(i||"0")),c=i.length<=t?"0."+i:u.toFixed(t),f=c.split("."),h=a;a&&Number(f[0])&&(h=a.split("").reverse().reduce(function(x,w,S){return x.length>S?(Number(x[0])+Number(w)).toString()+x.substring(1,x.length):w+x},f[0]));var m=O3(f[1]||"",t,n),v=s?"-":"",y=r?".":"";return""+v+h+y+m}function Ys(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var j3=oU(function(e,t){for(var n=0,r=0,o=e.length,a=t.length;e[n]===t[n]&&n<o;)n++;for(;e[o-1-r]===t[a-1-r]&&a-r>n&&o-r>n;)r++;return{from:{start:n,end:o-r},to:{start:n,end:a-r}}}),cU=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function dU(e,t,n){return Math.min(Math.max(e,t),n)}function zb(e){return Math.max(e.selectionStart,e.selectionEnd)}function fU(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function hU(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function pU(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,o=e.formattedValueIndex;return t[r]===n[o]}function mU(e,t,n,r,o,a,i){i===void 0&&(i=pU);var s=o.findIndex(function(D){return D}),u=e.slice(0,s);!t&&!n.startsWith(u)&&(t=u,n=u+n,r=r+u.length);for(var c=n.length,f=e.length,h={},m=new Array(c),v=0;v<c;v++){m[v]=-1;for(var y=0,x=f;y<x;y++){var w=i({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:v,formattedValueIndex:y});if(w&&h[y]!==!0){m[v]=y,h[y]=!0;break}}}for(var S=r;S<c&&(m[S]===-1||!a(n[S]));)S++;var E=S===c||m[S]===-1?f:m[S];for(S=r-1;S>0&&m[S]===-1;)S--;var R=S===-1||m[S]===-1?0:m[S]+1;return R>E?E:r-R<E-r?R:E}function L_(e,t,n,r){var o=e.length;if(t=dU(t,0,o),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=o&&!n[t];)t++;t>o&&(t=n.lastIndexOf(!0))}return t===-1&&(t=o),t}function vU(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(Xd(e[n])||Xd(e[n-1]));return t}function B3(e,t,n,r,o,a){a===void 0&&(a=ns);var i=lU(function(y,x){var w,S;return M3(y)?(S="",w=""):typeof y=="number"||x?(S=typeof y=="number"?P3(y):y,w=r(S)):(S=o(y,void 0),w=r(S)),{formattedValue:w,numAsString:S}}),s=_.useState(function(){return i(Mu(e)?t:e,n)}),u=s[0],c=s[1],f=function(y,x){y.formattedValue!==u.formattedValue&&c({formattedValue:y.formattedValue,numAsString:y.value}),a(y,x)},h=e,m=n;Mu(e)&&(h=u.numAsString,m=!0);var v=i(h,m);return _.useMemo(function(){c(v)},[v.formattedValue]),[u,f]}function gU(e){return e.replace(/[^0-9]/g,"")}function yU(e){return e}function bU(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,o=e.renderText,a=e.getInputRef,i=e.format;i===void 0&&(i=yU);var s=e.removeFormatting;s===void 0&&(s=gU);var u=e.defaultValue,c=e.valueIsNumericString,f=e.onValueChange,h=e.isAllowed,m=e.onChange;m===void 0&&(m=ns);var v=e.onKeyDown;v===void 0&&(v=ns);var y=e.onMouseUp;y===void 0&&(y=ns);var x=e.onFocus;x===void 0&&(x=ns);var w=e.onBlur;w===void 0&&(w=ns);var S=e.value,E=e.getCaretBoundary;E===void 0&&(E=vU);var R=e.isValidInputCharacter;R===void 0&&(R=Xd);var D=e.isCharacterSame,A=k3(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),N=B3(S,u,!!c,i,s,f),k=N[0],M=k.formattedValue,I=k.numAsString,O=N[1],L=_.useRef(),F=_.useRef({formattedValue:M,numAsString:I}),X=function(_e,De){F.current={formattedValue:_e.formattedValue,numAsString:_e.value},O(_e,De)},W=_.useState(!1),Y=W[0],B=W[1],V=_.useRef(null),U=_.useRef({setCaretTimeout:null,focusTimeout:null});_.useEffect(function(){return B(!0),function(){clearTimeout(U.current.setCaretTimeout),clearTimeout(U.current.focusTimeout)}},[]);var $=i,j=function(_e,De){var ke=parseFloat(De);return{formattedValue:_e,value:De,floatValue:isNaN(ke)?void 0:ke}},G=function(_e,De,ke){_e.selectionStart===0&&_e.selectionEnd===_e.value.length||(Ys(_e,De),U.current.setCaretTimeout=setTimeout(function(){_e.value===ke&&_e.selectionStart!==De&&Ys(_e,De)},0))},Q=function(_e,De,ke){return L_(_e,De,E(_e),ke)},te=function(_e,De,ke){var Ze=E(De),st=mU(De,M,_e,ke,Ze,R,D);return st=L_(De,st,Ze),st},de=function(_e){var De=_e.formattedValue;De===void 0&&(De="");var ke=_e.input,Ze=_e.source,st=_e.event,Ye=_e.numAsString,He;if(ke){var qt=_e.inputValue||ke.value,Ae=zb(ke);ke.value=De,He=te(qt,De,Ae),He!==void 0&&G(ke,He,De)}De!==M&&X(j(De,Ye),{event:st,source:Ze})};_.useEffect(function(){var _e=F.current,De=_e.formattedValue,ke=_e.numAsString;(M!==De||I!==ke)&&X(j(M,I),{event:void 0,source:qd.props})},[M,I]);var we=V.current?zb(V.current):void 0,ie=typeof window<"u"?_.useLayoutEffect:_.useEffect;ie(function(){var _e=V.current;if(M!==F.current.formattedValue&&_e){var De=te(F.current.formattedValue,M,we);_e.value=M,G(_e,De,M)}},[M]);var oe=function(_e,De,ke){var Ze=De.target,st=L.current?cU(L.current,Ze.selectionEnd):j3(M,_e),Ye=Object.assign(Object.assign({},st),{lastValue:M}),He=s(_e,Ye),qt=$(He);if(He=s(qt,void 0),h&&!h(j(qt,He))){var Ae=De.target,Be=zb(Ae),rt=te(_e,M,Be);return Ae.value=M,G(Ae,rt,M),!1}return de({formattedValue:qt,numAsString:He,inputValue:_e,event:De,source:ke,input:De.target}),!0},ve=function(_e,De){De===void 0&&(De=0);var ke=_e.selectionStart,Ze=_e.selectionEnd;L.current={selectionStart:ke,selectionEnd:Ze+De}},pe=function(_e){var De=_e.target,ke=De.value,Ze=oe(ke,_e,qd.event);Ze&&m(_e),L.current=void 0},Oe=function(_e){var De=_e.target,ke=_e.key,Ze=De.selectionStart,st=De.selectionEnd,Ye=De.value;Ye===void 0&&(Ye="");var He;ke==="ArrowLeft"||ke==="Backspace"?He=Math.max(Ze-1,0):ke==="ArrowRight"?He=Math.min(Ze+1,Ye.length):ke==="Delete"&&(He=Ze);var qt=0;ke==="Delete"&&Ze===st&&(qt=1);var Ae=ke==="ArrowLeft"||ke==="ArrowRight";if(He===void 0||Ze!==st&&!Ae){v(_e),ve(De,qt);return}var Be=He;if(Ae){var rt=ke==="ArrowLeft"?"left":"right";Be=Q(Ye,He,rt),Be!==He&&_e.preventDefault()}else ke==="Delete"&&!R(Ye[He])?Be=Q(Ye,He,"right"):ke==="Backspace"&&!R(Ye[He])&&(Be=Q(Ye,He,"left"));Be!==He&&G(De,Be,Ye),v(_e),ve(De,qt)},je=function(_e){var De=_e.target,ke=function(){var Ze=De.selectionStart,st=De.selectionEnd,Ye=De.value;if(Ye===void 0&&(Ye=""),Ze===st){var He=Q(Ye,Ze);He!==Ze&&G(De,He,Ye)}};ke(),requestAnimationFrame(function(){ke()}),y(_e),ve(De)},Pe=function(_e){_e.persist&&_e.persist();var De=_e.target,ke=_e.currentTarget;V.current=De,U.current.focusTimeout=setTimeout(function(){var Ze=De.selectionStart,st=De.selectionEnd,Ye=De.value;Ye===void 0&&(Ye="");var He=Q(Ye,Ze);He!==Ze&&!(Ze===0&&st===Ye.length)&&G(De,He,Ye),x(Object.assign(Object.assign({},_e),{currentTarget:ke}))},0)},Te=function(_e){V.current=null,clearTimeout(U.current.focusTimeout),clearTimeout(U.current.setCaretTimeout),w(_e)},Je=Y&&fU()?"numeric":void 0,it=Object.assign({inputMode:Je},A,{type:t,value:M,onChange:pe,onKeyDown:Oe,onMouseUp:je,onFocus:Pe,onBlur:Te});if(n==="text")return o?ut.createElement(ut.Fragment,null,o(M,A)||null):ut.createElement("span",Object.assign({},A,{ref:a}),M);if(r){var nt=r;return ut.createElement(nt,Object.assign({},it,{ref:a}))}return ut.createElement("input",Object.assign({},it,{ref:a}))}function z_(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,o=t.prefix;o===void 0&&(o="");var a=t.suffix;a===void 0&&(a="");var i=t.allowNegative,s=t.thousandsGroupStyle;if(s===void 0&&(s="thousand"),e===""||e==="-")return e;var u=Cv(t),c=u.thousandSeparator,f=u.decimalSeparator,h=n!==0&&e.indexOf(".")!==-1||n&&r,m=nw(e,i),v=m.beforeDecimal,y=m.afterDecimal,x=m.addNegation;return n!==void 0&&(y=O3(y,n,!!r)),c&&(v=sU(v,c,s)),o&&(v=o+v),a&&(y=y+a),x&&(v="-"+v),e=v+(h&&f||"")+y,e}function Cv(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function xU(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),o=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),o&&!a&&t&&(e="-"+e),e}function wU(e,t){return new RegExp("(^-)|[0-9]|"+I3(e),"g")}function SU(e,t,n){return e===""?!0:!t?.match(/\d/)&&!n?.match(/\d/)&&typeof e=="string"&&!isNaN(Number(e))}function CU(e,t,n){var r;t===void 0&&(t=hU(e));var o=n.allowNegative,a=n.prefix;a===void 0&&(a="");var i=n.suffix;i===void 0&&(i="");var s=n.decimalScale,u=t.from,c=t.to,f=c.start,h=c.end,m=Cv(n),v=m.allowedDecimalSeparators,y=m.decimalSeparator,x=e[h]===y;if(Xd(e)&&(e===a||e===i)&&t.lastValue==="")return e;if(h-f===1&&v.indexOf(e[f])!==-1){var w=s===0?"":y;e=e.substring(0,f)+w+e.substring(f+1,e.length)}var S=function(V,U,$){var j=!1,G=!1;a.startsWith("-")?j=!1:V.startsWith("--")?(j=!1,G=!0):i.startsWith("-")&&V.length===i.length?j=!1:V[0]==="-"&&(j=!0);var Q=j?1:0;return G&&(Q=2),Q&&(V=V.substring(Q),U-=Q,$-=Q),{value:V,start:U,end:$,hasNegation:j}},E=S(e,f,h),R=E.hasNegation;r=E,e=r.value,f=r.start,h=r.end;var D=S(t.lastValue,u.start,u.end),A=D.start,N=D.end,k=D.value,M=e.substring(f,h);e.length&&k.length&&(A>k.length-i.length||N<a.length)&&!(M&&i.startsWith(M))&&(e=k);var I=0;e.startsWith(a)?I+=a.length:f<a.length&&(I=f),e=e.substring(I),h-=I;var O=e.length,L=e.length-i.length;e.endsWith(i)?O=L:(h>L||h>e.length-i.length)&&(O=h),e=e.substring(0,O),e=xU(R?"-"+e:e,o),e=(e.match(wU(y))||[]).join("");var F=e.indexOf(y);e=e.replace(new RegExp(I3(y),"g"),function(V,U){return U===F?".":""});var X=nw(e,o),W=X.beforeDecimal,Y=X.afterDecimal,B=X.addNegation;return c.end-c.start<u.end-u.start&&W===""&&x&&!parseFloat(Y)&&(e=B?"-":""),e}function EU(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var o=Array.from({length:e.length+1}).map(function(){return!0}),a=e[0]==="-";o.fill(!1,0,n.length+(a?1:0));var i=e.length;return o.fill(!1,i-r.length+1,i+1),o}function RU(e){var t=Cv(e),n=t.thousandSeparator,r=t.decimalSeparator,o=e.prefix;o===void 0&&(o="");var a=e.allowNegative;if(a===void 0&&(a=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return o.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+o+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},e),{allowNegative:a})}function _U(e){e=RU(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=ns);var a=e.onBlur;a===void 0&&(a=ns);var i=e.thousandSeparator,s=e.decimalScale,u=e.fixedDecimalScale,c=e.prefix;c===void 0&&(c="");var f=e.defaultValue,h=e.value,m=e.valueIsNumericString,v=e.onValueChange,y=k3(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=Cv(e),w=x.decimalSeparator,S=x.allowedDecimalSeparators,E=function(B){return z_(B,e)},R=function(B,V){return CU(B,V,e)},D=Mu(h)?f:h,A=m??SU(D,c,t);Mu(h)?Mu(f)||(A=A||typeof f=="number"):A=A||typeof h=="number";var N=function(B){return M3(B)?B:(typeof B=="number"&&(B=P3(B)),A&&typeof s=="number"?F_(B,s,!!u):B)},k=B3(N(h),N(f),!!A,E,R,v),M=k[0],I=M.numAsString,O=M.formattedValue,L=k[1],F=function(B){var V=B.target,U=B.key,$=V.selectionStart,j=V.selectionEnd,G=V.value;if(G===void 0&&(G=""),(U==="Backspace"||U==="Delete")&&j<c.length){B.preventDefault();return}if($!==j){o(B);return}U==="Backspace"&&G[0]==="-"&&$===c.length+1&&n&&Ys(V,1),s&&u&&(U==="Backspace"&&G[$-1]===w?(Ys(V,$-1),B.preventDefault()):U==="Delete"&&G[$]===w&&B.preventDefault()),S?.includes(U)&&G[$]===w&&Ys(V,$+1);var Q=i===!0?",":i;U==="Backspace"&&G[$-1]===Q&&Ys(V,$-1),U==="Delete"&&G[$]===Q&&Ys(V,$+1),o(B)},X=function(B){var V=I;if(V.match(/\d/g)||(V=""),r||(V=uU(V)),u&&s&&(V=F_(V,s,u)),V!==I){var U=z_(V,e);L({formattedValue:U,value:V,floatValue:parseFloat(V)},{event:B,source:qd.event})}a(B)},W=function(B){return B===w?!0:Xd(B)},Y=function(B){var V=B.currentValue,U=B.lastValue,$=B.formattedValue,j=B.currentValueIndex,G=B.formattedValueIndex,Q=V[j],te=$[G],de=j3(U,V),we=de.to,ie=function(oe){return R(oe).indexOf(".")+c.length};return h===0&&u&&s&&V[we.start]===w&&ie(V)<j&&ie($)>G?!1:j>=we.start&&j<we.end&&S&&S.includes(Q)&&te===w?!0:Q===te};return Object.assign(Object.assign({},y),{value:O,valueIsNumericString:!1,isValidInputCharacter:W,isCharacterSame:Y,onValueChange:L,format:E,removeFormatting:R,getCaretBoundary:function(B){return EU(B,e)},onKeyDown:F,onBlur:X})}function TU(e){var t=_U(e);return ut.createElement(bU,Object.assign({},t))}function U_({direction:e,style:t,...n}){return b.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var K0={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const DU=/^(0\.0*|-0(\.0*)?)$/,AU=/^-?0\d+(\.\d+)?\.?$/,NU=/\.\d*0$/;function Q0(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function Ub(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||Q0(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function kU(e){return e.toString().replace(".","").length}function MU(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&kU(t)<14&&t!==""}function V_(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,o=n===void 0||e<=n;return r&&o}const IU={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},OU=(e,{size:t})=>({controls:{"--ni-chevron-size":Et(t,"ni-chevron-size")}});function PU(e,t,n){const r=e.toString().replace(/^0+/,""),o=parseFloat(r);return Number.isNaN(o)?r:o>Number.MAX_SAFE_INTEGER?t!==void 0?t:r:Op(o,n,t)}const Iu=Me((e,t)=>{const n=Ce("NumberInput",IU,e),{className:r,classNames:o,styles:a,unstyled:i,vars:s,onChange:u,onValueChange:c,value:f,defaultValue:h,max:m,min:v,step:y,hideControls:x,rightSection:w,isAllowed:S,clampBehavior:E,onBlur:R,allowDecimal:D,decimalScale:A,onKeyDown:N,onKeyDownCapture:k,handlersRef:M,startValue:I,disabled:O,rightSectionPointerEvents:L,allowNegative:F,readOnly:X,size:W,rightSectionWidth:Y,stepHoldInterval:B,stepHoldDelay:V,allowLeadingZeros:U,withKeyboardEvents:$,trimLeadingZeroesOnBlur:j,attributes:G,...Q}=n,te=et({name:"NumberInput",classes:K0,props:n,classNames:o,styles:a,unstyled:i,attributes:G,vars:s,varsResolver:OU}),{resolvedClassNames:de,resolvedStyles:we}=fl({classNames:o,styles:a,props:n}),[ie,oe]=Da({value:f,defaultValue:h,finalValue:"",onChange:u}),ve=V!==void 0&&B!==void 0,pe=_.useRef(null),Oe=_.useRef(null),je=_.useRef(0),Pe=(Ae,Be)=>{Be.source==="event"&&oe(MU(Ae.floatValue,Ae.value)&&!DU.test(Ae.value)&&!(U&&AU.test(Ae.value))&&!NU.test(Ae.value)?Ae.floatValue:Ae.value),c?.(Ae,Be)},Te=Ae=>{const Be=String(Ae).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Be?Math.max(0,(Be[1]?Be[1].length:0)-(Be[2]?+Be[2]:0)):0},Je=Ae=>{pe.current&&typeof Ae<"u"&&pe.current.setSelectionRange(Ae,Ae)},it=_.useRef(Yp);it.current=()=>{if(!Ub(ie))return;let Ae;const Be=Te(ie),rt=Te(y),kt=Math.max(Be,rt),Rt=10**kt;if(!Q0(ie)&&(typeof ie!="number"||Number.isNaN(ie)))Ae=Op(I,v,m);else if(m!==void 0){const zt=(Math.round(Number(ie)*Rt)+Math.round(y*Rt))/Rt;Ae=zt<=m?zt:m}else Ae=(Math.round(Number(ie)*Rt)+Math.round(y*Rt))/Rt;const jn=Ae.toFixed(kt);oe(parseFloat(jn)),c?.({floatValue:parseFloat(jn),formattedValue:jn,value:jn},{source:"increment"}),setTimeout(()=>Je(pe.current?.value.length),0)};const nt=_.useRef(Yp);nt.current=()=>{if(!Ub(ie))return;let Ae;const Be=v!==void 0?v:F?Number.MIN_SAFE_INTEGER:0,rt=Te(ie),kt=Te(y),Rt=Math.max(rt,kt),jn=10**Rt;if(!Q0(ie)&&typeof ie!="number"||Number.isNaN(ie))Ae=Op(I,Be,m);else{const Jt=(Math.round(Number(ie)*jn)-Math.round(y*jn))/jn;Ae=Be!==void 0&&Jt<Be?Be:Jt}const zt=Ae.toFixed(Rt);oe(parseFloat(zt)),c?.({floatValue:parseFloat(zt),formattedValue:zt,value:zt},{source:"decrement"}),setTimeout(()=>Je(pe.current?.value.length),0)};const _e=Ae=>{N?.(Ae),!(X||!$)&&(Ae.key==="ArrowUp"&&(Ae.preventDefault(),it.current?.()),Ae.key==="ArrowDown"&&(Ae.preventDefault(),nt.current?.()))},De=Ae=>{if(k?.(Ae),Ae.key==="Backspace"){const Be=pe.current;Be&&Be.selectionStart===0&&Be.selectionStart===Be.selectionEnd&&(Ae.preventDefault(),window.setTimeout(()=>Je(0),0))}},ke=Ae=>{let Be=ie;E==="blur"&&typeof Be=="number"&&(Be=Op(Be,v,m)),j&&typeof Be=="string"&&Te(Be)<15&&(Be=PU(Be,m,v)),ie!==Be&&oe(Be),R?.(Ae)};zd(M,{increment:it.current,decrement:nt.current});const Ze=Ae=>{Ae?it.current?.():nt.current?.(),je.current+=1},st=Ae=>{if(Ze(Ae),ve){const Be=typeof B=="number"?B:B(je.current);Oe.current=window.setTimeout(()=>st(Ae),Be)}},Ye=(Ae,Be)=>{Ae.preventDefault(),pe.current?.focus(),Ze(Be),ve&&(Oe.current=window.setTimeout(()=>st(Be),V))},He=()=>{Oe.current&&window.clearTimeout(Oe.current),Oe.current=null,je.current=0},qt=b.jsxs("div",{...te("controls"),children:[b.jsx(Qo,{...te("control"),tabIndex:-1,"aria-hidden":!0,disabled:O||typeof ie=="number"&&m!==void 0&&ie>=m,mod:{direction:"up"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{Ye(Ae,!0)},onPointerUp:He,onPointerLeave:He,children:b.jsx(U_,{direction:"up"})}),b.jsx(Qo,{...te("control"),tabIndex:-1,"aria-hidden":!0,disabled:O||typeof ie=="number"&&v!==void 0&&ie<=v,mod:{direction:"down"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{Ye(Ae,!1)},onPointerUp:He,onPointerLeave:He,children:b.jsx(U_,{direction:"down"})})]});return b.jsx(po,{component:TU,allowNegative:F,className:kn(K0.root,r),size:W,...Q,readOnly:X,disabled:O,value:ie,getInputRef:On(t,pe),onValueChange:Pe,rightSection:x||X||!Ub(ie)?w:w||qt,classNames:de,styles:we,unstyled:i,__staticSelector:"NumberInput",decimalScale:D?A:0,onKeyDown:_e,onKeyDownCapture:De,rightSectionPointerEvents:L??(O?"none":void 0),rightSectionWidth:Y??`var(--ni-right-section-width-${W||"sm"})`,allowLeadingZeros:U,onBlur:ke,attributes:G,isAllowed:Ae=>E==="strict"?S?S(Ae)&&V_(Ae.floatValue,v,m):V_(Ae.floatValue,v,m):S?S(Ae):!0})});Iu.classes={...po.classes,...K0};Iu.displayName="@mantine/core/NumberInput";const jU=({reveal:e})=>b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:b.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var J0={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const BU={visibilityToggleIcon:jU},FU=(e,{size:t})=>({root:{"--psi-icon-size":Et(t,"psi-icon-size"),"--psi-button-size":Et(t,"psi-button-size")}}),rw=Me((e,t)=>{const n=Ce("PasswordInput",BU,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,required:c,error:f,leftSection:h,disabled:m,id:v,variant:y,inputContainer:x,description:w,label:S,size:E,errorProps:R,descriptionProps:D,labelProps:A,withAsterisk:N,inputWrapperOrder:k,wrapperProps:M,radius:I,rightSection:O,rightSectionWidth:L,rightSectionPointerEvents:F,leftSectionWidth:X,visible:W,defaultVisible:Y,onVisibilityChange:B,visibilityToggleIcon:V,visibilityToggleButtonProps:U,rightSectionProps:$,leftSectionProps:j,leftSectionPointerEvents:G,withErrorStyles:Q,mod:te,attributes:de,...we}=n,ie=Po(v),[oe,ve]=Da({value:W,defaultValue:Y,finalValue:!1,onChange:B}),pe=()=>ve(!oe),Oe=et({name:"PasswordInput",classes:J0,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:de,vars:u,varsResolver:FU}),{resolvedClassNames:je,resolvedStyles:Pe}=fl({classNames:r,styles:i,props:n}),{styleProps:Te,rest:Je}=bf(we),it=R?.id||`${ie}-error`,nt=D?.id||`${ie}-description`,ke=`${!!f&&typeof f!="boolean"?it:""} ${!!w?nt:""}`,Ze=ke.trim().length>0?ke.trim():void 0,st=b.jsx(Cn,{...Oe("visibilityToggle"),disabled:m,radius:I,"aria-hidden":!U,tabIndex:-1,...U,variant:U?.variant??"subtle",color:"gray",unstyled:s,onTouchEnd:Ye=>{Ye.preventDefault(),U?.onTouchEnd?.(Ye),pe()},onMouseDown:Ye=>{Ye.preventDefault(),U?.onMouseDown?.(Ye),pe()},onKeyDown:Ye=>{U?.onKeyDown?.(Ye),Ye.key===" "&&(Ye.preventDefault(),pe())},children:b.jsx(V,{reveal:oe})});return b.jsx(yn.Wrapper,{required:c,id:ie,label:S,error:f,description:w,size:E,classNames:je,styles:Pe,__staticSelector:"PasswordInput",unstyled:s,withAsterisk:N,inputWrapperOrder:k,inputContainer:x,variant:y,labelProps:{...A,htmlFor:ie},descriptionProps:{...D,id:nt},errorProps:{...R,id:it},mod:te,attributes:de,...Oe("root"),...Te,...M,children:b.jsx(yn,{component:"div",error:f,leftSection:h,size:E,classNames:{...je,input:kn(J0.input,je.input)},styles:Pe,radius:I,disabled:m,__staticSelector:"PasswordInput",rightSectionWidth:L,rightSection:O??st,variant:y,unstyled:s,leftSectionWidth:X,rightSectionPointerEvents:F||"all",rightSectionProps:$,leftSectionProps:j,leftSectionPointerEvents:G,withAria:!1,withErrorStyles:Q,attributes:de,children:b.jsx("input",{required:c,"data-invalid":!!f||void 0,"data-with-left-section":!!h||void 0,...Oe("innerInput"),disabled:m,id:ie,ref:t,...Je,"aria-describedby":Ze,autoComplete:Je.autoComplete||"off",type:oe?"text":"password"})})})});rw.classes={...po.classes,...J0};rw.displayName="@mantine/core/PasswordInput";const[LU,F3]=Oo("Progress.Root component was not found in tree");var Cf={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const ow=Me((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,...s}=Ce("ProgressLabel",null,e),u=F3();return b.jsx(re,{ref:t,...u.getStyles("label",{className:r,style:o,classNames:n,styles:a}),...s})});ow.classes=Cf;ow.displayName="@mantine/core/ProgressLabel";const zU=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":Et(t,"progress-size"),"--progress-radius":n===void 0?void 0:hn(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),Ev=Me((e,t)=>{const n=Ce("ProgressRoot",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,autoContrast:c,transitionDuration:f,attributes:h,...m}=n,v=et({name:"Progress",classes:Cf,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:h,vars:u,varsResolver:zU});return b.jsx(LU,{value:{getStyles:v,autoContrast:c},children:b.jsx(re,{ref:t,...v("root"),...m})})});Ev.classes=Cf;Ev.displayName="@mantine/core/ProgressRoot";const UU={withAria:!0},Rv=Me((e,t)=>{const{classNames:n,className:r,style:o,styles:a,vars:i,value:s,withAria:u,color:c,striped:f,animated:h,mod:m,...v}=Ce("ProgressSection",UU,e),y=F3(),x=vr(),w=u?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,"aria-valuetext":`${s}%`}:{};return b.jsx(re,{ref:t,...y.getStyles("section",{className:r,classNames:n,styles:a,style:o}),...v,...w,mod:[{striped:f||h,animated:h},m],__vars:{"--progress-section-width":`${s}%`,"--progress-section-color":Dn(c,x),"--progress-label-color":e1(y.autoContrast,x)?yf({color:c,theme:x,autoContrast:y.autoContrast}):void 0}})});Rv.classes=Cf;Rv.displayName="@mantine/core/ProgressSection";const lc=Me((e,t)=>{const n=Ce("Progress",null,e),{value:r,classNames:o,styles:a,vars:i,color:s,striped:u,animated:c,"aria-label":f,...h}=n,{resolvedClassNames:m,resolvedStyles:v}=fl({classNames:o,styles:a,props:n});return b.jsx(Ev,{ref:t,classNames:m,styles:v,vars:i,...h,children:b.jsx(Rv,{value:r,color:s,striped:u,animated:c,"aria-label":f})})});lc.classes=Cf;lc.displayName="@mantine/core/Progress";lc.Section=Rv;lc.Root=Ev;lc.Label=ow;const VU={duration:100,transition:"fade"};function H_(e,t){return{...VU,...t,...e}}function HU({offset:e,position:t,defaultOpened:n}){const[r,o]=_.useState(n),a=_.useRef(null),{x:i,y:s,elements:u,refs:c,update:f,placement:h}=Zm({placement:t,middleware:[c1({crossAxis:!0,padding:5,rootBoundary:"document"})]}),m=h.includes("right")?e:t.includes("left")?e*-1:0,v=h.includes("bottom")?e:t.includes("top")?e*-1:0,y=_.useCallback(({clientX:x,clientY:w})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:w,left:x+m,top:w+v,right:x,bottom:w}}})},[u.reference]);return _.useEffect(()=>{if(c.floating.current){const x=a.current;x.addEventListener("mousemove",y);const w=ui(c.floating.current);return w.forEach(S=>{S.addEventListener("scroll",f)}),()=>{x.removeEventListener("mousemove",y),w.forEach(S=>{S.removeEventListener("scroll",f)})}}},[u.reference,c.floating.current,f,y,r]),{handleMouseMove:y,x:i,y:s,opened:r,setOpened:o,boundaryRef:a,floating:c.setFloating}}var _v={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const WU={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Er("popover")},$U=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:hn(t),"--tooltip-bg":n?Dn(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),aw=Me((e,t)=>{const n=Ce("TooltipFloating",WU,e),{children:r,refProp:o,withinPortal:a,style:i,className:s,classNames:u,styles:c,unstyled:f,radius:h,color:m,label:v,offset:y,position:x,multiline:w,zIndex:S,disabled:E,defaultOpened:R,variant:D,vars:A,portalProps:N,attributes:k,...M}=n,I=vr(),O=et({name:"TooltipFloating",props:n,classes:_v,className:s,style:i,classNames:u,styles:c,unstyled:f,attributes:k,rootSelector:"tooltip",vars:A,varsResolver:$U}),{handleMouseMove:L,x:F,y:X,opened:W,boundaryRef:Y,floating:B,setOpened:V}=HU({offset:y,position:x,defaultOpened:R});if(!ys(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const U=On(Y,Wm(r),t),$=r.props,j=Q=>{$.onMouseEnter?.(Q),L(Q),V(!0)},G=Q=>{$.onMouseLeave?.(Q),V(!1)};return b.jsxs(b.Fragment,{children:[b.jsx(ms,{...N,withinPortal:a,children:b.jsx(re,{...M,...O("tooltip",{style:{...r1(i,I),zIndex:S,display:!E&&W?"block":"none",top:(X&&Math.round(X))??"",left:(F&&Math.round(F))??""}}),variant:D,ref:B,mod:{multiline:w},children:v})}),_.cloneElement(r,{...$,[o]:U,onMouseEnter:j,onMouseLeave:G})]})});aw.classes=_v;aw.displayName="@mantine/core/TooltipFloating";const L3=_.createContext(!1),GU=L3.Provider,qU=()=>_.useContext(L3),XU={openDelay:0,closeDelay:0};function iw(e){const{openDelay:t,closeDelay:n,children:r}=Ce("TooltipGroup",XU,e);return b.jsx(GU,{value:!0,children:b.jsx(dN,{delay:{open:t,close:n},children:r})})}iw.displayName="@mantine/core/TooltipGroup";iw.extend=e=>e;function YU(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function KU(e){const t=YU(e.middlewares),n=[oN(e.offset)];return t.shift&&n.push(c1(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?em():em(t.flip)),n.push(aN({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?Id():Id(t.inline)):e.inline&&n.push(Id()),n}function QU(e){const[t,n]=_.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:t,a=qU(),i=Po(),s=_.useCallback(A=>{n(A),A&&S(i)},[i]),{x:u,y:c,context:f,refs:h,placement:m,middlewareData:{arrow:{x:v,y}={}}}=Zm({strategy:e.strategy,placement:e.position,open:o,onOpenChange:s,middleware:KU(e),whileElementsMounted:nN}),{delay:x,currentId:w,setCurrentId:S}=fN(f,{id:i}),{getReferenceProps:E,getFloatingProps:R}=pN([uN(f,{enabled:e.events?.hover,delay:a?x:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),c6(f,{enabled:e.events?.focus,visibleOnly:!0}),mN(f,{role:"tooltip"}),hN(f,{enabled:typeof e.opened>"u"})]);ss(()=>{e.onPositionChange?.(m)},[m]);const D=o&&w&&w!==i;return{x:u,y:c,arrowX:v,arrowY:y,reference:h.setReference,floating:h.setFloating,getFloatingProps:R,getReferenceProps:E,isGroupPhase:D,opened:o,placement:m}}const W_={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Er("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},JU=(e,{radius:t,color:n,variant:r,autoContrast:o})=>{const a=e.variantColorResolver({theme:e,color:n||e.primaryColor,autoContrast:o,variant:r||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:hn(t),"--tooltip-bg":n?a.background:void 0,"--tooltip-color":n?a.color:void 0}}},Io=Me((e,t)=>{const n=Ce("Tooltip",W_,e),{children:r,position:o,refProp:a,label:i,openDelay:s,closeDelay:u,onPositionChange:c,opened:f,defaultOpened:h,withinPortal:m,radius:v,color:y,classNames:x,styles:w,unstyled:S,style:E,className:R,withArrow:D,arrowSize:A,arrowOffset:N,arrowRadius:k,arrowPosition:M,offset:I,transitionProps:O,multiline:L,events:F,zIndex:X,disabled:W,positionDependencies:Y,onClick:B,onMouseEnter:V,onMouseLeave:U,inline:$,variant:j,keepMounted:G,vars:Q,portalProps:te,mod:de,floatingStrategy:we,middlewares:ie,autoContrast:oe,attributes:ve,target:pe,...Oe}=Ce("Tooltip",W_,n),{dir:je}=xf(),Pe=_.useRef(null),Te=QU({position:kN(je,o),closeDelay:u,openDelay:s,onPositionChange:c,opened:f,defaultOpened:h,events:F,arrowRef:Pe,arrowOffset:N,offset:typeof I=="number"?I+(D?A/2:0):I,positionDependencies:[...Y,pe??r],inline:$,strategy:we,middlewares:ie});_.useEffect(()=>{const ke=pe instanceof HTMLElement?pe:typeof pe=="string"?document.querySelector(pe):pe?.current||null;ke&&Te.reference(ke)},[pe,Te]);const Je=et({name:"Tooltip",props:n,classes:_v,className:R,style:E,classNames:x,styles:w,unstyled:S,attributes:ve,rootSelector:"tooltip",vars:Q,varsResolver:JU});if(!pe&&!ys(r))return null;if(pe){const ke=H_(O,{duration:100,transition:"fade"});return b.jsx(b.Fragment,{children:b.jsx(ms,{...te,withinPortal:m,children:b.jsx(fi,{...ke,keepMounted:G,mounted:!W&&!!Te.opened,duration:Te.isGroupPhase?10:ke.duration,children:Ze=>b.jsxs(re,{...Oe,"data-fixed":we==="fixed"||void 0,variant:j,mod:[{multiline:L},de],...Te.getFloatingProps({ref:Te.floating,className:Je("tooltip").className,style:{...Je("tooltip").style,...Ze,zIndex:X,top:Te.y??0,left:Te.x??0}}),children:[i,b.jsx(tm,{ref:Pe,arrowX:Te.arrowX,arrowY:Te.arrowY,visible:D,position:Te.placement,arrowSize:A,arrowOffset:N,arrowRadius:k,arrowPosition:M,...Je("arrow")})]})})})})}const it=r,nt=it.props,_e=On(Te.reference,Wm(it),t),De=H_(O,{duration:100,transition:"fade"});return b.jsxs(b.Fragment,{children:[b.jsx(ms,{...te,withinPortal:m,children:b.jsx(fi,{...De,keepMounted:G,mounted:!W&&!!Te.opened,duration:Te.isGroupPhase?10:De.duration,children:ke=>b.jsxs(re,{...Oe,"data-fixed":we==="fixed"||void 0,variant:j,mod:[{multiline:L},de],...Te.getFloatingProps({ref:Te.floating,className:Je("tooltip").className,style:{...Je("tooltip").style,...ke,zIndex:X,top:Te.y??0,left:Te.x??0}}),children:[i,b.jsx(tm,{ref:Pe,arrowX:Te.arrowX,arrowY:Te.arrowY,visible:D,position:Te.placement,arrowSize:A,arrowOffset:N,arrowRadius:k,arrowPosition:M,...Je("arrow")})]})})}),_.cloneElement(it,Te.getReferenceProps({onClick:B,onMouseEnter:V,onMouseLeave:U,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:kn(R,nt.className),...nt,[a]:_e}))]})});Io.classes=_v;Io.displayName="@mantine/core/Tooltip";Io.Floating=aw;Io.Group=iw;var z3={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const ZU={withItemsBorders:!0},eV=(e,{radius:t,color:n,transitionDuration:r,size:o,transitionTimingFunction:a})=>({root:{"--sc-radius":t===void 0?void 0:hn(t),"--sc-color":n?Dn(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":a,"--sc-padding":Et(o,"sc-padding"),"--sc-font-size":Vn(o)}}),uc=Me((e,t)=>{const n=Ce("SegmentedControl",ZU,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,data:c,value:f,defaultValue:h,onChange:m,size:v,name:y,disabled:x,readOnly:w,fullWidth:S,orientation:E,radius:R,color:D,transitionDuration:A,transitionTimingFunction:N,variant:k,autoContrast:M,withItemsBorders:I,mod:O,attributes:L,...F}=n,X=et({name:"SegmentedControl",props:n,classes:z3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:L,vars:u,varsResolver:eV}),W=vr(),Y=c.map(pe=>typeof pe=="string"?{label:pe,value:pe}:pe),B=yF(),[V,U]=_.useState(Sa()),[$,j]=_.useState(null),[G,Q]=_.useState({}),te=(pe,Oe)=>{G[Oe]=pe,Q(G)},[de,we]=Da({value:f,defaultValue:h,finalValue:Array.isArray(c)?Y.find(pe=>!pe.disabled)?.value??c[0]?.value??null:null,onChange:m}),ie=Po(y),oe=Y.map(pe=>_.createElement(re,{...X("control"),mod:{active:de===pe.value,orientation:E},key:pe.value},_.createElement("input",{...X("input"),disabled:x||pe.disabled,type:"radio",name:ie,value:pe.value,id:`${ie}-${pe.value}`,checked:de===pe.value,onChange:()=>!w&&we(pe.value),"data-focus-ring":W.focusRing,key:`${pe.value}-input`}),_.createElement(re,{component:"label",...X("label"),mod:{active:de===pe.value&&!(x||pe.disabled),disabled:x||pe.disabled,"read-only":w},htmlFor:`${ie}-${pe.value}`,ref:Oe=>te(Oe,pe.value),__vars:{"--sc-label-color":D!==void 0?yf({color:D,theme:W,autoContrast:M}):void 0},key:`${pe.value}-label`},b.jsx("span",{...X("innerLabel"),children:pe.label})))),ve=On(t,pe=>j(pe));return hF(()=>{U(Sa())},[c.length]),c.length===0?null:b.jsxs(re,{...X("root"),variant:k,size:v,ref:ve,mod:[{"full-width":S,orientation:E,initialized:B,"with-items-borders":I},O],...F,role:"radiogroup","data-disabled":x,children:[typeof de=="string"&&b.jsx(N1,{target:G[de],parent:$,component:"span",transitionDuration:"var(--sc-transition-duration)",...X("indicator")},V),oe]})});uc.classes=z3;uc.displayName="@mantine/core/SegmentedControl";const tV={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},ii=Me((e,t)=>{const n=Ce("Select",tV,e),{classNames:r,styles:o,unstyled:a,vars:i,dropdownOpened:s,defaultDropdownOpened:u,onDropdownClose:c,onDropdownOpen:f,onFocus:h,onBlur:m,onClick:v,onChange:y,data:x,value:w,defaultValue:S,selectFirstOptionOnChange:E,onOptionSubmit:R,comboboxProps:D,readOnly:A,disabled:N,filter:k,limit:M,withScrollArea:I,maxDropdownHeight:O,size:L,searchable:F,rightSection:X,checkIconPosition:W,withCheckIcon:Y,nothingFoundMessage:B,name:V,form:U,searchValue:$,defaultSearchValue:j,onSearchChange:G,allowDeselect:Q,error:te,rightSectionPointerEvents:de,id:we,clearable:ie,clearButtonProps:oe,hiddenInputProps:ve,renderOption:pe,onClear:Oe,autoComplete:je,scrollAreaProps:Pe,__defaultRightSection:Te,__clearSection:Je,__clearable:it,chevronColor:nt,autoSelectOnBlur:_e,attributes:De,...ke}=n,Ze=_.useMemo(()=>Cz(x),[x]),st=_.useMemo(()=>JN(Ze),[Ze]),Ye=Po(we),[He,qt,Ae]=Da({value:w,defaultValue:S,finalValue:null,onChange:y}),Be=typeof He=="string"?st[He]:void 0,rt=vF(Be),[kt,Rt,jn]=Da({value:$,defaultValue:j,finalValue:Be?Be.label:"",onChange:G}),zt=o3({opened:s,defaultOpened:u,onDropdownOpen:()=>{f?.(),zt.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c?.(),setTimeout(zt.resetSelectedOption,0)}}),Jt=ln=>{Rt(ln),zt.resetSelectedOption()},{resolvedClassNames:_r,resolvedStyles:Hr}=fl({props:n,styles:o,classNames:r});_.useEffect(()=>{E&&zt.selectFirstOption()},[E,kt]),_.useEffect(()=>{w===null&&Jt(""),typeof w=="string"&&Be&&(rt?.value!==Be.value||rt?.label!==Be.label)&&Jt(Be.label)},[w,Be]),_.useEffect(()=>{!Ae&&!jn&&Jt(typeof He=="string"&&st[He]?.label||"")},[x,He]);const gr=b.jsx(Gt.ClearButton,{...oe,onClear:()=>{qt(null,null),Jt(""),Oe?.()}}),La=ie&&!!He&&!N&&!A;return b.jsxs(b.Fragment,{children:[b.jsxs(Gt,{store:zt,__staticSelector:"Select",classNames:_r,styles:Hr,unstyled:a,readOnly:A,size:L,attributes:De,onOptionSubmit:ln=>{R?.(ln);const Ti=Q&&st[ln].value===He?null:st[ln],ft=Ti?Ti.value:null;ft!==He&&qt(ft,Ti),!Ae&&Jt(typeof ft=="string"&&Ti?.label||""),zt.closeDropdown()},...D,children:[b.jsx(Gt.Target,{targetType:F?"input":"button",autoComplete:je,children:b.jsx(po,{id:Ye,ref:t,__defaultRightSection:b.jsx(Gt.Chevron,{size:L,error:te,unstyled:a,color:nt}),__clearSection:gr,__clearable:La,rightSection:X,rightSectionPointerEvents:de||(La?"all":"none"),...ke,size:L,__staticSelector:"Select",disabled:N,readOnly:A||!F,value:kt,onChange:ln=>{Jt(ln.currentTarget.value),zt.openDropdown(),E&&zt.selectFirstOption()},onFocus:ln=>{F&&zt.openDropdown(),h?.(ln)},onBlur:ln=>{_e&&zt.clickSelectedOption(),F&&zt.closeDropdown(),Jt(He!=null&&st[He]?.label||""),m?.(ln)},onClick:ln=>{F?zt.openDropdown():zt.toggleDropdown(),v?.(ln)},classNames:_r,styles:Hr,unstyled:a,pointer:!F,error:te,attributes:De})}),b.jsx(Kz,{data:Ze,hidden:A||N,filter:k,search:kt,limit:M,hiddenWhenEmpty:!B,withScrollArea:I,maxDropdownHeight:O,filterOptions:!!F&&Be?.label!==kt,value:He,checkIconPosition:W,withCheckIcon:Y,nothingFoundMessage:B,unstyled:a,labelId:ke.label?`${Ye}-label`:void 0,"aria-label":ke.label?void 0:ke["aria-label"],renderOption:pe,scrollAreaProps:Pe})]}),b.jsx(Gt.HiddenInput,{value:He,name:V,form:U,disabled:N,...ve})]})});ii.classes={...po.classes,...Gt.classes};ii.displayName="@mantine/core/Select";function nV({spacing:e,verticalSpacing:t,cols:n,selector:r}){const o=vr(),a=t===void 0?e:t,i=vf({"--sg-spacing-x":fr(Nu(e)),"--sg-spacing-y":fr(Nu(a)),"--sg-cols":Nu(n)?.toString()}),s=Or(o.breakpoints).reduce((f,h)=>(f[h]||(f[h]={}),typeof e=="object"&&e[h]!==void 0&&(f[h]["--sg-spacing-x"]=fr(e[h])),typeof a=="object"&&a[h]!==void 0&&(f[h]["--sg-spacing-y"]=fr(a[h])),typeof n=="object"&&n[h]!==void 0&&(f[h]["--sg-cols"]=n[h]),f),{}),c=GB(Or(s),o.breakpoints).filter(f=>Or(s[f.value]).length>0).map(f=>({query:`(min-width: ${o.breakpoints[f.value]})`,styles:s[f.value]}));return b.jsx(t1,{styles:i,media:c,selector:r})}function Vb(e){return typeof e=="object"&&e!==null?Or(e):[]}function rV(e){return e.sort((t,n)=>Ld(t)-Ld(n))}function oV({spacing:e,verticalSpacing:t,cols:n}){const r=Array.from(new Set([...Vb(e),...Vb(t),...Vb(n)]));return rV(r)}function aV({spacing:e,verticalSpacing:t,cols:n,selector:r}){const o=t===void 0?e:t,a=vf({"--sg-spacing-x":fr(Nu(e)),"--sg-spacing-y":fr(Nu(o)),"--sg-cols":Nu(n)?.toString()}),i=oV({spacing:e,verticalSpacing:t,cols:n}),s=i.reduce((c,f)=>(c[f]||(c[f]={}),typeof e=="object"&&e[f]!==void 0&&(c[f]["--sg-spacing-x"]=fr(e[f])),typeof o=="object"&&o[f]!==void 0&&(c[f]["--sg-spacing-y"]=fr(o[f])),typeof n=="object"&&n[f]!==void 0&&(c[f]["--sg-cols"]=n[f]),c),{}),u=i.map(c=>({query:`simple-grid (min-width: ${c})`,styles:s[c]}));return b.jsx(t1,{styles:a,container:u,selector:r})}var U3={container:"m_925c2d2c",root:"m_2415a157"};const iV={cols:1,spacing:"md",type:"media"},cc=Me((e,t)=>{const n=Ce("SimpleGrid",iV,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,cols:c,verticalSpacing:f,spacing:h,type:m,attributes:v,...y}=n,x=et({name:"SimpleGrid",classes:U3,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:v,vars:u}),w=FA();return m==="container"?b.jsxs(b.Fragment,{children:[b.jsx(aV,{...n,selector:`.${w}`}),b.jsx("div",{...x("container"),children:b.jsx(re,{ref:t,...x("root",{className:w}),...y})})]}):b.jsxs(b.Fragment,{children:[b.jsx(nV,{...n,selector:`.${w}`}),b.jsx(re,{ref:t,...x("root",{className:w}),...y})]})});cc.classes=U3;cc.displayName="@mantine/core/SimpleGrid";var V3={root:"m_6d731127"};const sV={gap:"md",align:"stretch",justify:"flex-start"},lV=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":fr(t),"--stack-align":n,"--stack-justify":r}}),to=Me((e,t)=>{const n=Ce("Stack",sV,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,align:c,justify:f,gap:h,variant:m,attributes:v,...y}=n,x=et({name:"Stack",props:n,classes:V3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:v,vars:u,varsResolver:lV});return b.jsx(re,{ref:t,...x("root"),variant:m,...y})});to.classes=V3;to.displayName="@mantine/core/Stack";const[uV,cV]=Oo("Table component was not found in the tree");var Ef={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function dV(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function pl(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=Me((o,a)=>{const i=Ce(n,{},o),{classNames:s,className:u,style:c,styles:f,...h}=i,m=cV();return b.jsx(re,{component:e,ref:a,...dV(m,t),...m.getStyles(e,{className:u,classNames:s,style:c,styles:f,props:i}),...h})});return r.displayName=`@mantine/core/${n}`,r.classes=Ef,r}const Z0=pl("th",{columnBorder:!0}),H3=pl("td",{columnBorder:!0}),Bp=pl("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),W3=pl("thead",{stickyHeader:!0}),$3=pl("tbody"),G3=pl("tfoot"),q3=pl("caption",{captionSide:!0});function sw({data:e}){return b.jsxs(b.Fragment,{children:[e.caption&&b.jsx(q3,{children:e.caption}),e.head&&b.jsx(W3,{children:b.jsx(Bp,{children:e.head.map((t,n)=>b.jsx(Z0,{children:t},n))})}),e.body&&b.jsx($3,{children:e.body.map((t,n)=>b.jsx(Bp,{children:t.map((r,o)=>b.jsx(H3,{children:r},o))},n))}),e.foot&&b.jsx(G3,{children:b.jsx(Bp,{children:e.foot.map((t,n)=>b.jsx(Z0,{children:t},n))})})]})}sw.displayName="@mantine/core/TableDataRenderer";const fV={type:"scrollarea"},hV=(e,{minWidth:t,maxHeight:n,type:r})=>({scrollContainer:{"--table-min-width":xe(t),"--table-max-height":xe(n),"--table-overflow":r==="native"?"auto":void 0}}),lw=Me((e,t)=>{const n=Ce("TableScrollContainer",fV,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,children:c,minWidth:f,maxHeight:h,type:m,scrollAreaProps:v,attributes:y,...x}=n,w=et({name:"TableScrollContainer",classes:Ef,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:y,vars:u,varsResolver:hV,rootSelector:"scrollContainer"});return b.jsx(re,{component:m==="scrollarea"?ho:"div",...m==="scrollarea"?h?{offsetScrollbars:"xy",...v}:{offsetScrollbars:"x",...v}:{},ref:t,...w("scrollContainer"),...x,children:b.jsx("div",{...w("scrollContainerInner"),children:c})})});lw.classes=Ef;lw.displayName="@mantine/core/TableScrollContainer";const pV={withRowBorders:!0,verticalSpacing:7},mV=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:o,borderColor:a,stripedColor:i,highlightOnHoverColor:s,striped:u,highlightOnHover:c,stickyHeaderOffset:f,stickyHeader:h})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":fr(r),"--table-vertical-spacing":fr(o),"--table-border-color":a?Dn(a,e):void 0,"--table-striped-color":u&&i?Dn(i,e):void 0,"--table-highlight-on-hover-color":c&&s?Dn(s,e):void 0,"--table-sticky-header-offset":h?xe(f):void 0}}),Re=Me((e,t)=>{const n=Ce("Table",pV,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,horizontalSpacing:c,verticalSpacing:f,captionSide:h,stripedColor:m,highlightOnHoverColor:v,striped:y,highlightOnHover:x,withColumnBorders:w,withRowBorders:S,withTableBorder:E,borderColor:R,layout:D,variant:A,data:N,children:k,stickyHeader:M,stickyHeaderOffset:I,mod:O,tabularNums:L,attributes:F,...X}=n,W=et({name:"Table",props:n,className:o,style:a,classes:Ef,classNames:r,styles:i,unstyled:s,attributes:F,rootSelector:"table",vars:u,varsResolver:mV});return b.jsx(uV,{value:{getStyles:W,stickyHeader:M,striped:y===!0?"odd":y||void 0,highlightOnHover:x,withColumnBorders:w,withRowBorders:S,captionSide:h||"bottom"},children:b.jsx(re,{component:"table",variant:A,ref:t,mod:[{"data-with-table-border":E,"data-tabular-nums":L},O],...W("table"),...X,children:k||!!N&&b.jsx(sw,{data:N})})})});Re.classes=Ef;Re.displayName="@mantine/core/Table";Re.Td=H3;Re.Th=Z0;Re.Tr=Bp;Re.Thead=W3;Re.Tbody=$3;Re.Tfoot=G3;Re.Caption=q3;Re.ScrollContainer=lw;Re.DataRenderer=sw;const Na=Me((e,t)=>{const n=Ce("TextInput",null,e);return b.jsx(po,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Na.classes=po.classes;Na.displayName="@mantine/core/TextInput";var X3={root:"m_7341320d"};const vV=(e,{size:t,radius:n,variant:r,gradient:o,color:a,autoContrast:i})=>{const s=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:i});return{root:{"--ti-size":Et(t,"ti-size"),"--ti-radius":n===void 0?void 0:hn(n),"--ti-bg":a||r?s.background:void 0,"--ti-color":a||r?s.color:void 0,"--ti-bd":a||r?s.border:void 0}}},uw=Me((e,t)=>{const n=Ce("ThemeIcon",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,autoContrast:c,attributes:f,...h}=n,m=et({name:"ThemeIcon",classes:X3,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:f,vars:u,varsResolver:vV});return b.jsx(re,{ref:t,...m("root"),...h})});uw.classes=X3;uw.displayName="@mantine/core/ThemeIcon";const gV=["h1","h2","h3","h4","h5","h6"],yV=["xs","sm","md","lg","xl"];function bV(e,t){const n=t!==void 0?t:`h${e}`;return gV.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:yV.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:xe(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var Y3={root:"m_8a5d1357"};const xV={order:1},wV=(e,{order:t,size:n,lineClamp:r,textWrap:o})=>{const a=bV(t||1,n);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":o}}},jt=Me((e,t)=>{const n=Ce("Title",xV,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,order:u,vars:c,size:f,variant:h,lineClamp:m,textWrap:v,mod:y,attributes:x,...w}=n,S=et({name:"Title",props:n,classes:Y3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:x,vars:c,varsResolver:wV});return[1,2,3,4,5,6].includes(u)?b.jsx(re,{...S("root"),component:`h${u}`,variant:h,ref:t,mod:[{order:u,"data-line-clamp":typeof m=="number"},y],size:f,...w}):null});jt.classes=Y3;jt.displayName="@mantine/core/Title";const cw=_.createContext(null);cw.displayName="@mantine/modals/ModalsContext";function SV(){const e=_.useContext(cw);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function CV({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:o=!0,closeOnCancel:a=!0,groupProps:i,onCancel:s,onConfirm:u,children:c}){const{cancel:f,confirm:h}=r,m=SV(),v=x=>{typeof t?.onClick=="function"&&t?.onClick(x),typeof s=="function"&&s(),a&&m.closeModal(e)},y=x=>{typeof n?.onClick=="function"&&n?.onClick(x),typeof u=="function"&&u(),o&&m.closeModal(e)};return b.jsxs(b.Fragment,{children:[c&&b.jsx(re,{mb:"md",children:c}),b.jsxs($e,{mt:c?0:"md",justify:"flex-end",...i,children:[b.jsx(Fe,{variant:"default",...t,onClick:v,children:t?.children||f}),b.jsx(Fe,{...n,onClick:y,children:n?.children||h})]})]})}const[EV,ml]=xF("mantine-modals"),RV=e=>{const t=e.modalId||Sa();return ml("openModal")({...e,modalId:t}),t},_V=e=>{const t=e.modalId||Sa();return ml("openConfirmModal")({...e,modalId:t}),t},TV=e=>{const t=e.modalId||Sa();return ml("openContextModal")({...e,modalId:t}),t},DV=ml("closeModal"),AV=ml("closeAllModals"),NV=e=>ml("updateModal")(e),kV=e=>ml("updateContextModal")(e),K3={open:RV,close:DV,closeAll:AV,openConfirmModal:_V,openContextModal:TV,updateModal:NV,updateContextModal:kV};function $_(e,t){t&&e.type==="confirm"&&e.props.onCancel?.(),e.props.onClose?.()}function MV(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(o=>o.id===t.modalId);if(!n)return e;$_(n,t.canceled);const r=e.modals.filter(o=>o.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{$_(n,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:n,newProps:r}=t,o=e.modals.map(i=>i.id!==n?i:i.type==="content"||i.type==="confirm"?{...i,props:{...i.props,...r}}:i.type==="context"?{...i,props:{...i.props,...r,innerProps:{...i.props.innerProps,...r.innerProps}}}:i),a=e.current?.id===n&&o.find(i=>i.id===n)||e.current;return{...e,modals:o,current:a}}default:return e}}function IV(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:o,closeOnConfirm:a,closeOnCancel:i,cancelProps:s,confirmProps:u,groupProps:c,labels:f,...h}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:o,closeOnConfirm:a,closeOnCancel:i,cancelProps:s,confirmProps:u,groupProps:c,labels:f},modalProps:{id:t,...h}}}function OV({children:e,modalProps:t,labels:n,modals:r}){const[o,a]=_.useReducer(MV,{modals:[],current:null}),i=_.useRef(o);i.current=o;const s=_.useCallback(E=>{a({type:"CLOSE_ALL",canceled:E})},[i,a]),u=_.useCallback(({modalId:E,...R})=>{const D=E||Sa();return a({type:"OPEN",modal:{id:D,type:"content",props:R}}),D},[a]),c=_.useCallback(({modalId:E,...R})=>{const D=E||Sa();return a({type:"OPEN",modal:{id:D,type:"confirm",props:R}}),D},[a]),f=_.useCallback((E,{modalId:R,...D})=>{const A=R||Sa();return a({type:"OPEN",modal:{id:A,type:"context",props:D,ctx:E}}),A},[a]),h=_.useCallback((E,R)=>{a({type:"CLOSE",modalId:E,canceled:R})},[i,a]),m=_.useCallback(({modalId:E,...R})=>{a({type:"UPDATE",modalId:E,newProps:R})},[a]),v=_.useCallback(({modalId:E,...R})=>{a({type:"UPDATE",modalId:E,newProps:R})},[a]);EV({openModal:u,openConfirmModal:c,openContextModal:({modal:E,...R})=>f(E,R),closeModal:h,closeContextModal:h,closeAllModals:s,updateModal:m,updateContextModal:v});const y={modalProps:t||{},modals:o.modals,openModal:u,openConfirmModal:c,openContextModal:f,closeModal:h,closeContextModal:h,closeAll:s,updateModal:m,updateContextModal:v},x=()=>{const E=i.current.current;switch(E?.type){case"context":{const{innerProps:R,...D}=E.props,A=r[E.ctx];return{modalProps:D,content:b.jsx(A,{innerProps:R,context:y,id:E.id})}}case"confirm":{const{modalProps:R,confirmProps:D}=IV(E.props);return{modalProps:R,content:b.jsx(CV,{...D,id:E.id,labels:E.props.labels||n})}}case"content":{const{children:R,...D}=E.props;return{modalProps:D,content:R}}default:return{modalProps:{},content:null}}},{modalProps:w,content:S}=x();return b.jsxs(cw.Provider,{value:y,children:[b.jsx(pr,{zIndex:Er("modal")+1,...t,...w,opened:o.modals.length>0,onClose:()=>h(o.current?.id),children:S}),e]})}function PV(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(o){t=typeof o=="function"?o(t):o},setState(o){this.updateState(o),r.forEach(a=>a(t))},initialize(o){n||(t=o,n=!0)},subscribe(o){return r.add(o),()=>r.delete(o)}}}function jV(e){return _.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function BV(e,t,n){const r=[],o=[],a={};for(const i of e){const s=i.position||t;a[s]=a[s]||0,a[s]+=1,a[s]<=n?o.push(i):r.push(i)}return{notifications:o,queue:r}}const FV=()=>PV({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),vl=FV(),LV=(e=vl)=>jV(e);function dc(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),o=BV(r,n.defaultPosition,n.limit);e.setState({notifications:o.notifications,queue:o.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function zV(e,t=vl){const n=e.id||Sa();return dc(t,r=>e.id&&r.some(o=>o.id===e.id)?r:[...r,{...e,id:n}]),n}function Q3(e,t=vl){return dc(t,n=>n.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function UV(e,t=vl){return dc(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function VV(e=vl){dc(e,()=>[])}function HV(e=vl){dc(e,t=>t.slice(0,e.getState().limit))}const eo={show:zV,hide:Q3,update:UV,clean:VV,cleanQueue:HV,updateState:dc};function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ex(e,t)}function J3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ex(e,t)}const G_={disabled:!1},rm=ut.createContext(null);var WV=function(t){return t.scrollTop},Md="unmounted",Hs="exited",Ws="entering",bu="entered",tx="exiting",yi=(function(e){J3(t,e);function t(r,o){var a;a=e.call(this,r,o)||this;var i=o,s=i&&!i.isMounting?r.enter:r.appear,u;return a.appearStatus=null,r.in?s?(u=Hs,a.appearStatus=Ws):u=bu:r.unmountOnExit||r.mountOnEnter?u=Md:u=Hs,a.state={status:u},a.nextCallback=null,a}t.getDerivedStateFromProps=function(o,a){var i=o.in;return i&&a.status===Md?{status:Hs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var a=null;if(o!==this.props){var i=this.state.status;this.props.in?i!==Ws&&i!==bu&&(a=Ws):(i===Ws||i===bu)&&(a=tx)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,a,i,s;return a=i=s=o,o!=null&&typeof o!="number"&&(a=o.exit,i=o.enter,s=o.appear!==void 0?o.appear:i),{exit:a,enter:i,appear:s}},n.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Ws){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Ru.findDOMNode(this);i&&WV(i)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hs&&this.setState({status:Md})},n.performEnter=function(o){var a=this,i=this.props.enter,s=this.context?this.context.isMounting:o,u=this.props.nodeRef?[s]:[Ru.findDOMNode(this),s],c=u[0],f=u[1],h=this.getTimeouts(),m=s?h.appear:h.enter;if(!o&&!i||G_.disabled){this.safeSetState({status:bu},function(){a.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Ws},function(){a.props.onEntering(c,f),a.onTransitionEnd(m,function(){a.safeSetState({status:bu},function(){a.props.onEntered(c,f)})})})},n.performExit=function(){var o=this,a=this.props.exit,i=this.getTimeouts(),s=this.props.nodeRef?void 0:Ru.findDOMNode(this);if(!a||G_.disabled){this.safeSetState({status:Hs},function(){o.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:tx},function(){o.props.onExiting(s),o.onTransitionEnd(i.exit,function(){o.safeSetState({status:Hs},function(){o.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},n.setNextCallback=function(o){var a=this,i=!0;return this.nextCallback=function(s){i&&(i=!1,a.nextCallback=null,o(s))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},n.onTransitionEnd=function(o,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:Ru.findDOMNode(this),s=o==null&&!this.props.addEndListener;if(!i||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Md)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=Q1(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ut.createElement(rm.Provider,{value:null},typeof i=="function"?i(o,s):ut.cloneElement(ut.Children.only(i),s))},t})(ut.Component);yi.contextType=rm;yi.propTypes={};function fu(){}yi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fu,onEntering:fu,onEntered:fu,onExit:fu,onExiting:fu,onExited:fu};yi.UNMOUNTED=Md;yi.EXITED=Hs;yi.ENTERING=Ws;yi.ENTERED=bu;yi.EXITING=tx;function $V(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dw(e,t){var n=function(a){return t&&_.isValidElement(a)?t(a):a},r=Object.create(null);return e&&_.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function GV(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var i,s={};for(var u in t){if(r[u])for(i=0;i<r[u].length;i++){var c=r[u][i];s[r[u][i]]=n(c)}s[u]=n(u)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}function Js(e,t,n){return n[t]!=null?n[t]:e.props[t]}function qV(e,t){return dw(e.children,function(n){return _.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Js(n,"appear",e),enter:Js(n,"enter",e),exit:Js(n,"exit",e)})})}function XV(e,t,n){var r=dw(e.children),o=GV(t,r);return Object.keys(o).forEach(function(a){var i=o[a];if(_.isValidElement(i)){var s=a in t,u=a in r,c=t[a],f=_.isValidElement(c)&&!c.props.in;u&&(!s||f)?o[a]=_.cloneElement(i,{onExited:n.bind(null,i),in:!0,exit:Js(i,"exit",e),enter:Js(i,"enter",e)}):!u&&s&&!f?o[a]=_.cloneElement(i,{in:!1}):u&&s&&_.isValidElement(c)&&(o[a]=_.cloneElement(i,{onExited:n.bind(null,i),in:c.props.in,exit:Js(i,"exit",e),enter:Js(i,"enter",e)}))}}),o}var YV=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},KV={component:"div",childFactory:function(t){return t}},ts=(function(e){J3(t,e);function t(r,o){var a;a=e.call(this,r,o)||this;var i=a.handleExited.bind($V(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,a){var i=a.children,s=a.handleExited,u=a.firstRender;return{children:u?qV(o,s):XV(o,i,s),firstRender:!1}},n.handleExited=function(o,a){var i=dw(this.props.children);o.key in i||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(s){var u=Wu({},s.children);return delete u[o.key],{children:u}}))},n.render=function(){var o=this.props,a=o.component,i=o.childFactory,s=Q1(o,["component","childFactory"]),u=this.state.contextValue,c=YV(this.state.children).map(i);return delete s.appear,delete s.enter,delete s.exit,a===null?ut.createElement(rm.Provider,{value:u},c):ut.createElement(rm.Provider,{value:u},ut.createElement(a,s,c))},t})(ut.Component);ts.propTypes={};ts.defaultProps=KV;const Z3=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function QV(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),Z3.reduce((n,r)=>(n[r]=[],n),{}))}const q_={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},JV={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function ZV({state:e,maxHeight:t,position:n,transitionDuration:r}){const[o,a]=n.split("-"),i=a==="center"?`${o}-center`:a,s={opacity:0,maxHeight:t,transform:q_[i],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},u={opacity:1,transform:JV[i]},c={opacity:0,maxHeight:0,transform:q_[i]};return{...s,...{entering:u,entered:u,exiting:c,exited:c}[e]}}function e7(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const ek=_.forwardRef(({data:e,onHide:t,autoClose:n,...r},o)=>{const{autoClose:a,message:i,...s}=e,u=e7(n,e.autoClose),c=_.useRef(-1),f=()=>window.clearTimeout(c.current),h=()=>{t(e.id),f()},m=()=>{typeof u=="number"&&(c.current=window.setTimeout(h,u))};return _.useEffect(()=>{e.onOpen?.(e)},[]),_.useEffect(()=>(m(),f),[u]),b.jsx(tw,{...r,...s,onClose:h,ref:o,onMouseEnter:f,onMouseLeave:m,children:i})});ek.displayName="@mantine/notifications/NotificationContainer";var tk={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const t7=yi,n7={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Er("overlay"),store:vl,withinPortal:!0},r7=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":xe(n)}}),bi=Me((e,t)=>{const n=Ce("Notifications",n7,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,position:c,autoClose:f,transitionDuration:h,containerWidth:m,notificationMaxHeight:v,limit:y,zIndex:x,store:w,portalProps:S,withinPortal:E,...R}=n,D=vr(),A=LV(w),N=sF(),k=Hm(),M=_.useRef({}),I=_.useRef(0),L=(D.respectReducedMotion?k:!1)?1:h,F=et({name:"Notifications",classes:tk,props:n,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:u,varsResolver:r7});_.useEffect(()=>{w?.updateState(Y=>({...Y,limit:y||5,defaultPosition:c}))},[y,c]),ss(()=>{A.notifications.length>I.current&&setTimeout(()=>N(),0),I.current=A.notifications.length},[A.notifications]);const X=QV(A.notifications,c),W=Z3.reduce((Y,B)=>(Y[B]=X[B].map(({style:V,...U})=>b.jsx(t7,{timeout:L,onEnter:()=>M.current[U.id].offsetHeight,nodeRef:{current:M.current[U.id]},children:$=>b.jsx(ek,{ref:j=>{j&&(M.current[U.id]=j)},data:U,onHide:j=>Q3(j,w),autoClose:f,...F("notification",{style:{...ZV({state:$,position:B,transitionDuration:L,maxHeight:v}),...V}})})},U.id)),Y),{});return b.jsxs(ms,{withinPortal:E,...S,children:[b.jsx(re,{...F("root"),"data-position":"top-center",ref:t,...R,children:b.jsx(ts,{children:W["top-center"]})}),b.jsx(re,{...F("root"),"data-position":"top-left",...R,children:b.jsx(ts,{children:W["top-left"]})}),b.jsx(re,{...F("root",{className:Xp.classNames.fullWidth}),"data-position":"top-right",...R,children:b.jsx(ts,{children:W["top-right"]})}),b.jsx(re,{...F("root",{className:Xp.classNames.fullWidth}),"data-position":"bottom-right",...R,children:b.jsx(ts,{children:W["bottom-right"]})}),b.jsx(re,{...F("root"),"data-position":"bottom-left",...R,children:b.jsx(ts,{children:W["bottom-left"]})}),b.jsx(re,{...F("root"),"data-position":"bottom-center",...R,children:b.jsx(ts,{children:W["bottom-center"]})})]})});bi.classes=tk;bi.displayName="@mantine/notifications/Notifications";bi.show=eo.show;bi.hide=eo.hide;bi.update=eo.update;bi.clean=eo.clean;bi.cleanQueue=eo.cleanQueue;bi.updateState=eo.updateState;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var X_="popstate";function o7(e={}){function t(r,o){let{pathname:a,search:i,hash:s}=r.location;return nx("",{pathname:a,search:i,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Yd(o)}return i7(t,n,null,e)}function an(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a7(){return Math.random().toString(36).substring(2,10)}function Y_(e,t){return{usr:e.state,key:e.key,idx:t}}function nx(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fc(t):t,state:n,key:t&&t.key||r||a7()}}function Yd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function i7(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,s="POP",u=null,c=f();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function f(){return(i.state||{idx:null}).idx}function h(){s="POP";let w=f(),S=w==null?null:w-c;c=w,u&&u({action:s,location:x.location,delta:S})}function m(w,S){s="PUSH";let E=nx(x.location,w,S);c=f()+1;let R=Y_(E,c),D=x.createHref(E);try{i.pushState(R,"",D)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(D)}a&&u&&u({action:s,location:x.location,delta:1})}function v(w,S){s="REPLACE";let E=nx(x.location,w,S);c=f();let R=Y_(E,c),D=x.createHref(E);i.replaceState(R,"",D),a&&u&&u({action:s,location:x.location,delta:0})}function y(w){return s7(w)}let x={get action(){return s},get location(){return e(o,i)},listen(w){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(X_,h),u=w,()=>{o.removeEventListener(X_,h),u=null}},createHref(w){return t(o,w)},createURL:y,encodeLocation(w){let S=y(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(w){return i.go(w)}};return x}function s7(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),an(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Yd(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function nk(e,t,n="/"){return l7(e,t,n,!1)}function l7(e,t,n,r){let o=typeof t=="string"?fc(t):t,a=hi(o.pathname||"/",n);if(a==null)return null;let i=rk(e);u7(i);let s=null;for(let u=0;s==null&&u<i.length;++u){let c=x7(a);s=y7(i[u],c,r)}return s}function rk(e,t=[],n=[],r="",o=!1){let a=(i,s,u=o,c)=>{let f={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;an(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=ci([r,f.relativePath]),m=n.concat(f);i.children&&i.children.length>0&&(an(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),rk(i.children,t,m,h,u)),!(i.path==null&&!i.index)&&t.push({path:h,score:v7(h,i.index),routesMeta:m})};return e.forEach((i,s)=>{if(i.path===""||!i.path?.includes("?"))a(i,s);else for(let u of ok(i.path))a(i,s,!0,u)}),t}function ok(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let i=ok(r.join("/")),s=[];return s.push(...i.map(u=>u===""?a:[a,u].join("/"))),o&&s.push(...i),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function u7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:g7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var c7=/^:[\w-]+$/,d7=3,f7=2,h7=1,p7=10,m7=-2,K_=e=>e==="*";function v7(e,t){let n=e.split("/"),r=n.length;return n.some(K_)&&(r+=m7),t&&(r+=f7),n.filter(o=>!K_(o)).reduce((o,a)=>o+(c7.test(a)?d7:a===""?h7:p7),r)}function g7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function y7(e,t,n=!1){let{routesMeta:r}=e,o={},a="/",i=[];for(let s=0;s<r.length;++s){let u=r[s],c=s===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",h=om({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=om({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(o,h.params),i.push({params:o,pathname:ci([a,h.pathname]),pathnameBase:E7(ci([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=ci([a,h.pathnameBase]))}return i}function om(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=b7(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},m)=>{if(f==="*"){let y=s[m]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=s[m];return h&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:e}}function b7(e,t=!1,n=!0){Jo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function x7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function w7(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?fc(e):e;return{pathname:n?n.startsWith("/")?n:S7(n,t):t,search:R7(r),hash:_7(o)}}function S7(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hb(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ak(e){let t=C7(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ik(e,t,n,r=!1){let o;typeof e=="string"?o=fc(e):(o={...e},an(!o.pathname||!o.pathname.includes("?"),Hb("?","pathname","search",o)),an(!o.pathname||!o.pathname.includes("#"),Hb("#","pathname","hash",o)),an(!o.search||!o.search.includes("#"),Hb("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,s;if(i==null)s=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;o.pathname=m.join("/")}s=h>=0?t[h]:"/"}let u=w7(o,s),c=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var ci=e=>e.join("/").replace(/\/\/+/g,"/"),E7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var sk=["POST","PUT","PATCH","DELETE"];new Set(sk);var D7=["GET",...sk];new Set(D7);var hc=_.createContext(null);hc.displayName="DataRouter";var Tv=_.createContext(null);Tv.displayName="DataRouterState";_.createContext(!1);var lk=_.createContext({isTransitioning:!1});lk.displayName="ViewTransition";var A7=_.createContext(new Map);A7.displayName="Fetchers";var N7=_.createContext(null);N7.displayName="Await";var Oa=_.createContext(null);Oa.displayName="Navigation";var Rf=_.createContext(null);Rf.displayName="Location";var Pa=_.createContext({outlet:null,matches:[],isDataRoute:!1});Pa.displayName="Route";var fw=_.createContext(null);fw.displayName="RouteError";function k7(e,{relative:t}={}){an(_f(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Oa),{hash:o,pathname:a,search:i}=Tf(e,{relative:t}),s=a;return n!=="/"&&(s=a==="/"?n:ci([n,a])),r.createHref({pathname:s,search:i,hash:o})}function _f(){return _.useContext(Rf)!=null}function na(){return an(_f(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Rf).location}var uk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ck(e){_.useContext(Oa).static||_.useLayoutEffect(e)}function xi(){let{isDataRoute:e}=_.useContext(Pa);return e?W7():M7()}function M7(){an(_f(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(hc),{basename:t,navigator:n}=_.useContext(Oa),{matches:r}=_.useContext(Pa),{pathname:o}=na(),a=JSON.stringify(ak(r)),i=_.useRef(!1);return ck(()=>{i.current=!0}),_.useCallback((u,c={})=>{if(Jo(i.current,uk),!i.current)return;if(typeof u=="number"){n.go(u);return}let f=ik(u,JSON.parse(a),o,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ci([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,a,o,e])}_.createContext(null);function hw(){let{matches:e}=_.useContext(Pa),t=e[e.length-1];return t?t.params:{}}function Tf(e,{relative:t}={}){let{matches:n}=_.useContext(Pa),{pathname:r}=na(),o=JSON.stringify(ak(n));return _.useMemo(()=>ik(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function I7(e,t){return dk(e,t)}function dk(e,t,n,r,o){an(_f(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Oa),{matches:i}=_.useContext(Pa),s=i[i.length-1],u=s?s.params:{},c=s?s.pathname:"/",f=s?s.pathnameBase:"/",h=s&&s.route;{let E=h&&h.path||"";fk(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=na(),v;if(t){let E=typeof t=="string"?fc(t):t;an(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=m;let y=v.pathname||"/",x=y;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=nk(e,{pathname:x});Jo(h||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Jo(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=F7(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:ci([f,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:ci([f,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r,o);return t&&S?_.createElement(Rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function O7(){let e=H7(),t=T7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:o},n):null,i)}var P7=_.createElement(O7,null),j7=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?_.createElement(Pa.Provider,{value:this.props.routeContext},_.createElement(fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B7({routeContext:e,match:t,children:n}){let r=_.useContext(hc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Pa.Provider,{value:e},n)}function F7(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n?.errors;if(i!=null){let c=a.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);an(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,u=-1;if(n)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:m}=n,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let m,v=!1,y=null,x=null;n&&(m=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||P7,s&&(u<0&&h===0?(fk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),S=()=>{let E;return m?E=y:v?E=x:f.route.Component?E=_.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,_.createElement(B7,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(j7,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):S()},null)}function pw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L7(e){let t=_.useContext(hc);return an(t,pw(e)),t}function z7(e){let t=_.useContext(Tv);return an(t,pw(e)),t}function U7(e){let t=_.useContext(Pa);return an(t,pw(e)),t}function mw(e){let t=U7(e),n=t.matches[t.matches.length-1];return an(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function V7(){return mw("useRouteId")}function H7(){let e=_.useContext(fw),t=z7("useRouteError"),n=mw("useRouteError");return e!==void 0?e:t.errors?.[n]}function W7(){let{router:e}=L7("useNavigate"),t=mw("useNavigate"),n=_.useRef(!1);return ck(()=>{n.current=!0}),_.useCallback(async(o,a={})=>{Jo(n.current,uk),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...a}))},[e,t])}var Q_={};function fk(e,t,n){!t&&!Q_[e]&&(Q_[e]=!0,Jo(!1,n))}_.memo($7);function $7({routes:e,future:t,state:n,unstable_onError:r}){return dk(e,void 0,n,r,t)}function vn(e){an(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G7({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){an(!_f(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),s=_.useMemo(()=>({basename:i,navigator:o,static:a,future:{}}),[i,o,a]);typeof n=="string"&&(n=fc(n));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:m="default"}=n,v=_.useMemo(()=>{let y=hi(u,i);return y==null?null:{location:{pathname:y,search:c,hash:f,state:h,key:m},navigationType:r}},[i,u,c,f,h,m,r]);return Jo(v!=null,`<Router basename="${i}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:_.createElement(Oa.Provider,{value:s},_.createElement(Rf.Provider,{children:t,value:v}))}function q7({children:e,location:t}){return I7(rx(e),t)}function rx(e,t=[]){let n=[];return _.Children.forEach(e,(r,o)=>{if(!_.isValidElement(r))return;let a=[...t,o];if(r.type===_.Fragment){n.push.apply(n,rx(r.props.children,a));return}an(r.type===vn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),an(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=rx(r.props.children,a)),n.push(i)}),n}var Fp="get",Lp="application/x-www-form-urlencoded";function Dv(e){return e!=null&&typeof e.tagName=="string"}function X7(e){return Dv(e)&&e.tagName.toLowerCase()==="button"}function Y7(e){return Dv(e)&&e.tagName.toLowerCase()==="form"}function K7(e){return Dv(e)&&e.tagName.toLowerCase()==="input"}function Q7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function J7(e,t){return e.button===0&&(!t||t==="_self")&&!Q7(e)}function ox(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function Z7(e,t){let n=ox(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(a=>{n.append(o,a)})}),n}var lp=null;function e9(){if(lp===null)try{new FormData(document.createElement("form"),0),lp=!1}catch{lp=!0}return lp}var t9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wb(e){return e!=null&&!t9.has(e)?(Jo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lp}"`),null):e}function n9(e,t){let n,r,o,a,i;if(Y7(e)){let s=e.getAttribute("action");r=s?hi(s,t):null,n=e.getAttribute("method")||Fp,o=Wb(e.getAttribute("enctype"))||Lp,a=new FormData(e)}else if(X7(e)||K7(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||s.getAttribute("action");if(r=u?hi(u,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Fp,o=Wb(e.getAttribute("formenctype"))||Wb(s.getAttribute("enctype"))||Lp,a=new FormData(s,e),!e9()){let{name:c,type:f,value:h}=e;if(f==="image"){let m=c?`${c}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else c&&a.append(c,h)}}else{if(Dv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fp,r=null,o=Lp,i=e}return a&&o==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function r9(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&hi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function o9(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a9(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function i9(e,t,n){let r=await Promise.all(e.map(async o=>{let a=t.routes[o.route.id];if(a){let i=await o9(a,n);return i.links?i.links():[]}return[]}));return c9(r.flat(1).filter(a9).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function J_(e,t,n,r,o,a){let i=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,s=(u,c)=>n[c].pathname!==u.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==u.params["*"];return a==="assets"?t.filter((u,c)=>i(u,c)||s(u,c)):a==="data"?t.filter((u,c)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(i(u,c)||s(u,c))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function s9(e,t,{includeHydrateFallback:n}={}){return l9(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function l9(e){return[...new Set(e)]}function u9(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function c9(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let a=JSON.stringify(u9(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function hk(){let e=_.useContext(hc);return vw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function d9(){let e=_.useContext(Tv);return vw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gw=_.createContext(void 0);gw.displayName="FrameworkContext";function pk(){let e=_.useContext(gw);return vw(e,"You must render this element inside a <HydratedRouter> element"),e}function f9(e,t){let n=_.useContext(gw),[r,o]=_.useState(!1),[a,i]=_.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=t,m=_.useRef(null);_.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=S=>{S.forEach(E=>{i(E.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[e]),_.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let v=()=>{o(!0)},y=()=>{o(!1),i(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:Sd(s,v),onBlur:Sd(u,y),onMouseEnter:Sd(c,v),onMouseLeave:Sd(f,y),onTouchStart:Sd(h,v)}]:[!1,m,{}]}function Sd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function h9({page:e,...t}){let{router:n}=hk(),r=_.useMemo(()=>nk(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(m9,{page:e,matches:r,...t}):null}function p9(e){let{manifest:t,routeModules:n}=pk(),[r,o]=_.useState([]);return _.useEffect(()=>{let a=!1;return i9(e,t,n).then(i=>{a||o(i)}),()=>{a=!0}},[e,t,n]),r}function m9({page:e,matches:t,...n}){let r=na(),{manifest:o,routeModules:a}=pk(),{basename:i}=hk(),{loaderData:s,matches:u}=d9(),c=_.useMemo(()=>J_(e,t,u,o,r,"data"),[e,t,u,o,r]),f=_.useMemo(()=>J_(e,t,u,o,r,"assets"),[e,t,u,o,r]),h=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(t.forEach(S=>{let E=o.routes[S.route.id];!E||!E.hasLoader||(!c.some(R=>R.route.id===S.route.id)&&S.route.id in s&&a[S.route.id]?.shouldRevalidate||E.hasClientLoader?x=!0:y.add(S.route.id))}),y.size===0)return[];let w=r9(e,i,"data");return x&&y.size>0&&w.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[i,s,r,o,c,t,e,a]),m=_.useMemo(()=>s9(f,o),[f,o]),v=p9(f);return _.createElement(_.Fragment,null,h.map(y=>_.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),m.map(y=>_.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:x})=>_.createElement("link",{key:y,nonce:n.nonce,...x})))}function v9(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var mk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mk&&(window.__reactRouterVersion="7.8.2")}catch{}function g9({basename:e,children:t,window:n}){let r=_.useRef();r.current==null&&(r.current=o7({window:n,v5Compat:!0}));let o=r.current,[a,i]=_.useState({action:o.action,location:o.location}),s=_.useCallback(u=>{_.startTransition(()=>i(u))},[i]);return _.useLayoutEffect(()=>o.listen(s),[o,s]),_.createElement(G7,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}var vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:i,state:s,target:u,to:c,preventScrollReset:f,viewTransition:h,...m},v){let{basename:y}=_.useContext(Oa),x=typeof c=="string"&&vk.test(c),w,S=!1;if(typeof c=="string"&&x&&(w=c,mk))try{let I=new URL(window.location.href),O=c.startsWith("//")?new URL(I.protocol+c):new URL(c),L=hi(O.pathname,y);O.origin===I.origin&&L!=null?c=L+O.search+O.hash:S=!0}catch{Jo(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=k7(c,{relative:o}),[R,D,A]=f9(r,m),N=w9(c,{replace:i,state:s,target:u,preventScrollReset:f,relative:o,viewTransition:h});function k(I){t&&t(I),I.defaultPrevented||N(I)}let M=_.createElement("a",{...m,...A,href:w||E,onClick:S||a?t:k,ref:v9(v,D),target:u,"data-discover":!x&&n==="render"?"true":void 0});return R&&!x?_.createElement(_.Fragment,null,M,_.createElement(h9,{page:E})):M});ar.displayName="Link";var y9=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:i,viewTransition:s,children:u,...c},f){let h=Tf(i,{relative:c.relative}),m=na(),v=_.useContext(Tv),{navigator:y,basename:x}=_.useContext(Oa),w=v!=null&&T9(h)&&s===!0,S=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,E=m.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(E=E.toLowerCase(),R=R?R.toLowerCase():null,S=S.toLowerCase()),R&&x&&(R=hi(R,x)||R);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let A=E===S||!o&&E.startsWith(S)&&E.charAt(D)==="/",N=R!=null&&(R===S||!o&&R.startsWith(S)&&R.charAt(S.length)==="/"),k={isActive:A,isPending:N,isTransitioning:w},M=A?t:void 0,I;typeof r=="function"?I=r(k):I=[r,A?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(k):a;return _.createElement(ar,{...c,"aria-current":M,className:I,ref:f,style:O,to:i,viewTransition:s},typeof u=="function"?u(k):u)});y9.displayName="NavLink";var b9=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:a,method:i=Fp,action:s,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:h,...m},v)=>{let y=R9(),x=_9(s,{relative:c}),w=i.toLowerCase()==="get"?"get":"post",S=typeof s=="string"&&vk.test(s),E=R=>{if(u&&u(R),R.defaultPrevented)return;R.preventDefault();let D=R.nativeEvent.submitter,A=D?.getAttribute("formmethod")||i;y(D||R.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:o,state:a,relative:c,preventScrollReset:f,viewTransition:h})};return _.createElement("form",{ref:v,method:w,action:x,onSubmit:r?u:E,...m,"data-discover":!S&&e==="render"?"true":void 0})});b9.displayName="Form";function x9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gk(e){let t=_.useContext(hc);return an(t,x9(e)),t}function w9(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:i}={}){let s=xi(),u=na(),c=Tf(e,{relative:a});return _.useCallback(f=>{if(J7(f,t)){f.preventDefault();let h=n!==void 0?n:Yd(u)===Yd(c);s(e,{replace:h,state:r,preventScrollReset:o,relative:a,viewTransition:i})}},[u,s,c,n,r,t,e,o,a,i])}function S9(e){Jo(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(ox(e)),n=_.useRef(!1),r=na(),o=_.useMemo(()=>Z7(r.search,n.current?null:t.current),[r.search]),a=xi(),i=_.useCallback((s,u)=>{const c=ox(typeof s=="function"?s(new URLSearchParams(o)):s);n.current=!0,a("?"+c,u)},[a,o]);return[o,i]}var C9=0,E9=()=>`__${String(++C9)}__`;function R9(){let{router:e}=gk("useSubmit"),{basename:t}=_.useContext(Oa),n=V7();return _.useCallback(async(r,o={})=>{let{action:a,method:i,encType:s,formData:u,body:c}=n9(r,t);if(o.navigate===!1){let f=o.fetcherKey||E9();await e.fetch(f,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:u,body:c,formMethod:o.method||i,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:u,body:c,formMethod:o.method||i,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function _9(e,{relative:t}={}){let{basename:n}=_.useContext(Oa),r=_.useContext(Pa);an(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Tf(e||".",{relative:t})},i=na();if(e==null){a.search=i.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(f=>f==="")){s.delete("index"),u.filter(h=>h).forEach(h=>s.append("index",h));let f=s.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ci([n,a.pathname])),Yd(a)}function T9(e,{relative:t}={}){let n=_.useContext(lk);an(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gk("useViewTransitionState"),o=Tf(e,{relative:t});if(!n.isTransitioning)return!1;let a=hi(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=hi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return om(o.pathname,i)!=null||om(o.pathname,a)!=null}/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var D9={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(e,t,n,r)=>{const o=_.forwardRef(({color:a="currentColor",size:i=24,stroke:s=2,title:u,className:c,children:f,...h},m)=>_.createElement("svg",{ref:m,...D9[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${t}`,c].join(" "),strokeWidth:s,stroke:a,...h},[u&&_.createElement("title",{key:"svg-title"},u),...r.map(([v,y])=>_.createElement(v,y)),...Array.isArray(f)?f:[f]]));return o.displayName=`${n}`,o};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Z_=pt("outline","alert-circle","AlertCircle",A9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],zp=pt("outline","arrow-left","ArrowLeft",N9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M8 7l4 -4l4 4",key:"svg-0"}],["path",{d:"M8 17l4 4l4 -4",key:"svg-1"}],["path",{d:"M12 3l0 18",key:"svg-2"}]],M9=pt("outline","arrows-vertical","ArrowsVertical",k9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],yw=pt("outline","book","Book",I9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],P9=pt("outline","brain","Brain",O9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M4 8a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M16.5 7.5v.01",key:"svg-2"}]],B9=pt("outline","brand-instagram","BrandInstagram",j9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c0 -.249 1.51 -2.772 1.818 -4.013z",key:"svg-0"}]],L9=pt("outline","brand-twitter","BrandTwitter",F9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M2 8a4 4 0 0 1 4 -4h12a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-12a4 4 0 0 1 -4 -4v-8z",key:"svg-0"}],["path",{d:"M10 9l5 3l-5 3z",key:"svg-1"}]],U9=pt("outline","brand-youtube","BrandYoutube",z9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],H9=pt("outline","camera","Camera",V9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M12 12l-6.5 5.5",key:"svg-0"}],["path",{d:"M12 3v9h9",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],$9=pt("outline","chart-pie-3","ChartPie3",W9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],ax=pt("outline","check","Check",G9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],eT=pt("outline","chevron-down","ChevronDown",q9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 12l.01 0",key:"svg-2"}],["path",{d:"M13 12l2 0",key:"svg-3"}],["path",{d:"M9 16l.01 0",key:"svg-4"}],["path",{d:"M13 16l2 0",key:"svg-5"}]],yk=pt("outline","clipboard-list","ClipboardList",X9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]],K9=pt("outline","clock","Clock",Y9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]],J9=pt("outline","code","Code",Q9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]],eH=pt("outline","coin","Coin",Z9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M8 13v.01",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 12v.01",key:"svg-3"}],["path",{d:"M16 14v.01",key:"svg-4"}],["path",{d:"M11 8v.01",key:"svg-5"}],["path",{d:"M13.148 3.476l2.667 1.104a4 4 0 0 0 4.656 6.14l.053 .132a3 3 0 0 1 0 2.296q -.745 1.18 -1.024 1.852q -.283 .684 -.66 2.216a3 3 0 0 1 -1.624 1.623q -1.572 .394 -2.216 .661q -.712 .295 -1.852 1.024a3 3 0 0 1 -2.296 0q -1.203 -.754 -1.852 -1.024q -.707 -.292 -2.216 -.66a3 3 0 0 1 -1.623 -1.624q -.397 -1.577 -.661 -2.216q -.298 -.718 -1.024 -1.852a3 3 0 0 1 0 -2.296q .719 -1.116 1.024 -1.852q .257 -.62 .66 -2.216a3 3 0 0 1 1.624 -1.623q 1.547 -.384 2.216 -.661q .687 -.285 1.852 -1.024a3 3 0 0 1 2.296 0",key:"svg-6"}]],nH=pt("outline","cookie","Cookie",tH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],oH=pt("outline","device-floppy","DeviceFloppy",rH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],bk=pt("outline","eye","Eye",aH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M18.9 7a8 8 0 0 1 1.1 5v1a6 6 0 0 0 .8 3",key:"svg-0"}],["path",{d:"M8 11a4 4 0 0 1 8 0v1a10 10 0 0 0 2 6",key:"svg-1"}],["path",{d:"M12 11v2a14 14 0 0 0 2.5 8",key:"svg-2"}],["path",{d:"M8 15a18 18 0 0 0 1.8 6",key:"svg-3"}],["path",{d:"M4.9 19a22 22 0 0 1 -.9 -7v-1a8 8 0 0 1 12 -6.95",key:"svg-4"}]],sH=pt("outline","fingerprint","Fingerprint",iH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M13.41 10.59l2.59 -2.59",key:"svg-2"}],["path",{d:"M7 12a5 5 0 0 1 5 -5",key:"svg-3"}]],uH=pt("outline","gauge","Gauge",lH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],dH=pt("outline","info-circle","InfoCircle",cH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M5 12h2",key:"svg-0"}],["path",{d:"M17 12h2",key:"svg-1"}],["path",{d:"M11 12h2",key:"svg-2"}]],hH=pt("outline","line-dashed","LineDashed",fH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]],xk=pt("outline","link","Link",pH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M11 6h9",key:"svg-0"}],["path",{d:"M11 12h9",key:"svg-1"}],["path",{d:"M12 18h8",key:"svg-2"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4",key:"svg-3"}],["path",{d:"M6 10v-6l-2 2",key:"svg-4"}]],vH=pt("outline","list-numbers","ListNumbers",mH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]],yH=pt("outline","list","List",gH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-0"}],["path",{d:"M9.5 9h.01",key:"svg-1"}],["path",{d:"M14.5 9h.01",key:"svg-2"}],["path",{d:"M9.5 13a3.5 3.5 0 0 0 5 0",key:"svg-3"}]],xH=pt("outline","message-chatbot","MessageChatbot",bH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]],bw=pt("outline","microphone","Microphone",wH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]],CH=pt("outline","music","Music",SH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M10 6h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3",key:"svg-0"}],["path",{d:"M17 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}]],RH=pt("outline","notification","Notification",EH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M8 10v-7l-2 2",key:"svg-0"}],["path",{d:"M6 16a2 2 0 1 1 4 0c0 .591 -.601 1.46 -1 2l-3 3h4",key:"svg-1"}],["path",{d:"M15 14a2 2 0 1 0 2 -2a2 2 0 1 0 -2 -2",key:"svg-2"}],["path",{d:"M6.5 10h3",key:"svg-3"}]],TH=pt("outline","numbers","Numbers",_H);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],Av=pt("outline","pencil","Pencil",DH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],am=pt("outline","photo","Photo",AH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]],kH=pt("outline","send","Send",NH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],IH=pt("outline","settings","Settings",MH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M3 7v-2h13v2",key:"svg-0"}],["path",{d:"M10 5v14",key:"svg-1"}],["path",{d:"M12 19h-4",key:"svg-2"}],["path",{d:"M15 13v-1h6v1",key:"svg-3"}],["path",{d:"M18 12v7",key:"svg-4"}],["path",{d:"M17 19h2",key:"svg-5"}]],PH=pt("outline","text-size","TextSize",OH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],Nv=pt("outline","trash","Trash",jH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]],FH=pt("outline","typography","Typography",BH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],wk=pt("outline","upload","Upload",LH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],UH=pt("outline","user","User",zH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M7 12l4 0",key:"svg-2"}],["path",{d:"M9 10l0 4",key:"svg-3"}]],Sk=pt("outline","video-plus","VideoPlus",VH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-1"}]],Ck=pt("outline","video","Video",HH),WH="_header_1fj7b_2",$H="_link_1fj7b_9",GH="_subLink_1fj7b_32",qH="_dropdownFooter_1fj7b_42",Eo={header:WH,link:$H,subLink:GH,dropdownFooter:qH},XH=[{icon:J9,title:"Course Creation",description:"Build learning and assignment JotForms with drag-and-drop ease"},{icon:eH,title:"Group Management",description:"Create groups and assign users efficiently"},{icon:yw,title:"Course Assignment",description:"Map content to courses and assign to groups"},{icon:sH,title:"User Access",description:"Secure login and personalized course views"},{icon:$9,title:"Analytics",description:"View detailed analytics by group and course"},{icon:RH,title:"Submissions",description:"Track assignment submissions and scores"}];function YH(){const[e,{toggle:t,close:n}]=YR(!1),[r,{toggle:o}]=YR(!1),a=vr(),{colorScheme:i}=BA(),s=i==="dark",u=XH.map(c=>b.jsx(Qo,{className:Eo.subLink,children:b.jsxs($e,{wrap:"nowrap",align:"flex-start",children:[b.jsx(uw,{size:34,variant:"default",radius:"md",color:s?"dark.4":"gray",children:b.jsx(c.icon,{size:22,color:s?a.colors.blue[3]:a.colors.blue[6]})}),b.jsxs("div",{children:[b.jsx(me,{size:"sm",fw:500,c:s?"white":"black",children:c.title}),b.jsx(me,{size:"xs",c:s?"gray.4":"dimmed",children:c.description})]})]})},c.title));return b.jsxs(re,{children:[b.jsx("header",{className:Eo.header,style:{backgroundColor:s?a.colors.dark[7]:"white"},children:b.jsxs($e,{justify:"space-between",h:"100%",children:[b.jsx("h2",{size:30,children:"LMS"}),b.jsxs($e,{h:"100%",gap:0,visibleFrom:"sm",children:[b.jsx(ar,{to:"/",className:Eo.link,children:"Home"}),b.jsxs(ls,{width:600,position:"bottom",radius:"md",shadow:"md",withinPortal:!0,children:[b.jsx(ls.Target,{children:b.jsx("a",{href:"#",className:Eo.link,children:b.jsxs(Qr,{inline:!0,children:[b.jsx(re,{component:"span",mr:5,children:"Features"}),b.jsx(eT,{size:16,color:s?a.colors.blue[3]:a.colors.blue[6]})]})})}),b.jsxs(ls.Dropdown,{style:{overflow:"hidden",backgroundColor:s?a.colors.dark[6]:"white"},children:[b.jsxs($e,{justify:"space-between",px:"md",children:[b.jsx(me,{fw:500,c:s?"white":"black",children:"Features"}),b.jsx(sv,{href:"#",fz:"xs",c:s?"gray.4":"black",children:"View all"})]}),b.jsx(jr,{my:"sm"}),b.jsx(cc,{cols:2,spacing:0,children:u}),b.jsx("div",{className:Eo.dropdownFooter,style:{backgroundColor:s?a.colors.dark[7]:a.colors.gray[0]},children:b.jsxs($e,{justify:"space-between",children:[b.jsxs("div",{children:[b.jsx(me,{fw:500,fz:"sm",c:s?"white":"black",children:"Get started"}),b.jsx(me,{size:"xs",c:s?"gray.4":"dimmed",children:"Start building your pharma LMS today"})]}),b.jsx(Fe,{variant:"default",children:"Get started"})]})})]})]}),b.jsx(ar,{to:"/lmsdashboard",className:Eo.link,children:"LMS Dashboard"}),b.jsx(ar,{to:"/course",className:Eo.link,children:"Courses"}),b.jsx(ar,{to:"/analyticdashboard",className:Eo.link,children:"Analytics"})]}),b.jsx($e,{visibleFrom:"sm",children:b.jsxs(ar,{to:"/login",children:[" ",b.jsx(Fe,{variant:"default",children:"Log in"})]})}),b.jsx(W1,{opened:e,onClick:t,hiddenFrom:"sm",color:s?"white":"black"})]})}),b.jsx(ta,{opened:e,onClose:n,size:"100%",padding:"md",title:"Menu",hiddenFrom:"sm",zIndex:1e6,overlayColor:s?a.colors.dark[9]:a.colors.gray[2],children:b.jsxs(ho,{h:"calc(100vh - 80px)",mx:"-md",children:[b.jsx(jr,{my:"sm"}),b.jsx(ar,{to:"/",className:Eo.link,onClick:n,children:"Home"}),b.jsx(Qo,{className:Eo.link,onClick:o,children:b.jsxs(Qr,{inline:!0,children:[b.jsx(re,{component:"span",mr:5,children:"Features"}),b.jsx(eT,{size:16,color:s?a.colors.blue[3]:a.colors.blue[6]})]})}),b.jsx(HA,{in:r,children:u}),b.jsx(ar,{to:"/course",className:Eo.link,onClick:n,children:"Courses"}),b.jsx(ar,{to:"/analyticdashboard",className:Eo.link,onClick:n,children:"Analytics"}),b.jsx(jr,{my:"sm"}),b.jsxs($e,{justify:"center",grow:!0,pb:"xl",px:"md",children:[b.jsx(ar,{to:"/login",onClick:n,children:b.jsx(Fe,{variant:"default",children:"Log in"})}),b.jsx(ar,{to:"/signup",onClick:n,children:b.jsx(Fe,{children:"Sign up"})})]})]})})]})}const KH="_footer_161sz_2",QH="_logo_161sz_9",JH="_description_161sz_21",ZH="_inner_161sz_32",eW="_groups_161sz_44",tW="_wrapper_161sz_55",nW="_link_161sz_59",rW="_title_161sz_71",oW="_afterFooter_161sz_79",aW="_social_161sz_98",da={footer:KH,logo:QH,description:JH,inner:ZH,groups:eW,wrapper:tW,link:nW,title:rW,afterFooter:oW,social:aW},iW=[{title:"About",links:[{label:"Features",link:"#"},{label:"Pricing",link:"#"},{label:"Support",link:"#"},{label:"Forums",link:"#"}]},{title:"Project",links:[{label:"Contribute",link:"#"},{label:"Media assets",link:"#"},{label:"Changelog",link:"#"},{label:"Releases",link:"#"}]},{title:"Community",links:[{label:"Join Discord",link:"#"},{label:"Follow on Twitter",link:"#"},{label:"Email newsletter",link:"#"},{label:"GitHub discussions",link:"#"}]}];function sW(){const e=iW.map(t=>{const n=t.links.map((r,o)=>b.jsx(me,{className:da.link,component:"a",href:r.link,onClick:a=>a.preventDefault(),children:r.label},o));return b.jsxs("div",{className:da.wrapper,children:[b.jsx(me,{className:da.title,children:t.title}),n]},t.title)});return b.jsxs("footer",{className:da.footer,children:[b.jsxs(Kt,{className:da.inner,children:[b.jsxs("div",{className:da.logo,children:[b.jsx("h2",{children:"LMS"}),b.jsx(me,{size:"xs",c:"dimmed",className:da.description,children:"Build fully functional accessible web applications faster than ever"})]}),b.jsx("div",{className:da.groups,children:e})]}),b.jsxs(Kt,{className:da.afterFooter,children:[b.jsx(me,{c:"dimmed",size:"sm",children:" 2020 mantine.dev. All rights reserved."}),b.jsxs($e,{gap:0,className:da.social,justify:"flex-end",wrap:"nowrap",children:[b.jsx(Cn,{size:"lg",color:"gray",variant:"subtle",children:b.jsx(L9,{size:18,stroke:1.5})}),b.jsx(Cn,{size:"lg",color:"gray",variant:"subtle",children:b.jsx(U9,{size:18,stroke:1.5})}),b.jsx(Cn,{size:"lg",color:"gray",variant:"subtle",children:b.jsx(B9,{size:18,stroke:1.5})})]})]})]})}function lW(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const uW=typeof window<"u"?_.useLayoutEffect:_.useEffect;function Kn(e,t){uW(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function cW(e,t){e&&lW(e),Kn(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),Kn(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),Kn(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),Kn(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),Kn(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),Kn(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),Kn(`mantine-form:${e}:clear-errors`,t.clearErrors),Kn(`mantine-form:${e}:reset`,t.reset),Kn(`mantine-form:${e}:validate`,t.validate),Kn(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),Kn(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),Kn(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),Kn(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Kn(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),Kn(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),Kn(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),Kn(`mantine-form:${e}:reset-touched`,t.resetTouched)}function dW(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function ix(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function fW(e){const[t,n]=_.useState(ix(e)),r=_.useRef(t),o=_.useCallback(u=>{n(c=>{const f=ix(typeof u=="function"?u(c):u);return r.current=f,f})},[]),a=_.useCallback(()=>o({}),[]),i=_.useCallback(u=>{r.current[u]!==void 0&&o(c=>{const f={...c};return delete f[u],f})},[t]),s=_.useCallback((u,c)=>{c==null||c===!1?i(u):r.current[u]!==c&&o(f=>({...f,[u]:c}))},[t]);return{errorsState:t,setErrors:o,clearErrors:a,setFieldError:s,clearFieldError:i}}function sx(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function tT(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function nT(e,t,n,r){if(t===void 0)return n;const o=`${String(e)}`;let a=n;r===-1&&(a=sx(`${o}.${t}`,a));const i={...a},s=new Set;return Object.entries(a).filter(([u])=>{if(!u.startsWith(`${o}.`))return!1;const c=tT(u,o);return Number.isNaN(c)?!1:c>=t}).forEach(([u,c])=>{const f=tT(u,o),h=u.replace(`${o}.${f}`,`${o}.${f+r}`);i[h]=c,s.add(h),s.has(u)||delete i[u]}),i}function hW(e,{from:t,to:n},r){const o=`${e}.${t}`,a=`${e}.${n}`,i={...r},s=new Set;return Object.keys(r).forEach(u=>{if(s.has(u))return;let c,f;if(u.startsWith(o)?(c=u,f=u.replace(o,a)):u.startsWith(a)&&(c=u.replace(a,o),f=u),c&&f){const h=i[c],m=i[f];m===void 0?delete i[c]:i[c]=m,h===void 0?delete i[f]:i[f]=h,s.add(c),s.add(f)}}),i}function rT(e,t,n){typeof n.value=="object"&&(n.value=_u(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function _u(e){if(typeof e!="object")return e;var t=0,n,r,o,a=Object.prototype.toString.call(e);if(a==="[object Object]"?o=Object.create(e.__proto__||null):a==="[object Array]"?o=Array(e.length):a==="[object Set]"?(o=new Set,e.forEach(function(i){o.add(_u(i))})):a==="[object Map]"?(o=new Map,e.forEach(function(i,s){o.set(_u(s),_u(i))})):a==="[object Date]"?o=new Date(+e):a==="[object RegExp]"?o=new RegExp(e.source,e.flags):a==="[object DataView]"?o=new e.constructor(_u(e.buffer)):a==="[object ArrayBuffer]"?o=e.slice(0):a.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)rT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||rT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function Ek(e){return typeof e!="string"?[]:e.split(".")}function wn(e,t){const n=Ek(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let o=1;o<n.length&&r!=null;o+=1)r=r[n[o]];return r}function Df(e,t,n){const r=Ek(e);if(r.length===0)return n;const o=_u(n);if(r.length===1)return o[r[0]]=t,o;let a=o[r[0]];for(let i=1;i<r.length-1;i+=1){if(a===void 0)return o;a=a[r[i]]}return a[r[r.length-1]]=t,o}function pW(e,{from:t,to:n},r){const o=wn(e,r);if(!Array.isArray(o))return r;const a=[...o],i=o[t];return a.splice(t,1),a.splice(n,0,i),Df(e,a,r)}function mW(e,t,n,r){const o=wn(e,r);if(!Array.isArray(o))return r;const a=[...o];return a.splice(typeof n=="number"?n:a.length,0,t),Df(e,a,r)}function vW(e,t,n){const r=wn(e,n);return Array.isArray(r)?Df(e,r.filter((o,a)=>a!==t),n):n}function gW(e,t,n,r){const o=wn(e,r);if(!Array.isArray(o)||o.length<=n)return r;const a=[...o];return a[n]=t,Df(e,a,r)}function yW({$values:e,$errors:t,$status:n}){const r=_.useCallback((s,u)=>{n.clearFieldDirty(s),t.setErrors(c=>hW(s,u,c)),e.setValues({values:pW(s,u,e.refValues.current),updateState:!0})},[]),o=_.useCallback((s,u)=>{n.clearFieldDirty(s),t.setErrors(c=>nT(s,u,c,-1)),e.setValues({values:vW(s,u,e.refValues.current),updateState:!0})},[]),a=_.useCallback((s,u,c)=>{n.clearFieldDirty(s),t.setErrors(f=>nT(s,c,f,1)),e.setValues({values:mW(s,u,c,e.refValues.current),updateState:!0})},[]),i=_.useCallback((s,u,c)=>{n.clearFieldDirty(s),e.setValues({values:gW(s,c,u,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:o,insertListItem:a,replaceListItem:i}}var $b,oT;function bW(){return oT||(oT=1,$b=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;o--!==0;){var i=a[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),$b}var xW=bW();const up=Ju(xW);function Cd(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(o=>o.startsWith(`${t}.`));return e[t]||r.some(o=>e[o])||!1}return n.some(r=>e[r])}function wW({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[o,a]=_.useState(t),[i,s]=_.useState(e),u=_.useRef(t),c=_.useRef(e),f=_.useCallback(N=>{const k=typeof N=="function"?N(u.current):N;u.current=k,n==="controlled"&&a(k)},[]),h=_.useCallback((N,k=!1)=>{const M=typeof N=="function"?N(c.current):N;c.current=M,(n==="controlled"||k)&&s(M)},[]),m=_.useCallback(()=>f({}),[]),v=_.useCallback(N=>{const k=N?{...r.refValues.current,...N}:r.refValues.current;r.setValuesSnapshot(k),h({})},[]),y=_.useCallback((N,k)=>{f(M=>Cd(M,N)===k?M:{...M,[N]:k})},[]),x=_.useCallback((N,k,M)=>{h(I=>Cd(I,N)===k?I:{...I,[N]:k},M)},[]),w=_.useCallback((N,k)=>{const M=Cd(c.current,N),I=!up(wn(N,r.getValuesSnapshot()),k),O=sx(N,c.current);O[N]=I,h(O,M!==I)},[]),S=_.useCallback(N=>Cd(u.current,N),[]),E=_.useCallback(N=>h(k=>{if(typeof N!="string")return k;const M=sx(N,k);return delete M[N],up(M,k)?k:M}),[]),R=_.useCallback(N=>{if(N){const M=wn(N,c.current);if(typeof M=="boolean")return M;const I=wn(N,r.refValues.current),O=wn(N,r.valuesSnapshot.current);return!up(I,O)}return Object.keys(c.current).length>0?Cd(c.current):!up(r.refValues.current,r.valuesSnapshot.current)},[]),D=_.useCallback(()=>c.current,[]),A=_.useCallback(()=>u.current,[]);return{touchedState:o,dirtyState:i,touchedRef:u,dirtyRef:c,setTouched:f,setDirty:h,resetDirty:v,resetTouched:m,isTouched:S,setFieldTouched:y,setFieldDirty:x,setTouchedState:a,setDirtyState:s,clearFieldDirty:E,isDirty:R,getDirty:D,getTouched:A,setCalculatedFieldDirty:w}}function SW({initialValues:e,onValuesChange:t,mode:n}){const r=_.useRef(!1),[o,a]=_.useState(e||{}),i=_.useRef(o),s=_.useRef(o),u=_.useCallback(({values:w,subscribers:S,updateState:E=!0,mergeWithPreviousValues:R=!0})=>{const D=i.current,A=w instanceof Function?w(i.current):w,N=R?{...D,...A}:A;i.current=N,E&&(a(N),n==="uncontrolled"&&(i.current=N)),t?.(N,D),S?.filter(Boolean).forEach(k=>k({updatedValues:N,previousValues:D}))},[t]),c=_.useCallback(w=>{const S=wn(w.path,i.current),E=w.value instanceof Function?w.value(S):w.value;if(S!==E){const R=i.current,D=Df(w.path,E,i.current);u({values:D,updateState:w.updateState}),w.subscribers?.filter(Boolean).forEach(A=>A({path:w.path,updatedValues:D,previousValues:R}))}},[u]),f=_.useCallback(w=>{s.current=w},[]),h=_.useCallback((w,S)=>{r.current||(r.current=!0,u({values:w,updateState:n==="controlled"}),f(w),S())},[u]),m=_.useCallback(()=>{u({values:s.current,updateState:!0,mergeWithPreviousValues:!1})},[u]),v=_.useCallback(()=>i.current,[]),y=_.useCallback(()=>s.current,[]),x=_.useCallback((w,S)=>{const E=wn(w,s.current);typeof E>"u"||c({path:w,value:E,updateState:n==="controlled",subscribers:S})},[c,n]);return{initialized:r,stateValues:o,refValues:i,valuesSnapshot:s,setValues:u,setFieldValue:c,resetValues:m,setValuesSnapshot:f,initialize:h,getValues:v,getValuesSnapshot:y,resetField:x}}function CW({$status:e,cascadeUpdates:t}){const n=_.useRef({}),r=_.useCallback((a,i)=>{_.useEffect(()=>(n.current[a]=n.current[a]||[],n.current[a].push(i),()=>{n.current[a]=n.current[a].filter(s=>s!==i)}),[i])},[]),o=_.useCallback(a=>{const i=n.current[a]?.map(s=>u=>s({previousValue:wn(a,u.previousValues),value:wn(a,u.updatedValues),touched:e.isTouched(a),dirty:e.isDirty(a)}))??[];if(t)for(const s in n.current)(s.startsWith(`${a}.`)||a.startsWith(`${s}.`))&&i.push(...n.current[s].map(u=>c=>u({previousValue:wn(s,c.previousValues),value:wn(s,c.updatedValues),touched:e.isTouched(s),dirty:e.isDirty(s)})));return i},[]);return{subscribers:n,watch:r,getFieldSubscribers:o}}function aT(e,t){return e?`${e}-${t.toString()}`:t.toString()}const cp=Symbol("root-rule");function iT(e){const t=ix(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function lx(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((o,a)=>{const i=e[a],s=`${n===""?"":`${n}.`}${a}`,u=wn(s,t);let c=!1;return typeof i=="function"&&(o[s]=i(u,t,s)),typeof i=="object"&&Array.isArray(u)&&(c=!0,u.forEach((f,h)=>lx(i,t,`${s}.${h}`,o)),cp in i&&(o[s]=i[cp](u,t,s))),typeof i=="object"&&typeof u=="object"&&u!==null&&(c||lx(i,t,s,o),cp in i&&(o[s]=i[cp](u,t,s))),o},r)}function ux(e,t){return iT(typeof e=="function"?e(t):lx(e,t))}function dp(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=ux(t,n),o=Object.keys(r.errors).find(a=>e.split(".").every((i,s)=>i===a.split(".")[s]));return{hasError:!!o,error:o?r.errors[o]:null}}const EW="__MANTINE_FORM_INDEX__";function sT(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]+/g,`.${EW}`)):!1:!1}function Kd({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:o={},initialTouched:a={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:u=!1,onValuesChange:c,transformValues:f=w=>w,enhanceGetInputProps:h,validate:m,onSubmitPreventDefault:v="always",touchTrigger:y="change",cascadeUpdates:x=!1}={}){const w=fW(r),S=SW({initialValues:n,onValuesChange:c,mode:t}),E=wW({initialDirty:o,initialTouched:a,$values:S,mode:t}),R=yW({$values:S,$errors:w,$status:E}),D=CW({$status:E,cascadeUpdates:x}),[A,N]=_.useState(0),[k,M]=_.useState({}),[I,O]=_.useState(!1),L=_.useCallback(()=>{S.resetValues(),w.clearErrors(),E.resetDirty(),E.resetTouched(),t==="uncontrolled"&&N(oe=>oe+1)},[]),F=_.useCallback(oe=>{i&&w.clearErrors(),t==="uncontrolled"&&N(ve=>ve+1),Object.keys(D.subscribers.current).forEach(ve=>{const pe=wn(ve,S.refValues.current),Oe=wn(ve,oe);pe!==Oe&&D.getFieldSubscribers(ve).forEach(je=>je({previousValues:oe,updatedValues:S.refValues.current}))})},[i]),X=_.useCallback(oe=>{const ve=S.refValues.current;S.initialize(oe,()=>t==="uncontrolled"&&N(pe=>pe+1)),F(ve)},[F]),W=_.useCallback((oe,ve,pe)=>{const Oe=sT(oe,s),je=ve instanceof Function?ve(wn(oe,S.refValues.current)):ve;E.setCalculatedFieldDirty(oe,je),y==="change"&&E.setFieldTouched(oe,!0),!Oe&&i&&w.clearFieldError(oe),S.setFieldValue({path:oe,value:ve,updateState:t==="controlled",subscribers:[...D.getFieldSubscribers(oe),Oe?Pe=>{const Te=dp(oe,m,Pe.updatedValues);Te.hasError?w.setFieldError(oe,Te.error):w.clearFieldError(oe)}:null,pe?.forceUpdate!==!1&&t!=="controlled"?()=>M(Pe=>({...Pe,[oe]:(Pe[oe]||0)+1})):null]})},[c,m]),Y=_.useCallback(oe=>{const ve=S.refValues.current;S.setValues({values:oe,updateState:t==="controlled"}),F(ve)},[c,F]),B=_.useCallback(()=>{const oe=ux(m,S.refValues.current);return w.setErrors(oe.errors),oe},[m]),V=_.useCallback(oe=>{const ve=dp(oe,m,S.refValues.current);return ve.hasError?w.setFieldError(oe,ve.error):w.clearFieldError(oe),ve},[m]),U=(oe,{type:ve="input",withError:pe=!0,withFocus:Oe=!0,...je}={})=>{const Te={onChange:dW(Je=>W(oe,Je,{forceUpdate:!1})),"data-path":aT(e,oe)};return pe&&(Te.error=w.errorsState[oe]),ve==="checkbox"?Te[t==="controlled"?"checked":"defaultChecked"]=wn(oe,S.refValues.current):Te[t==="controlled"?"value":"defaultValue"]=wn(oe,S.refValues.current),Oe&&(Te.onFocus=()=>E.setFieldTouched(oe,!0),Te.onBlur=()=>{if(sT(oe,u)){const Je=dp(oe,m,S.refValues.current);Je.hasError?w.setFieldError(oe,Je.error):w.clearFieldError(oe)}}),Object.assign(Te,h?.({inputProps:Te,field:oe,options:{type:ve,withError:pe,withFocus:Oe,...je},form:ie}))},$=(oe,ve)=>pe=>{v==="always"&&pe?.preventDefault();const Oe=B();if(Oe.hasErrors)v==="validation-failed"&&pe?.preventDefault(),ve?.(Oe.errors,S.refValues.current,pe);else{const je=oe?.(f(S.refValues.current),pe);je instanceof Promise&&(O(!0),je.finally(()=>O(!1)))}},j=oe=>f(oe||S.refValues.current),G=_.useCallback(oe=>{oe.preventDefault(),L()},[]),Q=_.useCallback(oe=>oe?!dp(oe,m,S.refValues.current).hasError:!ux(m,S.refValues.current).hasErrors,[m]),te=oe=>`${A}-${String(oe)}-${k[String(oe)]||0}`,de=_.useCallback(oe=>document.querySelector(`[data-path="${aT(e,oe)}"]`),[]),we=_.useCallback(oe=>{S.resetField(oe,[t!=="controlled"?()=>M(ve=>({...ve,[oe]:(ve[oe]||0)+1})):null])},[S.resetField,t,M]),ie={watch:D.watch,initialized:S.initialized.current,values:t==="uncontrolled"?S.refValues.current:S.stateValues,getValues:S.getValues,getInitialValues:S.getValuesSnapshot,setInitialValues:S.setValuesSnapshot,resetField:we,initialize:X,setValues:Y,setFieldValue:W,submitting:I,setSubmitting:O,errors:w.errorsState,setErrors:w.setErrors,setFieldError:w.setFieldError,clearFieldError:w.clearFieldError,clearErrors:w.clearErrors,resetDirty:E.resetDirty,setTouched:E.setTouched,setDirty:E.setDirty,isTouched:E.isTouched,resetTouched:E.resetTouched,isDirty:E.isDirty,getTouched:E.getTouched,getDirty:E.getDirty,reorderListItem:R.reorderListItem,insertListItem:R.insertListItem,removeListItem:R.removeListItem,replaceListItem:R.replaceListItem,reset:L,validate:B,validateField:V,getInputProps:U,onSubmit:$,onReset:G,isValid:Q,getTransformedValues:j,key:te,getInputNode:de};return cW(e,ie),ie}function RW(e){return b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 262",style:{width:14,height:14},...e,children:[b.jsx("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}),b.jsx("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}),b.jsx("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"}),b.jsx("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"})]})}function _W(e){return b.jsx(Fe,{leftSection:b.jsx(RW,{}),variant:"default",...e})}function TW({size:e,style:t,...n}){return b.jsx(re,{component:"svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 209",fill:"currentColor",style:[{width:xe(e),height:xe(e)},t],...n,children:b.jsx("path",{fillRule:"nonzero",d:"M256 25.45c-9.42 4.177-19.542 7-30.166 8.27 10.845-6.5 19.172-16.793 23.093-29.057a105.183 105.183 0 01-33.351 12.745C205.995 7.201 192.346.822 177.239.822c-29.006 0-52.523 23.516-52.523 52.52 0 4.117.465 8.125 1.36 11.97-43.65-2.191-82.35-23.1-108.255-54.876-4.52 7.757-7.11 16.78-7.11 26.404 0 18.222 9.273 34.297 23.365 43.716a52.312 52.312 0 01-23.79-6.57c-.003.22-.003.44-.003.661 0 25.447 18.104 46.675 42.13 51.5a52.592 52.592 0 01-23.718.9c6.683 20.866 26.08 36.05 49.062 36.475-17.975 14.086-40.622 22.483-65.228 22.483-4.24 0-8.42-.249-12.529-.734 23.243 14.902 50.85 23.597 80.51 23.597 96.607 0 149.434-80.031 149.434-149.435 0-2.278-.05-4.543-.152-6.795A106.748 106.748 0 00256 25.45"})})}function DW(e){return b.jsx(Fe,{leftSection:b.jsx(TW,{size:16,color:"#00ACEE"}),variant:"default",...e})}const AW="_formPaper_a5u1v_2",xw={formPaper:AW};function NW(e){const[t,n]=pF(["login","register"]),r=Kd({initialValues:{email:"",name:"",password:"",terms:!0},validate:{email:o=>/^\S+@\S+$/.test(o)?null:"Invalid email",password:o=>o.length<=6?"Password should include at least 6 characters":null}});return b.jsxs(Zo,{className:xw.formPaper,radius:"md",p:"lg",withBorder:!0,...e,style:{maxWidth:"400px",margin:"0 auto"},children:[b.jsxs(me,{size:"lg",fw:500,children:["Welcome to Mantine, ",t," with"]}),b.jsxs($e,{grow:!0,mb:"md",mt:"md",children:[b.jsx(_W,{radius:"xl",children:"Google"}),b.jsx(DW,{radius:"xl",children:"Twitter"})]}),b.jsx(jr,{label:"Or continue with email",labelPosition:"center",my:"lg"}),b.jsxs("form",{onSubmit:r.onSubmit(()=>{}),children:[b.jsxs(to,{children:[t==="register"&&b.jsx(Na,{label:"Name",placeholder:"Your name",value:r.values.name,onChange:o=>r.setFieldValue("name",o.currentTarget.value),radius:"md"}),b.jsx(Na,{required:!0,label:"Email",placeholder:"hello@mantine.dev",value:r.values.email,onChange:o=>r.setFieldValue("email",o.currentTarget.value),error:r.errors.email&&"Invalid email",radius:"md"}),b.jsx(rw,{required:!0,label:"Password",placeholder:"Your password",value:r.values.password,onChange:o=>r.setFieldValue("password",o.currentTarget.value),error:r.errors.password&&"Password should include at least 6 characters",radius:"md"}),t==="register"&&b.jsx(oc,{label:"I accept terms and conditions",checked:r.values.terms,onChange:o=>r.setFieldValue("terms",o.currentTarget.checked)})]}),b.jsxs($e,{justify:"space-between",mt:"xl",children:[b.jsx(sv,{component:"button",type:"button",c:"dimmed",onClick:()=>n(),size:"xs",children:t==="register"?"Already have an account? Login":"Don't have an account? Register"}),b.jsx(Fe,{type:"submit",radius:"xl",children:XB(t)})]})]})]})}function fp({size:e=185,radius:t=2.5,...n}){return b.jsxs("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 185 185",width:e,height:e,...n,children:[b.jsx("rect",{width:"5",height:"5",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"20",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"40",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"60",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"80",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"100",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"120",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"140",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"160",rx:t}),b.jsx("rect",{width:"5",height:"5",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"60",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"120",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"20",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"80",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"140",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"40",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"100",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"160",y:"180",rx:t}),b.jsx("rect",{width:"5",height:"5",x:"180",y:"180",rx:t})]})}const kW="_wrapper_13e2z_2",MW="_inner_13e2z_18",IW="_dots_13e2z_23",OW="_title_13e2z_39",PW="_highlight_13e2z_56",jW="_description_13e2z_60",BW="_controls_13e2z_71",FW="_control_13e2z_71",Ro={wrapper:kW,inner:MW,dots:IW,title:OW,highlight:PW,description:jW,controls:BW,control:FW};function LW(){return b.jsxs(Kt,{className:Ro.wrapper,size:1400,children:[b.jsx(fp,{className:Ro.dots,style:{left:0,top:0}}),b.jsx(fp,{className:Ro.dots,style:{left:60,top:0}}),b.jsx(fp,{className:Ro.dots,style:{left:0,top:140}}),b.jsx(fp,{className:Ro.dots,style:{right:0,top:60}}),b.jsxs("div",{className:Ro.inner,children:[b.jsxs(jt,{className:Ro.title,children:["AI-Automated"," ",b.jsx(me,{component:"span",className:Ro.highlight,inherit:!0,children:"Learning Management"})," ","System"]}),b.jsx(Kt,{p:0,size:400,children:b.jsx(me,{size:"lg",c:"dimmed",className:Ro.description,children:"Streamline training with mapping, Jotforms, groups, and analytics for compliance and performance."})}),b.jsxs("div",{className:Ro.controls,children:[b.jsx(Fe,{className:Ro.control,size:"lg",variant:"default",color:"gray",children:"Explore"}),b.jsx(Fe,{className:Ro.control,size:"lg",children:"Start"})]})]})]})}const zW="_title_kxiyu_2",UW="_description_kxiyu_13",VW="_card_kxiyu_29",hp={title:zW,description:UW,card:VW},HW=[{title:"Seamless Course Management",description:"Admins can create groups, assign users, build learning and assignment forms, map them to courses, and assign to groups effortlessly.",icon:uH},{title:"User-Centric Learning Experience",description:"Users access assigned courses via navbar, view interactive JotForms, mindmaps, embedded PDFs, and submit assignments with ease.",icon:UH},{title:"Advanced Analytics",description:"Track completion rates, submission counts, scores, and timestamps for learning and assignments per course and group.",icon:nH}];function WW(){const e=vr(),{colorScheme:t}=BA(),n=t==="dark",r=HW.map(o=>b.jsxs(Zn,{shadow:"md",radius:"md",className:hp.card,padding:"xl",bg:n?"dark.6":"white",children:[b.jsx(o.icon,{size:50,stroke:1.5,color:n?e.colors.blue[3]:e.colors.blue[6]}),b.jsx(me,{fz:"lg",fw:500,className:hp.cardTitle,mt:"md",c:n?"white":"black",children:o.title}),b.jsx(me,{fz:"sm",c:n?"gray.4":"dimmed",mt:"sm",children:o.description})]},o.title));return b.jsxs(Kt,{size:"lg",py:"xl",children:[b.jsx(jt,{order:2,className:hp.title,ta:"center",mt:"sm",c:n?"white":"black",children:"Key Features of PULSE LMS"}),b.jsx(me,{c:n?"gray.4":"dimmed",className:hp.description,ta:"center",mt:"md",children:"Discover powerful features for admin management, user engagement, and insightful analytics in your pharmaceutical training platform."}),b.jsx(cc,{cols:{base:1,md:3},spacing:"xl",mt:50,children:r})]})}const $W=()=>b.jsxs("div",{children:[b.jsx(LW,{}),b.jsx(WW,{})]});function Rk({onSuccess:e,onClose:t}){const[n,r]=_.useState(!1),[o,a]=_.useState(""),i=Kd({initialValues:{email:"",group:""},validate:{email:u=>/^\S+@\S+$/.test(u)?null:"Invalid email",group:u=>u?null:"Please select a group"}}),s=async u=>{r(!0),a("");try{const c=await fetch(" http://localhost:8081/api/user-mappings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u.email,groupName:u.group})});if(!c.ok){const h=await c.text();throw new Error(h||"Failed to map user.")}const f=await c.json();console.log("Successfully mapped user:",f),e&&e(f)}catch(c){a(c.message),console.error("Submission error:",c)}finally{r(!1)}};return b.jsxs(Zo,{p:"md",shadow:"none",children:[b.jsx(me,{size:"lg",fw:500,ta:"center",mb:"lg",children:"Enter User Details"}),o&&b.jsx(me,{c:"red",ta:"center",pb:"md",children:o}),b.jsxs("form",{onSubmit:i.onSubmit(s),children:[b.jsxs(to,{children:[b.jsx(Na,{required:!0,label:"User Email",placeholder:"user@example.com",...i.getInputProps("email"),radius:"md"}),b.jsx(ii,{required:!0,label:"Select Group",placeholder:"Choose a group",data:["BL","BE","BM"],...i.getInputProps("group"),radius:"md"})]}),b.jsxs($e,{justify:"flex-end",mt:"xl",children:[t&&b.jsx(Fe,{variant:"default",onClick:t,children:"Cancel"}),b.jsx(Fe,{type:"submit",radius:"xl",loading:n,children:"Map User to Group"})]})]})]})}function GW(){const e=xi();return b.jsxs(re,{style:{padding:"32px 0"},children:[b.jsxs(Kt,{size:"lg",children:[b.jsx(jt,{align:"center",order:1,style:{color:"var(--mantine-color-white)",marginBottom:24},children:"PULSE LMS Dashboard"}),b.jsxs(cc,{cols:{base:1,md:4},spacing:"xl",mb:40,children:[b.jsx(ar,{to:"/usermanagment",style:{textDecoration:"none",height:"100%"},children:b.jsxs(Zn,{shadow:"md",radius:"md",p:"lg",style:{height:"100%",display:"flex",flexDirection:"column"},children:[b.jsx(me,{size:"lg",fw:600,style:{color:"var(--mantine-color-white)"},mb:6,children:"User Management"}),b.jsx(me,{size:"sm",color:"dimmed",mb:"md",children:"Manage users by creating, updating, or deleting profiles and assigning them to specific learning groups."}),b.jsx(Fe,{variant:"light",color:"blue",fullWidth:!0,style:{marginTop:"auto"},children:"Manage Users"})]})}),b.jsx(ar,{to:"/jotformmanagment",style:{textDecoration:"none",height:"100%"},children:b.jsxs(Zn,{shadow:"md",radius:"md",p:"lg",style:{height:"100%",display:"flex",flexDirection:"column"},children:[b.jsx(me,{size:"lg",fw:600,style:{color:"var(--mantine-color-white)"},mb:6,children:"Jotform Management"}),b.jsx(me,{size:"sm",color:"dimmed",mb:"md",children:"Administer learning materials and assignments by creating, editing, or removing Jotforms."}),b.jsx(Fe,{variant:"light",color:"blue",fullWidth:!0,style:{marginTop:"auto"},children:"Manage Jotforms"})]})}),b.jsx(ar,{to:"/coursemanagment",style:{textDecoration:"none",height:"100%"},children:b.jsxs(Zn,{shadow:"md",radius:"md",p:"lg",style:{height:"100%",display:"flex",flexDirection:"column"},children:[b.jsx(me,{size:"lg",fw:600,style:{color:"var(--mantine-color-white)"},mb:6,children:"Course Management"}),b.jsx(me,{size:"sm",color:"dimmed",mb:"md",children:"Organize your curriculum by mapping Jotforms and other materials to specific courses for user groups."}),b.jsx(Fe,{variant:"light",color:"blue",fullWidth:!0,style:{marginTop:"auto"},children:"Manage Courses"})]})}),b.jsx(ar,{to:"/resultmanagement",style:{textDecoration:"none",height:"100%"},children:b.jsxs(Zn,{shadow:"md",radius:"md",p:"lg",style:{height:"100%",display:"flex",flexDirection:"column"},children:[b.jsx(me,{size:"lg",fw:600,style:{color:"var(--mantine-color-white)"},mb:6,children:"Results Management"}),b.jsx(me,{size:"sm",color:"dimmed",mb:"md",children:"Track and analyze user performance, view assessment results, and generate progress reports."}),b.jsx(Fe,{variant:"light",color:"blue",fullWidth:!0,style:{marginTop:"auto"},children:"View Results"})]})})]})]}),b.jsx("button",{onClick:()=>e("/fileupload"),children:"File Upload"})]})}function _k(e){const t=xi(),n=Kd({initialValues:{jotformName:""},validate:{jotformName:o=>o.length>0?null:"Please enter a Jotform name"}}),r=o=>{console.log("Creating Jotform:",o),t("/jotformbuilder",{state:{jotformName:o.jotformName}})};return b.jsxs(Zo,{className:xw.formPaper,radius:"md",p:"lg",withBorder:!0,...e,style:{maxWidth:"400px",margin:"0 auto"},children:[b.jsx(me,{size:"lg",fw:500,ta:"center",children:"Create Jotform"}),b.jsx(jr,{label:"Enter Jotform details",labelPosition:"center",my:"lg"}),b.jsxs("form",{onSubmit:n.onSubmit(r),children:[b.jsx(to,{children:b.jsx(Na,{required:!0,label:"Jotform Name",placeholder:"Enter form name",value:n.values.jotformName,onChange:o=>n.setFieldValue("jotformName",o.currentTarget.value),error:n.errors.jotformName&&"Please enter a Jotform name",radius:"md"})}),b.jsx($e,{justify:"center",mt:"xl",children:b.jsx(Fe,{type:"submit",radius:"xl",children:"Create Form"})})]})]})}function Sr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qW=typeof Symbol=="function"&&Symbol.observable||"@@observable",lT=qW,uT=()=>Math.random().toString(36).substring(7).split("").join("."),XW={INIT:`@@redux/INIT${uT()}`,REPLACE:`@@redux/REPLACE${uT()}`},cT=XW;function YW(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Tk(e,t,n){if(typeof e!="function")throw new Error(Sr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Sr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Sr(1));return n(Tk)(e,t)}let r=e,o=t,a=new Map,i=a,s=0,u=!1;function c(){i===a&&(i=new Map,a.forEach((w,S)=>{i.set(S,w)}))}function f(){if(u)throw new Error(Sr(3));return o}function h(w){if(typeof w!="function")throw new Error(Sr(4));if(u)throw new Error(Sr(5));let S=!0;c();const E=s++;return i.set(E,w),function(){if(S){if(u)throw new Error(Sr(6));S=!1,c(),i.delete(E),a=null}}}function m(w){if(!YW(w))throw new Error(Sr(7));if(typeof w.type>"u")throw new Error(Sr(8));if(typeof w.type!="string")throw new Error(Sr(17));if(u)throw new Error(Sr(9));try{u=!0,o=r(o,w)}finally{u=!1}return(a=i).forEach(E=>{E()}),w}function v(w){if(typeof w!="function")throw new Error(Sr(10));r=w,m({type:cT.REPLACE})}function y(){const w=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Sr(11));function E(){const D=S;D.next&&D.next(f())}return E(),{unsubscribe:w(E)}},[lT](){return this}}}return m({type:cT.INIT}),{dispatch:m,subscribe:h,getState:f,replaceReducer:v,[lT]:y}}function dT(e,t){return function(...n){return t(e.apply(this,n))}}function fT(e,t){if(typeof e=="function")return dT(e,t);if(typeof e!="object"||e===null)throw new Error(Sr(16));const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=dT(o,t))}return n}function Dk(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function KW(...e){return t=>(n,r)=>{const o=t(n,r);let a=()=>{throw new Error(Sr(15))};const i={getState:o.getState,dispatch:(u,...c)=>a(u,...c)},s=e.map(u=>u(i));return a=Dk(...s)(o.dispatch),{...o,dispatch:a}}}var Gb={exports:{}},qb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function QW(){if(hT)return qb;hT=1;var e=mf();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,a=e.useEffect,i=e.useMemo,s=e.useDebugValue;return qb.useSyncExternalStoreWithSelector=function(u,c,f,h,m){var v=o(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=i(function(){function w(A){if(!S){if(S=!0,E=A,A=h(A),m!==void 0&&y.hasValue){var N=y.value;if(m(N,A))return R=N}return R=A}if(N=R,n(E,A))return N;var k=h(A);return m!==void 0&&m(N,k)?(E=A,N):(E=A,R=k)}var S=!1,E,R,D=f===void 0?null:f;return[function(){return w(c())},D===null?void 0:function(){return w(D())}]},[c,f,h,m]);var x=r(u,v[0],v[1]);return a(function(){y.hasValue=!0,y.value=x},[x]),s(x),x},qb}var pT;function JW(){return pT||(pT=1,Gb.exports=QW()),Gb.exports}JW();var ZW=_.version.startsWith("19"),e$=Symbol.for(ZW?"react.transitional.element":"react.element"),t$=Symbol.for("react.portal"),n$=Symbol.for("react.fragment"),r$=Symbol.for("react.strict_mode"),o$=Symbol.for("react.profiler"),a$=Symbol.for("react.consumer"),i$=Symbol.for("react.context"),Ak=Symbol.for("react.forward_ref"),s$=Symbol.for("react.suspense"),l$=Symbol.for("react.suspense_list"),ww=Symbol.for("react.memo"),u$=Symbol.for("react.lazy"),c$=Ak,d$=ww;function f$(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case e$:switch(e=e.type,e){case n$:case o$:case r$:case s$:case l$:return e;default:switch(e=e&&e.$$typeof,e){case i$:case Ak:case u$:case ww:return e;case a$:return e;default:return t}}case t$:return t}}}function h$(e){return f$(e)===ww}function p$(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:i}){let s=!1,u,c,f,h,m;function v(E,R){return u=E,c=R,f=e(u,c),h=t(r,c),m=n(f,h,c),s=!0,m}function y(){return f=e(u,c),t.dependsOnOwnProps&&(h=t(r,c)),m=n(f,h,c),m}function x(){return e.dependsOnOwnProps&&(f=e(u,c)),t.dependsOnOwnProps&&(h=t(r,c)),m=n(f,h,c),m}function w(){const E=e(u,c),R=!i(E,f);return f=E,R&&(m=n(f,h,c)),m}function S(E,R){const D=!a(R,c),A=!o(E,u,R,c);return u=E,c=R,D&&A?y():D?x():A?w():m}return function(R,D){return s?S(R,D):v(R,D)}}function m$(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...o}){const a=t(e,o),i=n(e,o),s=r(e,o);return p$(a,i,s,e,o)}function v$(e,t){const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=(...a)=>t(o(...a)))}return n}function cx(e){return function(n){const r=e(n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function mT(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Nk(e,t){return function(r,{displayName:o}){const a=function(s,u){return a.dependsOnOwnProps?a.mapToProps(s,u):a.mapToProps(s,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,u){a.mapToProps=e,a.dependsOnOwnProps=mT(e);let c=a(s,u);return typeof c=="function"&&(a.mapToProps=c,a.dependsOnOwnProps=mT(c),c=a(s,u)),c},a}}function Sw(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function g$(e){return e&&typeof e=="object"?cx(t=>v$(e,t)):e?typeof e=="function"?Nk(e):Sw(e,"mapDispatchToProps"):cx(t=>({dispatch:t}))}function y$(e){return e?typeof e=="function"?Nk(e):Sw(e,"mapStateToProps"):cx(()=>({}))}function b$(e,t,n){return{...n,...e,...t}}function x$(e){return function(n,{displayName:r,areMergedPropsEqual:o}){let a=!1,i;return function(u,c,f){const h=e(u,c,f);return a?o(h,i)||(i=h):(a=!0,i=h),i}}}function w$(e){return e?typeof e=="function"?x$(e):Sw(e,"mergeProps"):()=>b$}function S$(e){e()}function C$(){let e=null,t=null;return{clear(){e=null,t=null},notify(){S$(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var vT={notify(){},get:()=>[]};function kk(e,t){let n,r=vT,o=0,a=!1;function i(x){f();const w=r.subscribe(x);let S=!1;return()=>{S||(S=!0,w(),h())}}function s(){r.notify()}function u(){y.onStateChange&&y.onStateChange()}function c(){return a}function f(){o++,n||(n=t?t.addNestedSub(u):e.subscribe(u),r=C$())}function h(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=vT)}function m(){a||(a=!0,f())}function v(){a&&(a=!1,h())}const y={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return y}var E$=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R$=E$(),_$=()=>typeof navigator<"u"&&navigator.product==="ReactNative",T$=_$(),D$=()=>R$||T$?_.useLayoutEffect:_.useEffect,im=D$();function gT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xb(e,t){if(gT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!gT(e[n[o]],t[n[o]]))return!1;return!0}var A$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},N$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},k$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M$={[c$]:k$,[d$]:Mk};function yT(e){return h$(e)?Mk:M$[e.$$typeof]||A$}var I$=Object.defineProperty,O$=Object.getOwnPropertyNames,bT=Object.getOwnPropertySymbols,P$=Object.getOwnPropertyDescriptor,j$=Object.getPrototypeOf,xT=Object.prototype;function dx(e,t){if(typeof t!="string"){if(xT){const a=j$(t);a&&a!==xT&&dx(e,a)}let n=O$(t);bT&&(n=n.concat(bT(t)));const r=yT(e),o=yT(t);for(let a=0;a<n.length;++a){const i=n[a];if(!N$[i]&&!(o&&o[i])&&!(r&&r[i])){const s=P$(t,i);try{I$(e,i,s)}catch{}}}}return e}var B$=Symbol.for("react-redux-context"),F$=typeof globalThis<"u"?globalThis:{};function L$(){if(!_.createContext)return{};const e=F$[B$]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var Ik=L$(),z$=[null,null];function U$(e,t,n){im(()=>e(...t),n)}function V$(e,t,n,r,o,a){e.current=r,n.current=!1,o.current&&(o.current=null,a())}function H$(e,t,n,r,o,a,i,s,u,c,f){if(!e)return()=>{};let h=!1,m=null;const v=()=>{if(h||!s.current)return;const x=t.getState();let w,S;try{w=r(x,o.current)}catch(E){S=E,m=E}S||(m=null),w===a.current?i.current||c():(a.current=w,u.current=w,i.current=!0,f())};return n.onStateChange=v,n.trySubscribe(),v(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}function W$(e,t){return e===t}function $$(e,t,n,{pure:r,areStatesEqual:o=W$,areOwnPropsEqual:a=Xb,areStatePropsEqual:i=Xb,areMergedPropsEqual:s=Xb,forwardRef:u=!1,context:c=Ik}={}){const f=c,h=y$(e),m=g$(t),v=w$(n),y=!!e;return w=>{const S=w.displayName||w.name||"Component",E=`Connect(${S})`,R={shouldHandleStateChanges:y,displayName:E,wrappedComponentName:S,WrappedComponent:w,initMapStateToProps:h,initMapDispatchToProps:m,initMergeProps:v,areStatesEqual:o,areStatePropsEqual:i,areOwnPropsEqual:a,areMergedPropsEqual:s};function D(k){const[M,I,O]=_.useMemo(()=>{const{reactReduxForwardedRef:Pe,...Te}=k;return[k.context,Pe,Te]},[k]),L=_.useMemo(()=>{let Pe=f;return M?.Consumer,Pe},[M,f]),F=_.useContext(L),X=!!k.store&&!!k.store.getState&&!!k.store.dispatch,W=!!F&&!!F.store,Y=X?k.store:F.store,B=W?F.getServerState:Y.getState,V=_.useMemo(()=>m$(Y.dispatch,R),[Y]),[U,$]=_.useMemo(()=>{if(!y)return z$;const Pe=kk(Y,X?void 0:F.subscription),Te=Pe.notifyNestedSubs.bind(Pe);return[Pe,Te]},[Y,X,F]),j=_.useMemo(()=>X?F:{...F,subscription:U},[X,F,U]),G=_.useRef(void 0),Q=_.useRef(O),te=_.useRef(void 0),de=_.useRef(!1),we=_.useRef(!1),ie=_.useRef(void 0);im(()=>(we.current=!0,()=>{we.current=!1}),[]);const oe=_.useMemo(()=>()=>te.current&&O===Q.current?te.current:V(Y.getState(),O),[Y,O]),ve=_.useMemo(()=>Te=>U?H$(y,Y,U,V,Q,G,de,we,te,$,Te):()=>{},[U]);U$(V$,[Q,G,de,O,te,$]);let pe;try{pe=_.useSyncExternalStore(ve,oe,B?()=>V(B(),O):oe)}catch(Pe){throw ie.current&&(Pe.message+=`
The error may be correlated with this previous error:
${ie.current.stack}

`),Pe}im(()=>{ie.current=void 0,te.current=void 0,G.current=pe});const Oe=_.useMemo(()=>_.createElement(w,{...pe,ref:I}),[I,w,pe]);return _.useMemo(()=>y?_.createElement(L.Provider,{value:j},Oe):Oe,[L,Oe,j])}const N=_.memo(D);if(N.WrappedComponent=w,N.displayName=D.displayName=E,u){const M=_.forwardRef(function(O,L){return _.createElement(N,{...O,reactReduxForwardedRef:L})});return M.displayName=E,M.WrappedComponent=w,dx(M,w)}return dx(N,w)}}var Ok=$$;function G$(e){const{children:t,context:n,serverState:r,store:o}=e,a=_.useMemo(()=>{const u=kk(o);return{store:o,subscription:u,getServerState:r?()=>r:void 0}},[o,r]),i=_.useMemo(()=>o.getState(),[o]);im(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),i!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,i]);const s=n||Ik;return _.createElement(s.Provider,{value:a},t)}var q$=G$,X$="Invariant failed";function Y$(e,t){throw new Error(X$)}var Go=function(t){var n=t.top,r=t.right,o=t.bottom,a=t.left,i=r-a,s=o-n,u={top:n,right:r,bottom:o,left:a,width:i,height:s,x:a,y:n,center:{x:(r+a)/2,y:(o+n)/2}};return u},Cw=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},wT=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},K$=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Yb={top:0,right:0,bottom:0,left:0},Ew=function(t){var n=t.borderBox,r=t.margin,o=r===void 0?Yb:r,a=t.border,i=a===void 0?Yb:a,s=t.padding,u=s===void 0?Yb:s,c=Go(Cw(n,o)),f=Go(wT(n,i)),h=Go(wT(f,u));return{marginBox:c,borderBox:Go(n),paddingBox:f,contentBox:h,margin:o,border:i,padding:u}},_o=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var o=Number(n);return isNaN(o)&&Y$(),o},Q$=function(){return{x:window.pageXOffset,y:window.pageYOffset}},sm=function(t,n){var r=t.borderBox,o=t.border,a=t.margin,i=t.padding,s=K$(r,n);return Ew({borderBox:s,border:o,margin:a,padding:i})},lm=function(t,n){return n===void 0&&(n=Q$()),sm(t,n)},Pk=function(t,n){var r={top:_o(n.marginTop),right:_o(n.marginRight),bottom:_o(n.marginBottom),left:_o(n.marginLeft)},o={top:_o(n.paddingTop),right:_o(n.paddingRight),bottom:_o(n.paddingBottom),left:_o(n.paddingLeft)},a={top:_o(n.borderTopWidth),right:_o(n.borderRightWidth),bottom:_o(n.borderBottomWidth),left:_o(n.borderLeftWidth)};return Ew({borderBox:t,margin:r,padding:o,border:a})},jk=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Pk(n,r)},Qd=function(t){var n=[],r=null,o=function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];n=s,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function Bk(e,t){}Bk.bind(null,"warn");Bk.bind(null,"error");function us(){}function J$(e,t){return{...e,...t}}function Ao(e,t,n){const r=t.map(o=>{const a=J$(n,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){r.forEach(a=>{a()})}}const Z$="Invariant failed";class um extends Error{}um.prototype.toString=function(){return this.message};function Ne(e,t){throw new um(Z$)}class eG extends ut.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=us,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof um&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Ao(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof um){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const tG=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,cm=e=>e+1,nG=e=>`
  You have lifted an item in position ${cm(e.source.index)}
`,Fk=(e,t)=>{const n=e.droppableId===t.droppableId,r=cm(e.index),o=cm(t.index);return n?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},Lk=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,rG=e=>{const t=e.destination;if(t)return Fk(e.source,t);const n=e.combine;return n?Lk(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},ST=e=>`
  The item has returned to its starting position
  of ${cm(e.index)}
`,oG=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ST(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${Fk(e.source,t)}
    `:n?`
      You have dropped the item.
      ${Lk(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ST(e.source)}
  `},Up={dragHandleUsageInstructions:tG,onDragStart:nG,onDragUpdate:rG,onDragEnd:oG};function aG(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function zk(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!aG(e[n],t[n]))return!1;return!0}function At(e,t){const n=_.useState(()=>({inputs:t,result:e()}))[0],r=_.useRef(!0),o=_.useRef(n),i=r.current||!!(t&&o.current.inputs&&zk(t,o.current.inputs))?o.current:{inputs:t,result:e()};return _.useEffect(()=>{r.current=!1,o.current=i},[i]),i.result}function Qe(e,t){return At(()=>e,t)}const $n={x:0,y:0},tr=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),no=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),cs=(e,t)=>e.x===t.x&&e.y===t.y,pc=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),ll=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Jd=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),CT=(e,t)=>Math.min(...t.map(n=>Jd(e,n))),Uk=e=>t=>({x:e(t.x),y:e(t.y)});var iG=(e,t)=>{const n=Go({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Af=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),ET=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],sG={top:0,right:0,bottom:0,left:0},lG=(e,t)=>t?Af(e,t.scroll.diff.displacement):e,uG=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,cG=(e,t)=>t&&t.shouldClipSubject?iG(t.pageMarginBox,e):Go(e);var $u=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=lG(e.marginBox,r),a=uG(o,n,t),i=cG(a,r);return{page:e,withPlaceholder:t,active:i}},Rw=(e,t)=>{e.frame||Ne();const n=e.frame,r=no(t,n.scroll.initial),o=pc(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},i=$u({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:i}};function Hn(e,t=zk){let n=null;function r(...o){if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;const a=e.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}const Vk=Hn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Hk=Hn(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),kv=Hn(e=>Object.values(e)),dG=Hn(e=>Object.values(e));var mc=Hn((e,t)=>dG(t).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function _w(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Mv(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Iv=Hn((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),fG=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled||!_w(o))return null;function i(v){const y={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return{...o,at:y}}const s=o.displaced.all,u=s.length?s[0]:null;if(e)return u?i(u):null;const c=Iv(t,r);if(!u){if(!c.length)return null;const v=c[c.length-1];return i(v.descriptor.id)}const f=c.findIndex(v=>v.descriptor.id===u);f===-1&&Ne();const h=f-1;if(h<0)return null;const m=c[h];return i(m.descriptor.id)},vc=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Wk={point:$n,value:0},Zd={invisible:{},visible:{},all:[]},hG={displaced:Zd,displacedBy:Wk,at:null};var ko=(e,t)=>n=>e<=n&&n<=t,$k=e=>{const t=ko(e.top,e.bottom),n=ko(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;const u=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return u&&c?!0:u&&i||c&&a}},pG=e=>{const t=ko(e.top,e.bottom),n=ko(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Tw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Gk={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var mG=e=>t=>{const n=ko(t.top,t.bottom),r=ko(t.left,t.right);return o=>e===Tw?n(o.top)&&n(o.bottom):r(o.left)&&r(o.right)};const vG=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:$n;return Af(e,n)},gG=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,yG=(e,t,n)=>n(t)(e),Dw=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const a=r?vG(e,t):e;return gG(a,t,o)&&yG(a,n,o)},bG=e=>Dw({...e,isVisibleThroughFrameFn:$k}),qk=e=>Dw({...e,isVisibleThroughFrameFn:pG}),xG=e=>Dw({...e,isVisibleThroughFrameFn:mG(e.destination.axis)}),wG=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const a=o[e];return a?a.shouldAnimate:!0};function SG(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Go(Cw(n,r))}function ef({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:a}){return e.reduce(function(s,u){const c=SG(u,n),f=u.descriptor.id;if(s.all.push(f),!bG({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return s.invisible[u.descriptor.id]=!0,s;const m=wG(f,a,o),v={draggableId:f,shouldAnimate:m};return s.visible[f]=v,s},{all:[],visible:{},invisible:{}})}function CG(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function RT({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=CG(e,{inHomeList:t});return{displaced:Zd,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function dm({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:a,index:i,forceShouldAnimate:s}){const u=vc(e,n);if(i==null)return RT({insideDestination:t,inHomeList:u,displacedBy:o,destination:n});const c=t.find(y=>y.descriptor.index===i);if(!c)return RT({insideDestination:t,inHomeList:u,displacedBy:o,destination:n});const f=Iv(e,t),h=t.indexOf(c),m=f.slice(h);return{displaced:ef({afterDragging:m,destination:n,displacedBy:o,last:a,viewport:r.frame,forceShouldAnimate:s}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function vs(e,t){return!!t.effected[e]}var EG=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,s=n[a].descriptor.index;return vs(a,o)?e?s:s-1:e?s+1:s},RG=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,a=e?o+1:o-1,i=n[0].descriptor.index,s=n[n.length-1].descriptor.index,u=t?s:s+1;return a<i||a>u?null:a},_G=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:a,previousImpact:i,viewport:s,afterCritical:u})=>{const c=i.at;if(c||Ne(),c.type==="REORDER"){const h=RG({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:a});return h==null?null:dm({draggable:n,insideDestination:a,destination:o,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:h})}const f=EG({isMovingForward:e,destination:o,displaced:i.displaced,draggables:r,combine:c.combine,afterCritical:u});return f==null?null:dm({draggable:n,insideDestination:a,destination:o,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:f})},TG=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=!!(e.visible[n]||e.invisible[n]);return vs(n,t)?o?$n:pc(r.point):o?r.point:$n},DG=({afterCritical:e,impact:t,draggables:n})=>{const r=Mv(t);r||Ne();const o=r.draggableId,a=n[o].page.borderBox.center,i=TG({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return tr(a,i)};const Xk=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,AG=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Aw=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,_T=({axis:e,moveRelativeTo:t,isMoving:n})=>ll(e.line,t.marginBox[e.end]+Xk(e,n),Aw(e,t.marginBox,n)),TT=({axis:e,moveRelativeTo:t,isMoving:n})=>ll(e.line,t.marginBox[e.start]-AG(e,n),Aw(e,t.marginBox,n)),NG=({axis:e,moveInto:t,isMoving:n})=>ll(e.line,t.contentBox[e.start]+Xk(e,n),Aw(e,t.contentBox,n));var kG=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const a=mc(r.descriptor.id,n),i=t.page,s=r.axis;if(!a.length)return NG({axis:s,moveInto:r.page,isMoving:i});const{displaced:u,displacedBy:c}=e,f=u.all[0];if(f){const m=n[f];if(vs(f,o))return TT({axis:s,moveRelativeTo:m.page,isMoving:i});const v=sm(m.page,c.point);return TT({axis:s,moveRelativeTo:v,isMoving:i})}const h=a[a.length-1];if(h.descriptor.id===t.descriptor.id)return i.borderBox.center;if(vs(h.descriptor.id,o)){const m=sm(h.page,pc(o.displacedBy.point));return _T({axis:s,moveRelativeTo:m,isMoving:i})}return _T({axis:s,moveRelativeTo:h.page,isMoving:i})},fx=(e,t)=>{const n=e.frame;return n?tr(t,n.scroll.diff.displacement):t};const MG=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const a=t.page.borderBox.center,i=e.at;return!n||!i?a:i.type==="REORDER"?kG({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):DG({impact:e,draggables:r,afterCritical:o})};var Ov=e=>{const t=MG(e),n=e.droppable;return n?fx(n,t):t},Yk=(e,t)=>{const n=no(t,e.scroll.initial),r=pc(n);return{frame:Go({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function DT(e,t){return e.map(n=>t[n])}function IG(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var OG=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const a=Yk(t,tr(t.scroll.current,o)),i=n.frame?Rw(n,tr(n.frame.scroll.current,o)):n,s=e.displaced,u=ef({afterDragging:DT(s.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:s,forceShouldAnimate:!1}),c=ef({afterDragging:DT(s.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:s,forceShouldAnimate:!1}),f={},h={},m=[s,u,c];return s.all.forEach(y=>{const x=IG(y,m);if(x){h[y]=x;return}f[y]=!0}),{...e,displaced:{all:s.all,invisible:f,visible:h}}},PG=(e,t)=>tr(e.scroll.diff.displacement,t),Nw=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=PG(n,e),o=no(r,t.page.borderBox.center);return tr(t.client.borderBox.center,o)},Kk=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{const i=no(n,e.page.borderBox.center),u={target:Af(e.page.borderBox,i),destination:t,withDroppableDisplacement:o,viewport:r};return a?xG(u):qk(u)},jG=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:a,previousPageBorderBoxCenter:i,previousClientSelection:s,afterCritical:u})=>{if(!n.isEnabled)return null;const c=mc(n.descriptor.id,r),f=vc(t,n),h=fG({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:o})||_G({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:o,viewport:a,afterCritical:u});if(!h)return null;const m=Ov({impact:h,draggable:t,droppable:n,draggables:r,afterCritical:u});if(Kk({draggable:t,destination:n,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Nw({pageBorderBoxCenter:m,draggable:t,viewport:a}),impact:h,scrollJumpRequest:null};const y=no(m,i),x=OG({impact:h,viewport:a,destination:n,draggables:r,maxScrollChange:y});return{clientSelection:s,impact:x,scrollJumpRequest:y}};const wr=e=>{const t=e.subject.active;return t||Ne(),t};var BG=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const a=n.subject.active;if(!a)return null;const i=n.axis,s=ko(a[i.start],a[i.end]),u=kv(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>$k(o.frame)(wr(f))).filter(f=>{const h=wr(f);return e?a[i.crossAxisEnd]<h[i.crossAxisEnd]:h[i.crossAxisStart]<a[i.crossAxisStart]}).filter(f=>{const h=wr(f),m=ko(h[i.start],h[i.end]);return s(h[i.start])||s(h[i.end])||m(a[i.start])||m(a[i.end])}).sort((f,h)=>{const m=wr(f)[i.crossAxisStart],v=wr(h)[i.crossAxisStart];return e?m-v:v-m}).filter((f,h,m)=>wr(f)[i.crossAxisStart]===wr(m[0])[i.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const c=u.filter(f=>ko(wr(f)[i.start],wr(f)[i.end])(t[i.line]));return c.length===1?c[0]:c.length>1?c.sort((f,h)=>wr(f)[i.start]-wr(h)[i.start])[0]:u.sort((f,h)=>{const m=CT(t,ET(wr(f))),v=CT(t,ET(wr(h)));return m!==v?m-v:wr(f)[i.start]-wr(h)[i.start]})[0]};const AT=(e,t)=>{const n=e.page.borderBox.center;return vs(e.descriptor.id,t)?no(n,t.displacedBy.point):n},FG=(e,t)=>{const n=e.page.borderBox;return vs(e.descriptor.id,t)?Af(n,pc(t.displacedBy.point)):n};var LG=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>r.filter(i=>qk({target:FG(i,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,s)=>{const u=Jd(e,fx(n,AT(i,o))),c=Jd(e,fx(n,AT(s,o)));return u<c?-1:c<u?1:i.descriptor.index-s.descriptor.index})[0]||null,Nf=Hn(function(t,n){const r=n[t.line];return{value:r,point:ll(t.line,r)}});const zG=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return ll(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],u=mc(e.descriptor.id,n).reduce((c,f)=>c+f.client.marginBox[r.size],0)+t[r.line]-o;return u<=0?null:ll(r.line,u)},Qk=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Jk=(e,t,n)=>{const r=e.frame;vc(t,e)&&Ne(),e.subject.withPlaceholder&&Ne();const o=Nf(e.axis,t.displaceBy).point,a=zG(e,o,n),i={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=$u({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:f}}const s=a?tr(r.scroll.max,a):r.scroll.max,u=Qk(r,s),c=$u({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:u});return{...e,subject:c,frame:u}},UG=e=>{const t=e.subject.withPlaceholder;t||Ne();const n=e.frame;if(!n){const i=$u({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||Ne();const o=Qk(n,r),a=$u({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}};var VG=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:a,viewport:i,afterCritical:s})=>{if(!t){if(n.length)return null;const h={displaced:Zd,displacedBy:Wk,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},m=Ov({impact:h,draggable:r,droppable:a,draggables:o,afterCritical:s}),v=vc(r,a)?a:Jk(a,r,o);return Kk({draggable:r,destination:v,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],c=(()=>{const h=t.descriptor.index;return t.descriptor.id===r.descriptor.id||u?h:h+1})(),f=Nf(a.axis,r.displaceBy);return dm({draggable:r,insideDestination:n,destination:a,viewport:i,displacedBy:f,last:Zd,index:c})},HG=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:a,viewport:i,afterCritical:s})=>{const u=BG({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:i});if(!u)return null;const c=mc(u.descriptor.id,o),f=LG({pageBorderBoxCenter:t,viewport:i,destination:u,insideDestination:c,afterCritical:s}),h=VG({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:o,moveRelativeTo:f,insideDestination:c,viewport:i,afterCritical:s});if(!h)return null;const m=Ov({impact:h,draggable:n,droppable:u,draggables:o,afterCritical:s});return{clientSelection:Nw({pageBorderBoxCenter:m,draggable:n,viewport:i}),impact:h,scrollJumpRequest:null}},io=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const WG=(e,t)=>{const n=io(e);return n?t[n]:null};var $G=({state:e,type:t})=>{const n=WG(e.impact,e.dimensions.droppables),r=!!n,o=e.dimensions.droppables[e.critical.droppable.id],a=n||o,i=a.axis.direction,s=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(s&&!r)return null;const u=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:h,droppables:m}=e.dimensions;return s?jG({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:c,destination:a,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):HG({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:c,isOver:a,draggables:h,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function $s(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Zk(e){const t=ko(e.top,e.bottom),n=ko(e.left,e.right);return function(o){return t(o.y)&&n(o.x)}}function GG(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function qG({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map(a=>{const i=a.axis,s=ll(a.axis.line,e.center[i.line],a.page.borderBox.center[i.crossAxisLine]);return{id:a.descriptor.id,distance:Jd(r,s)}}).sort((a,i)=>i.distance-a.distance);return o[0]?o[0].id:null}function XG({pageBorderBox:e,draggable:t,droppables:n}){const r=kv(n).filter(o=>{if(!o.isEnabled)return!1;const a=o.subject.active;if(!a||!GG(e,a))return!1;if(Zk(a)(e.center))return!0;const i=o.axis,s=a.center[i.crossAxisLine],u=e[i.crossAxisStart],c=e[i.crossAxisEnd],f=ko(a[i.crossAxisStart],a[i.crossAxisEnd]),h=f(u),m=f(c);return!h&&!m?!0:h?u<s:c>s});return r.length?r.length===1?r[0].descriptor.id:qG({pageBorderBox:e,draggable:t,candidates:r}):null}const eM=(e,t)=>Go(Af(e,t));var YG=(e,t)=>{const n=e.frame;return n?eM(t,n.scroll.diff.value):t};function tM({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function KG({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var QG=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:a,afterCritical:i})=>{const s=n.axis,u=Nf(n.axis,t.displaceBy),c=u.value,f=e[s.start],h=e[s.end],v=Iv(t,r).find(x=>{const w=x.descriptor.id,S=x.page.borderBox.center[s.line],E=vs(w,i),R=tM({displaced:o,id:w});return E?R?h<=S:f<S-c:R?h<=S+c:f<S})||null,y=KG({draggable:t,closest:v,inHomeList:vc(t,n)});return dm({draggable:t,insideDestination:r,destination:n,viewport:a,last:o,displacedBy:u,index:y})};const JG=4;var ZG=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const i=r.axis,s=Nf(r.axis,e.displaceBy),u=s.value,c=t[i.start],f=t[i.end],m=Iv(e,o).find(y=>{const x=y.descriptor.id,w=y.page.borderBox,E=w[i.size]/JG,R=vs(x,a),D=tM({displaced:n.displaced,id:x});return R?D?f>w[i.start]+E&&f<w[i.end]-E:c>w[i.start]-u+E&&c<w[i.end]-u-E:D?f>w[i.start]+u+E&&f<w[i.end]+u-E:c>w[i.start]+E&&c<w[i.end]-E});return m?{displacedBy:s,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},nM=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:a,afterCritical:i})=>{const s=eM(t.page.borderBox,e),u=XG({pageBorderBox:s,draggable:t,droppables:r});if(!u)return hG;const c=r[u],f=mc(c.descriptor.id,n),h=YG(c,s);return ZG({pageBorderBoxWithDroppableScroll:h,draggable:t,previousImpact:o,destination:c,insideDestination:f,afterCritical:i})||QG({pageBorderBoxWithDroppableScroll:h,draggable:t,destination:c,insideDestination:f,last:o.displaced,viewport:a,afterCritical:i})},kw=(e,t)=>({...e,[t.descriptor.id]:t});const eq=({previousImpact:e,impact:t,droppables:n})=>{const r=io(e),o=io(t);if(!r||r===o)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const i=UG(a);return kw(n,i)};var tq=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const a=eq({previousImpact:r,impact:o,droppables:n}),i=io(o);if(!i)return a;const s=n[i];if(vc(e,s)||s.subject.withPlaceholder)return a;const u=Jk(s,e,t);return kw(a,u)},Od=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:a})=>{const i=r||e.viewport,s=n||e.dimensions,u=t||e.current.client.selection,c=no(u,e.initial.client.selection),f={offset:c,selection:u,borderBoxCenter:tr(e.initial.client.borderBoxCenter,c)},h={selection:tr(f.selection,i.scroll.current),borderBoxCenter:tr(f.borderBoxCenter,i.scroll.current),offset:tr(f.offset,i.scroll.diff.value)},m={client:f,page:h};if(e.phase==="COLLECTING")return{...e,dimensions:s,viewport:i,current:m};const v=s.draggables[e.critical.draggable.id],y=o||nM({pageOffset:h.offset,draggable:v,draggables:s.draggables,droppables:s.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),x=tq({draggable:v,impact:y,previousImpact:e.impact,draggables:s.draggables,droppables:s.droppables});return{...e,current:m,dimensions:{draggables:s.draggables,droppables:x},impact:y,viewport:i,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function nq(e,t){return e.map(n=>t[n])}var rM=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const a=e.displaced,i=nq(a.all,n),s=ef({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:a});return{...e,displaced:s}},oM=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:a})=>{const i=Ov({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return Nw({pageBorderBoxCenter:i,draggable:t,viewport:o})},aM=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Ne();const r=e.impact,o=n||e.viewport,a=t||e.dimensions,{draggables:i,droppables:s}=a,u=i[e.critical.draggable.id],c=io(r);c||Ne();const f=s[c],h=rM({impact:r,viewport:o,destination:f,draggables:i}),m=oM({impact:h,draggable:u,droppable:f,draggables:i,viewport:o,afterCritical:e.afterCritical});return Od({impact:h,clientSelection:m,state:e,dimensions:a,viewport:o})},rq=e=>({index:e.index,droppableId:e.droppableId}),iM=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=Nf(t.axis,e.displaceBy),a=mc(t.descriptor.id,n),i=a.indexOf(e);i===-1&&Ne();const s=a.slice(i+1),u=s.reduce((m,v)=>(m[v.descriptor.id]=!0,m),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:ef({afterDragging:s,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:rq(e.descriptor)}},afterCritical:c}},oq=(e,t)=>({draggables:e.draggables,droppables:kw(e.droppables,t)}),aq=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=sm(e.client,t),o=lm(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},iq=e=>{const t=e.frame;return t||Ne(),t},sq=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(o=>{const a=o.descriptor.droppableId,i=t[a],u=iq(i).scroll.diff.value,c=tr(r,u);return aq({draggable:o,offset:c,initialWindowScroll:n.scroll.initial})})},lq=({state:e,published:t})=>{const n=t.modified.map(S=>{const E=e.dimensions.droppables[S.droppableId];return Rw(E,S.scroll)}),r={...e.dimensions.droppables,...Vk(n)},o=Hk(sq({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...o};t.removals.forEach(S=>{delete a[S]});const i={droppables:r,draggables:a},s=io(e.impact),u=s?i.droppables[s]:null,c=i.draggables[e.critical.draggable.id],f=i.droppables[e.critical.droppable.id],{impact:h,afterCritical:m}=iM({draggable:c,home:f,draggables:a,viewport:e.viewport}),v=u&&u.isCombineEnabled?e.impact:h,y=nM({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:v,viewport:e.viewport,afterCritical:m}),x={...e,phase:"DRAGGING",impact:y,onLiftImpact:h,dimensions:i,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const hx=e=>e.movementMode==="SNAP",Kb=(e,t,n)=>{const r=oq(e.dimensions,t);return!hx(e)||n?Od({state:e,dimensions:r}):aM({state:e,dimensions:r})};function Qb(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const NT={phase:"IDLE",completed:null,shouldFlush:!1};var uq=(e=NT,t)=>{if(t.type==="FLUSH")return{...NT,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ne();const{critical:n,clientSelection:r,viewport:o,dimensions:a,movementMode:i}=t.payload,s=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:$n},f={client:c,page:{selection:tr(c.selection,o.scroll.initial),borderBoxCenter:tr(c.selection,o.scroll.initial),offset:tr(c.selection,o.scroll.diff.value)}},h=kv(a.droppables).every(x=>!x.isFixedOnPage),{impact:m,afterCritical:v}=iM({draggable:s,home:u,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:a,initial:f,current:f,isWindowScrollAllowed:h,impact:m,afterCritical:v,onLiftImpact:m,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ne(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ne(),lq({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;$s(e)||Ne();const{client:n}=t.payload;return cs(n,e.current.client.selection)?e:Od({state:e,clientSelection:n,impact:hx(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Qb(e);$s(e)||Ne();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const a=Rw(o,r);return Kb(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;$s(e)||Ne();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Ne(),o.isEnabled===r&&Ne();const a={...o,isEnabled:r};return Kb(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;$s(e)||Ne();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Ne(),o.isCombineEnabled===r&&Ne();const a={...o,isCombineEnabled:r};return Kb(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;$s(e)||Ne(),e.isWindowScrollAllowed||Ne();const n=t.payload.newScroll;if(cs(e.viewport.scroll.current,n))return Qb(e);const r=Yk(e.viewport,n);return hx(e)?aM({state:e,viewport:r}):Od({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!$s(e))return e;const n=t.payload.maxScroll;if(cs(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ne();const n=$G({state:e,type:t.type});return n?Od({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Ne(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ne(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ft(e,t){return e instanceof Object&&"type"in e&&e.type===t}const cq=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),dq=e=>({type:"LIFT",payload:e}),fq=e=>({type:"INITIAL_PUBLISH",payload:e}),hq=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),pq=()=>({type:"COLLECTION_STARTING",payload:null}),mq=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),vq=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),gq=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),sM=e=>({type:"MOVE",payload:e}),yq=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),bq=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),xq=()=>({type:"MOVE_UP",payload:null}),wq=()=>({type:"MOVE_DOWN",payload:null}),Sq=()=>({type:"MOVE_RIGHT",payload:null}),Cq=()=>({type:"MOVE_LEFT",payload:null}),Mw=()=>({type:"FLUSH",payload:null}),Eq=e=>({type:"DROP_ANIMATE",payload:e}),Iw=e=>({type:"DROP_COMPLETE",payload:e}),lM=e=>({type:"DROP",payload:e}),Rq=e=>({type:"DROP_PENDING",payload:e}),uM=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var _q=e=>({getState:t,dispatch:n})=>r=>o=>{if(!Ft(o,"LIFT")){r(o);return}const{id:a,clientSelection:i,movementMode:s}=o.payload,u=t();u.phase==="DROP_ANIMATING"&&n(Iw({completed:u.completed})),t().phase!=="IDLE"&&Ne(),n(Mw()),n(cq({draggableId:a,movementMode:s}));const f={draggableId:a,scrollOptions:{shouldPublishImmediately:s==="SNAP"}},{critical:h,dimensions:m,viewport:v}=e.startPublishing(f);n(fq({critical:h,dimensions:m,clientSelection:i,movementMode:s,viewport:v}))},Tq=e=>()=>t=>n=>{Ft(n,"INITIAL_PUBLISH")&&e.dragging(),Ft(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ft(n,"FLUSH")||Ft(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Ow={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},tf={opacity:{drop:0,combining:.7},scale:{drop:.75}},cM={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Us=`${cM.outOfTheWay}s ${Ow.outOfTheWay}`,Pd={fluid:`opacity ${Us}`,snap:`transform ${Us}, opacity ${Us}`,drop:e=>{const t=`${e}s ${Ow.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Us}`,placeholder:`height ${Us}, width ${Us}, margin ${Us}`},kT=e=>cs(e,$n)?void 0:`translate(${e.x}px, ${e.y}px)`,px={moveTo:kT,drop:(e,t)=>{const n=kT(e);if(n)return t?`${n} scale(${tf.scale.drop})`:n}},{minDropTime:mx,maxDropTime:dM}=cM,Dq=dM-mx,MT=1500,Aq=.6;var Nq=({current:e,destination:t,reason:n})=>{const r=Jd(e,t);if(r<=0)return mx;if(r>=MT)return dM;const o=r/MT,a=mx+Dq*o,i=n==="CANCEL"?a*Aq:a;return Number(i.toFixed(2))},kq=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:a,droppables:i}=n,s=io(e),u=s?i[s]:null,c=i[t.descriptor.droppableId],f=oM({impact:e,draggable:t,draggables:a,afterCritical:o,droppable:u||c,viewport:r});return no(f,t.client.borderBox.center)},Mq=({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:rM({draggables:e,impact:a,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Zd},didDropInsideDroppable:!0};const Iq=({getState:e,dispatch:t})=>n=>r=>{if(!Ft(r,"DROP")){n(r);return}const o=e(),a=r.payload.reason;if(o.phase==="COLLECTING"){t(Rq({reason:a}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Ne(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Ne();const s=o.critical,u=o.dimensions,c=u.draggables[o.critical.draggable.id],{impact:f,didDropInsideDroppable:h}=Mq({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),m=h?_w(f):null,v=h?Mv(f):null,y={index:s.draggable.index,droppableId:s.droppable.id},x={draggableId:c.descriptor.id,type:c.descriptor.type,source:y,reason:a,mode:o.movementMode,destination:m,combine:v},w=kq({impact:f,draggable:c,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),S={critical:o.critical,afterCritical:o.afterCritical,result:x,impact:f};if(!(!cs(o.current.client.offset,w)||!!x.combine)){t(Iw({completed:S}));return}const R=Nq({current:o.current.client.offset,destination:w,reason:a});t(Eq({newHomeClientOffset:w,dropDuration:R,completed:S}))};var fM=()=>({x:window.pageXOffset,y:window.pageYOffset});function Oq(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Pq({onWindowScroll:e}){function t(){e(fM())}const n=Qd(t),r=Oq(n);let o=us;function a(){return o!==us}function i(){a()&&Ne(),o=Ao(window,[r])}function s(){a()||Ne(),n.cancel(),o(),o=us}return{start:i,stop:s,isActive:a}}const jq=e=>Ft(e,"DROP_COMPLETE")||Ft(e,"DROP_ANIMATE")||Ft(e,"FLUSH"),Bq=e=>{const t=Pq({onWindowScroll:n=>{e.dispatch(yq({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ft(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&jq(r)&&t.stop(),n(r)}};var Fq=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return o.wasCalled=()=>t,o},Lq=()=>{const e=[],t=o=>{const a=e.findIndex(s=>s.timerId===o);a===-1&&Ne();const[i]=e.splice(a,1);i.callback()};return{add:o=>{const a=setTimeout(()=>t(a)),i={timerId:a,callback:o};e.push(i)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const zq=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Uq=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Vq=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Ed=(e,t)=>{t()},pp=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Jb(e,t,n,r){if(!e){n(r(t));return}const o=Fq(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var Hq=(e,t)=>{const n=Lq();let r=null;const o=(h,m)=>{r&&Ne(),Ed("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:h,mode:m})})},a=(h,m)=>{r&&Ne(),Ed("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v(pp(h,m))})},i=(h,m)=>{r&&Ne();const v=pp(h,m);r={mode:m,lastCritical:h,lastLocation:v.source,lastCombine:null},n.add(()=>{Ed("onDragStart",()=>Jb(e().onDragStart,v,t,Up.onDragStart))})},s=(h,m)=>{const v=_w(m),y=Mv(m);r||Ne();const x=!Vq(h,r.lastCritical);x&&(r.lastCritical=h);const w=!zq(r.lastLocation,v);w&&(r.lastLocation=v);const S=!Uq(r.lastCombine,y);if(S&&(r.lastCombine=y),!x&&!w&&!S)return;const E={...pp(h,r.mode),combine:y,destination:v};n.add(()=>{Ed("onDragUpdate",()=>Jb(e().onDragUpdate,E,t,Up.onDragUpdate))})},u=()=>{r||Ne(),n.flush()},c=h=>{r||Ne(),r=null,Ed("onDragEnd",()=>Jb(e().onDragEnd,h,t,Up.onDragEnd))};return{beforeCapture:o,beforeStart:a,start:i,update:s,flush:u,drop:c,abort:()=>{if(!r)return;const h={...pp(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(h)}}},Wq=(e,t)=>{const n=Hq(e,t);return r=>o=>a=>{if(Ft(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(Ft(a,"INITIAL_PUBLISH")){const s=a.payload.critical;n.beforeStart(s,a.payload.movementMode),o(a),n.start(s,a.payload.movementMode);return}if(Ft(a,"DROP_COMPLETE")){const s=a.payload.completed.result;n.flush(),o(a),n.drop(s);return}if(o(a),Ft(a,"FLUSH")){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const $q=e=>t=>n=>{if(!Ft(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Ne(),e.dispatch(Iw({completed:r.completed}))},Gq=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o=>a=>{if((Ft(a,"FLUSH")||Ft(a,"DROP_COMPLETE")||Ft(a,"DROP_ANIMATION_FINISHED"))&&r(),o(a),!Ft(a,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(uM())}};n=requestAnimationFrame(()=>{n=null,t=Ao(window,[i])})}};var qq=e=>()=>t=>n=>{(Ft(n,"DROP_COMPLETE")||Ft(n,"FLUSH")||Ft(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Xq=e=>{let t=!1;return()=>n=>r=>{if(Ft(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ft(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ft(r,"DROP_COMPLETE")){t=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Yq=e=>Ft(e,"DROP_COMPLETE")||Ft(e,"DROP_ANIMATE")||Ft(e,"FLUSH");var Kq=e=>t=>n=>r=>{if(Yq(r)){e.stop(),n(r);return}if(Ft(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();o.phase!=="DRAGGING"&&Ne(),e.start(o);return}n(r),e.scroll(t.getState())};const Qq=e=>t=>n=>{if(t(n),!Ft(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(lM({reason:r.reason})))},Jq=Dk;var Zq=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:a})=>Tk(uq,Jq(KW(Tq(n),qq(e),_q(e),Iq,$q,Gq,Qq,Kq(a),Bq,Xq(t),Wq(r,o))));const Zb=()=>({additions:{},removals:{},modified:{}});function eX({registry:e,callbacks:t}){let n=Zb(),r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:c,modified:f}=n,h=Object.keys(u).map(y=>e.draggable.getById(y).getDimension($n)).sort((y,x)=>y.descriptor.index-x.descriptor.index),m=Object.keys(f).map(y=>{const w=e.droppable.getById(y).callbacks.getScrollWhileDragging();return{droppableId:y,scroll:w}}),v={additions:h,removals:Object.keys(c),modified:m};n=Zb(),t.publish(v)}))};return{add:u=>{const c=u.descriptor.id;n.additions[c]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],o()},remove:u=>{const c=u.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Zb())}}}var hM=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=no({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},pM=()=>{const e=document.documentElement;return e||Ne(),e},mM=()=>{const e=pM();return hM({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},tX=()=>{const e=fM(),t=mM(),n=e.y,r=e.x,o=pM(),a=o.clientWidth,i=o.clientHeight,s=r+a,u=n+i;return{frame:Go({top:n,left:r,right:s,bottom:u}),scroll:{initial:e,current:e,max:t,diff:{value:$n,displacement:$n}}}},nX=({critical:e,scrollOptions:t,registry:n})=>{const r=tX(),o=r.scroll.current,a=e.droppable,i=n.droppable.getAllByType(a.type).map(f=>f.callbacks.getDimensionAndWatchScroll(o,t)),s=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(o));return{dimensions:{draggables:Hk(s),droppables:Vk(i)},critical:e,viewport:r}};function IT(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var rX=(e,t)=>{let n=null;const r=eX({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(m,v)=>{e.droppable.exists(m)||Ne(),n&&t.updateDroppableIsEnabled({id:m,isEnabled:v})},a=(m,v)=>{n&&(e.droppable.exists(m)||Ne(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},i=(m,v)=>{n&&(e.droppable.exists(m)||Ne(),t.updateDroppableScroll({id:m,newScroll:v}))},s=(m,v)=>{n&&e.droppable.getById(m).callbacks.scroll(v)},u=()=>{if(!n)return;r.stop();const m=n.critical.droppable;e.droppable.getAllByType(m.type).forEach(v=>v.callbacks.dragStopped()),n.unsubscribe(),n=null},c=m=>{n||Ne();const v=n.critical.draggable;m.type==="ADDITION"&&IT(e,v,m.value)&&r.add(m.value),m.type==="REMOVAL"&&IT(e,v,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:s,updateDroppableScroll:i,startPublishing:m=>{n&&Ne();const v=e.draggable.getById(m.draggableId),y=e.droppable.getById(v.descriptor.droppableId),x={draggable:v.descriptor,droppable:y.descriptor},w=e.subscribe(c);return n={critical:x,unsubscribe:w},nX({critical:x,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:u}},vM=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",oX=e=>{window.scrollBy(e.x,e.y)};const aX=Hn(e=>kv(e).filter(t=>!(!t.isEnabled||!t.frame))),iX=(e,t)=>aX(t).find(r=>(r.frame||Ne(),Zk(r.frame.pageMarginBox)(e)))||null;var sX=({center:e,destination:t,droppables:n})=>{if(t){const o=n[t];return o.frame?o:null}return iX(e,n)};const nf={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var lX=(e,t,n=()=>nf)=>{const r=n(),o=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:a}},gM=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Pw=1,uX=(e,t,n=()=>nf)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Pw;const a=1-gM({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(a);return Math.ceil(i)},cX=(e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,i=t,s=a,c=Date.now()-i;if(c>=a)return e;if(c<o)return Pw;const f=gM({startOfRange:o,endOfRange:s,current:c}),h=e*r.ease(f);return Math.ceil(h)},OT=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const a=uX(e,t,o);return a===0?0:r?Math.max(cX(a,n,o),Pw):a},PT=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=lX(e,r,a);return t[r.end]<t[r.start]?OT({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*OT({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a})},dX=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return!o&&!r?n:o&&r?null:{x:o?0:n.x,y:r?0:n.y}};const fX=Uk(e=>e===0?0:e);var yM=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},s=PT({container:t,distanceToEdges:i,dragStartTime:e,axis:Tw,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=PT({container:t,distanceToEdges:i,dragStartTime:e,axis:Gk,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=fX({x:u,y:s});if(cs(c,$n))return null;const f=dX({container:t,subject:n,proposedScroll:c});return f?cs(f,$n)?null:f:null};const hX=Uk(e=>e===0?0:e>0?1:-1),jw=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const o=tr(t,r),a={x:e(o.x,n.x),y:e(o.y,n.y)};return cs(a,$n)?null:a}})(),bM=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=hX(n),a=jw({max:r,current:t,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},Bw=(e,t)=>bM({current:e.scroll.current,max:e.scroll.max,change:t}),pX=(e,t)=>{if(!Bw(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return jw({current:r,max:n,change:t})},Fw=(e,t)=>{const n=e.frame;return n?bM({current:n.scroll.current,max:n.scroll.max,change:t}):!1},mX=(e,t)=>{const n=e.frame;return!n||!Fw(e,t)?null:jw({current:n.scroll.current,max:n.scroll.max,change:t})};var vX=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=yM({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return i&&Bw(e,i)?i:null},gX=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=e.frame;if(!i)return null;const s=yM({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&Fw(e,s)?s:null},jT=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:a})=>{const i=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const h=e.viewport,m=vX({dragStartTime:t,viewport:h,subject:u,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(m){r(m);return}}const c=sX({center:i,destination:io(e.impact),droppables:e.dimensions.droppables});if(!c)return;const f=gX({dragStartTime:t,droppable:c,subject:u,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:a});f&&o(c.descriptor.id,f)},yX=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>nf})=>{const r=Qd(e),o=Qd(t);let a=null;const i=c=>{a||Ne();const{shouldUseTimeDampening:f,dragStartTime:h}=a;jT({state:c,scrollWindow:r,scrollDroppable:o,dragStartTime:h,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:c=>{a&&Ne();const f=Date.now();let h=!1;const m=()=>{h=!0};jT({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:n}),a={dragStartTime:f,shouldUseTimeDampening:h},h&&i(c)},stop:()=>{a&&(r.cancel(),o.cancel(),a=null)},scroll:i}},bX=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(s,u)=>{const c=tr(s.current.client.selection,u);e({client:c})},o=(s,u)=>{if(!Fw(s,u))return u;const c=mX(s,u);if(!c)return t(s.descriptor.id,u),null;const f=no(u,c);return t(s.descriptor.id,f),no(u,f)},a=(s,u,c)=>{if(!s||!Bw(u,c))return c;const f=pX(u,c);if(!f)return n(c),null;const h=no(c,f);return n(h),no(c,h)};return s=>{const u=s.scrollJumpRequest;if(!u)return;const c=io(s.impact);c||Ne();const f=o(s.dimensions.droppables[c],u);if(!f)return;const h=s.viewport,m=a(s.isWindowScrollAllowed,h,f);m&&r(s,m)}},xX=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=yX({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=bX({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:o.start,stop:o.stop}};const Gu="data-rfd",qu=(()=>{const e=`${Gu}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),vx=(()=>{const e=`${Gu}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),wX=(()=>{const e=`${Gu}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),BT={contextId:`${Gu}-scroll-container-context-id`},SX=e=>t=>`[${t}="${e}"]`,Rd=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),CX="pointer-events: none;";var EX=e=>{const t=SX(e),n=(()=>{const s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(qu.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:CX,dropAnimating:s}}})(),r=(()=>{const s=`
      transition: ${Pd.outOfTheWay};
    `;return{selector:t(vx.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}})(),o={selector:t(wX.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Rd(i,"always"),resting:Rd(i,"resting"),dragging:Rd(i,"dragging"),dropAnimating:Rd(i,"dropAnimating"),userCancel:Rd(i,"userCancel")}};const so=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?_.useLayoutEffect:_.useEffect,e0=()=>{const e=document.querySelector("head");return e||Ne(),e},FT=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function RX(e,t){const n=At(()=>EX(e),[e]),r=_.useRef(null),o=_.useRef(null),a=Qe(Hn(h=>{const m=o.current;m||Ne(),m.textContent=h}),[]),i=Qe(h=>{const m=r.current;m||Ne(),m.textContent=h},[]);so(()=>{!r.current&&!o.current||Ne();const h=FT(t),m=FT(t);return r.current=h,o.current=m,h.setAttribute(`${Gu}-always`,e),m.setAttribute(`${Gu}-dynamic`,e),e0().appendChild(h),e0().appendChild(m),i(n.always),a(n.resting),()=>{const v=y=>{const x=y.current;x||Ne(),e0().removeChild(x),y.current=null};v(r),v(o)}},[t,i,a,n.always,n.resting,e]);const s=Qe(()=>a(n.dragging),[a,n.dragging]),u=Qe(h=>{if(h==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),c=Qe(()=>{o.current&&a(n.resting)},[a,n.resting]);return At(()=>({dragging:s,dropping:u,resting:c}),[s,u,c])}function xM(e,t){return Array.from(e.querySelectorAll(t))}var wM=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Pv(e){return e instanceof wM(e).HTMLElement}function _X(e,t){const n=`[${qu.contextId}="${e}"]`,r=xM(document,n);if(!r.length)return null;const o=r.find(a=>a.getAttribute(qu.draggableId)===t);return!o||!Pv(o)?null:o}function TX(e){const t=_.useRef({}),n=_.useRef(null),r=_.useRef(null),o=_.useRef(!1),a=Qe(function(m,v){const y={id:m,focus:v};return t.current[m]=y,function(){const w=t.current;w[m]!==y&&delete w[m]}},[]),i=Qe(function(m){const v=_X(e,m);v&&v!==document.activeElement&&v.focus()},[e]),s=Qe(function(m,v){n.current===m&&(n.current=v)},[]),u=Qe(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=n.current;m&&i(m)}))},[i]),c=Qe(function(m){n.current=null;const v=document.activeElement;v&&v.getAttribute(qu.draggableId)===m&&(n.current=m)},[]);return so(()=>(o.current=!0,function(){o.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),At(()=>({register:a,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:s}),[a,c,u,s])}function DX(){const e={draggables:{},droppables:{}},t=[];function n(h){return t.push(h),function(){const v=t.indexOf(h);v!==-1&&t.splice(v,1)}}function r(h){t.length&&t.forEach(m=>m(h))}function o(h){return e.draggables[h]||null}function a(h){const m=o(h);return m||Ne(),m}const i={register:h=>{e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,m)=>{const v=e.draggables[m.descriptor.id];v&&v.uniqueId===h.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:h=>{const m=h.descriptor.id,v=o(m);v&&h.uniqueId===v.uniqueId&&(delete e.draggables[m],e.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:a,findById:o,exists:h=>!!o(h),getAllByType:h=>Object.values(e.draggables).filter(m=>m.descriptor.type===h)};function s(h){return e.droppables[h]||null}function u(h){const m=s(h);return m||Ne(),m}const c={register:h=>{e.droppables[h.descriptor.id]=h},unregister:h=>{const m=s(h.descriptor.id);m&&h.uniqueId===m.uniqueId&&delete e.droppables[h.descriptor.id]},getById:u,findById:s,exists:h=>!!s(h),getAllByType:h=>Object.values(e.droppables).filter(m=>m.descriptor.type===h)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:c,subscribe:n,clean:f}}function AX(){const e=At(DX,[]);return _.useEffect(()=>function(){e.clean()},[e]),e}var Lw=ut.createContext(null),fm=()=>{const e=document.body;return e||Ne(),e};const NX={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},kX=e=>`rfd-announcement-${e}`;function MX(e){const t=At(()=>kX(e),[e]),n=_.useRef(null);return _.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Wu(a.style,NX),fm().appendChild(a),function(){setTimeout(function(){const u=fm();u.contains(a)&&u.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Qe(o=>{const a=n.current;if(a){a.textContent=o;return}},[])}const IX={separator:"::"};function zw(e,t=IX){const n=ut.useId();return At(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function OX({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function PX({contextId:e,text:t}){const n=zw("hidden-text",{separator:"-"}),r=At(()=>OX({contextId:e,uniqueId:n}),[n,e]);return _.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",fm().appendChild(a),function(){const s=fm();s.contains(a)&&s.removeChild(a)}},[r,t]),r}var jv=ut.createContext(null);function SM(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),t}function jX(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&Ne();const s={abandon:i};return e=s,s}function o(){e||Ne(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:n,claim:r,release:o,tryAbandon:a}}function rf(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const BX=9,FX=13,Uw=27,CM=32,LX=33,zX=34,UX=35,VX=36,HX=37,WX=38,$X=39,GX=40,qX={[FX]:!0,[BX]:!0};var EM=e=>{qX[e.keyCode]&&e.preventDefault()};const Bv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),RM=0,LT=5;function XX(e,t){return Math.abs(t.x-e.x)>=LT||Math.abs(t.y-e.y)>=LT}const zT={type:"IDLE"};function YX({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:a,clientX:i,clientY:s}=o;if(a!==RM)return;const u={x:i,y:s},c=n();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(u);return}c.type!=="PENDING"&&Ne();const f=c.point;if(!XX(f,u))return;o.preventDefault();const h=c.actions.fluidLift(u);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:o=>{const a=n();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){e();return}if(o.keyCode===Uw){o.preventDefault(),e();return}EM(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const a=n();if(a.type==="IDLE"&&Ne(),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Bv,fn:e}]}function KX(e){const t=_.useRef(zT),n=_.useRef(us),r=At(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==RM||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const m=e.findClosestDraggableId(h);if(!m)return;const v=e.tryGetLock(m,i,{sourceEvent:h});if(!v)return;h.preventDefault();const y={x:h.clientX,y:h.clientY};n.current(),c(v,y)}}),[e]),o=At(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const h=e.findClosestDraggableId(f);if(!h)return;const m=e.findOptionsForDraggable(h);m&&(m.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}),[e]),a=Qe(function(){const h={passive:!1,capture:!0};n.current=Ao(window,[o,r],h)},[o,r]),i=Qe(()=>{t.current.type!=="IDLE"&&(t.current=zT,n.current(),a())},[a]),s=Qe(()=>{const f=t.current;i(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[i]),u=Qe(function(){const h={capture:!0,passive:!1},m=YX({cancel:s,completed:i,getPhase:()=>t.current,setPhase:v=>{t.current=v}});n.current=Ao(window,m,h)},[s,i]),c=Qe(function(h,m){t.current.type!=="IDLE"&&Ne(),t.current={type:"PENDING",point:m,actions:h},u()},[u]);so(function(){return a(),function(){n.current()}},[a])}function QX(){}const JX={[zX]:!0,[LX]:!0,[VX]:!0,[UX]:!0};function ZX(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Uw){o.preventDefault(),n();return}if(o.keyCode===CM){o.preventDefault(),r();return}if(o.keyCode===GX){o.preventDefault(),e.moveDown();return}if(o.keyCode===WX){o.preventDefault(),e.moveUp();return}if(o.keyCode===$X){o.preventDefault(),e.moveRight();return}if(o.keyCode===HX){o.preventDefault(),e.moveLeft();return}if(JX[o.keyCode]){o.preventDefault();return}EM(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Bv,fn:n}]}function eY(e){const t=_.useRef(QX),n=At(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==CM)return;const i=e.findClosestDraggableId(a);if(!i)return;const s=e.tryGetLock(i,f,{sourceEvent:a});if(!s)return;a.preventDefault();let u=!0;const c=s.snapLift();t.current();function f(){u||Ne(),u=!1,t.current(),r()}t.current=Ao(window,ZX(c,f),{capture:!0,passive:!1})}}),[e]),r=Qe(function(){const a={passive:!1,capture:!0};t.current=Ao(window,[n],a)},[n]);so(function(){return r(),function(){t.current()}},[r])}const t0={type:"IDLE"},tY=120,nY=.15;function rY({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Uw&&n.preventDefault(),e()}},{eventName:Bv,fn:e}]}function oY({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:a,clientY:i}=r.touches[0],s={x:a,y:i};r.preventDefault(),o.actions.move(s)}},{eventName:"touchend",fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=n();o.type==="IDLE"&&Ne();const a=r.touches[0];if(!a||!(a.force>=nY))return;const s=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){s&&e();return}if(s){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Bv,fn:e}]}function aY(e){const t=_.useRef(t0),n=_.useRef(us),r=Qe(function(){return t.current},[]),o=Qe(function(v){t.current=v},[]),a=At(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const y=e.findClosestDraggableId(v);if(!y)return;const x=e.tryGetLock(y,s,{sourceEvent:v});if(!x)return;const w=v.touches[0],{clientX:S,clientY:E}=w,R={x:S,y:E};n.current(),h(x,R)}}),[e]),i=Qe(function(){const v={capture:!0,passive:!1};n.current=Ao(window,[a],v)},[a]),s=Qe(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),o(t0),n.current(),i())},[i,o]),u=Qe(()=>{const m=t.current;s(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[s]),c=Qe(function(){const v={capture:!0,passive:!1},y={cancel:u,completed:s,getPhase:r},x=Ao(window,oY(y),v),w=Ao(window,rY(y),v);n.current=function(){x(),w()}},[u,r,s]),f=Qe(function(){const v=r();v.type!=="PENDING"&&Ne();const y=v.actions.fluidLift(v.point);o({type:"DRAGGING",actions:y,hasMoved:!1})},[r,o]),h=Qe(function(v,y){r().type!=="IDLE"&&Ne();const x=setTimeout(f,tY);o({type:"PENDING",point:y,actions:v,longPressTimerId:x}),c()},[c,r,o,f]);so(function(){return i(),function(){n.current();const y=r();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),o(t0))}},[r,i,o]),so(function(){return Ao(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const iY=["input","button","textarea","select","option","optgroup","video","audio"];function _M(e,t){if(t==null)return!1;if(iY.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:_M(e,t.parentElement)}function sY(e,t){const n=t.target;return Pv(n)?_M(e,n):!1}var lY=e=>Go(e.getBoundingClientRect()).center;function uY(e){return e instanceof wM(e).Element}const cY=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function TM(e,t){return e==null?null:e[cY](t)?e:TM(e.parentElement,t)}function dY(e,t){return e.closest?e.closest(t):TM(e,t)}function fY(e){return`[${qu.contextId}="${e}"]`}function hY(e,t){const n=t.target;if(!uY(n))return null;const r=fY(e),o=dY(n,r);return!o||!Pv(o)?null:o}function pY(e,t){const n=hY(e,t);return n?n.getAttribute(qu.draggableId):null}function mY(e,t){const n=`[${vx.contextId}="${e}"]`,o=xM(document,n).find(a=>a.getAttribute(vx.id)===t);return!o||!Pv(o)?null:o}function vY(e){e.preventDefault()}function mp({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function DM({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!(!o||!o.options.isEnabled||!vM(t.getState(),r))}function gY({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:a,sourceEvent:i}){if(!DM({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const u=r.draggable.getById(o),c=mY(t,u.descriptor.id);if(!c||i&&!u.options.canDragInteractiveElements&&sY(c,i))return null;const f=e.claim(a||us);let h="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function v(){return e.isActive(f)}function y(A,N){mp({expected:A,phase:h,isLockActive:v,shouldWarn:!0})&&n.dispatch(N())}const x=y.bind(null,"DRAGGING");function w(A){function N(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(N(),Ne()),n.dispatch(dq(A.liftActionArgs)),h="DRAGGING";function k(M,I={shouldBlockNextClick:!1}){if(A.cleanup(),I.shouldBlockNextClick){const O=Ao(window,[{eventName:"click",fn:vY,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}N(),n.dispatch(lM({reason:M}))}return{isActive:()=>mp({expected:"DRAGGING",phase:h,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:m,drop:M=>k("DROP",M),cancel:M=>k("CANCEL",M),...A.actions}}function S(A){const N=Qd(M=>{x(()=>sM({client:M}))});return{...w({liftActionArgs:{id:o,clientSelection:A,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function E(){const A={moveUp:()=>x(xq),moveRight:()=>x(Sq),moveDown:()=>x(wq),moveLeft:()=>x(Cq)};return w({liftActionArgs:{id:o,clientSelection:lY(c),movementMode:"SNAP"},cleanup:us,actions:A})}function R(){mp({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>mp({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:S,snapLift:E,abort:R}}const yY=[KX,eY,aY];function bY({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const a=[...o?yY:[],...r||[]],i=_.useState(()=>jX())[0],s=Qe(function(w,S){rf(w)&&!rf(S)&&i.tryAbandon()},[i]);so(function(){let w=t.getState();return t.subscribe(()=>{const E=t.getState();s(w,E),w=E})},[i,t,s]),so(()=>i.tryAbandon,[i.tryAbandon]);const u=Qe(x=>DM({lockAPI:i,registry:n,store:t,draggableId:x}),[i,n,t]),c=Qe((x,w,S)=>gY({lockAPI:i,registry:n,contextId:e,store:t,draggableId:x,forceSensorStop:w||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[e,i,n,t]),f=Qe(x=>pY(e,x),[e]),h=Qe(x=>{const w=n.draggable.findById(x);return w?w.options:null},[n.draggable]),m=Qe(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Mw()))},[i,t]),v=Qe(()=>i.isClaimed(),[i]),y=At(()=>({canGetLock:u,tryGetLock:c,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:v}),[u,c,f,h,m,v]);for(let x=0;x<a.length;x++)a[x](y)}const xY=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};ec.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),wY=e=>({...nf,...e.autoScrollerOptions,durationDampening:{...nf.durationDampening,...e.autoScrollerOptions}});function _d(e){return e.current||Ne(),e.current}function SY(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:a}=e,i=_.useRef(null),s=SM(e),u=Qe(()=>xY(s.current),[s]),c=Qe(()=>wY(s.current),[s]),f=MX(t),h=PX({contextId:t,text:a}),m=RX(t,o),v=Qe(O=>{_d(i).dispatch(O)},[]),y=At(()=>fT({publishWhileDragging:hq,updateDroppableScroll:mq,updateDroppableIsEnabled:vq,updateDroppableIsCombineEnabled:gq,collectionStarting:pq},v),[v]),x=AX(),w=At(()=>rX(x,y),[x,y]),S=At(()=>xX({scrollWindow:oX,scrollDroppable:w.scrollDroppable,getAutoScrollerOptions:c,...fT({move:sM},v)}),[w.scrollDroppable,v,c]),E=TX(t),R=At(()=>Zq({announce:f,autoScroller:S,dimensionMarshal:w,focusMarshal:E,getResponders:u,styleMarshal:m}),[f,S,w,E,u,m]);i.current=R;const D=Qe(()=>{const O=_d(i);O.getState().phase!=="IDLE"&&O.dispatch(Mw())},[]),A=Qe(()=>{const O=_d(i).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),N=At(()=>({isDragging:A,tryAbort:D}),[A,D]);n(N);const k=Qe(O=>vM(_d(i).getState(),O),[]),M=Qe(()=>$s(_d(i).getState()),[]),I=At(()=>({marshal:w,focus:E,contextId:t,canLift:k,isMovementAllowed:M,dragHandleUsageInstructionsId:h,registry:x}),[t,w,h,E,k,M,x]);return bY({contextId:t,store:R,registry:x,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),_.useEffect(()=>D,[D]),ut.createElement(jv.Provider,{value:I},ut.createElement(q$,{context:Lw,store:R},e.children))}function CY(){return ut.useId()}function EY(e){const t=CY(),n=e.dragHandleUsageInstructions||Up.dragHandleUsageInstructions;return ut.createElement(eG,null,r=>ut.createElement(SY,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const UT={dragging:5e3,dropAnimating:4500},RY=(e,t)=>t?Pd.drop(t.duration):e?Pd.snap:Pd.fluid,_Y=(e,t)=>{if(e)return t?tf.opacity.drop:tf.opacity.combining},TY=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function DY(e){const n=e.dimension.client,{offset:r,combineWith:o,dropping:a}=e,i=!!o,s=TY(e),u=!!a,c=u?px.drop(r,i):px.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:RY(s,a),transform:c,opacity:_Y(i,u),zIndex:u?UT.dropAnimating:UT.dragging,pointerEvents:"none"}}function AY(e){return{transform:px.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function NY(e){return e.type==="DRAGGING"?DY(e):AY(e)}function kY(e,t,n=$n){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),a=Pk(o,r),i=lm(a,n),s={client:a,tagName:t.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:s,displaceBy:u,client:a,page:i}}function MY(e){const t=zw("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:s}=e,u=At(()=>({canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:s}),[a,s,i]),c=Qe(v=>{const y=o();return y||Ne(),kY(n,y,v)},[n,o]),f=At(()=>({uniqueId:t,descriptor:n,options:u,getDimension:c}),[n,c,u,t]),h=_.useRef(f),m=_.useRef(!0);so(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),so(()=>{if(m.current){m.current=!1;return}const v=h.current;h.current=f,r.draggable.update(f,v)},[f,r.draggable])}var Vw=ut.createContext(null);function hm(e){const t=_.useContext(e);return t||Ne(),t}function IY(e){e.preventDefault()}const OY=e=>{const t=_.useRef(null),n=Qe((N=null)=>{t.current=N},[]),r=Qe(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:i}=hm(jv),{type:s,droppableId:u}=hm(Vw),c=At(()=>({id:e.draggableId,index:e.index,type:s,droppableId:u}),[e.draggableId,e.index,s,u]),{children:f,draggableId:h,isEnabled:m,shouldRespectForcePress:v,canDragInteractiveElements:y,isClone:x,mapped:w,dropAnimationFinished:S}=e;if(!x){const N=At(()=>({descriptor:c,registry:i,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:v,isEnabled:m}),[c,i,r,y,v,m]);MY(N)}const E=At(()=>m?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:IY}:null,[o,a,h,m]),R=Qe(N=>{w.type==="DRAGGING"&&w.dropping&&N.propertyName==="transform"&&ec.flushSync(S)},[S,w]),D=At(()=>{const N=NY(w),k=w.type==="DRAGGING"&&w.dropping?R:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":h,style:N,onTransitionEnd:k},dragHandleProps:E}},[o,E,h,w,R,n]),A=At(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return ut.createElement(ut.Fragment,null,f(D,w.snapshot,A))};var AM=(e,t)=>e===t,NM=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const PY=e=>e.combine?e.combine.draggableId:null,jY=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function BY(){const e=Hn((o,a)=>({x:o,y:a})),t=Hn((o,a,i=null,s=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:i,combineWith:s,combineTargetFor:null})),n=Hn((o,a,i,s,u=null,c=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:c,mode:a,offset:o,dimension:i,forceShouldAnimate:f,snapshot:t(a,s,u,c,null)}}));return(o,a)=>{if(rf(o)){if(o.critical.draggable.id!==a.draggableId)return null;const i=o.current.client.offset,s=o.dimensions.draggables[a.draggableId],u=io(o.impact),c=jY(o.impact),f=o.forceShouldAnimate;return n(e(i.x,i.y),o.movementMode,s,a.isClone,u,c,f)}if(o.phase==="DROP_ANIMATING"){const i=o.completed;if(i.result.draggableId!==a.draggableId)return null;const s=a.isClone,u=o.dimensions.draggables[a.draggableId],c=i.result,f=c.mode,h=NM(c),m=PY(c),y={duration:o.dropDuration,curve:Ow.drop,moveTo:o.newHomeClientOffset,opacity:m?tf.opacity.drop:null,scale:m?tf.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:u,dropping:y,draggingOver:h,combineWith:m,mode:f,forceShouldAnimate:null,snapshot:t(f,s,h,m,y)}}}return null}}function kM(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const FY={mapped:{type:"SECONDARY",offset:$n,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:kM(null)}};function LY(){const e=Hn((i,s)=>({x:i,y:s})),t=Hn(kM),n=Hn((i,s=null,u)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:s,shouldAnimateDisplacement:u,snapshot:t(s)}})),r=i=>i?n($n,i,!0):null,o=(i,s,u,c)=>{const f=u.displaced.visible[i],h=!!(c.inVirtualList&&c.effected[i]),m=Mv(u),v=m&&m.draggableId===i?s:null;if(!f){if(!h)return r(v);if(u.displaced.invisible[i])return null;const w=pc(c.displacedBy.point),S=e(w.x,w.y);return n(S,v,!0)}if(h)return r(v);const y=u.displacedBy.point,x=e(y.x,y.y);return n(x,v,f.shouldAnimate)};return(i,s)=>{if(rf(i))return i.critical.draggable.id===s.draggableId?null:o(s.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const u=i.completed;return u.result.draggableId===s.draggableId?null:o(s.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const zY=()=>{const e=BY(),t=LY();return(r,o)=>e(r,o)||t(r,o)||FY},UY={dropAnimationFinished:uM},VY=Ok(zY,UY,null,{context:Lw,areStatePropsEqual:AM})(OY);function MM(e){return hm(Vw).isUsingCloneFor===e.draggableId&&!e.isClone?null:ut.createElement(VY,e)}function VT(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ut.createElement(MM,Wu({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const IM=e=>t=>e===t,HY=IM("scroll"),WY=IM("auto"),HT=(e,t)=>t(e.overflowX)||t(e.overflowY),$Y=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return HT(n,HY)||HT(n,WY)},GY=()=>!1,OM=e=>e==null?null:e===document.body?GY()?e:null:e===document.documentElement?null:$Y(e)?e:OM(e.parentElement);var gx=e=>({x:e.scrollLeft,y:e.scrollTop});const PM=e=>e?window.getComputedStyle(e).position==="fixed"?!0:PM(e.parentElement):!1;var qY=e=>{const t=OM(e),n=PM(e);return{closestScrollable:t,isFixedOnPage:n}},XY=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:a,page:i,closest:s})=>{const u=(()=>{if(!s)return null;const{scrollSize:m,client:v}=s,y=hM({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:y,diff:{value:$n,displacement:$n}}}})(),c=o==="vertical"?Tw:Gk,f=$u({page:i,withPlaceholder:null,axis:c,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:a,page:i,frame:u,subject:f}};const YY=(e,t)=>{const n=jk(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,i=o+t.scrollWidth,u=Cw({top:r,right:i,bottom:a,left:o},n.border);return Ew({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var KY=({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:a,isCombineEnabled:i,shouldClipSubject:s})=>{const u=n.closestScrollable,c=YY(e,u),f=lm(c,r),h=(()=>{if(!u)return null;const v=jk(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:lm(v,r),scroll:gx(u),scrollSize:y,shouldClipSubject:s}})();return XY({descriptor:t,isEnabled:!a,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:o,client:c,page:f,closest:h})};const QY={passive:!1},JY={passive:!0};var WT=e=>e.shouldPublishImmediately?QY:JY;const vp=e=>e&&e.env.closestScrollable||null;function ZY(e){const t=_.useRef(null),n=hm(jv),r=zw("droppable"),{registry:o,marshal:a}=n,i=SM(e),s=At(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=_.useRef(s),c=At(()=>Hn((D,A)=>{t.current||Ne();const N={x:D,y:A};a.updateDroppableScroll(s.id,N)}),[s.id,a]),f=Qe(()=>{const D=t.current;return!D||!D.env.closestScrollable?$n:gx(D.env.closestScrollable)},[]),h=Qe(()=>{const D=f();c(D.x,D.y)},[f,c]),m=At(()=>Qd(h),[h]),v=Qe(()=>{const D=t.current,A=vp(D);if(D&&A||Ne(),D.scrollOptions.shouldPublishImmediately){h();return}m()},[m,h]),y=Qe((D,A)=>{t.current&&Ne();const N=i.current,k=N.getDroppableRef();k||Ne();const M=qY(k),I={ref:k,descriptor:s,env:M,scrollOptions:A};t.current=I;const O=KY({ref:k,descriptor:s,env:M,windowScroll:D,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),L=M.closestScrollable;return L&&(L.setAttribute(BT.contextId,n.contextId),L.addEventListener("scroll",v,WT(I.scrollOptions))),O},[n.contextId,s,v,i]),x=Qe(()=>{const D=t.current,A=vp(D);return D&&A||Ne(),gx(A)},[]),w=Qe(()=>{const D=t.current;D||Ne();const A=vp(D);t.current=null,A&&(m.cancel(),A.removeAttribute(BT.contextId),A.removeEventListener("scroll",v,WT(D.scrollOptions)))},[v,m]),S=Qe(D=>{const A=t.current;A||Ne();const N=vp(A);N||Ne(),N.scrollTop+=D.y,N.scrollLeft+=D.x},[]),E=At(()=>({getDimensionAndWatchScroll:y,getScrollWhileDragging:x,dragStopped:w,scroll:S}),[w,y,x,S]),R=At(()=>({uniqueId:r,descriptor:s,callbacks:E}),[E,s,r]);so(()=>(u.current=R.descriptor,o.droppable.register(R),()=>{t.current&&w(),o.droppable.unregister(R)}),[E,s,w,R,a,o.droppable]),so(()=>{t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),so(()=>{t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function n0(){}const $T={width:0,height:0,margin:sG},eK=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?$T:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},tK=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=eK({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Pd.placeholder:null}},nK=e=>{const t=_.useRef(null),n=Qe(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:a,contextId:i}=e,[s,u]=_.useState(e.animate==="open");_.useEffect(()=>s?r!=="open"?(n(),u(!1),n0):t.current?n0:(t.current=setTimeout(()=>{t.current=null,u(!1)}),n):n0,[r,s,n]);const c=Qe(h=>{h.propertyName==="height"&&(o(),r==="close"&&a())},[r,a,o]),f=tK({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return ut.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":i,onTransitionEnd:c,ref:e.innerRef})};var rK=ut.memo(nK);class oK extends ut.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const aK=e=>{const t=_.useContext(jv);t||Ne();const{contextId:n,isMovementAllowed:r}=t,o=_.useRef(null),a=_.useRef(null),{children:i,droppableId:s,type:u,mode:c,direction:f,ignoreContainerClipping:h,isDropDisabled:m,isCombineEnabled:v,snapshot:y,useClone:x,updateViewportMaxScroll:w,getContainerForClone:S}=e,E=Qe(()=>o.current,[]),R=Qe((L=null)=>{o.current=L},[]);Qe(()=>a.current,[]);const D=Qe((L=null)=>{a.current=L},[]),A=Qe(()=>{r()&&w({maxScroll:mM()})},[r,w]);ZY({droppableId:s,type:u,mode:c,direction:f,isDropDisabled:m,isCombineEnabled:v,ignoreContainerClipping:h,getDroppableRef:E});const N=At(()=>ut.createElement(oK,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:L,data:F,animate:X})=>ut.createElement(rK,{placeholder:F,onClose:L,innerRef:D,animate:X,contextId:n,onTransitionEnd:A})),[n,A,e.placeholder,e.shouldAnimatePlaceholder,D]),k=At(()=>({innerRef:R,placeholder:N,droppableProps:{"data-rfd-droppable-id":s,"data-rfd-droppable-context-id":n}}),[n,s,N,R]),M=x?x.dragging.draggableId:null,I=At(()=>({droppableId:s,type:u,isUsingCloneFor:M}),[s,M,u]);function O(){if(!x)return null;const{dragging:L,render:F}=x,X=ut.createElement(MM,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(W,Y)=>F(W,Y,L));return Ru.createPortal(X,S())}return ut.createElement(Vw.Provider,{value:I},i(k,y),O())};function iK(){return document.body||Ne(),document.body}const GT={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:iK},jM=e=>{let t={...e},n;for(n in GT)e[n]===void 0&&(t={...t,[n]:GT[n]});return t},r0=(e,t)=>e===t.droppable.type,qT=(e,t)=>t.draggables[e.draggable.id],sK=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Hn(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=Hn((a,i,s,u,c,f)=>{const h=c.descriptor.id;if(c.descriptor.droppableId===a){const y=f?{render:f,dragging:n(c.descriptor)}:null,x={isDraggingOver:s,draggingOverWith:s?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:y}}if(!i)return t;if(!u)return e;const v={isDraggingOver:s,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(a,i)=>{const s=jM(i),u=s.droppableId,c=s.type,f=!s.isDropDisabled,h=s.renderClone;if(rf(a)){const m=a.critical;if(!r0(c,m))return t;const v=qT(m,a.dimensions),y=io(a.impact)===u;return r(u,f,y,y,v,h)}if(a.phase==="DROP_ANIMATING"){const m=a.completed;if(!r0(c,m.critical))return t;const v=qT(m.critical,a.dimensions);return r(u,f,NM(m.result)===u,io(m.impact)===u,v,h)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const m=a.completed;if(!r0(c,m.critical))return t;const v=io(m.impact)===u,y=!!(m.impact.at&&m.impact.at.type==="COMBINE"),x=m.critical.droppable.id===u;return v?y?e:t:x?e:t}return t}},lK={updateViewportMaxScroll:bq},XT=Ok(sK,lK,(e,t,n)=>({...jM(n),...e,...t}),{context:Lw,areStatePropsEqual:AM})(aK);function BM(e,t){return function(){return e.apply(t,arguments)}}const{toString:uK}=Object.prototype,{getPrototypeOf:Hw}=Object,{iterator:Fv,toStringTag:FM}=Symbol,Lv=(e=>t=>{const n=uK.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ra=e=>(e=e.toLowerCase(),t=>Lv(t)===e),zv=e=>t=>typeof t===e,{isArray:gc}=Array,of=zv("undefined");function kf(e){return e!==null&&!of(e)&&e.constructor!==null&&!of(e.constructor)&&Br(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LM=ra("ArrayBuffer");function cK(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&LM(e.buffer),t}const dK=zv("string"),Br=zv("function"),zM=zv("number"),Mf=e=>e!==null&&typeof e=="object",fK=e=>e===!0||e===!1,Vp=e=>{if(Lv(e)!=="object")return!1;const t=Hw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(FM in e)&&!(Fv in e)},hK=e=>{if(!Mf(e)||kf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},pK=ra("Date"),mK=ra("File"),vK=ra("Blob"),gK=ra("FileList"),yK=e=>Mf(e)&&Br(e.pipe),bK=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Br(e.append)&&((t=Lv(e))==="formdata"||t==="object"&&Br(e.toString)&&e.toString()==="[object FormData]"))},xK=ra("URLSearchParams"),[wK,SK,CK,EK]=["ReadableStream","Request","Response","Headers"].map(ra),RK=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function If(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),gc(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(kf(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(r=0;r<i;r++)s=a[r],t.call(null,e[s],s,e)}}function UM(e,t){if(kf(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VM=e=>!of(e)&&e!==Zs;function yx(){const{caseless:e}=VM(this)&&this||{},t={},n=(r,o)=>{const a=e&&UM(t,o)||o;Vp(t[a])&&Vp(r)?t[a]=yx(t[a],r):Vp(r)?t[a]=yx({},r):gc(r)?t[a]=r.slice():t[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&If(arguments[r],n);return t}const _K=(e,t,n,{allOwnKeys:r}={})=>(If(t,(o,a)=>{n&&Br(o)?e[a]=BM(o,n):e[a]=o},{allOwnKeys:r}),e),TK=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),DK=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},AK=(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!r||r(i,e,t))&&!s[i]&&(t[i]=e[i],s[i]=!0);e=n!==!1&&Hw(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},NK=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},kK=e=>{if(!e)return null;if(gc(e))return e;let t=e.length;if(!zM(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},MK=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hw(Uint8Array)),IK=(e,t)=>{const r=(e&&e[Fv]).call(e);let o;for(;(o=r.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},OK=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},PK=ra("HTMLFormElement"),jK=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),YT=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),BK=ra("RegExp"),HM=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};If(n,(o,a)=>{let i;(i=t(o,a,e))!==!1&&(r[a]=i||o)}),Object.defineProperties(e,r)},FK=e=>{HM(e,(t,n)=>{if(Br(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Br(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},LK=(e,t)=>{const n={},r=o=>{o.forEach(a=>{n[a]=!0})};return gc(e)?r(e):r(String(e).split(t)),n},zK=()=>{},UK=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function VK(e){return!!(e&&Br(e.append)&&e[FM]==="FormData"&&e[Fv])}const HK=e=>{const t=new Array(10),n=(r,o)=>{if(Mf(r)){if(t.indexOf(r)>=0)return;if(kf(r))return r;if(!("toJSON"in r)){t[o]=r;const a=gc(r)?[]:{};return If(r,(i,s)=>{const u=n(i,o+1);!of(u)&&(a[s]=u)}),t[o]=void 0,a}}return r};return n(e,0)},WK=ra("AsyncFunction"),$K=e=>e&&(Mf(e)||Br(e))&&Br(e.then)&&Br(e.catch),WM=((e,t)=>e?setImmediate:t?((n,r)=>(Zs.addEventListener("message",({source:o,data:a})=>{o===Zs&&a===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Zs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Br(Zs.postMessage)),GK=typeof queueMicrotask<"u"?queueMicrotask.bind(Zs):typeof process<"u"&&process.nextTick||WM,qK=e=>e!=null&&Br(e[Fv]),he={isArray:gc,isArrayBuffer:LM,isBuffer:kf,isFormData:bK,isArrayBufferView:cK,isString:dK,isNumber:zM,isBoolean:fK,isObject:Mf,isPlainObject:Vp,isEmptyObject:hK,isReadableStream:wK,isRequest:SK,isResponse:CK,isHeaders:EK,isUndefined:of,isDate:pK,isFile:mK,isBlob:vK,isRegExp:BK,isFunction:Br,isStream:yK,isURLSearchParams:xK,isTypedArray:MK,isFileList:gK,forEach:If,merge:yx,extend:_K,trim:RK,stripBOM:TK,inherits:DK,toFlatObject:AK,kindOf:Lv,kindOfTest:ra,endsWith:NK,toArray:kK,forEachEntry:IK,matchAll:OK,isHTMLForm:PK,hasOwnProperty:YT,hasOwnProp:YT,reduceDescriptors:HM,freezeMethods:FK,toObjectSet:LK,toCamelCase:jK,noop:zK,toFiniteNumber:UK,findKey:UM,global:Zs,isContextDefined:VM,isSpecCompliantForm:VK,toJSONObject:HK,isAsyncFn:WK,isThenable:$K,setImmediate:WM,asap:GK,isIterable:qK};function ht(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}he.inherits(ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const $M=ht.prototype,GM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GM[e]={value:e}});Object.defineProperties(ht,GM);Object.defineProperty($M,"isAxiosError",{value:!0});ht.from=(e,t,n,r,o,a)=>{const i=Object.create($M);return he.toFlatObject(e,i,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),ht.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const XK=null;function bx(e){return he.isPlainObject(e)||he.isArray(e)}function qM(e){return he.endsWith(e,"[]")?e.slice(0,-2):e}function KT(e,t,n){return e?e.concat(t).map(function(o,a){return o=qM(o),!n&&a?"["+o+"]":o}).join(n?".":""):t}function YK(e){return he.isArray(e)&&!e.some(bx)}const KK=he.toFlatObject(he,{},null,function(t){return/^is[A-Z]/.test(t)});function Uv(e,t,n){if(!he.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=he.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!he.isUndefined(w[x])});const r=n.metaTokens,o=n.visitor||f,a=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(t);if(!he.isFunction(o))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(he.isDate(y))return y.toISOString();if(he.isBoolean(y))return y.toString();if(!u&&he.isBlob(y))throw new ht("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(y)||he.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,x,w){let S=y;if(y&&!w&&typeof y=="object"){if(he.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(he.isArray(y)&&YK(y)||(he.isFileList(y)||he.endsWith(x,"[]"))&&(S=he.toArray(y)))return x=qM(x),S.forEach(function(R,D){!(he.isUndefined(R)||R===null)&&t.append(i===!0?KT([x],D,a):i===null?x:x+"[]",c(R))}),!1}return bx(y)?!0:(t.append(KT(w,x,a),c(y)),!1)}const h=[],m=Object.assign(KK,{defaultVisitor:f,convertValue:c,isVisitable:bx});function v(y,x){if(!he.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(y),he.forEach(y,function(S,E){(!(he.isUndefined(S)||S===null)&&o.call(t,S,he.isString(E)?E.trim():E,x,m))===!0&&v(S,x?x.concat(E):[E])}),h.pop()}}if(!he.isObject(e))throw new TypeError("data must be an object");return v(e),t}function QT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ww(e,t){this._pairs=[],e&&Uv(e,this,t)}const XM=Ww.prototype;XM.append=function(t,n){this._pairs.push([t,n])};XM.toString=function(t){const n=t?function(r){return t.call(this,r,QT)}:QT;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function QK(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function YM(e,t,n){if(!t)return e;const r=n&&n.encode||QK;he.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(t,n):a=he.isURLSearchParams(t)?t.toString():new Ww(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class JT{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){he.forEach(this.handlers,function(r){r!==null&&t(r)})}}const KM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JK=typeof URLSearchParams<"u"?URLSearchParams:Ww,ZK=typeof FormData<"u"?FormData:null,eQ=typeof Blob<"u"?Blob:null,tQ={isBrowser:!0,classes:{URLSearchParams:JK,FormData:ZK,Blob:eQ},protocols:["http","https","file","blob","url","data"]},$w=typeof window<"u"&&typeof document<"u",xx=typeof navigator=="object"&&navigator||void 0,nQ=$w&&(!xx||["ReactNative","NativeScript","NS"].indexOf(xx.product)<0),rQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oQ=$w&&window.location.href||"http://localhost",aQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$w,hasStandardBrowserEnv:nQ,hasStandardBrowserWebWorkerEnv:rQ,navigator:xx,origin:oQ},Symbol.toStringTag,{value:"Module"})),ur={...aQ,...tQ};function iQ(e,t){return Uv(e,new ur.classes.URLSearchParams,{visitor:function(n,r,o,a){return ur.isNode&&he.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function sQ(e){return he.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lQ(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}function QM(e){function t(n,r,o,a){let i=n[a++];if(i==="__proto__")return!0;const s=Number.isFinite(+i),u=a>=n.length;return i=!i&&he.isArray(o)?o.length:i,u?(he.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!s):((!o[i]||!he.isObject(o[i]))&&(o[i]=[]),t(n,r,o[i],a)&&he.isArray(o[i])&&(o[i]=lQ(o[i])),!s)}if(he.isFormData(e)&&he.isFunction(e.entries)){const n={};return he.forEachEntry(e,(r,o)=>{t(sQ(r),o,n,0)}),n}return null}function uQ(e,t,n){if(he.isString(e))try{return(t||JSON.parse)(e),he.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Of={transitional:KM,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,a=he.isObject(t);if(a&&he.isHTMLForm(t)&&(t=new FormData(t)),he.isFormData(t))return o?JSON.stringify(QM(t)):t;if(he.isArrayBuffer(t)||he.isBuffer(t)||he.isStream(t)||he.isFile(t)||he.isBlob(t)||he.isReadableStream(t))return t;if(he.isArrayBufferView(t))return t.buffer;if(he.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iQ(t,this.formSerializer).toString();if((s=he.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Uv(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),uQ(t)):t}],transformResponse:[function(t){const n=this.transitional||Of.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(he.isResponse(t)||he.isReadableStream(t))return t;if(t&&he.isString(t)&&(r&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(i)throw s.name==="SyntaxError"?ht.from(s,ht.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],e=>{Of.headers[e]={}});const cQ=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dQ=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||t[n]&&cQ[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ZT=Symbol("internals");function Td(e){return e&&String(e).trim().toLowerCase()}function Hp(e){return e===!1||e==null?e:he.isArray(e)?e.map(Hp):String(e)}function fQ(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const hQ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function o0(e,t,n,r,o){if(he.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!he.isString(t)){if(he.isString(r))return t.indexOf(r)!==-1;if(he.isRegExp(r))return r.test(t)}}function pQ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function mQ(e,t){const n=he.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,a,i){return this[r].call(this,t,o,a,i)},configurable:!0})})}let Fr=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function a(s,u,c){const f=Td(u);if(!f)throw new Error("header name must be a non-empty string");const h=he.findKey(o,f);(!h||o[h]===void 0||c===!0||c===void 0&&o[h]!==!1)&&(o[h||u]=Hp(s))}const i=(s,u)=>he.forEach(s,(c,f)=>a(c,f,u));if(he.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(he.isString(t)&&(t=t.trim())&&!hQ(t))i(dQ(t),n);else if(he.isObject(t)&&he.isIterable(t)){let s={},u,c;for(const f of t){if(!he.isArray(f))throw TypeError("Object iterator must return a key-value pair");s[c=f[0]]=(u=s[c])?he.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}i(s,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=Td(t),t){const r=he.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return fQ(o);if(he.isFunction(n))return n.call(this,o,r);if(he.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Td(t),t){const r=he.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||o0(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function a(i){if(i=Td(i),i){const s=he.findKey(r,i);s&&(!n||o0(r,r[s],s,n))&&(delete r[s],o=!0)}}return he.isArray(t)?t.forEach(a):a(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const a=n[r];(!t||o0(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const n=this,r={};return he.forEach(this,(o,a)=>{const i=he.findKey(r,a);if(i){n[i]=Hp(o),delete n[a];return}const s=t?pQ(a):String(a).trim();s!==a&&delete n[a],n[s]=Hp(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return he.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&he.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[ZT]=this[ZT]={accessors:{}}).accessors,o=this.prototype;function a(i){const s=Td(i);r[s]||(mQ(o,i),r[s]=!0)}return he.isArray(t)?t.forEach(a):a(t),this}};Fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Fr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});he.freezeMethods(Fr);function a0(e,t){const n=this||Of,r=t||n,o=Fr.from(r.headers);let a=r.data;return he.forEach(e,function(s){a=s.call(n,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function JM(e){return!!(e&&e.__CANCEL__)}function yc(e,t,n){ht.call(this,e??"canceled",ht.ERR_CANCELED,t,n),this.name="CanceledError"}he.inherits(yc,ht,{__CANCEL__:!0});function ZM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ht("Request failed with status code "+n.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vQ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gQ(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,a=0,i;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),f=r[a];i||(i=c),n[o]=u,r[o]=c;let h=a,m=0;for(;h!==o;)m+=n[h++],h=h%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const v=f&&c-f;return v?Math.round(m*1e3/v):void 0}}function yQ(e,t){let n=0,r=1e3/t,o,a;const i=(c,f=Date.now())=>{n=f,o=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const f=Date.now(),h=f-n;h>=r?i(c,f):(o=c,a||(a=setTimeout(()=>{a=null,i(o)},r-h)))},()=>o&&i(o)]}const pm=(e,t,n=3)=>{let r=0;const o=gQ(50,250);return yQ(a=>{const i=a.loaded,s=a.lengthComputable?a.total:void 0,u=i-r,c=o(u),f=i<=s;r=i;const h={loaded:i,total:s,progress:s?i/s:void 0,bytes:u,rate:c||void 0,estimated:c&&s&&f?(s-i)/c:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(h)},n)},eD=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},tD=e=>(...t)=>he.asap(()=>e(...t)),bQ=ur.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ur.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,xQ=ur.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];he.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),he.isString(r)&&i.push("path="+r),he.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function SQ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function e4(e,t,n){let r=!wQ(t);return e&&(r||n==!1)?SQ(e,t):t}const nD=e=>e instanceof Fr?{...e}:e;function ul(e,t){t=t||{};const n={};function r(c,f,h,m){return he.isPlainObject(c)&&he.isPlainObject(f)?he.merge.call({caseless:m},c,f):he.isPlainObject(f)?he.merge({},f):he.isArray(f)?f.slice():f}function o(c,f,h,m){if(he.isUndefined(f)){if(!he.isUndefined(c))return r(void 0,c,h,m)}else return r(c,f,h,m)}function a(c,f){if(!he.isUndefined(f))return r(void 0,f)}function i(c,f){if(he.isUndefined(f)){if(!he.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function s(c,f,h){if(h in t)return r(c,f);if(h in e)return r(void 0,c)}const u={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(c,f,h)=>o(nD(c),nD(f),h,!0)};return he.forEach(Object.keys({...e,...t}),function(f){const h=u[f]||o,m=h(e[f],t[f],f);he.isUndefined(m)&&h!==s||(n[f]=m)}),n}const t4=e=>{const t=ul({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:s}=t;t.headers=i=Fr.from(i),t.url=YM(e4(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let u;if(he.isFormData(n)){if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[c,...f]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...f].join("; "))}}if(ur.hasStandardBrowserEnv&&(r&&he.isFunction(r)&&(r=r(t)),r||r!==!1&&bQ(t.url))){const c=o&&a&&xQ.read(a);c&&i.set(o,c)}return t},CQ=typeof XMLHttpRequest<"u",EQ=CQ&&function(e){return new Promise(function(n,r){const o=t4(e);let a=o.data;const i=Fr.from(o.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:c}=o,f,h,m,v,y;function x(){v&&v(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function S(){if(!w)return;const R=Fr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),A={data:!s||s==="text"||s==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:R,config:e,request:w};ZM(function(k){n(k),x()},function(k){r(k),x()},A),w=null}"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(S)},w.onabort=function(){w&&(r(new ht("Request aborted",ht.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new ht("Network Error",ht.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let D=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const A=o.transitional||KM;o.timeoutErrorMessage&&(D=o.timeoutErrorMessage),r(new ht(D,A.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,e,w)),w=null},a===void 0&&i.setContentType(null),"setRequestHeader"in w&&he.forEach(i.toJSON(),function(D,A){w.setRequestHeader(A,D)}),he.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),s&&s!=="json"&&(w.responseType=o.responseType),c&&([m,y]=pm(c,!0),w.addEventListener("progress",m)),u&&w.upload&&([h,v]=pm(u),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(f=R=>{w&&(r(!R||R.type?new yc(null,e,w):R),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const E=vQ(o.url);if(E&&ur.protocols.indexOf(E)===-1){r(new ht("Unsupported protocol "+E+":",ht.ERR_BAD_REQUEST,e));return}w.send(a||null)})},RQ=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const a=function(c){if(!o){o=!0,s();const f=c instanceof Error?c:this.reason;r.abort(f instanceof ht?f:new yc(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,a(new ht(`timeout ${t} of ms exceeded`,ht.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>he.asap(s),u}},_Q=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},TQ=async function*(e,t){for await(const n of DQ(e))yield*_Q(n,t)},DQ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},rD=(e,t,n,r)=>{const o=TQ(e,t);let a=0,i,s=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:f}=await o.next();if(c){s(),u.close();return}let h=f.byteLength;if(n){let m=a+=h;n(m)}u.enqueue(new Uint8Array(f))}catch(c){throw s(c),c}},cancel(u){return s(u),o.return()}},{highWaterMark:2})},Vv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",n4=Vv&&typeof ReadableStream=="function",AQ=Vv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),r4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},NQ=n4&&r4(()=>{let e=!1;const t=new Request(ur.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),oD=64*1024,wx=n4&&r4(()=>he.isReadableStream(new Response("").body)),mm={stream:wx&&(e=>e.body)};Vv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!mm[t]&&(mm[t]=he.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ht(`Response type '${t}' is not supported`,ht.ERR_NOT_SUPPORT,r)})})})(new Response);const kQ=async e=>{if(e==null)return 0;if(he.isBlob(e))return e.size;if(he.isSpecCompliantForm(e))return(await new Request(ur.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(he.isArrayBufferView(e)||he.isArrayBuffer(e))return e.byteLength;if(he.isURLSearchParams(e)&&(e=e+""),he.isString(e))return(await AQ(e)).byteLength},MQ=async(e,t)=>{const n=he.toFiniteNumber(e.getContentLength());return n??kQ(t)},IQ=Vv&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:u,responseType:c,headers:f,withCredentials:h="same-origin",fetchOptions:m}=t4(e);c=c?(c+"").toLowerCase():"text";let v=RQ([o,a&&a.toAbortSignal()],i),y;const x=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let w;try{if(u&&NQ&&n!=="get"&&n!=="head"&&(w=await MQ(f,r))!==0){let A=new Request(t,{method:"POST",body:r,duplex:"half"}),N;if(he.isFormData(r)&&(N=A.headers.get("content-type"))&&f.setContentType(N),A.body){const[k,M]=eD(w,pm(tD(u)));r=rD(A.body,oD,k,M)}}he.isString(h)||(h=h?"include":"omit");const S="credentials"in Request.prototype;y=new Request(t,{...m,signal:v,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:S?h:void 0});let E=await fetch(y,m);const R=wx&&(c==="stream"||c==="response");if(wx&&(s||R&&x)){const A={};["status","statusText","headers"].forEach(I=>{A[I]=E[I]});const N=he.toFiniteNumber(E.headers.get("content-length")),[k,M]=s&&eD(N,pm(tD(s),!0))||[];E=new Response(rD(E.body,oD,k,()=>{M&&M(),x&&x()}),A)}c=c||"text";let D=await mm[he.findKey(mm,c)||"text"](E,e);return!R&&x&&x(),await new Promise((A,N)=>{ZM(A,N,{data:D,headers:Fr.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:y})})}catch(S){throw x&&x(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,e,y),{cause:S.cause||S}):ht.from(S,S&&S.code,e,y)}}),Sx={http:XK,xhr:EQ,fetch:IQ};he.forEach(Sx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const aD=e=>`- ${e}`,OQ=e=>he.isFunction(e)||e===null||e===!1,o4={getAdapter:e=>{e=he.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){n=e[a];let i;if(r=n,!OQ(n)&&(r=Sx[(i=String(n)).toLowerCase()],r===void 0))throw new ht(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+a]=r}if(!r){const a=Object.entries(o).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(aD).join(`
`):" "+aD(a[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Sx};function i0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yc(null,e)}function iD(e){return i0(e),e.headers=Fr.from(e.headers),e.data=a0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),o4.getAdapter(e.adapter||Of.adapter)(e).then(function(r){return i0(e),r.data=a0.call(e,e.transformResponse,r),r.headers=Fr.from(r.headers),r},function(r){return JM(r)||(i0(e),r&&r.response&&(r.response.data=a0.call(e,e.transformResponse,r.response),r.response.headers=Fr.from(r.response.headers))),Promise.reject(r)})}const a4="1.11.0",Hv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Hv[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const sD={};Hv.transitional=function(t,n,r){function o(a,i){return"[Axios v"+a4+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,s)=>{if(t===!1)throw new ht(o(i," has been removed"+(n?" in "+n:"")),ht.ERR_DEPRECATED);return n&&!sD[i]&&(sD[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,s):!0}};Hv.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function PQ(e,t,n){if(typeof e!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const s=e[a],u=s===void 0||i(s,a,e);if(u!==!0)throw new ht("option "+a+" must be "+u,ht.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ht("Unknown option "+a,ht.ERR_BAD_OPTION)}}const Wp={assertOptions:PQ,validators:Hv},fa=Wp.validators;let ol=class{constructor(t){this.defaults=t||{},this.interceptors={request:new JT,response:new JT}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ul(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:a}=n;r!==void 0&&Wp.assertOptions(r,{silentJSONParsing:fa.transitional(fa.boolean),forcedJSONParsing:fa.transitional(fa.boolean),clarifyTimeoutError:fa.transitional(fa.boolean)},!1),o!=null&&(he.isFunction(o)?n.paramsSerializer={serialize:o}:Wp.assertOptions(o,{encode:fa.function,serialize:fa.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Wp.assertOptions(n,{baseUrl:fa.spelling("baseURL"),withXsrfToken:fa.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&he.merge(a.common,a[n.method]);a&&he.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),n.headers=Fr.concat(i,a);const s=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(u=u&&x.synchronous,s.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let f,h=0,m;if(!u){const y=[iD.bind(this),void 0];for(y.unshift(...s),y.push(...c),m=y.length,f=Promise.resolve(n);h<m;)f=f.then(y[h++],y[h++]);return f}m=s.length;let v=n;for(h=0;h<m;){const y=s[h++],x=s[h++];try{v=y(v)}catch(w){x.call(this,w);break}}try{f=iD.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,m=c.length;h<m;)f=f.then(c[h++],c[h++]);return f}getUri(t){t=ul(this.defaults,t);const n=e4(t.baseURL,t.url,t.allowAbsoluteUrls);return YM(n,t.params,t.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(t){ol.prototype[t]=function(n,r){return this.request(ul(r||{},{method:t,url:n,data:(r||{}).data}))}});he.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,s){return this.request(ul(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}ol.prototype[t]=n(),ol.prototype[t+"Form"]=n(!0)});let jQ=class i4{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(s=>{r.subscribe(s),a=s}).then(o);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,s){r.reason||(r.reason=new yc(a,i,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new i4(function(o){t=o}),cancel:t}}};function BQ(e){return function(n){return e.apply(null,n)}}function FQ(e){return he.isObject(e)&&e.isAxiosError===!0}const Cx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cx).forEach(([e,t])=>{Cx[t]=e});function s4(e){const t=new ol(e),n=BM(ol.prototype.request,t);return he.extend(n,ol.prototype,t,{allOwnKeys:!0}),he.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return s4(ul(e,o))},n}const yt=s4(Of);yt.Axios=ol;yt.CanceledError=yc;yt.CancelToken=jQ;yt.isCancel=JM;yt.VERSION=a4;yt.toFormData=Uv;yt.AxiosError=ht;yt.Cancel=yt.CanceledError;yt.all=function(t){return Promise.all(t)};yt.spread=BQ;yt.isAxiosError=FQ;yt.mergeConfig=ul;yt.AxiosHeaders=Fr;yt.formToJSON=e=>QM(he.isHTMLForm(e)?new FormData(e):e);yt.getAdapter=o4.getAdapter;yt.HttpStatusCode=Cx;yt.default=yt;const{Axios:ase,AxiosError:ise,CanceledError:sse,isCancel:lse,CancelToken:use,VERSION:cse,all:dse,Cancel:fse,isAxiosError:hse,spread:pse,toFormData:mse,AxiosHeaders:vse,HttpStatusCode:gse,formToJSON:yse,getAdapter:bse,mergeConfig:xse}=yt,lD=[{type:"heading",label:"Heading",icon:FH},{type:"paragraph",label:"Paragraph",icon:PH},{type:"image",label:"Image",icon:am},{type:"breakline",label:"Break Line",icon:M9},{type:"horizontalline",label:"Horizontal Line",icon:hH},{type:"audio",label:"Audio",icon:CH},{type:"video",label:"Video",icon:Ck},{type:"timer",label:"Timer",icon:K9},{type:"orderedlist",label:"Ordered List",icon:vH},{type:"unorderedlist",label:"Unordered List",icon:yH},{type:"randominteger",label:"Random Integer",icon:TH},{type:"videorecording",label:"Video Recording",icon:Sk},{type:"audiorecording",label:"Audio Recording",icon:bw}];function LQ({element:e,onTimeUpdate:t}){const[n,r]=_.useState(0),[o,a]=_.useState(!0);_.useEffect(()=>{let s;return o?s=setInterval(()=>{r(u=>{const c=u+1;return t&&t(c),c})},1e3):!o&&n!==0&&clearInterval(s),()=>clearInterval(s)},[o,t]);const i=s=>{const u=Math.floor(s/60),c=s%60;return`${u.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`};return b.jsxs(re,{style:{textAlign:e.align||"left",padding:8},children:[b.jsx(me,{fw:600,size:"md",mb:4,children:"Page Timer"}),b.jsx(me,{size:"lg",fw:700,style:{fontFamily:"monospace"},children:i(n)}),b.jsx(me,{size:"xs",color:"dimmed",mt:4,children:"Time spent on this page"})]})}function uD(e,t,n,r,o,a){const i={cursor:"pointer",position:"relative",marginBottom:16},s=({children:u})=>b.jsxs(re,{style:{...i,outline:n?"2px solid #2988f4":"none",outlineOffset:2},onMouseEnter:c=>{if(!n){const f=c.currentTarget.querySelector(".element-actions");f&&(f.style.display="block")}},onMouseLeave:c=>{if(!n){const f=c.currentTarget.querySelector(".element-actions");f&&(f.style.display="none")}},children:[u,b.jsx(re,{className:"element-actions",style:{position:"absolute",top:-10,right:-10,display:n?"block":"none",background:"rgba(0,0,0,0.8)",borderRadius:6,padding:4,zIndex:10},children:b.jsxs($e,{spacing:4,children:[!["videorecording","audiorecording"].includes(e.type)&&b.jsx(Io,{label:"Properties",position:"top",children:b.jsx(Cn,{size:"sm",variant:"subtle",color:"white",onClick:c=>{c.stopPropagation(),o()},children:b.jsx(IH,{size:14})})}),b.jsx(Io,{label:"Delete",position:"top",children:b.jsx(Cn,{size:"sm",variant:"subtle",color:"red",onClick:c=>{c.stopPropagation(),r()},children:b.jsx(Nv,{size:14})})})]})})]});switch(e.type){case"heading":return b.jsx(s,{children:b.jsx(me,{fw:700,size:e.size||"xl",style:{textAlign:e.align||"left",color:"#000",marginBottom:8},onClick:t,children:e.content||"Tap to Edit Heading"})});case"paragraph":return b.jsx(s,{children:b.jsx(me,{style:{color:"#333",textAlign:e.align||"left",lineHeight:1.6,marginBottom:8},onClick:t,children:e.content||"Tap to Edit Paragraph"})});case"image":return b.jsx(s,{children:b.jsx(re,{style:{textAlign:e.align||"left"},onClick:t,children:e.url||e.fileUrl?b.jsx("img",{src:e.url||e.fileUrl,alt:e.fileName||"Image",style:{maxWidth:e.width?`${e.width}px`:"100%",height:e.height?`${e.height}px`:"auto"}}):b.jsx(re,{style:{width:e.width?`${e.width}px`:"300px",height:e.height?`${e.height}px`:"200px",border:"2px dashed #ddd",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:b.jsxs("div",{style:{textAlign:"center"},children:[b.jsx(am,{size:40,color:"#ccc"}),b.jsx(me,{color:"dimmed",size:"sm",children:"Click to upload image"})]})})})});case"breakline":return b.jsx(s,{children:b.jsx("br",{})});case"horizontalline":return b.jsx(s,{children:b.jsx(jr,{color:"#ddd"})});case"audio":return b.jsx(s,{children:b.jsx(re,{style:{textAlign:e.align||"left"},onClick:t,children:e.url||e.fileUrl?b.jsxs("div",{children:[b.jsxs(me,{size:"sm",fw:500,mb:8,children:["Audio: ",e.fileName||"From URL"]}),b.jsxs("audio",{controls:!0,style:{width:e.width?`${e.width}px`:"100%",height:e.height?`${e.height}px`:"auto"},children:[b.jsx("source",{src:e.url||e.fileUrl,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):b.jsx(re,{style:{width:e.width?`${e.width}px`:"300px",height:e.height?`${e.height}px`:"60px",border:"1px dashed #ddd",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:b.jsx(me,{color:"dimmed",size:"sm",children:"[Audio - Upload audio file]"})})})});case"video":return b.jsx(s,{children:b.jsx(re,{style:{textAlign:e.align||"left"},onClick:t,children:e.url||e.fileUrl?b.jsxs("div",{children:[b.jsxs(me,{size:"sm",fw:500,mb:8,children:["Video: ",e.fileName||"From URL"]}),b.jsxs("video",{controls:!0,style:{width:e.width?`${e.width}px`:"400px",height:e.height?`${e.height}px`:"auto"},children:[b.jsx("source",{src:e.url||e.fileUrl,type:"video/mp4"}),"Your browser does not support the video element."]})]}):b.jsx(re,{style:{width:e.width?`${e.width}px`:"400px",height:e.height?`${e.height}px`:"250px",border:"1px dashed #ddd",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:b.jsx(me,{color:"dimmed",size:"sm",children:"[Video - Upload video file]"})})})});case"timer":return b.jsx(s,{children:b.jsx(LQ,{element:e,onTimeUpdate:u=>console.log("Time spent:",u)})});case"orderedlist":return b.jsx(s,{children:b.jsx("ol",{style:{color:"#333",textAlign:e.align||"left",marginBottom:8,paddingLeft:20},onClick:t,children:e.listItems?e.listItems.map((u,c)=>b.jsx("li",{style:{marginBottom:4},children:u},c)):b.jsxs(b.Fragment,{children:[b.jsx("li",{style:{marginBottom:4},children:"Tap to Edit Item 1"}),b.jsx("li",{style:{marginBottom:4},children:"Tap to Edit Item 2"})]})})});case"unorderedlist":return b.jsx(s,{children:b.jsx("ul",{style:{color:"#333",textAlign:e.align||"left",marginBottom:8,paddingLeft:20},onClick:t,children:e.listItems?e.listItems.map((u,c)=>b.jsx("li",{style:{marginBottom:4},children:u},c)):b.jsxs(b.Fragment,{children:[b.jsx("li",{style:{marginBottom:4},children:"Tap to Edit Item 1"}),b.jsx("li",{style:{marginBottom:4},children:"Tap to Edit Item 2"})]})})});case"randominteger":return b.jsx(s,{children:b.jsxs(re,{style:{textAlign:e.align||"left",padding:"12px",border:"1px solid #e0e0e0",borderRadius:"6px",backgroundColor:"#f8f9fa"},onClick:t,children:[b.jsx(me,{fw:500,size:"sm",mb:8,color:"#333",children:"Random Integer"}),b.jsx(me,{size:"lg",fw:700,style:{fontFamily:"monospace",color:e.content?"#007CFF":"#999"},children:e.content||"Click to set number"}),b.jsxs(me,{size:"xs",color:"dimmed",mt:4,children:["Integer value: ",e.content||"Not set"]})]})});case"videorecording":return b.jsx(s,{children:b.jsxs(re,{style:{textAlign:"center",padding:"20px",border:"2px dashed #ff6b35",borderRadius:"8px",backgroundColor:"#fff5f0"},children:[b.jsx(Sk,{size:48,color:"#ff6b35",style:{marginBottom:8}}),b.jsx(me,{fw:600,size:"md",color:"#ff6b35",mb:4,children:"Video Recording"}),b.jsx(me,{size:"sm",color:"dimmed",children:"Users will be able to record video here"})]})});case"audiorecording":return b.jsx(s,{children:b.jsxs(re,{style:{textAlign:"center",padding:"20px",border:"2px dashed #007CFF",borderRadius:"8px",backgroundColor:"#f0f7ff"},children:[b.jsx(bw,{size:48,color:"#007CFF",style:{marginBottom:8}}),b.jsx(me,{fw:600,size:"md",color:"#007CFF",mb:4,children:"Audio Recording"}),b.jsx(me,{size:"sm",color:"dimmed",children:"Users will be able to record audio here"})]})});default:return b.jsx("span",{})}}function zQ({selectedElement:e,onPropertyChange:t,onClose:n}){const[r,o]=_.useState(""),[a,i]=_.useState(e?.url||"");if(ut.useEffect(()=>{e?.listItems&&o(e.listItems.join(`
`)),i(e?.url||"")},[e]),!e)return b.jsxs(re,{style:{width:300,background:"#2c2c2c",color:"#fff",padding:20,height:"100%"},children:[b.jsx(me,{size:"lg",fw:600,mb:"md",children:"Properties"}),b.jsx(me,{color:"dimmed",children:"Select an element to edit its properties"})]});if(["videorecording","audiorecording"].includes(e.type))return b.jsxs(re,{style:{width:300,background:"#2c2c2c",color:"#fff",padding:20,height:"100%"},children:[b.jsx(me,{size:"lg",fw:600,mb:"md",children:"Recording Element"}),b.jsx(me,{color:"dimmed",children:"Recording elements don't have configurable properties. The recording functionality will be handled in the user dashboard."}),b.jsx(Fe,{size:"xs",variant:"subtle",onClick:n,mt:"md",children:"Close"})]});const s=h=>{if(h){const m=URL.createObjectURL(h);t("fileName",h.name),t("fileUrl",m),t("url",""),i("")}},u=h=>{i(h),t("url",h),t("fileName",null),t("fileUrl",null)},c=h=>{o(h);const m=h.split(`
`).filter(v=>v.trim()!=="");t("listItems",m)},f=()=>{switch(e.type){case"heading":return"Heading Properties";case"paragraph":return"Paragraph Properties";case"image":return"Image Properties";case"audio":return"Audio Properties";case"video":return"Video Properties";case"timer":return"Timer Properties";case"orderedlist":return"Ordered List Properties";case"unorderedlist":return"Unordered List Properties";case"randominteger":return"Random Integer Properties";default:return"Element Properties"}};return b.jsx(re,{style:{width:300,background:"#2c2c2c",color:"#fff",height:"100%"},children:b.jsx(ho,{style:{height:"100%"},children:b.jsxs(re,{style:{padding:20},children:[b.jsxs($e,{justify:"space-between",mb:"md",children:[b.jsx(me,{size:"lg",fw:600,children:f()}),b.jsx(Fe,{size:"xs",variant:"subtle",onClick:n,children:""})]}),b.jsxs(to,{spacing:"md",children:[["heading"].includes(e.type)&&b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:"Content"}),b.jsx(Na,{value:e.content||"",onChange:h=>t("content",h.target.value),placeholder:"Enter heading text"})]}),["paragraph"].includes(e.type)&&b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:"Content"}),b.jsx(Gd,{value:e.content||"",onChange:h=>t("content",h.target.value),placeholder:"Enter paragraph text",rows:6})]}),["randominteger"].includes(e.type)&&b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:"Integer Value"}),b.jsx(Iu,{value:parseInt(e.content)||"",onChange:h=>t("content",h?h.toString():""),placeholder:"Enter an integer number",min:-999999,max:999999,stepHoldDelay:500,stepHoldInterval:100}),b.jsxs(me,{size:"xs",color:"dimmed",mt:4,children:["Enter any integer number. This will be stored as: ",e.content||"empty"]})]}),["orderedlist","unorderedlist"].includes(e.type)&&b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:"List Items (one per line)"}),b.jsx(Gd,{value:r,onChange:h=>c(h.target.value),placeholder:"Enter list items, one per line",rows:4})]}),["image","audio","video"].includes(e.type)&&b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:e.type==="image"?"Image File or URL":e.type==="audio"?"Audio File or URL":"Video File or URL"}),b.jsx(Na,{placeholder:"Enter URL (e.g. https://example.com/media.mp4)",leftSection:b.jsx(xk,{size:16}),value:a,onChange:h=>u(h.target.value),mb:"md",disabled:!!e.fileUrl}),b.jsx(nm,{placeholder:`Or upload ${e.type} file`,accept:e.type==="image"?"image/*":e.type==="audio"?"audio/*":"video/*",onChange:s,leftSection:b.jsx(wk,{size:14}),disabled:!!a}),e.fileName&&b.jsxs(me,{size:"xs",color:"green",mt:4,children:["Current file: ",e.fileName]}),a&&b.jsxs(me,{size:"xs",color:"green",mt:4,children:["Using URL: ",a]})]}),["image","audio","video"].includes(e.type)&&b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:"Size"}),b.jsxs($e,{children:[b.jsx(Iu,{placeholder:"300",value:e.width||"",onChange:h=>t("width",h),size:"xs",style:{width:80}}),b.jsx(me,{size:"xs",children:"PX"}),b.jsx(Iu,{placeholder:"200",value:e.height||"",onChange:h=>t("height",h),size:"xs",style:{width:80}}),b.jsx(me,{size:"xs",children:"PX"})]}),b.jsxs($e,{mt:4,children:[b.jsx(me,{size:"xs",color:"dimmed",children:"Width"}),b.jsx(me,{size:"xs",color:"dimmed",ml:"auto",children:"Height"})]})]}),e.type==="heading"&&b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:"Size"}),b.jsx(ii,{value:e.size||"xl",onChange:h=>t("size",h),data:[{value:"xs",label:"Extra Small"},{value:"sm",label:"Small"},{value:"md",label:"Medium"},{value:"lg",label:"Large"},{value:"xl",label:"Extra Large"}]})]}),!["breakline","horizontalline"].includes(e.type)&&b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:"Alignment"}),b.jsxs($e,{children:[b.jsx(Fe,{size:"xs",variant:e.align==="left"?"filled":"subtle",onClick:()=>t("align","left"),children:"LEFT"}),b.jsx(Fe,{size:"xs",variant:e.align==="center"?"filled":"subtle",onClick:()=>t("align","center"),children:"CENTER"}),b.jsx(Fe,{size:"xs",variant:e.align==="right"?"filled":"subtle",onClick:()=>t("align","right"),children:"RIGHT"})]}),b.jsx(me,{size:"xs",color:"dimmed",mt:4,children:"Select how the content is aligned horizontally"})]}),b.jsxs(re,{children:[b.jsx(me,{size:"sm",mb:4,children:"Duplicate Field"}),b.jsx(Fe,{variant:"light",size:"sm",children:"DUPLICATE"}),b.jsx(me,{size:"xs",color:"dimmed",mt:4,children:"Duplicate this field with all saved settings"})]})]})]})})})}function UQ(){const e=na(),t=xi(),[n,r]=_.useState("New Jotform"),[o,a]=_.useState([[]]),[i,s]=_.useState(0),[u,c]=_.useState(null),[f,h]=_.useState(!1),[m,v]=_.useState(!1);_.useEffect(()=>{e.state?.jotformName&&r(e.state.jotformName)},[e.state]);const y=I=>{const{source:O,destination:L}=I;if(L){if(O.droppableId==="elements"&&L.droppableId==="canvas"){const F={...lD[O.index],content:"",id:Date.now()},X=Array.from(o);X[i]=[...X[i].slice(0,L.index),F,...X[i].slice(L.index)],a(X)}else if(O.droppableId==="canvas"&&L.droppableId==="canvas"){const F=Array.from(o[i]),[X]=F.splice(O.index,1);F.splice(L.index,0,X);const W=Array.from(o);W[i]=F,a(W)}}},x=I=>{c(I);const O=o[i][I];["videorecording","audiorecording"].includes(O.type)||h(!0)},w=I=>{const O=Array.from(o);O[i].splice(I,1),a(O),c(null),h(!1)},S=(I,O)=>{if(u===null)return;const L=[...o];L[i][u]={...L[i][u],[I]:O},a(L)},E=()=>{a([...o,[]]),s(o.length)},R=()=>{i>0&&s(i-1)},D=()=>{i<o.length-1&&s(i+1)},A=()=>{console.log("Form submitted!",{jotformName:n,pages:o})},N=async()=>{const I=o.map((L,F)=>{const X=L.map((W,Y)=>{let B;switch(W.type){case"heading":case"paragraph":B=W.content||`Default ${W.type} content`;break;case"randominteger":B=W.content||"0";break;case"videorecording":case"audiorecording":B="";break;case"image":case"audio":case"video":W.url?B=W.url:W.fileName?B={fileName:W.fileName,fileUrl:W.fileUrl,mimeType:W.mimeType||"application/octet-stream",size:W.fileSize||0}:B=`No content for ${W.type}`;break;case"orderedlist":case"unorderedlist":B=W.listItems?W.listItems.join(", "):`Default list items for ${W.type}`;break;case"timer":B="Timer element - tracks time spent on page";break;case"breakline":B="Line break";break;case"horizontalline":B="Horizontal divider line";break;default:B=`${W.type} element`;break}return{id:W.id||`element_${F}_${Y}`,tagName:W.type,elementName:W.type,content:B,sequence:Y+1,page:F+1}});return{page:F+1,totalElements:X.length,elements:X}}),O={jotformName:n,totalPages:o.length,pages:I};console.log("=== LEARNING MATERIAL DATA (ALL PAGES) ==="),console.log("Jotform Name:",n),console.log("Total Pages:",o.length),console.log("All Pages Data:",O),console.log("Detailed Pages:"),I.forEach(L=>{console.log(`
Page ${L.page} (Total Elements: ${L.totalElements}):`),console.table(L.elements)}),console.log("=======================================");try{console.log(O);const L=await yt.post(" http://localhost:8081/api/jotforms",O,{headers:{"Content-Type":"application/json"}});eo.show({title:"Success!",message:"Learning material saved successfully",color:"green"}),console.log(" Saved to database:",L.data),console.log(O),t("/jotformmanagment")}catch(L){console.error(" Failed to save learning material:",L),eo.show({title:"Error",message:"Failed to save learning material. Please try again.",color:"red"})}},k=i===0,M=i===o.length-1;return b.jsxs(re,{style:{height:"100vh",display:"flex",flexDirection:"column",background:"#f0f0f0"},children:[b.jsxs(re,{style:{background:"#ff6b35",padding:"12px 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsxs($e,{children:[b.jsx(Fe,{size:"sm",variant:"white",leftSection:b.jsx(bk,{size:16}),onClick:()=>v(!m),children:m?"Edit":"Preview"}),b.jsx(Fe,{size:"sm",variant:"white",leftSection:b.jsx(P9,{size:16}),onClick:N,style:{background:"#4CAF50",color:"white",border:"none"},children:"Create Learning Material"})]}),b.jsxs($e,{children:[b.jsxs(me,{size:"sm",style:{color:"white",fontWeight:600},children:["Page ",i+1," of ",o.length]}),b.jsx(Fe,{size:"sm",variant:"white",onClick:E,children:"+ Add Page"})]})]}),b.jsx(re,{style:{flex:1,display:"flex"},children:b.jsxs(EY,{onDragEnd:y,children:[!m&&b.jsxs(re,{style:{width:200,background:"#2c2c2c",color:"#fff",padding:16,borderRight:"1px solid #444"},children:[b.jsx(me,{fw:700,size:"sm",mb:"md",style:{color:"#ff6b35"},children:"FORM ELEMENTS"}),b.jsx(XT,{droppableId:"elements",isDropDisabled:!0,children:I=>b.jsxs("div",{ref:I.innerRef,...I.droppableProps,children:[lD.map((O,L)=>b.jsx(VT,{draggableId:O.type,index:L,children:F=>b.jsxs($e,{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,style:{background:"#3c3c3c",borderRadius:8,padding:"8px 12px",marginBottom:8,cursor:"grab",fontSize:13,...F.draggableProps.style},spacing:8,children:[b.jsx(O.icon,{size:16}),O.label]})},O.type)),I.placeholder]})})]}),b.jsx(re,{style:{flex:1,background:"#f5f5f5",display:"flex",justifyContent:"center",padding:20},children:b.jsx(re,{style:{width:"100%",maxWidth:800,background:"#fff",minHeight:"calc(100vh - 120px)",boxShadow:"0 0 10px rgba(0,0,0,0.1)",position:"relative"},children:b.jsx(ho,{style:{height:"calc(100vh - 120px)"},children:b.jsxs(re,{style:{padding:"40px 60px"},children:[b.jsx(me,{fw:700,size:"xl",align:"center",mb:"xl",style:{color:"#333"},children:n}),m?b.jsx("div",{children:(o[i]||[]).map((I,O)=>b.jsx(re,{mb:"md",children:uD(I,()=>{},!1,()=>{},()=>{})},O))}):b.jsx(XT,{droppableId:"canvas",children:I=>b.jsxs("div",{ref:I.innerRef,...I.droppableProps,style:{minHeight:400},children:[(o[i]||[]).length===0&&b.jsx(me,{align:"center",color:"gray",style:{padding:40},children:"Drag your first question here from the left"}),(o[i]||[]).map((O,L)=>b.jsx(VT,{draggableId:`canvas-element-${L}`,index:L,children:F=>b.jsx("div",{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,style:{...F.draggableProps.style},children:uD(O,()=>x(L),u===L,()=>w(L),()=>x(L))})},`${O.id||L}-${O.type}`)),I.placeholder]})}),b.jsxs($e,{justify:"center",mt:"xl",spacing:"md",style:{paddingTop:40},children:[!k&&b.jsx(Fe,{size:"md",variant:"outline",onClick:R,children:"Back"}),M?b.jsx(Fe,{size:"md",style:{background:"#00C851"},onClick:A,children:"Submit"}):b.jsx(Fe,{size:"md",style:{background:"#007CFF"},onClick:D,children:"Next"})]})]})})})}),!m&&f&&b.jsx(zQ,{selectedElement:u!==null?o[i][u]:null,onPropertyChange:S,onClose:()=>h(!1)})]})})]})}const cD=["BL","BE","BM"];function l4(e){const[t,n]=_.useState("learning"),[r,o]=_.useState(!1),[a,i]=_.useState([]),[s,u]=_.useState([]),[c,f]=_.useState(!1),h=async()=>{o(!0);try{const S=await yt.get(" http://localhost:8081/api/jotforms/names");i(S.data)}catch(S){console.error("Error fetching jotform names",S),i([])}finally{o(!1)}},m=async()=>{f(!0);try{const S=await yt.get(" http://localhost:8081/api/courses/names");u(S.data)}catch(S){console.error("Error fetching existing courses",S),u([])}finally{f(!1)}};_.useEffect(()=>{h(),m()},[]);const v=Kd({initialValues:{courseName:"",jotformName:"",group:"",imageFile:null,pdfFile:null},validate:{courseName:S=>S.trim().length>0?null:"Please enter a course name",jotformName:S=>S?null:"Please select a Jotform",group:S=>S?null:"Please select a group"}}),y=async S=>{try{const E=new FormData;E.append("courseName",S.courseName),E.append("jotformName",S.jotformName),E.append("group",S.group),S.imageFile&&E.append("imageFile",S.imageFile),S.pdfFile&&E.append("pdfFile",S.pdfFile),console.log(E);const R=await yt.post(" http://localhost:8081/api/courses/learning",E,{headers:{"Content-Type":"multipart/form-data"}});console.log("Mapping submission response:",R.data),alert("Learning form mapped successfully!")}catch(E){console.error("Error submitting learning form mapping",E),alert("Failed to submit mapping")}},x=Kd({initialValues:{courseName:"",jotformName:"",group:""},validate:{courseName:S=>S?null:"Please select a course name",jotformName:S=>S?null:"Please select a jotform",group:S=>S?null:"Please select a group"}}),w=async S=>{try{const E={courseName:S.courseName,jotformName:S.jotformName,group:S.group},R=await yt.post(" http://localhost:8081/api/courses/assignment",E,{headers:{"Content-Type":"application/json"}});console.log("Assignment mapping response:",R.data),alert("Assignment form mapped successfully!")}catch(E){console.error("Error submitting assignment mapping",E),alert("Failed to submit assignment mapping")}};return b.jsxs(Zo,{className:xw.formPaper,radius:"md",p:"lg",withBorder:!0,...e,style:{maxWidth:400,margin:"0 auto"},children:[b.jsx(me,{size:"lg",fw:500,ta:"center",children:"Jotform Mapping"}),b.jsx($e,{position:"center",mt:"md",mb:"lg",children:b.jsx(uc,{value:t,onChange:n,data:[{label:"Jotform Learning",value:"learning"},{label:"Jotform Assignment",value:"assignment"}],color:"blue",size:"md"})}),b.jsx(jr,{label:"Select mapping details",labelPosition:"center",my:"lg"}),t==="learning"?b.jsx("form",{onSubmit:v.onSubmit(y),children:b.jsxs(to,{children:[b.jsx(Na,{label:"Course Name",placeholder:"Enter course name",required:!0,value:v.values.courseName,onChange:S=>v.setFieldValue("courseName",S.currentTarget.value),error:v.errors.courseName,radius:"md"}),b.jsx(ii,{label:"Jotform Name",placeholder:r?"Loading...":"Select existing jotform",required:!0,searchable:!0,data:a,value:v.values.jotformName,onChange:S=>v.setFieldValue("jotformName",S),error:v.errors.jotformName,radius:"md",disabled:r}),b.jsx(ii,{label:"Group",placeholder:"Select group",required:!0,data:cD,value:v.values.group,onChange:S=>v.setFieldValue("group",S),error:v.errors.group,radius:"md"}),b.jsx(nm,{label:"Upload Image",placeholder:"Select image file",accept:"image/*",value:v.values.imageFile,onChange:S=>v.setFieldValue("imageFile",S),radius:"md",clearable:!0}),b.jsx(nm,{label:"Upload PDF",placeholder:"Select pdf file",accept:"application/pdf",value:v.values.pdfFile,onChange:S=>v.setFieldValue("pdfFile",S),radius:"md",clearable:!0}),b.jsx(Fe,{type:"submit",radius:"xl",mt:"md",children:"Map Learning Jotform"})]})}):b.jsx("form",{onSubmit:x.onSubmit(w),children:b.jsxs(to,{children:[b.jsx(ii,{label:"Course Name",placeholder:c?"Loading...":"Select existing course",required:!0,searchable:!0,data:s,value:x.values.courseName,onChange:S=>x.setFieldValue("courseName",S),error:x.errors.courseName,radius:"md",disabled:c}),b.jsx(ii,{label:"Jotform Name",placeholder:"Select jotform",required:!0,data:a,value:x.values.jotformName,onChange:S=>x.setFieldValue("jotformName",S),error:x.errors.jotformName,radius:"md"}),b.jsx(ii,{label:"Group",placeholder:"Select group",required:!0,data:cD,value:x.values.group,onChange:S=>x.setFieldValue("group",S),error:x.errors.group,radius:"md"}),b.jsx(Fe,{type:"submit",radius:"xl",mt:"md",children:"Map Assignment Jotform"})]})})]})}function VQ(){const[e,t]=_.useState("BL"),[n,r]=_.useState([]),[o,a]=_.useState(!1),[i,s]=_.useState(!1),[u,c]=_.useState(!1),[f,h]=_.useState(null),m=async()=>{a(!0);try{const S=await yt.get(` http://localhost:8081/api/courses?group=${e}`);console.log(S.data),r(S.data)}catch(S){console.error(`Error fetching courses for group ${e}:`,S),r([])}finally{a(!1)}};_.useEffect(()=>{m()},[e]);const v=S=>{console.log("Editing course:",S)},y=S=>{h(S),c(!0)},x=()=>{h(null),c(!1)},w=async()=>{if(f)try{await yt.delete(` http://localhost:8081/api/courses/${f.id}`),r(n.filter(S=>S.id!==f.id)),x()}catch(S){console.error(`Error deleting course ${f.courseName}:`,S)}};return b.jsxs(Kt,{size:"lg",py:"xl",children:[b.jsxs($e,{justify:"space-between",mb:"md",children:[b.jsx(jt,{order:2,children:"Course Management"}),b.jsx(Fe,{onClick:()=>s(!0),children:"Map Jotforms"})]}),b.jsx($e,{justify:"center",mb:"xl",children:b.jsx(uc,{value:e,onChange:t,data:[{label:"BL",value:"BL"},{label:"BE",value:"BE"},{label:"BM",value:"BM"}],size:"md",color:"blue"})}),o?b.jsx(me,{ta:"center",c:"dimmed",children:"Loading courses..."}):n.length>0?b.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,children:[b.jsx(Re.Thead,{children:b.jsxs(Re.Tr,{children:[b.jsx(Re.Th,{children:"Course Name"}),b.jsx(Re.Th,{children:"Jotform Learning"}),b.jsx(Re.Th,{children:"Jotform Assignment"}),b.jsx(Re.Th,{children:"Mind Map"}),b.jsx(Re.Th,{children:"Actions"})]})}),b.jsx(Re.Tbody,{children:n.map(S=>b.jsxs(Re.Tr,{children:[b.jsx(Re.Td,{children:S.courseName}),b.jsx(Re.Td,{children:S.learningJotformName||"N/A"}),b.jsx(Re.Td,{children:S.assignmentJotformName||"N/A"}),b.jsx(Re.Td,{children:S.imageFileName||"N/A"}),b.jsx(Re.Td,{children:b.jsxs($e,{gap:"xs",justify:"center",children:[b.jsx(Io,{label:"Edit Course",children:b.jsx(Cn,{variant:"subtle",color:"blue",onClick:()=>v(S),children:b.jsx(Av,{size:18})})}),b.jsx(Io,{label:"Delete Course",children:b.jsx(Cn,{variant:"subtle",color:"red",onClick:()=>y(S),children:b.jsx(Nv,{size:18})})})]})})]},S.id))})]}):b.jsx(me,{ta:"center",c:"dimmed",children:"No courses available for this group."}),b.jsx(pr,{opened:i,onClose:()=>s(!1),title:"Map Jotform to Course",size:"xl",children:b.jsx(l4,{onSuccess:()=>{s(!1),m()}})}),b.jsxs(pr,{opened:u,onClose:x,title:`Delete ${f?.courseName||"Course"}`,centered:!0,children:[b.jsx(me,{children:"Are you sure you want to delete this course? This action cannot be undone."}),b.jsxs($e,{justify:"flex-end",mt:"md",children:[b.jsx(Fe,{variant:"default",onClick:x,children:"Cancel"}),b.jsx(Fe,{color:"red",onClick:w,children:"Delete Course"})]})]})]})}const s0=[{rank:1,username:"sanskar1419",score:115},{rank:2,username:"bhav380-2",score:105},{rank:3,username:"ShabanaShaik1987",score:100},{rank:4,username:"shubham7522",score:80},{rank:5,username:"rishavd3v",score:80},{rank:6,username:"inv-amalusudhakaran",score:70},{rank:7,username:"Dev-Code24",score:65},{rank:8,username:"shubham-sanvariya",score:60},{rank:30,username:"Navya",score:10}],HQ=[...s0.slice(0,8),"SKIP",s0[s0.length-1]];function WQ({userRank:e=30,username:t="Navya",score:n=10}){return b.jsxs(Kt,{size:"md",py:"xl",children:[b.jsx($e,{justify:"center",mb:"md",align:"center",children:b.jsx(jt,{order:2,style:{color:"#e0e8f4",letterSpacing:1,fontWeight:700},children:"Analytic Leader Dashboard"})}),b.jsx(Zo,{withBorder:!0,radius:"md",p:0,mt:"md",style:{overflow:"hidden",background:"#161c23",boxShadow:"0 2px 16px 0 rgba(36, 133, 255, 0.07)"},children:b.jsx(ho,{type:"auto",style:{maxHeight:480},children:b.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,children:[b.jsx(Re.Thead,{children:b.jsxs(Re.Tr,{children:[b.jsx(Re.Th,{children:"Rank"}),b.jsx(Re.Th,{children:"Username"}),b.jsx(Re.Th,{children:"Score"})]})}),b.jsx(Re.Tbody,{children:HQ.map((r,o)=>r==="SKIP"?b.jsxs(Re.Tr,{style:{background:"#212232"},children:[b.jsx(Re.Td,{align:"center",style:{color:"#444d5b",fontWeight:600,textAlign:"center"},children:"."}),b.jsx(Re.Td,{align:"center",style:{color:"#444d5b",fontWeight:600,textAlign:"center"},children:"."}),b.jsx(Re.Td,{align:"center",style:{color:"#444d5b",fontWeight:600,textAlign:"center"},children:"."})]},"skip"):b.jsxs(Re.Tr,{style:{background:r.rank===e?"linear-gradient(90deg, #13436c 0%, #2669a6 100%)":"#222733",fontWeight:r.rank===e?700:400,color:r.rank===e?"#fff":"#d4ddf3",transition:"background 0.2s"},children:[b.jsx(Re.Td,{style:{border:"none"},children:r.rank}),b.jsx(Re.Td,{style:{border:"none"},children:r.username}),b.jsx(Re.Td,{style:{border:"none"},children:r.score})]},r.rank))})]})})})]})}function $Q({element:e}){const{content:t,tagName:n,align:r,width:o,height:a,required:i,style:s={},placeholder:u}=e,c={textAlign:r||"left",width:o||"auto",height:a||"auto",...s};switch(n){case"heading":return b.jsxs(me,{fw:700,size:e.size||"xl",mb:"md",style:c,children:[t,i&&b.jsx("span",{style:{color:"red"},children:" *"})]});case"paragraph":return b.jsx(me,{size:e.size||"md",mb:"md",style:{...c,lineHeight:1.6},children:t});case"image":return b.jsxs(re,{mb:"md",style:c,children:[b.jsx($d,{src:typeof t=="string"?t:t.fileUrl,alt:e.elementName||u||"Image",width:o||void 0,height:a||void 0,fit:"contain"}),typeof t=="object"&&b.jsx(me,{size:"xs",mt:4,c:"dimmed",children:t.fileName})]});case"video":return b.jsx(re,{mb:"md",style:c,children:b.jsxs("video",{width:o||"100%",height:a||"auto",controls:!0,children:[b.jsx("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."]})});case"audio":return b.jsx(re,{mb:"md",style:c,children:b.jsxs("audio",{controls:!0,children:[b.jsx("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element."]})});case"horizontalline":case"breakline":return b.jsx(jr,{my:"md",style:c});case"orderedlist":return b.jsx("ol",{style:c,children:t.split(",").map((f,h)=>b.jsx("li",{children:f.trim()},h))});case"unorderedlist":return b.jsx("ul",{style:c,children:t.split(",").map((f,h)=>b.jsx("li",{children:f.trim()},h))});case"randominteger":return b.jsxs(re,{mb:"md",style:c,children:[b.jsx(me,{fw:500,size:"md",mb:4,children:"Random Integer"}),b.jsx(me,{size:"xl",fw:700,style:{fontFamily:"monospace",color:"#007CFF",padding:"8px 12px",background:"#f0f7ff",borderRadius:"4px",display:"inline-block"},children:t||"0"})]});case"videorecording":return b.jsx(re,{mb:"md",style:c,children:b.jsxs(re,{style:{textAlign:"center",padding:"20px",border:"2px dashed #ff6b35",borderRadius:"8px",backgroundColor:"#fff5f0"},children:[b.jsx(me,{fw:600,size:"md",color:"#ff6b35",mb:4,children:"Video Recording Element"}),b.jsx(me,{size:"sm",color:"dimmed",children:"This element will enable video recording functionality in assignments"})]})});case"audiorecording":return b.jsx(re,{mb:"md",style:c,children:b.jsxs(re,{style:{textAlign:"center",padding:"20px",border:"2px dashed #007CFF",borderRadius:"8px",backgroundColor:"#f0f7ff"},children:[b.jsx(me,{fw:600,size:"md",color:"#007CFF",mb:4,children:"Audio Recording Element"}),b.jsx(me,{size:"sm",color:"dimmed",children:"This element will enable audio recording functionality in assignments"})]})});case"timer":return b.jsx(re,{mb:"md",style:c,children:b.jsxs(re,{style:{padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#f8f9fa",textAlign:"center"},children:[b.jsx(me,{fw:600,size:"md",mb:8,children:"Page Timer"}),b.jsx(me,{size:"lg",fw:700,style:{fontFamily:"monospace"},children:"00:00"}),b.jsx(me,{size:"xs",color:"dimmed",mt:4,children:"Time tracking will be active during assignments"})]})});default:return b.jsx(me,{style:c,children:t})}}function u4({jotformName:e,onBack:t,hideBackButton:n=!1,onSubmit:r}){const[o,a]=_.useState(null),[i,s]=_.useState(!0),[u,c]=_.useState(null),[f,h]=_.useState(0);_.useEffect(()=>{if(!e){s(!1),c("No Jotform name provided.");return}(async()=>{s(!0),c(null),h(0);try{const R=(await yt.get(" http://localhost:8081/api/jotforms")).data.find(D=>D.jotformName===e);R?a(R):c(`Jotform with name "${e}" not found.`)}catch(E){c("Failed to load the form. Please check the network connection."),console.error("Fetch Jotform Error:",E)}finally{s(!1)}})()},[e]);const m=()=>{f>0&&h(f-1)},v=()=>{f<o.totalPages-1&&h(f+1)},y=()=>{r?r(o):(console.log("Form submitted:",o),alert("Form submitted successfully!"))},x=()=>{if(!o||o.totalPages<=1)return null;const S=f===0,E=f===o.totalPages-1;return b.jsxs($e,{justify:"center",mt:"xl",children:[!S&&b.jsx(Fe,{variant:"outline",onClick:m,size:"md",children:"Back"}),E?b.jsx(Fe,{onClick:y,size:"md",color:"green",children:"Submit"}):b.jsx(Fe,{onClick:v,size:"md",children:"Next"})]})},w=()=>{if(i)return b.jsxs(re,{ta:"center",mt:"xl",children:[b.jsx(ea,{}),b.jsx(me,{mt:"md",children:"Loading Form..."})]});if(u)return b.jsx(me,{color:"red",ta:"center",children:u});if(o&&o.pages&&o.pages[f]){const S=o.pages[f];return b.jsxs(re,{style:{maxWidth:800,margin:"0 auto",padding:"40px",background:"#fff",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",minHeight:"60vh"},children:[b.jsx(me,{fw:800,size:"xl",ta:"center",mb:"md",children:o.jotformName}),o.totalPages>1&&b.jsxs(me,{ta:"center",size:"sm",color:"dimmed",mb:"xl",children:["Page ",f+1," of ",o.totalPages]}),b.jsx(re,{mb:"xl",children:S.elements.sort((E,R)=>E.sequence-R.sequence).map(E=>b.jsx($Q,{element:E},E.id))}),x()]})}return b.jsx(re,{ta:"center",mt:"xl",children:b.jsx(me,{color:"dimmed",children:"No content available"})})};return b.jsxs(re,{p:n?"md":"xl",children:[!n&&b.jsx("button",{onClick:t,style:{background:"#333",color:"white",padding:"8px 16px",borderRadius:"6px",marginBottom:"20px",cursor:"pointer",border:"none",fontSize:"14px"},children:" Back to Courses"}),w()]})}function c4({jotformName:e,courseName:t}){const n=xi(),r=()=>{n(`/assignment/${e}?course=${encodeURIComponent(t)}`)};return b.jsx(Kt,{size:"md",py:"xl",children:b.jsxs(Zn,{shadow:"sm",padding:"xl",radius:"md",children:[b.jsxs($e,{mb:"md",children:[b.jsx(dH,{size:24,color:"blue"}),b.jsxs(jt,{order:2,children:["Exam Instructions - ",t]})]}),b.jsx(ai,{icon:b.jsx(Z_,{size:16}),color:"blue",mb:"xl",children:"Please read all instructions carefully before proceeding."}),b.jsxs(to,{spacing:"lg",children:[b.jsxs(re,{children:[b.jsx(jt,{order:4,mb:"sm",children:" General Instructions"}),b.jsxs(fn,{spacing:"sm",children:[b.jsx(fn.Item,{children:"Ensure you have a stable internet connection"}),b.jsx(fn.Item,{children:"Find a quiet, well-lit environment"}),b.jsx(fn.Item,{children:"Keep your student ID ready for verification"}),b.jsx(fn.Item,{children:"Close all other applications and browser tabs"}),b.jsx(fn.Item,{children:"Do not use any unauthorized materials during the exam"})]})]}),b.jsx(jr,{}),b.jsxs(re,{children:[b.jsx(jt,{order:4,mb:"sm",children:" Security & Monitoring"}),b.jsxs(fn,{spacing:"sm",children:[b.jsx(fn.Item,{children:"Your camera and microphone will be monitored throughout the exam"}),b.jsx(fn.Item,{children:"Screen recording and monitoring will be active"}),b.jsx(fn.Item,{children:"Switching tabs or applications may be flagged as suspicious"}),b.jsx(fn.Item,{children:"Any violations may result in automatic exam termination"})]})]}),b.jsx(jr,{}),b.jsxs(re,{children:[b.jsx(jt,{order:4,mb:"sm",children:" Identity Verification"}),b.jsxs(fn,{spacing:"sm",children:[b.jsx(fn.Item,{children:"Take a clear photo of yourself for identity verification"}),b.jsx(fn.Item,{children:"Ensure your face is clearly visible and well-lit"})]})]}),b.jsx(jr,{}),b.jsxs(re,{children:[b.jsx(jt,{order:4,mb:"sm",children:" Technical Requirements"}),b.jsxs(fn,{spacing:"sm",children:[b.jsx(fn.Item,{children:"Camera and microphone access is mandatory"}),b.jsx(fn.Item,{children:"Exam will run in fullscreen mode"}),b.jsx(fn.Item,{children:"Recording capabilities must be enabled"}),b.jsx(fn.Item,{children:"Modern browser with HTML5 support required"})]})]}),b.jsx(ai,{icon:b.jsx(Z_,{size:16}),color:"orange",mt:"md",children:b.jsx(me,{size:"sm",weight:500,children:`By clicking "I Understand and Agree", you will proceed to the assignment where you'll complete camera setup, identity verification, and begin the exam.`})})]}),b.jsx($e,{justify:"center",mt:"xl",children:b.jsx(Fe,{size:"lg",onClick:r,leftSection:b.jsx(ax,{size:16}),children:"I Understand and Agree"})})]})})}const GQ="_backButton_1hvfn_50",qQ="_courseTitle_1hvfn_61",XQ="_courseGroup_1hvfn_69",YQ="_navigationContainer_1hvfn_75",KQ="_navButton_1hvfn_84",hu={backButton:GQ,courseTitle:qQ,courseGroup:XQ,navigationContainer:YQ,navButton:KQ};function QQ({course:e,onBack:t}){const[n,r]=_.useState(e.learningJotformName?"learning":"assignment");return b.jsxs(re,{style:{display:"flex",height:"100vh",backgroundColor:"#f8f9fa",margin:0,padding:0,overflow:"hidden"},children:[b.jsxs(re,{style:{flex:"0 0 300px",background:"linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%)",color:"white",padding:"24px",boxShadow:"2px 0 10px rgba(0, 0, 0, 0.1)",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box"},children:[b.jsx(Fe,{variant:"subtle",color:"gray",leftSection:b.jsx(zp,{size:16}),onClick:t,mb:"xl",size:"sm",className:hu.backButton,children:"Back to Courses"}),b.jsxs(re,{mb:"xl",children:[b.jsx(jt,{order:3,className:hu.courseTitle,children:e.courseName}),b.jsxs(me,{size:"sm",className:hu.courseGroup,children:["Group: ",e.groupName]})]}),b.jsxs(re,{className:hu.navigationContainer,children:[e.learningJotformName&&b.jsx(Fe,{variant:n==="learning"?"filled":"subtle",color:"blue",fullWidth:!0,leftSection:b.jsx(yw,{size:16}),onClick:()=>r("learning"),mb:"md",className:hu.navButton,children:"Learning Material"}),e.assignmentJotformName&&b.jsx(Fe,{variant:n==="assignment"?"filled":"subtle",color:"orange",fullWidth:!0,leftSection:b.jsx(yk,{size:16}),onClick:()=>r("assignment"),mb:"md",className:hu.navButton,children:"Assignment"})]})]}),b.jsx(re,{style:{flex:1,overflowY:"auto",backgroundColor:"#f8f9fa",padding:0,margin:0,boxSizing:"border-box"},children:b.jsxs(re,{style:{padding:"24px",minHeight:"100%"},children:[n==="learning"&&e.learningJotformName&&b.jsx(u4,{jotformName:e.learningJotformName,onBack:t,hideBackButton:!0}),n==="assignment"&&e.assignmentJotformName&&b.jsx(c4,{jotformName:e.assignmentJotformName,courseName:e.courseName})]})})]})}const JQ="_card_530g1_1",ZQ="_image_530g1_13",eJ="_overlay_530g1_26",tJ="_content_530g1_36",nJ="_title_530g1_45",rJ="_bodyText_530g1_50",oJ="_author_530g1_55",Ji={card:JQ,image:ZQ,overlay:eJ,content:tJ,title:nJ,bodyText:rJ,author:oJ};function aJ({course:e,onSelectCourse:t}){const n=()=>{const o={BL:"https://images.unsplash.com/photo-1521737711867-e3b97375f902?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",BE:"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",BM:"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"};return o[e.groupName]||o.BL},r=()=>e.imageFileName&&e.imageFile?`data:image/jpeg;base64,${e.imageFile}`:(e.imageFileName,n());return b.jsxs(Zn,{p:"lg",shadow:"lg",className:Ji.card,radius:"md",onClick:()=>t(e),children:[b.jsx("div",{className:Ji.image,style:{backgroundImage:`url(${r()})`}}),b.jsx("div",{className:Ji.overlay}),b.jsx("div",{className:Ji.content,children:b.jsxs("div",{children:[b.jsx(me,{size:"lg",className:Ji.title,fw:500,children:e.courseName}),b.jsxs($e,{justify:"space-between",gap:"xs",children:[b.jsxs(me,{size:"sm",className:Ji.author,children:["Group: ",e.groupName]}),b.jsxs($e,{gap:"lg",children:[e.learningJotformName&&b.jsxs($e,{gap:4,children:[b.jsx(yw,{size:16,color:"white"}),b.jsx(me,{size:"sm",className:Ji.bodyText,children:"Learning"})]}),e.assignmentJotformName&&b.jsxs($e,{gap:4,children:[b.jsx(yk,{size:16,color:"white"}),b.jsx(me,{size:"sm",className:Ji.bodyText,children:"Assignment"})]})]})]})]})})]})}function iJ(){const[e,t]=_.useState([]),[n,r]=_.useState("BL"),[o,a]=_.useState(!0),[i,s]=_.useState(null),[u,c]=_.useState(null);_.useEffect(()=>{(async()=>{a(!0),s(null);try{const v=await yt.get(` http://localhost:8081/api/courses?group=${n}`);t(v.data)}catch(v){s("Failed to fetch courses. Please try again later."),console.error(v)}finally{a(!1)}})()},[n]);const f=m=>{c(m)},h=()=>{c(null)};return u?b.jsx(QQ,{course:u,onBack:h}):b.jsxs(Kt,{size:"xl",py:"xl",children:[b.jsx(jt,{order:2,ta:"center",mb:"md",children:"Course Catalog"}),b.jsx($e,{justify:"center",mb:"xl",children:b.jsx(uc,{value:n,onChange:r,data:[{label:"BL",value:"BL"},{label:"BE",value:"BE"},{label:"BM",value:"BM"}]})}),o?b.jsxs($e,{justify:"center",children:[b.jsx(ea,{}),b.jsx(me,{children:"Loading courses..."})]}):i?b.jsx(me,{ta:"center",c:"red",children:i}):e.length>0?b.jsx(cc,{cols:{base:1,sm:2,md:3,lg:4},spacing:"lg",children:e.map(m=>b.jsx(aJ,{course:m,onSelectCourse:f},m.id))}):b.jsxs(me,{ta:"center",c:"dimmed",children:["No courses available for the '",n,"' group."]})]})}function sJ(){const[e,t]=_.useState([]),[n,r]=_.useState(!0),[o,a]=_.useState(!1),i=async()=>{r(!0);try{const m=await yt.get(" http://localhost:8081/api/jotforms");t(m.data)}catch(m){console.error("Error fetching Jotforms:",m),t([])}finally{r(!1)}};_.useEffect(()=>{i()},[]);const s=m=>{console.log(`Edit Jotform with ID: ${m}`),alert("Edit functionality to be implemented.")},u=async m=>{try{await yt.delete(` http://localhost:8081/api/jotforms/${m.id}`),t(v=>v.filter(y=>y.id!==m.id))}catch(v){console.error(`Error deleting jotform ${m.id}:`,v),alert("Failed to delete Jotform.")}},c=m=>{K3.openConfirmModal({title:"Delete Jotform",centered:!0,children:b.jsxs(me,{size:"sm",children:["Are you sure you want to delete the form"," ",b.jsxs(me,{span:!0,fw:700,children:['"',m.jotformName,'"']}),"? This action is permanent."]}),labels:{confirm:"Delete Jotform",cancel:"Cancel"},confirmProps:{color:"red"},onConfirm:()=>u(m)})},f=e.map(m=>b.jsxs(Re.Tr,{children:[b.jsx(Re.Td,{children:m.jotformName}),b.jsx(Re.Td,{children:b.jsxs($e,{gap:"sm",children:[b.jsx(Io,{label:"Edit Form",children:b.jsx(Cn,{variant:"subtle",color:"blue",onClick:()=>s(m.id),children:b.jsx(Av,{size:16})})}),b.jsx(Io,{label:"Delete Form",children:b.jsx(Cn,{variant:"subtle",color:"red",onClick:()=>c(m),children:b.jsx(Nv,{size:16})})})]})})]},m.id)),h=()=>{a(!1),i()};return b.jsxs(Kt,{size:"lg",py:"xl",children:[b.jsxs($e,{justify:"space-between",mb:"xl",children:[b.jsx(jt,{order:2,children:"Jotform Management"}),b.jsx(Fe,{onClick:()=>a(!0),children:"Create Jotform"})]}),n?b.jsx(Qr,{children:b.jsx(ea,{})}):b.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,children:[b.jsx(Re.Thead,{children:b.jsxs(Re.Tr,{children:[b.jsx(Re.Th,{children:"Jotform Name"}),b.jsx(Re.Th,{children:"Actions"})]})}),b.jsx(Re.Tbody,{children:f.length>0?f:b.jsx(Re.Tr,{children:b.jsx(Re.Td,{colSpan:2,children:b.jsx(me,{c:"dimmed",ta:"center",children:"No Jotforms found."})})})})]}),b.jsx(pr,{opened:o,onClose:()=>a(!1),title:"Create New Jotform",centered:!0,children:b.jsx(_k,{onSuccess:h})})]})}function lJ(){const[e,t]=_.useState([]),[n,r]=_.useState(!0),[o,a]=_.useState(!1),i=async()=>{r(!0);try{const h=await yt.get(" http://localhost:8081/api/user-mappings");t(h.data)}catch(h){console.error("Error fetching user mappings:",h),t([])}finally{r(!1)}};_.useEffect(()=>{i()},[]);const s=()=>{a(!1),i()},u=async h=>{try{await yt.delete(` http://localhost:8081/api/user-mappings/${h.id}`),t(m=>m.filter(v=>v.id!==h.id))}catch(m){console.error(`Error deleting user ${h.email}:`,m)}},c=h=>{K3.openConfirmModal({title:"Delete User Mapping",centered:!0,children:b.jsxs(me,{size:"sm",children:["Are you sure you want to delete the mapping for ",b.jsx(me,{span:!0,fw:700,children:h.email}),"? This action cannot be undone."]}),labels:{confirm:"Delete Mapping",cancel:"Cancel"},confirmProps:{color:"red"},onConfirm:()=>u(h)})},f=e.map(h=>b.jsxs(Re.Tr,{children:[b.jsx(Re.Td,{children:h.email}),b.jsx(Re.Td,{children:h.groupName}),b.jsx(Re.Td,{children:b.jsxs($e,{gap:"xs",justify:"center",children:[b.jsx(Io,{label:"Edit Mapping",children:b.jsx(Cn,{variant:"subtle",color:"blue",children:b.jsx(Av,{size:18})})}),b.jsx(Io,{label:"Delete Mapping",children:b.jsx(Cn,{variant:"subtle",color:"red",onClick:()=>c(h),children:b.jsx(Nv,{size:18})})})]})})]},h.id));return b.jsxs(Kt,{p:"lg",children:[b.jsx(pr,{opened:o,onClose:()=>a(!1),title:"Map New User to Group",centered:!0,children:b.jsx(Rk,{onSuccess:s,onClose:()=>a(!1)})}),b.jsxs($e,{justify:"space-between",mb:"xl",children:[b.jsx(jt,{order:2,children:"User Management"}),b.jsx(Fe,{onClick:()=>a(!0),children:"Map User"})]}),n?b.jsx(me,{ta:"center",c:"dimmed",children:"Loading users..."}):b.jsxs(Re,{withTableBorder:!0,withColumnBorders:!0,highlightOnHover:!0,children:[b.jsx(Re.Thead,{children:b.jsxs(Re.Tr,{children:[b.jsx(Re.Th,{children:"User Email"}),b.jsx(Re.Th,{children:"Group"}),b.jsx(Re.Th,{ta:"center",children:"Actions"})]})}),b.jsx(Re.Tbody,{children:f.length>0?f:b.jsx(Re.Tr,{children:b.jsx(Re.Td,{colSpan:3,children:b.jsx(me,{c:"dimmed",ta:"center",children:"No users found."})})})})]})]})}function uJ(){const[e,t]=_.useState("BL"),[n,r]=_.useState([]),[o,a]=_.useState(!1),i=xi(),s=async()=>{a(!0);try{const c=await yt.get(` http://localhost:8081/api/results?group=${e}`);r(c.data)}catch(c){console.error(`Error fetching results for group ${e}:`,c),r([])}finally{a(!1)}};_.useEffect(()=>{s()},[e]);const u=c=>{i(`/user-results/${c.id}`,{state:{courseName:c.courseName}})};return b.jsxs(Kt,{size:"lg",py:"xl",children:[b.jsx(jt,{order:2,mb:"xl",children:"Result Management"}),b.jsx($e,{justify:"center",mb:"xl",children:b.jsx(uc,{value:e,onChange:t,data:[{label:"BL",value:"BL"},{label:"BE",value:"BE"},{label:"BM",value:"BM"}],size:"md",color:"blue"})}),o?b.jsx(me,{ta:"center",c:"dimmed",children:"Loading results..."}):n.length>0?b.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,children:[b.jsx(Re.Thead,{children:b.jsxs(Re.Tr,{children:[b.jsx(Re.Th,{children:"Course Name"}),b.jsx(Re.Th,{children:"Average Score"})]})}),b.jsx(Re.Tbody,{children:n.map(c=>b.jsxs(Re.Tr,{onClick:()=>u(c),style:{cursor:"pointer"},children:[b.jsx(Re.Td,{children:c.courseName}),b.jsxs(Re.Td,{children:[c.averageScore.toFixed(2),"%"]})]},c.id))})]}):b.jsx(me,{ta:"center",c:"dimmed",children:"No results available for this group."})]})}function cJ(){const{courseId:e}=hw(),t=na(),n=xi(),{courseName:r}=t.state||{courseName:"Course"},[o,a]=_.useState([]),[i,s]=_.useState(!1);_.useEffect(()=>{e&&(async()=>{s(!0);try{const f=await yt.get(`http://localhost:8081/api/results/course/${e}`);a(f.data)}catch(f){console.error(`Error fetching user results for course ${e}:`,f),a([])}finally{s(!1)}})()},[e]);const u=c=>{n(`/assignment-review/${e}/${c.userId}`,{state:{username:c.username}})};return b.jsxs(Kt,{size:"lg",py:"xl",children:[b.jsxs(jt,{order:2,mb:"xl",children:[r," - User Results"]}),i?b.jsx(me,{ta:"center",c:"dimmed",children:"Loading user results..."}):o.length>0?b.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,children:[b.jsx(Re.Thead,{children:b.jsxs(Re.Tr,{children:[b.jsx(Re.Th,{children:"Username"}),b.jsx(Re.Th,{children:"Average Score"}),b.jsx(Re.Th,{children:"Actions"})]})}),b.jsx(Re.Tbody,{children:o.map(c=>b.jsxs(Re.Tr,{children:[b.jsx(Re.Td,{children:c.username}),b.jsxs(Re.Td,{children:[c.score.toFixed(2),"%"]}),b.jsx(Re.Td,{children:b.jsx(Fe,{variant:"outline",size:"xs",onClick:()=>u(c),children:"View Details"})})]},`${e}-${c.userId}`))})]}):b.jsx(me,{ta:"center",c:"dimmed",children:"No user results found for this course."})]})}function dJ(){const{courseId:e,userId:t}=hw(),n=na(),{username:r}=n.state||{username:"User"},[o,a]=_.useState([]),[i,s]=_.useState(!1);_.useEffect(()=>{e&&t&&(async()=>{s(!0);try{const x=(await yt.get(`http://localhost:8081/api/results/submissions/${e}/${t}`)).data.map(w=>({...w,editing:!1,tempScore:w.finalScore}));a(x)}catch(y){console.error("Error fetching assignment details:",y),a([])}finally{s(!1)}})()},[e,t]);const u=v=>{a(o.map(y=>y.id===v?{...y,editing:!y.editing,tempScore:y.finalScore}:y))},c=(v,y)=>{a(o.map(x=>x.id===v?{...x,tempScore:y}:x))},f=async v=>{const y=o.find(x=>x.id===v);if(y)try{await yt.put(`http://localhost:8081/api/results/answer/${v}`,{finalScore:y.tempScore}),a(o.map(x=>x.id===v?{...x,finalScore:y.tempScore,editing:!1}:x))}catch(x){console.error("Error updating score:",x)}},h=o.reduce((v,y)=>v+y.finalScore,0),m=o.length>0?h/o.length:0;return b.jsxs(Kt,{size:"xl",py:"xl",children:[b.jsx($e,{justify:"space-between",mb:"xl",children:b.jsxs(jt,{order:3,children:["Assignment Review for: ",r]})}),i?b.jsx(me,{children:"Loading assignment details..."}):b.jsxs(Re,{withTableBorder:!0,withColumnBorders:!0,children:[b.jsx(Re.Thead,{children:b.jsxs(Re.Tr,{children:[b.jsx(Re.Th,{children:"Question"}),b.jsx(Re.Th,{children:"User Answer (Transcript)"}),b.jsx(Re.Th,{children:"Video"}),b.jsx(Re.Th,{children:"AI Score"}),b.jsx(Re.Th,{children:"Final Score"}),b.jsx(Re.Th,{children:"Actions"})]})}),b.jsx(Re.Tbody,{children:o.map(v=>b.jsxs(Re.Tr,{children:[b.jsx(Re.Td,{children:v.question}),b.jsx(Re.Td,{children:v.userAnswer}),b.jsx(Re.Td,{children:b.jsx("a",{href:v.contentLink,target:"_blank",rel:"noopener noreferrer",children:"View Video"})}),b.jsx(Re.Td,{children:v.gptScore}),b.jsx(Re.Td,{children:v.editing?b.jsx(Iu,{value:v.tempScore,onChange:y=>c(v.id,y),min:0,max:100,size:"xs",style:{width:80}}):v.finalScore.toFixed(2)}),b.jsx(Re.Td,{children:v.editing?b.jsx(Cn,{variant:"subtle",color:"green",onClick:()=>f(v.id),children:b.jsx(oH,{size:18})}):b.jsx(Cn,{variant:"subtle",color:"blue",onClick:()=>u(v.id),children:b.jsx(Av,{size:18})})})]},v.id))}),b.jsx(Re.Tfoot,{children:b.jsxs(Re.Tr,{children:[b.jsx(Re.Td,{colSpan:4,style:{textAlign:"right",fontWeight:"bold"},children:"Average Final Score"}),b.jsxs(Re.Td,{style:{fontWeight:"bold"},children:[m.toFixed(2),"%"]}),b.jsx(Re.Td,{})]})})]})]})}var $p={exports:{}},fJ=$p.exports,dD;function hJ(){return dD||(dD=1,(function(e,t){(function(r,o){e.exports=o(mf())})(fJ,function(n){return(function(r){var o={};function a(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return r[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=o,a.d=function(i,s,u){a.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:u})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,s){if(s&1&&(i=a(i)),s&8||s&4&&typeof i=="object"&&i&&i.__esModule)return i;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:i}),s&2&&typeof i!="string")for(var c in i)a.d(u,c,(function(f){return i[f]}).bind(null,c));return u},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s="./src/react-webcam.tsx")})({"./src/react-webcam.tsx":(function(r,o,a){a.r(o);var i=a("react"),s=(function(){var m=function(v,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])},m(v,y)};return function(v,y){m(v,y);function x(){this.constructor=v}v.prototype=y===null?Object.create(y):(x.prototype=y.prototype,new x)}})(),u=function(){return u=Object.assign||function(m){for(var v,y=1,x=arguments.length;y<x;y++){v=arguments[y];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(m[w]=v[w])}return m},u.apply(this,arguments)},c=function(m,v){var y={};for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&v.indexOf(x)<0&&(y[x]=m[x]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,x=Object.getOwnPropertySymbols(m);w<x.length;w++)v.indexOf(x[w])<0&&Object.prototype.propertyIsEnumerable.call(m,x[w])&&(y[x[w]]=m[x[w]]);return y};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(v){var y=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return y?new Promise(function(x,w){y.call(navigator,v,x,w)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function f(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var h=(function(m){s(v,m);function v(y){var x=m.call(this,y)||this;return x.canvas=null,x.ctx=null,x.requestUserMediaId=0,x.unmounted=!1,x.state={hasUserMedia:!1},x}return v.prototype.componentDidMount=function(){var y=this,x=y.state,w=y.props;if(this.unmounted=!1,!f()){w.onUserMediaError("getUserMedia not supported");return}x.hasUserMedia||this.requestUserMedia(),w.children&&typeof w.children!="function"&&console.warn("children must be a function")},v.prototype.componentDidUpdate=function(y){var x=this.props;if(!f()){x.onUserMediaError("getUserMedia not supported");return}var w=JSON.stringify(y.audioConstraints)!==JSON.stringify(x.audioConstraints),S=JSON.stringify(y.videoConstraints)!==JSON.stringify(x.videoConstraints),E=y.minScreenshotWidth!==x.minScreenshotWidth,R=y.minScreenshotHeight!==x.minScreenshotHeight;(S||E||R)&&(this.canvas=null,this.ctx=null),(w||S)&&(this.stopAndCleanup(),this.requestUserMedia())},v.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},v.stopMediaStream=function(y){y&&(y.getVideoTracks&&y.getAudioTracks?(y.getVideoTracks().map(function(x){y.removeTrack(x),x.stop()}),y.getAudioTracks().map(function(x){y.removeTrack(x),x.stop()})):y.stop())},v.prototype.stopAndCleanup=function(){var y=this.state;y.hasUserMedia&&(v.stopMediaStream(this.stream),y.src&&window.URL.revokeObjectURL(y.src))},v.prototype.getScreenshot=function(y){var x=this,w=x.state,S=x.props;if(!w.hasUserMedia)return null;var E=this.getCanvas(y);return E&&E.toDataURL(S.screenshotFormat,S.screenshotQuality)},v.prototype.getCanvas=function(y){var x=this,w=x.state,S=x.props;if(!this.video||!w.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var E=this.video.videoWidth,R=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var D=E/R;E=S.minScreenshotWidth||this.video.clientWidth,R=E/D,S.minScreenshotHeight&&R<S.minScreenshotHeight&&(R=S.minScreenshotHeight,E=R*D)}this.canvas=document.createElement("canvas"),this.canvas.width=y?.width||E,this.canvas.height=y?.height||R,this.ctx=this.canvas.getContext("2d")}var A=this,N=A.ctx,k=A.canvas;return N&&k&&(k.width=y?.width||k.width,k.height=y?.height||k.height,S.mirrored&&(N.translate(k.width,0),N.scale(-1,1)),N.imageSmoothingEnabled=S.imageSmoothing,N.drawImage(this.video,0,0,y?.width||k.width,y?.height||k.height),S.mirrored&&(N.scale(-1,1),N.translate(-k.width,0))),k},v.prototype.requestUserMedia=function(){var y=this,x=this.props,w=function(R,D){var A={video:typeof D<"u"?D:!0};x.audio&&(A.audio=typeof R<"u"?R:!0),y.requestUserMediaId++;var N=y.requestUserMediaId;navigator.mediaDevices.getUserMedia(A).then(function(k){y.unmounted||N!==y.requestUserMediaId?v.stopMediaStream(k):y.handleUserMedia(null,k)}).catch(function(k){y.handleUserMedia(k)})};if("mediaDevices"in navigator)w(x.audioConstraints,x.videoConstraints);else{var S=function(R){return{optional:[{sourceId:R}]}},E=function(R){var D=R.deviceId;return typeof D=="string"?D:Array.isArray(D)&&D.length>0?D[0]:typeof D=="object"&&D.ideal?D.ideal:null};MediaStreamTrack.getSources(function(R){var D=null,A=null;R.forEach(function(M){M.kind==="audio"?D=M.id:M.kind==="video"&&(A=M.id)});var N=E(x.audioConstraints);N&&(D=N);var k=E(x.videoConstraints);k&&(A=k),w(S(D),S(A))})}},v.prototype.handleUserMedia=function(y,x){var w=this.props;if(y||!x){this.setState({hasUserMedia:!1}),w.onUserMediaError(y);return}this.stream=x;try{this.video&&(this.video.srcObject=x),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(x)})}w.onUserMedia(x)},v.prototype.render=function(){var y=this,x=this,w=x.state,S=x.props,E=S.audio;S.forceScreenshotSourceSize;var R=S.disablePictureInPicture;S.onUserMedia,S.onUserMediaError,S.screenshotFormat,S.screenshotQuality,S.minScreenshotWidth,S.minScreenshotHeight,S.audioConstraints,S.videoConstraints,S.imageSmoothing;var D=S.mirrored,A=S.style,N=A===void 0?{}:A,k=S.children,M=c(S,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),I=D?u(u({},N),{transform:(N.transform||"")+" scaleX(-1)"}):N,O={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",u({autoPlay:!0,disablePictureInPicture:R,src:w.src,muted:!E,playsInline:!0,ref:function(L){y.video=L},style:I},M)),k&&k(O))},v.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},v})(i.Component);o.default=h}),react:(function(r,o){r.exports=n})}).default})})($p)),$p.exports}var pJ=hJ();const gp=Ju(pJ);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var d4=function(e,t){return(d4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])})(e,t)};function oa(e,t){function n(){this.constructor=e}d4(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Ue(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(c){try{u(r.next(c))}catch(f){a(f)}}function s(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):new n((function(f){f(c.value)})).then(i,s)}u((r=r.apply(e,[])).next())}))}function Ve(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return(function(f){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&f[0]?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[2&f[0],o.value]),f[0]){case 0:case 1:o=f;break;case 4:return i.label++,{value:f[1],done:!1};case 5:i.label++,r=f[1],f=[0];continue;case 7:f=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){i=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){i.label=f[1];break}if(f[0]===6&&i.label<o[1]){i.label=o[1],o=f;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(f);break}o[2]&&i.ops.pop(),i.trys.pop();continue}f=t.call(e,i)}catch(h){f=[6,h],r=0}finally{n=o=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}})([u,c])}}}var mJ=(function(){function e(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(t,n){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+n+"."),this.platformName=t,this.platform=n},e.prototype.registerFlag=function(t,n,r){if(this.flagRegistry[t]={evaluationFn:n,setHook:r},this.urlFlags[t]!=null){var o=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+o+"."),this.set(t,o)}},e.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},e.prototype.getNumber=function(t){return this.get(t)},e.prototype.getBool=function(t){return this.get(t)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(t,n){if(this.flagRegistry[t]==null)throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=n,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(n)},e.prototype.evaluateFlag=function(t){if(this.flagRegistry[t]==null)throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},e.prototype.setFlags=function(t){this.flags=Object.assign({},t)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var t=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var n,r,o=(n=this.global.location.search,r={},n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(a){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return vJ(r,i[0],i[1]),i.join("=")})),r);"tfjsflags"in o&&o.tfjsflags.split(",").forEach((function(a){var i=a.split(":"),s=i[0],u=i[1];t.urlFlags[s]=(function(c,f){if((f=f.toLowerCase())==="true"||f==="false")return f==="true";if(""+ +f===f)return+f;throw new Error("Could not parse value flag value "+f+" for flag "+c+".")})(s,u)}))}},e})();function vJ(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function ge(){return f4}var f4=null,vm=new Map,Ex=new Map;function h4(e,t){var n=m4(e,t);return vm.get(n)}function gJ(e){return Ex.get(e)}function fD(e){for(var t=vm.entries(),n=[];;){var r=t.next(),o=r.done,a=r.value;if(o)break;var i=a[0],s=a[1];i.split("_")[0]===e&&n.push(s)}return n}function p4(e){var t=e.kernelName,n=e.backendName,r=m4(t,n);if(vm.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");vm.set(r,e)}function yJ(e){var t=e.kernelName;Ex.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),Ex.set(t,e)}function m4(e,t){return t+"_"+e}function Rx(e,t,n){return Math.max(e,Math.min(t,n))}function v4(e){return e%2==0?e:e+1}function bJ(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function q(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function Lt(e,t,n){n===void 0&&(n=""),q(Wn(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function bc(e){q(e!=null,(function(){return"The input to the tensor constructor must be a non-null value."}))}function Xu(e,t,n){if(t===void 0&&(t=[]),n===void 0&&(n=!1),t==null&&(t=[]),Array.isArray(e)||Ra(e)&&!n)for(var r=0;r<e.length;++r)Xu(e[r],t,n);else t.push(e);return t}function We(e){if(e.length===0)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function Wn(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function gn(e){return e%1==0}function xJ(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function _x(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function Ou(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function hD(e,t,n){return t===void 0&&(t=function(r){return 0}),new Promise((function(r,o){var a=0,i=function(){if(e())r();else{a++;var s=t(a);n!=null&&a>=n?o():setTimeout(i,s)}};i()}))}function wJ(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(e[o]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(r===-1){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(n===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var a=e.slice();return a[r]=t/n,a}function Pn(e,t){var n=t.length;return q((e=e==null?t.map((function(r,o){return o})):[].concat(e)).every((function(r){return r>=-n&&r<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),q(e.every((function(r){return gn(r)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(r){return r<0?n+r:r}))}function Ks(e,t){for(var n=[],r=[],o=t!=null&&Array.isArray(t)&&t.length===0,a=t==null||o?null:Pn(t,e).sort(),i=0,s=0;s<e.length;++s){if(a!=null){if(a[i]===s&&e[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(a[i]==null||a[i]>s)&&e[s]===1&&(n.push(e[s]),r.push(s)),a[i]<=s&&i++}e[s]!==1&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function af(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else{if(e!=="bool")throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function gm(e,t){var n=null;if(e==null||e==="float32")n=new Float32Array(t);else if(e==="int32")n=new Int32Array(t);else if(e==="bool")n=new Uint8Array(t);else{if(e!=="string")throw new Error("Unknown data type "+e);n=new Array(t)}return n}function SJ(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function CJ(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function EJ(e,t){return t!=="complex64"&&(t!=="float32"||e==="complex64")&&(t!=="int32"||e==="float32"||e==="complex64")&&(t!=="bool"||e!=="bool")}function Ra(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function g4(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function RJ(e){if(e==null)return 0;var t=0;return e.forEach((function(n){return t+=n.length})),t}function Gw(e){return typeof e=="string"||e instanceof String}function _J(e){return typeof e=="boolean"}function TJ(e){return typeof e=="number"}function Pf(e){return Array.isArray(e)?Pf(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":TJ(e)?"float32":Gw(e)?"string":_J(e)?"bool":"float32"}function Tx(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Dx(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function _a(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function y4(e,t,n){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=Xu(e)),n&&SJ(e,t),(function(a,i){return a instanceof Float32Array&&i==="float32"||a instanceof Int32Array&&i==="int32"||a instanceof Uint8Array&&i==="bool"})(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)Math.round(e[o])!==0&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function pD(e,t){if(e.length===0)return t[0];var n=e.reduce((function(r,o){return r*o}));if(n===0)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return(function r(o,a,i){var s=new Array;if(a.length===1)for(var u=a[0],c=0;c<u;c++)s[c]=i[o+c];else{u=a[0];var f=a.slice(1),h=f.reduce((function(m,v){return m*v}));for(c=0;c<u;c++)s[c]=r(o+c*h,f,i)}return s})(0,e,t)}function b4(e,t){for(var n=jf(e,t),r=0;r<n.length;r++)n[r]=1;return n}function jf(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+t)}function ga(){return ge().platform.now()}function x4(e){e.forEach((function(t){q(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function DJ(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",ge().platform.encode(e,t)}function ym(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",ge().platform.decode(e,t)}function mD(e,t,n){if(t===0)return 0;if(t===1)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function AJ(e,t,n){if(t===0)return[];if(t===1)return[e];for(var r=new Array(t),o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}var NJ=(function(){function e(t,n){this.backendTimer=t,this.logger=n,n==null&&(this.logger=new kJ)}return e.prototype.profileKernel=function(t,n,r){var o,a=this,i=this.backendTimer.time((function(){o=r()}));return o.forEach((function(s){s.data().then((function(u){(function(c,f,h){if(f!=="float32")return!1;for(var m=0;m<c.length;m++){var v=c[m];if(isNaN(v)||!isFinite(v))return console.warn("Found "+v+" in the result of '"+h+"'"),!0}})(u,s.dtype,t),i.then((function(c){var f="";c.getExtraProfileInfo!=null&&(f=c.getExtraProfileInfo()),a.logger.logKernelProfile(t,s,u,c.kernelMs,n,f)}))}))})),o},e})(),kJ=(function(){function e(){}return e.prototype.logKernelProfile=function(t,n,r,o,a,i){var s=typeof o=="number"?Ou(o+"ms",9):o.error,u=Ou(t,25),c=n.rank,f=n.size,h=Ou(n.shape.toString(),14),m="";for(var v in a){var y=a[v].shape||n.shape,x=y.length;m+=v+": "+x+"D "+(x>0?y:"")+" "}console.log("%c"+u+"	%c"+s+"	%c"+c+"D "+h+"	%c"+f+"	%c"+m+"	%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e})(),vD=20,Dd=3,l0=7;function MJ(e,t,n,r){var o=_a(t),a=(function(c,f,h,m){var v=We(f),y=m[m.length-1],x=new Array(y).fill(0),w=f.length,S=h==="complex64"?Nd(c):c;if(w>1)for(var E=0;E<v/y;E++)for(var R=E*y,D=0;D<y;D++)x[D]=Math.max(x[D],Ad(S[R+D],0,h).length);return x})(e,t,n,o),i=t.length,s=(function c(f,h,m,v,y,x){x===void 0&&(x=!0);var w=m==="complex64"?2:1,S=h[0],E=h.length;if(E===0)return m==="complex64"?[Ad(Nd(f)[0],0,m)]:m==="bool"?[w4(f[0])]:[f[0].toString()];if(E===1){if(S>vD){var R=Dd*w,D=Array.from(f.slice(0,R)),A=Array.from(f.slice((S-Dd)*w,S*w));return m==="complex64"&&(D=Nd(D),A=Nd(A)),["["+D.map((function(Y,B){return Ad(Y,y[B],m)})).join(", ")+", ..., "+A.map((function(Y,B){return Ad(Y,y[S-Dd+B],m)})).join(", ")+"]"]}return["["+(m==="complex64"?Nd(f):Array.from(f)).map((function(Y,B){return Ad(Y,y[B],m)})).join(", ")+"]"]}var N=h.slice(1),k=v.slice(1),M=v[0]*w,I=[];if(S>vD){for(var O=0;O<Dd;O++){var L=(F=O*M)+M;I.push.apply(I,c(f.slice(F,L),N,m,k,y,!1))}for(I.push("..."),O=S-Dd;O<S;O++)L=(F=O*M)+M,I.push.apply(I,c(f.slice(F,L),N,m,k,y,O===S-1))}else for(O=0;O<S;O++){var F;L=(F=O*M)+M,I.push.apply(I,c(f.slice(F,L),N,m,k,y,O===S-1))}var X=E===2?",":"";for(I[0]="["+I[0]+X,O=1;O<I.length-1;O++)I[O]=" "+I[O]+X;var W=`,
`;for(O=2;O<E;O++)W+=`
`;return I[I.length-1]=" "+I[I.length-1]+"]"+(x?"":W),I})(e,t,n,o,a),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+i),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map((function(c){return"    "+c})).join(`
`)),u.join(`
`)}function Ad(e,t,n){return Ou(Array.isArray(e)?parseFloat(e[0].toFixed(l0))+" + "+parseFloat(e[1].toFixed(l0))+"j":Gw(e)?"'"+e+"'":n==="bool"?w4(e):parseFloat(e.toFixed(l0)).toString(),t)}function w4(e){return e===0?"false":"true"}function Nd(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var sf=(function(){function e(t,n,r){var o=this;if(this.dtype=n,this.shape=t.slice(),this.size=We(t),r!=null){var a=r.length;q(a===this.size,(function(){return"Length of values '"+a+"' does not match the size inferred by the shape '"+o.size+"'."}))}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||gm(n,this.size),this.strides=_a(t)}return e.prototype.set=function(t){for(var n=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];r.length===0&&(r=[0]),q(r.length===this.rank,(function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+n.rank+")"}));var a=this.locToIndex(r);this.values[a]=t},e.prototype.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.length===0&&(t=[0]);for(var r=0,o=0,a=t;o<a.length;o++){var i=a[o];if(i<0||i>=this.shape[r]){var s="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(s)}r++}for(var u=t[t.length-1],c=0;c<t.length-1;++c)u+=this.strides[c]*t[c];return this.values[u]},e.prototype.locToIndex=function(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];for(var n=t[t.length-1],r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return n},e.prototype.indexToLoc=function(t){if(this.rank===0)return[];if(this.rank===1)return[t];for(var n=new Array(this.shape.length),r=0;r<n.length-1;++r)n[r]=Math.floor(t/this.strides[r]),t-=n[r]*this.strides[r];return n[n.length-1]=t,n},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return ba().makeTensor(this.values,this.shape,this.dtype)},e})(),ba=null,fe=null,S4=null,rn=(function(){function e(t,n,r,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=We(t),this.strides=_a(t),this.dataId=r,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),q(this.size===1,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(t,n){return this.throwIfDisposed(),this.reshape([t,n])},e.prototype.as3D=function(t,n,r){return this.throwIfDisposed(),this.reshape([t,n,r])},e.prototype.as4D=function(t,n,r,o){return this.throwIfDisposed(),this.reshape([t,n,r,o])},e.prototype.as5D=function(t,n,r,o,a){return this.throwIfDisposed(),this.reshape([t,n,r,o,a])},e.prototype.asType=function(t){return this.throwIfDisposed(),fe.cast(this,t)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return Ue(this,void 0,void 0,(function(){var t;return Ve(this,(function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,fe.buffer(this.shape,this.dtype,t)]}}))}))},e.prototype.bufferSync=function(){return fe.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return Ue(this,void 0,void 0,(function(){var t;return Ve(this,(function(n){switch(n.label){case 0:return[4,this.data()];case 1:return t=n.sent(),[2,pD(this.shape,t)]}}))}))},e.prototype.arraySync=function(){return pD(this.shape,this.dataSync())},e.prototype.data=function(){return Ue(this,void 0,void 0,(function(){var t,n;return Ve(this,(function(r){switch(r.label){case 0:return this.throwIfDisposed(),t=ba().read(this.dataId),this.dtype!=="string"?[3,2]:[4,t];case 1:n=r.sent();try{return[2,n.map((function(o){return ym(o)}))]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,t]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var t=ba().readSync(this.dataId);if(this.dtype==="string")try{return t.map((function(n){return ym(n)}))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},e.prototype.bytes=function(){return Ue(this,void 0,void 0,(function(){var t;return Ve(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),[4,ba().read(this.dataId)];case 1:return t=n.sent(),this.dtype==="string"?[2,t]:[2,new Uint8Array(t.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(ba().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(t){return t===void 0&&(t=!1),fe.print(this,t)},e.prototype.reshape=function(t){return this.throwIfDisposed(),fe.reshape(this,t)},e.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},e.prototype.expandDims=function(t){return t===void 0&&(t=0),fe.expandDims(this,t)},e.prototype.cumsum=function(t,n,r){return t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1),fe.cumsum(this,t,n,r)},e.prototype.squeeze=function(t){return this.throwIfDisposed(),fe.squeeze(this,t)},e.prototype.clone=function(){return this.throwIfDisposed(),fe.clone(this)},e.prototype.oneHot=function(t,n,r){return this.throwIfDisposed(),fe.oneHot(this,t,n,r)},e.prototype.toString=function(t){return t===void 0&&(t=!1),MJ(this.dataSync(),this.shape,this.dtype,t)},e.prototype.tile=function(t){return this.throwIfDisposed(),fe.tile(this,t)},e.prototype.gather=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),fe.gather(this,t,n)},e.prototype.matMul=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.throwIfDisposed(),fe.matMul(this,t,n,r)},e.prototype.dot=function(t){return this.throwIfDisposed(),fe.dot(this,t)},e.prototype.norm=function(t,n,r){return t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1),this.throwIfDisposed(),fe.norm(this,t,n,r)},e.prototype.slice=function(t,n){return this.throwIfDisposed(),fe.slice(this,t,n)},e.prototype.reverse=function(t){return this.throwIfDisposed(),fe.reverse(this,t)},e.prototype.concat=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),fe.concat([this].concat(t),n)},e.prototype.split=function(t,n){return n===void 0&&(n=0),this.throwIfDisposed(),fe.split(this,t,n)},e.prototype.stack=function(t,n){return n===void 0&&(n=0),fe.stack([this,t],n)},e.prototype.unstack=function(t){return t===void 0&&(t=0),fe.unstack(this,t)},e.prototype.pad=function(t,n){return n===void 0&&(n=0),fe.pad(this,t,n)},e.prototype.batchNormalization=function(t,n,r,o,a){return r===void 0&&(r=.001),S4("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,n,a,o,r)},e.prototype.batchNorm=function(t,n,r,o,a){return a===void 0&&(a=.001),this.throwIfDisposed(),fe.batchNorm(this,t,n,r,o,a)},e.prototype.all=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),fe.all(this,t,n)},e.prototype.any=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),fe.any(this,t,n)},e.prototype.logSumExp=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),fe.logSumExp(this,t,n)},e.prototype.sum=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),fe.sum(this,t,n)},e.prototype.prod=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),fe.prod(this,t,n)},e.prototype.mean=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),fe.mean(this,t,n)},e.prototype.min=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),fe.min(this,t,n)},e.prototype.max=function(t,n){return t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),fe.max(this,t,n)},e.prototype.argMin=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),fe.argMin(this,t)},e.prototype.argMax=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),fe.argMax(this,t)},e.prototype.cast=function(t){return this.throwIfDisposed(),fe.cast(this,t)},e.prototype.add=function(t){return this.throwIfDisposed(),fe.add(this,t)},e.prototype.addStrict=function(t){return this.throwIfDisposed(),fe.addStrict(this,t)},e.prototype.atan2=function(t){return this.throwIfDisposed(),fe.atan2(this,t)},e.prototype.sub=function(t){return this.throwIfDisposed(),fe.sub(this,t)},e.prototype.subStrict=function(t){return this.throwIfDisposed(),fe.subStrict(this,t)},e.prototype.pow=function(t){return this.throwIfDisposed(),fe.pow(this,t)},e.prototype.powStrict=function(t){return this.throwIfDisposed(),fe.powStrict(this,t)},e.prototype.mul=function(t){return this.throwIfDisposed(),fe.mul(this,t)},e.prototype.mulStrict=function(t){return this.throwIfDisposed(),fe.mulStrict(this,t)},e.prototype.div=function(t){return this.throwIfDisposed(),fe.div(this,t)},e.prototype.divNoNan=function(t){return this.throwIfDisposed(),fe.divNoNan(this,t)},e.prototype.floorDiv=function(t){return this.throwIfDisposed(),fe.floorDiv(this,t)},e.prototype.divStrict=function(t){return this.throwIfDisposed(),fe.divStrict(this,t)},e.prototype.minimum=function(t){return this.throwIfDisposed(),fe.minimum(this,t)},e.prototype.minimumStrict=function(t){return this.throwIfDisposed(),fe.minimumStrict(this,t)},e.prototype.maximum=function(t){return this.throwIfDisposed(),fe.maximum(this,t)},e.prototype.maximumStrict=function(t){return this.throwIfDisposed(),fe.maximumStrict(this,t)},e.prototype.mod=function(t){return this.throwIfDisposed(),fe.mod(this,t)},e.prototype.modStrict=function(t){return this.throwIfDisposed(),fe.modStrict(this,t)},e.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),fe.squaredDifferenceStrict(this,t)},e.prototype.transpose=function(t){return this.throwIfDisposed(),fe.transpose(this,t)},e.prototype.notEqual=function(t){return this.throwIfDisposed(),fe.notEqual(this,t)},e.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),fe.notEqualStrict(this,t)},e.prototype.less=function(t){return this.throwIfDisposed(),fe.less(this,t)},e.prototype.lessStrict=function(t){return this.throwIfDisposed(),fe.lessStrict(this,t)},e.prototype.equal=function(t){return this.throwIfDisposed(),fe.equal(this,t)},e.prototype.equalStrict=function(t){return this.throwIfDisposed(),fe.equalStrict(this,t)},e.prototype.lessEqual=function(t){return this.throwIfDisposed(),fe.lessEqual(this,t)},e.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),fe.lessEqualStrict(this,t)},e.prototype.greater=function(t){return this.throwIfDisposed(),fe.greater(this,t)},e.prototype.greaterStrict=function(t){return this.throwIfDisposed(),fe.greaterStrict(this,t)},e.prototype.greaterEqual=function(t){return this.throwIfDisposed(),fe.greaterEqual(this,t)},e.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),fe.greaterEqualStrict(this,t)},e.prototype.logicalAnd=function(t){return this.throwIfDisposed(),fe.logicalAnd(this,t)},e.prototype.logicalOr=function(t){return this.throwIfDisposed(),fe.logicalOr(this,t)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),fe.logicalNot(this)},e.prototype.logicalXor=function(t){return this.throwIfDisposed(),fe.logicalXor(this,t)},e.prototype.where=function(t,n){return this.throwIfDisposed(),fe.where(t,this,n)},e.prototype.neg=function(){return this.throwIfDisposed(),fe.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),fe.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),fe.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),fe.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),fe.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),fe.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),fe.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),fe.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),fe.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),fe.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),fe.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),fe.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),fe.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),fe.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),fe.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),fe.abs(this)},e.prototype.clipByValue=function(t,n){return this.throwIfDisposed(),fe.clipByValue(this,t,n)},e.prototype.relu=function(){return this.throwIfDisposed(),fe.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),fe.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),fe.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),fe.selu(this)},e.prototype.leakyRelu=function(t){return t===void 0&&(t=.2),this.throwIfDisposed(),fe.leakyRelu(this,t)},e.prototype.prelu=function(t){return this.throwIfDisposed(),fe.prelu(this,t)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),fe.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),fe.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),fe.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),fe.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),fe.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),fe.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),fe.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),fe.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),fe.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),fe.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),fe.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),fe.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),fe.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),fe.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),fe.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),fe.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),fe.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),fe.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),fe.round(this)},e.prototype.step=function(t){return t===void 0&&(t=0),this.throwIfDisposed(),fe.step(this,t)},e.prototype.softmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),fe.softmax(this,t)},e.prototype.logSoftmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),fe.logSoftmax(this,t)},e.prototype.resizeBilinear=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),fe.image.resizeBilinear(this,t,n)},e.prototype.resizeNearestNeighbor=function(t,n){return n===void 0&&(n=!1),this.throwIfDisposed(),fe.image.resizeNearestNeighbor(this,t,n)},e.prototype.conv1d=function(t,n,r,o,a,i){return o===void 0&&(o="NWC"),a===void 0&&(a=1),this.throwIfDisposed(),fe.conv1d(this,t,n,r,o,a,i)},e.prototype.conv2d=function(t,n,r,o,a,i){return o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]),this.throwIfDisposed(),fe.conv2d(this,t,n,r,o,a,i)},e.prototype.conv2dTranspose=function(t,n,r,o,a){return this.throwIfDisposed(),fe.conv2dTranspose(this,t,n,r,o,a)},e.prototype.depthwiseConv2D=function(t,n,r,o,a,i){return o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]),this.throwIfDisposed(),fe.depthwiseConv2d(this,t,n,r,o,a,i)},e.prototype.separableConv2d=function(t,n,r,o,a,i){return a===void 0&&(a=[1,1]),i===void 0&&(i="NHWC"),this.throwIfDisposed(),fe.separableConv2d(this,t,n,r,o,a,i)},e.prototype.avgPool=function(t,n,r,o){return this.throwIfDisposed(),fe.avgPool(this,t,n,r,o)},e.prototype.maxPool=function(t,n,r,o){return this.throwIfDisposed(),fe.maxPool(this,t,n,r,o)},e.prototype.localResponseNormalization=function(t,n,r,o){return t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),o===void 0&&(o=.5),fe.localResponseNormalization(this,t,n,r,o)},e.prototype.pool=function(t,n,r,o,a){return this.throwIfDisposed(),fe.pool(this,t,n,r,o,a)},e.prototype.variable=function(t,n,r){return t===void 0&&(t=!0),this.throwIfDisposed(),ba().makeVariable(this,t,n,r)},e.prototype.unsortedSegmentSum=function(t,n){return this.throwIfDisposed(),fe.unsortedSegmentSum(this,t,n)},e.prototype.batchToSpaceND=function(t,n){return this.throwIfDisposed(),fe.batchToSpaceND(this,t,n)},e.prototype.spaceToBatchND=function(t,n){return this.throwIfDisposed(),fe.spaceToBatchND(this,t,n)},e.prototype.topk=function(t,n){return t===void 0&&(t=1),n===void 0&&(n=!0),this.throwIfDisposed(),fe.topk(this,t,n)},e.prototype.stridedSlice=function(t,n,r,o,a,i,s,u){return o===void 0&&(o=0),a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=0),this.throwIfDisposed(),fe.stridedSlice(this,t,n,r,o,a,i,s,u)},e.prototype.depthToSpace=function(t,n){return this.throwIfDisposed(),fe.depthToSpace(this,t,n)},e.prototype.fft=function(){return this.throwIfDisposed(),fe.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),fe.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),fe.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),fe.spectral.irfft(this)},e})();Object.defineProperty(rn,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var gD,Ax,Nx,kx,Mx,Yu=(function(e){function t(n,r,o,a){var i=e.call(this,n.shape,n.dtype,n.dataId,a)||this;return i.trainable=r,i.name=o,i}return oa(t,e),t.prototype.assign=function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value ("+n.dtype+") and previous value ("+this.dtype+") must match");if(!Wn(n.shape,this.shape))throw new Error("shape of the new value ("+n.shape+") and previous value ("+this.shape+") must match");ba().disposeTensor(this),this.dataId=n.dataId,ba().incRef(this,null)},t.prototype.dispose=function(){ba().disposeVariable(this),this.isDisposedInternal=!0},t})(rn);Object.defineProperty(Yu,Symbol.hasInstance,{value:function(e){return e instanceof rn&&e.assign!=null&&e.assign instanceof Function}}),(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(gD||(gD={})),(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(Ax||(Ax={})),(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(Nx||(Nx={})),(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(kx||(kx={})),(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(Mx||(Mx={}));var IJ={float32:kx,int32:Ax,bool:Nx,complex64:Mx};function Jn(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error("Can not upcast "+e+" with "+t)}return IJ[e][t]}function u0(e){return Jn(e,"int32")}function sn(e,t){if(e.dtype===t.dtype)return[e,t];var n=Jn(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function OJ(e,t){q(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function C4(e){var t=[];return(function n(r,o,a){if(r!=null){if(r instanceof rn)return void o.push(r);if(i=r,!(!Array.isArray(i)&&typeof i!="object")){var i,s=r;for(var u in s){var c=s[u];a.has(c)||(a.add(c),n(c,o,a))}}}})(e,t,new Set),t}var c0,yD=(function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},e})(),PJ=(function(){function e(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new yD}return e.prototype.ready=function(){return Ue(this,void 0,void 0,(function(){var t,n,r;return Ve(this,(function(o){switch(o.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then((function(){}))];if(this.backendInstance!=null)return[2];t=this.getSortedBackends(),n=0,o.label=1;case 1:return n<t.length?(r=t[n],[4,this.initializeBackend(r).success]):[3,5];case 2:return o.sent()?[4,this.setBackend(r)]:[3,4];case 3:return o.sent(),[2];case 4:return n++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var t=this.initializeBackendsAndReturnBest(),n=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+n+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(n)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(t){return!(t in this.registry)&&(!(t in this.registryFactory)||this.initializeBackend(t).asyncInit)?null:this.registry[t]},e.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},e.prototype.registerBackend=function(t,n,r){return r===void 0&&(r=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:n,priority:r},!0)},e.prototype.setBackend=function(t){return Ue(this,void 0,void 0,(function(){var n,r,o;return Ve(this,(function(a){switch(a.label){case 0:if(this.registryFactory[t]==null)throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,this.registry[t]!=null?[3,4]:(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,n.asyncInit?[4,r]:[3,2]);case 1:return o=a.sent(),[3,3];case 2:o=r,a.label=3;case 3:if(!o)return[2,!1];a.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new NJ(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var t=this;fD(this.backendName).forEach((function(n){n.setupFunc!=null&&n.setupFunc(t.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(t){var n=this;fD(t).forEach((function(r){r.disposeFunc!=null&&r.disposeFunc(n.registry[t])}))},e.prototype.initializeBackend=function(t){var n=this,r=this.registryFactory[t];if(r==null)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var o=r.factory();if(Promise.resolve(o)===o){var a=++this.pendingBackendInitId,i=o.then((function(s){return!(a<n.pendingBackendInitId)&&(n.registry[t]=s,n.pendingBackendInit=null,!0)})).catch((function(s){return!(a<n.pendingBackendInitId)&&(n.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),!1)}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[t]=o,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var t=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(n,r){return t.registryFactory[r].priority-t.registryFactory[n].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),n=0;n<t.length;n++){var r=t[n],o=this.initializeBackend(r),a=o.success,i=o.asyncInit;if(i||a)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(t,n){var r=this.state.tensorInfo.get(n),o=r.backend,a=this.readSync(n);o.disposeData(n),r.backend=t,t.move(n,a,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(t,n){var r,o=this,a=null;if(n==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");n=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=t}return this.scopedRun((function(){return o.startScope(a)}),(function(){return o.endScope(r)}),(function(){return(r=n())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r}))},e.prototype.scopedRun=function(t,n,r){t();try{var o=r();return n(),o}catch(a){throw n(),a}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(t){var n=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),r={x:t};return this.addTapeNode(this.state.activeScope.name,r,[n],(function(o){return{x:function(){return o.toFloat()}}}),[]),n},e.prototype.runKernel=function(t,n,r,o,a){return this.runKernelFunc(null,n,null,t,r,o,a)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(t,n,r){var o=this.backend.numDataIds(),a=0;r.forEach((function(u){a+=u.dtype==="complex64"?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=o-n-a-i;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+t+"'")},e.prototype.runKernelFunc=function(t,n,r,o,a,i,s){var u,c=this;i===void 0&&(i=[]),s===void 0&&(s=[]);var f=[],h=this.isTapeOn();o==null&&(o=this.state.activeScope!=null?this.state.activeScope.name:"");var m,v=function(E){h&&(f=E.map((function(R){return c.keep(c.clone(R))})))},y=this.state.numBytes,x=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var w,S=h4(o,this.backendName);return m=S!=null?function(){var E=c.backend.numDataIds();w=S.kernelFunc({inputs:n,attrs:a,backend:c.backend});var R=Array.isArray(w)?w:[w];c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(o,E,R);var D=R.map((function(N){var k=N.dataId,M=N.shape,I=N.dtype;return c.makeTensorFromDataId(k,M,I)})),A=D.filter((function(N,k){return s[k]}));return v((i||[]).slice().concat(A)),D}:function(){var E=c.backend.numDataIds();w=c.tidy((function(){return t(c.backend,v)}));var R=Array.isArray(w)?w:[w];return c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(o,E,R),R},this.scopedRun((function(){return c.state.kernelDepth++}),(function(){return c.state.kernelDepth--}),(function(){u=c.ENV.getBool("DEBUG")?c.profiler.profileKernel(o,n,(function(){return m()})):m()})),h&&this.addTapeNode(o,n,u,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:o,bytesAdded:this.state.numBytes-y,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-x,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(n).map((function(E){return n[E].shape})),outputShapes:u.map((function(E){return E.shape}))}),Array.isArray(w)?u:u[0]},e.prototype.makeTensor=function(t,n,r,o){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",o=o||this.backend;var a=t;r==="string"&&Gw(t[0])&&(a=t.map((function(f){return DJ(f)})));var i=o.write(a,n,r),s=new rn(n,r,i,this.nextTensorId());if(this.incRef(s,o),r==="string"){var u=this.state.tensorInfo.get(i),c=RJ(a);this.state.numBytes+=c-u.bytes,u.bytes=c}return s},e.prototype.makeTensorFromDataId=function(t,n,r,o){var a=new rn(n,r=r||"float32",t,this.nextTensorId());return this.incRef(a,o),a},e.prototype.makeVariable=function(t,n,r,o){n===void 0&&(n=!0),r=r||this.nextVariableId().toString(),o!=null&&o!==t.dtype&&(t=t.asType(o));var a=new Yu(t,n,r,this.nextTensorId());if(this.state.registeredVariables[a.name]!=null)throw new Error("Variable with name "+a.name+" was already registered");return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a},e.prototype.incRef=function(t,n){var r=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var o=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(o=t.size*g4(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:n||this.backend,dtype:t.dtype,shape:t.shape,bytes:o,refCount:0}),this.state.numBytes+=o}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof Yu||this.track(t)},e.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,t.dtype==="string"&&this.state.numStringTensors--;var n=this.state.tensorInfo.get(t.dataId);n.refCount<=1?(t.dtype!=="complex64"&&(this.state.numBytes-=n.bytes),this.state.numDataBuffers--,n.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var n=this.state.registeredVariables[t];this.disposeVariable(n)}},e.prototype.disposeVariable=function(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]},e.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},e.prototype.profile=function(t){return Ue(this,void 0,void 0,(function(){var n,r;return Ve(this,(function(o){return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(a){return a.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(t,n,r,o,a){var i=this,s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:n,outputs:r,saved:a},u=gJ(t);u!=null&&(o=u.gradFunc),o!=null&&(s.gradient=function(c){return c=c.map((function(f,h){if(f==null){var m=r[h],v=jf(m.size,m.dtype);return i.makeTensor(v,m.shape,m.dtype)}return f})),o(c.length>1?c:c[0],a)}),this.state.activeTape.push(s)},e.prototype.keep=function(t){return t.kept=!0,t},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(t){var n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(n.name=t),this.state.scopeStack.push(n),this.state.activeScope=n},e.prototype.endScope=function(t){for(var n=this,r=C4(t),o=new Set(r.map((function(u){return u.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||o.has(i.id)||i.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach((function(u){u.kept||u.scopeId!==s.id||n.track(u)}))},e.prototype.gradients=function(t,n,r,o){var a=this;if(o===void 0&&(o=!1),q(n.length>0,(function(){return"gradients() received an empty list of xs."})),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var i=this.scopedRun((function(){return a.startTape()}),(function(){return a.endTape()}),(function(){return a.tidy("forward",t)}));q(i instanceof rn,(function(){return"The result y returned by f() must be a tensor."}));var s=(function(u,c,f){for(var h={},m={},v=0;v<c.length;v++)h[c[v].id]=!0;for(v=0;v<u.length;v++){var y=(N=u[v]).inputs;for(var x in y){for(var w=y[x],S=!1,E=0;E<c.length;E++)if(h[w.id]){N.outputs.forEach((function(O){return h[O.id]=!0})),S=!0,m[N.id]=!0;break}if(S)break}}var R={};R[f.id]=!0;var D={};for(v=u.length-1;v>=0;v--)for(y=(N=u[v]).inputs,E=0;E<N.outputs.length;E++)if(R[N.outputs[E].id]){for(var x in y)R[y[x].id]=!0,D[N.id]=!0;break}var A=[];for(v=0;v<u.length;v++){var N;if(m[(N=u[v]).id]&&D[N.id]){var k={};for(var x in N.inputs){var M=N.inputs[x];h[M.id]&&(k[x]=M)}var I=Object.assign({},N);I.inputs=k,I.outputs=N.outputs,A.push(I)}}return A})(this.state.activeTape,n,i);if(!o&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var u,c,f={};f[i.id]=r??(u=i.shape,c=b4(We(u),"float32"),ee.makeTensor(c,u,"float32")),(function(m,v,y){for(var x=function(S){var E=v[S],R=[];if(E.outputs.forEach((function(k){var M=m[k.id];M!=null?R.push(M):R.push(null)})),E.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+E.kernelName+".");var D=E.gradient(R),A=function(k){if(!(k in D))throw new Error("Cannot backprop through input "+k+". Available gradients found: "+Object.keys(D)+".");var M=y((function(){return D[k]()}));if(M.dtype!=="float32")throw new Error("Error in gradient for op "+E.kernelName+". The gradient of input "+k+" must have 'float32' dtype, but has '"+M.dtype+"'");var I=E.inputs[k];if(!Wn(M.shape,I.shape))throw new Error("Error in gradient for op "+E.kernelName+". The gradient of input '"+k+"' has shape '"+M.shape+"', which does not match the shape of the input '"+I.shape+"'");if(m[I.id]==null)m[I.id]=M;else{var O=m[I.id];m[I.id]=O.add(M),O.dispose()}};for(var N in E.inputs)A(N)},w=v.length-1;w>=0;w--)x(w)})(f,s,(function(m){return a.tidy(m)}));var h=n.map((function(m){return f[m.id]}));return a.state.gradientDepth===0&&(a.state.activeTape.forEach((function(m){for(var v=0,y=m.saved;v<y.length;v++)y[v].dispose()})),a.state.activeTape=null),{value:i,grads:h}}))},e.prototype.customGrad=function(t){var n=this;return q(Tx(t),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var r,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];q(o.every((function(s){return s instanceof rn})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};return o.forEach((function(s,u){i[u]=s})),n.runKernelFunc((function(s,u){return q((r=t.apply(void 0,o.concat([u]))).value instanceof rn,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),q(Tx(r.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),r.value}),i,(function(s,u){var c=r.gradFunc(s,u),f=Array.isArray(c)?c:[c];q(f.length===o.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),q(f.every((function(m){return m instanceof rn})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var h={};return f.forEach((function(m,v){h[v]=function(){return m}})),h}))}},e.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},e.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},e.prototype.time=function(t){return Ue(this,void 0,void 0,(function(){var n,r;return Ve(this,(function(o){switch(o.label){case 0:return n=ga(),[4,this.backend.time(t)];case 1:return(r=o.sent()).wallMs=ga()-n,[2,r]}}))}))},e.prototype.track=function(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new yD,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e})(),ee=(function(){var e=(function(){if(c0==null){var n=void 0;if(typeof window<"u")n=window;else if(typeof global<"u")n=global;else if(typeof process<"u")n=process;else{if(typeof self>"u")throw new Error("Could not find a global object");n=self}c0=n}return c0})();if(e._tfengine==null){var t=new mJ(e);e._tfengine=new PJ(t)}return(function(n){f4=n})(e._tfengine.ENV),ba=function(){return e._tfengine},e._tfengine})();function E4(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var ti=ge();ti.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),ti.registerFlag("IS_BROWSER",(function(){return E4()})),ti.registerFlag("IS_NODE",(function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0})),ti.registerFlag("IS_CHROME",(function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),ti.registerFlag("PROD",(function(){return!1})),ti.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return ti.getBool("DEBUG")})),ti.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),ti.registerFlag("IS_TEST",(function(){return!1}));var lf,ro,Zr,Gs={},d0={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function jJ(e,t){Gs[e]=t}function ja(e){e in Gs||(Gs[e]=(function(n){if(n!==1&&n!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=(function(o){if(typeof OffscreenCanvas<"u"&&o===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")})(n);return r.addEventListener("webglcontextlost",(function(o){o.preventDefault(),delete Gs[n]}),!1),n===1?r.getContext("webgl",d0)||r.getContext("experimental-webgl",d0):r.getContext("webgl2",d0)})(e));var t=Gs[e];return t.isContextLost()?(delete Gs[e],ja(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),Gs[e])}function Wv(e,t){return[t,e]}function jd(e){var t=We(e);return _x(Math.ceil(t/4))}function Bf(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function qw(e,t){var n,r,o,a,i,s,u,c,f,h=e;return ge().getNumber("WEBGL_VERSION")===2?(n=h.R32F,r=h.R16F,o=h.RGBA16F,a=h.RGBA32F,i=h.RED,s=4,u=1,c=h.HALF_FLOAT,f=h.FLOAT):(n=e.RGBA,r=e.RGBA,o=e.RGBA,a=h.RGBA,i=e.RGBA,s=4,u=4,c=t!=null?t.HALF_FLOAT_OES:null,f=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:a,textureFormatFloat:i,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:f}}function Ge(e,t,n){var r=n();return t&&(function(o){var a=o.getError();if(a!==o.NO_ERROR)throw new Error("WebGL Error: "+zJ(o,a))})(e),r}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(lf||(lf={})),(function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"})(ro||(ro={})),(function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Zr||(Zr={}));var BJ=596e-10,FJ=65504;function LJ(e){return!!(ge().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||BJ<Math.abs(e)&&Math.abs(e)<FJ)}function zJ(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function yp(e,t,n){return wi(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function UJ(e,t,n){var r=wi(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Ge(e,t,(function(){return e.shaderSource(r,n)})),Ge(e,t,(function(){return e.compileShader(r)})),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function VJ(e,t,n){var r=wi(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Ge(e,t,(function(){return e.shaderSource(r,n)})),Ge(e,t,(function(){return e.compileShader(r)})),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw(function(o,a){var i=HJ.exec(a);if(i==null)return console.log("Couldn't parse line number in error: "+a),void console.log(o);for(var s=+i[1],u=o.split(`
`),c=u.length.toString().length+2,f=u.map((function(w,S){return Ou((S+1).toString(),c)+w})),h=0,m=0;m<f.length;m++)h=Math.max(f[m].length,h);var v=f.slice(0,s-1),y=f.slice(s-1,s),x=f.slice(s);console.log(v.join(`
`)),console.log(a.split(`
`)[0]),console.log("%c "+Ou(y[0],h),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(x.join(`
`))})(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var f0,h0,HJ=/ERROR: [0-9]+:([0-9]+):/g;function WJ(e,t){return wi(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function $J(e,t,n){if(Ge(e,t,(function(){return e.linkProgram(n)})),e.getProgramParameter(n,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function p0(e,t,n){if(Ge(e,t,(function(){return e.validateProgram(n)})),e.getProgramParameter(n,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function GJ(e,t,n){var r=wi(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Ge(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Ge(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function qJ(e,t,n){var r=wi(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Ge(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),Ge(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function XJ(e,t){return wi(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function YJ(e,t){var n=ge().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+n+"x"+n+"]")+".")}function KJ(e,t){return wi(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function bD(e,t,n,r,o,a,i,s){var u=e.getAttribLocation(n,r);return u!==-1&&(Ge(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,o)})),Ge(e,t,(function(){return e.vertexAttribPointer(u,a,e.FLOAT,!1,i,s)})),Ge(e,t,(function(){return e.enableVertexAttribArray(u)})),!0)}function QJ(e,t,n,r){nZ(e,r),Ge(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function JJ(e,t,n,r){return wi(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function ZJ(e,t,n){return e.getUniformLocation(t,n)}function eZ(e,t,n,r,o,a){Ge(e,t,(function(){return QJ(e,t,r,a)})),Ge(e,t,(function(){return e.uniform1i(o,a)}))}function m0(e,t,n,r){Ge(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),Ge(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function xD(e,t,n){Ge(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),Ge(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function bp(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+tZ(e,t))}function tZ(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function wi(e,t,n,r){var o=Ge(e,t,(function(){return n()}));if(o==null)throw new Error(r);return o}function nZ(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+n+"]")+".")}function bm(e,t){return t===void 0&&(t=2),We(e.slice(0,e.length-t))}function xm(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function v0(e){var t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[bm(e)].concat(xm(e))),t}function rZ(e,t){var n;t===void 0&&(t=!1);var r=ge().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,(e=e.map((function(c,f){return f>=e.length-2?v4(e[f]):e[f]}))).length===1&&(e=[2,e[0]])),e.length!==2){var o=Ks(e);e=o.newShape}var a=We(e);if(e.length<=1&&a<=r)return[1,a];if(e.length===2&&e[0]<=r&&e[1]<=r)return e;if(e.length===3&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var i=bm(e),s=2,u=2;return e.length&&(s=(n=xm(e))[0],u=n[1]),_x(a=i*(s/2)*(u/2)).map((function(c){return 2*c}))}return _x(a)}function xp(e){return e%2==0}function wp(e,t){if(Wn(e=e.slice(-2),t=t.slice(-2))||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r||xp(n)&&xp(r)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&xp(e[0])&&xp(t[0])}function oZ(e){if(f0==null){var t=ja(e);f0=t.getParameter(t.MAX_TEXTURE_SIZE)}return f0}function aZ(e){if(h0==null){var t=ja(e);h0=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,h0)}function iZ(e){if(e===0)return 0;var t=ja(e);return No(t,"EXT_disjoint_timer_query_webgl2")&&e===2?2:No(t,"EXT_disjoint_timer_query")?1:0}function No(e,t){return e.getExtension(t)!=null}function wD(e){try{if(ja(e)!=null)return!0}catch{return!1}return!1}function sZ(e){if(e===0)return!1;var t=ja(e);if(e===1){if(!No(t,"OES_texture_float"))return!1}else if(!No(t,"EXT_color_buffer_float"))return!1;return Ix(t)}function lZ(e){if(e===0)return!1;var t=ja(e);if(e!==1){if(No(t,"EXT_color_buffer_float"))return Ix(t);if(No(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return(function(r,o){var a=qw(r,o),i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texImage2D(r.TEXTURE_2D,0,a.internalFormatHalfFloat,1,1,0,a.textureFormatFloat,a.textureTypeHalfFloat,null);var s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0);var u=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(i),r.deleteFramebuffer(s),u})(t,n)}return!1}return!!No(t,"OES_texture_float")&&!!No(t,"WEBGL_color_buffer_float")&&Ix(t)}function Ix(e){var t=qw(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function uZ(e){return e===2&&ja(e).fenceSync!=null}var lt=ge();function R4(e){ge().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Le(e,t){return ee.tidy(e,t)}function Lr(e){C4(e).forEach((function(t){return t.dispose()}))}function cZ(e){return ee.keep(e)}function wm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ge().getBool("IS_TEST")||console.warn.apply(console,e)}function xs(e,t){var n=e;if(Ra(e))return t==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||Ra(n)&&t!=="string";)r.push(n.length),n=n[0];return Array.isArray(e)&&ge().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&(function o(a,i,s){if(s=s||[],!Array.isArray(a)&&!Ra(a))return void q(i.length===0,(function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+i[0]+" elements"}));q(i.length>0,(function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+a.length+" elements"})),q(a.length===i[0],(function(){return"Element arr["+s.join("][")+"] should have "+i[0]+" elements, but has "+a.length+" elements"}));for(var u=i.slice(1),c=0;c<a.length;++c)o(a[c],u,s.concat(c))})(e,r,[]),r}function SD(e,t,n,r){if(e!=null&&(e!=="numeric"&&e!==t||e==="numeric"&&t==="string"))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function H(e,t,n,r){if(r===void 0&&(r="numeric"),e instanceof rn)return SD(r,e.dtype,t,n),e;var o=Pf(e);if(o!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),SD(r,o,t,n),e==null||!Ra(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var a=e==null?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var i=xs(e,o);Ra(e)||Array.isArray(e)||(e=[e]);var s=o!=="string"?y4(e,o,ge().getBool("DEBUG")):Xu(e,[],!0);return ee.makeTensor(s,i,o)}function Sm(e,t,n,r){if(r===void 0&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(o,a){return H(o,t+"["+a+"]",n)}),r)}function _4(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function dZ(e,t,n){for(var r=e.length+t.length,o=[],a=0,i=0,s=0;s<r;s++)n.indexOf(s)===-1?o.push(e[a++]):o.push(t[i++]);return o}function ir(e,t){for(var n=[],r=e.length,o=0;o<r;o++)t.indexOf(o)===-1&&n.push(e[o]);return[n,t.map((function(a){return e[a]}))]}function Ur(e,t){return dZ(e,t.map((function(n){return 1})),t)}function Jr(e,t,n){q(_4(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function Ba(e,t){if(_4(e,t))return null;for(var n=[],r=0;r<t;++r)e.indexOf(r)===-1&&n.push(r);return e.forEach((function(o){return n.push(o)})),n}function Xw(e){return e.map((function(t,n){return[n,t]})).sort((function(t,n){return t[1]-n[1]})).map((function(t){return t[0]}))}function Fa(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function fZ(e,t){var n=e[0].length;e.forEach((function(o,a){q(o.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+a+"] must be the same as the rank of the rest ("+n+")"}))})),q(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(o,a){for(var i=0;i<n;i++)q(i===t||o[i]===r[i],(function(){return"Error in concat"+n+"D: Shape of tensors["+a+"] ("+o+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+a+"."}))}))}function Ku(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function J(e){var t=Object.keys(e);if(t.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];ee.startScope(n);try{var s=r.apply(void 0,a);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),ee.endScope(s),s}catch(u){throw ee.endScope(null),u}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}lt.registerFlag("HAS_WEBGL",(function(){return lt.getNumber("WEBGL_VERSION")>0})),lt.registerFlag("WEBGL_VERSION",(function(){return wD(2)?2:wD(1)?1:0})),lt.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return lt.get("WEBGL_VERSION")===2})),lt.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),lt.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),lt.registerFlag("WEBGL_PACK",(function(){return lt.getBool("HAS_WEBGL")})),lt.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_PACK_CLIP",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),lt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_PACK_REDUCE",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_CONV_IM2COL",(function(){return lt.getBool("WEBGL_PACK")})),lt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return oZ(lt.getNumber("WEBGL_VERSION"))})),lt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return aZ(lt.getNumber("WEBGL_VERSION"))})),lt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=lt.getNumber("WEBGL_VERSION");return e===0?0:iZ(e)})),lt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return lt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),lt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return sZ(lt.getNumber("WEBGL_VERSION"))})),lt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!lt.getBool("WEBGL_FORCE_F16_TEXTURES")&&lt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),lt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return lZ(lt.getNumber("WEBGL_VERSION"))})),lt.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return uZ(lt.getNumber("WEBGL_VERSION"))})),lt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return lt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),S4=R4;var Qn=J({complex_:function(e,t){var n=H(e,"real","complex"),r=H(t,"imag","complex");return Lt(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),ee.runKernelFunc((function(o){return o.complex(n,r)}),{$real:n,$imag:r})}}),Do=J({real_:function(e){var t=H(e,"input","real");return ee.runKernelFunc((function(n){return n.real(t)}),{$input:t})}}),xa=J({imag_:function(e){var t=H(e,"input","imag");return ee.runKernelFunc((function(n){return n.imag(t)}),{$input:t})}});function er(e,t,n){return ws(e,t,xs(e,n),n)}function ws(e,t,n,r){if(r==null&&(r=Pf(e)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Ra(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){x4(t);var o=We(t),a=We(n);q(o===a,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+o+" values but has "+a}));for(var i=0;i<n.length;++i){var s=n[i],u=i!==n.length-1||s!==We(t.slice(i));q(n[i]===t[i]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return Ra(e)||Array.isArray(e)||(e=[e]),t=t||n,e=r!=="string"?y4(e,r,ge().getBool("DEBUG")):Xu(e,[],!0),ee.makeTensor(e,t,r)}function Ie(e,t){if((Ra(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Ra(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return ws(e,[],[],t)}function Sn(e,t){bc(e);var n=xs(e,t);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return ws(e,null,n,t)}function ds(e,t,n){if(bc(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=xs(e,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ws(e,t,r,n)}function Yw(e,t,n){if(bc(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=xs(e,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ws(e,t,r,n)}function Mr(e,t,n){if(bc(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=xs(e,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ws(e,t,r,n)}function hZ(e,t,n){if(bc(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=xs(e,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ws(e,t,r,n)}function pZ(e,t,n){if(bc(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=xs(e,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return ws(e,t=t||r,r,n)}function mZ(e,t,n,r){return t===void 0&&(t=!0),ee.makeVariable(e,t,n,r)}function xc(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=xc(e,"float32"),r=Zt(e,"float32");return Qn(n,r)}var o=b4(We(e),t);return ee.makeTensor(o,e,t)}function Zt(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var n=Zt(e,"float32"),r=Zt(e,"float32");return Qn(n,r)}var o=jf(We(e),t);return ee.makeTensor(o,e,t)}function Ta(e,t,n){return ee.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function vZ(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return ee.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})}function Cm(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n===0)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return Zt([0],r);var o=jf(Math.abs(Math.ceil((t-e)/n)),r);t<e&&n===1&&(n=-1),o[0]=e;for(var a=1;a<o.length;a++)o[a]=o[a-1]+n;return Sn(o,r)}var T4=J({onesLike_:function(e){var t=H(e,"x","onesLike");if(t.dtype==="complex64"){var n=T4(Do(t)),r=Nt(xa(t));return Qn(n,r)}return ee.runKernelFunc((function(o){return o.onesLike(t)}),{$x:t},(function(o,a){return{$x:function(){return Nt(o)}}}))}}),Nt=J({zerosLike_:function(e){var t=H(e,"x","zerosLike");return ee.runKernelFunc((function(n){return n.zerosLike(t)}),{$x:t},(function(n,r){return{$x:function(){return Nt(n)}}}))}}),An=J({concat_:function(e,t){t===void 0&&(t=0),q(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Sm(e,"tensors","concat");n[0].dtype==="complex64"&&n.forEach((function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")})),t=Pn(t,n[0].shape)[0];var r=Ku(n.map((function(s){return s.shape})),t);if(We(r)===0)return er([],r);if((n=n.filter((function(s){return s.size>0}))).length===1)return n[0];var o=n.map((function(s){return s.shape}));fZ(o,t);var a=n,i={axis:t};return ee.runKernelFunc((function(s){return s.concat(n,t)}),a,(function(s){var u=o.map((function(c){return c[t]}));return Kw(s,u,t).map((function(c){return function(){return c}}))}),"Concat",i)}}),gZ=J({concat1d_:function(e){return An(e,0)}}),yZ=J({concat2d_:function(e,t){return An(e,t)}}),bZ=J({concat3d_:function(e,t){return An(e,t)}}),xZ=J({concat4d_:function(e,t){return An(e,t)}}),Kw=J({split_:function(e,t,n){n===void 0&&(n=0);var r,o=H(e,"x","split");return n=Pn(n,o.shape)[0],typeof t=="number"?(q(o.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(o.shape[n]/t)):(q(o.shape[n]===t.reduce((function(a,i){return a+i})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),ee.runKernelFunc((function(a){return a.split(o,r,n)}),{$x:o},(function(a){return{$x:function(){return An(a,n)}}}))}});function gl(e,t){return e(t={exports:{}},t.exports),t.exports}var wZ=gl((function(e){(function(t,n,r){function o(s){var u,c=this,f=(u=4022871197,function(h){h=h.toString();for(var m=0;m<h.length;m++){var v=.02519603282416938*(u+=h.charCodeAt(m));v-=u=v>>>0,u=(v*=u)>>>0,u+=4294967296*(v-=u)}return 23283064365386963e-26*(u>>>0)});c.next=function(){var h=2091639*c.s0+23283064365386963e-26*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=h-(c.c=0|h)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(s),c.s0<0&&(c.s0+=1),c.s1-=f(s),c.s1<0&&(c.s1+=1),c.s2-=f(s),c.s2<0&&(c.s2+=1),f=null}function a(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function i(s,u){var c=new o(s),f=u&&u.state,h=c.next;return h.int32=function(){return 4294967296*c.next()|0},h.double=function(){return h()+11102230246251565e-32*(2097152*h()|0)},h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}n&&n.exports?n.exports=i:this.alea=i})(0,e)})),SZ=gl((function(e){(function(t,n,r){function o(s){var u=this,c="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var h=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^h^h>>>8},s===(0|s)?u.x=s:c+=s;for(var f=0;f<c.length+64;f++)u.x^=0|c.charCodeAt(f),u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function i(s,u){var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}n&&n.exports?n.exports=i:this.xor128=i})(0,e)})),CZ=gl((function(e){(function(t,n,r){function o(s){var u=this,c="";u.next=function(){var h=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^h^h<<1)|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(0|s)?u.x=s:c+=s;for(var f=0;f<c.length+64;f++)u.x^=0|c.charCodeAt(f),f==c.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function i(s,u){var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}n&&n.exports?n.exports=i:this.xorwow=i})(0,e)})),EZ=gl((function(e){(function(t,n,r){function o(s){var u=this;u.next=function(){var c,f,h=u.x,m=u.i;return c=h[m],f=(c^=c>>>7)^c<<24,f^=(c=h[m+1&7])^c>>>10,f^=(c=h[m+3&7])^c>>>3,f^=(c=h[m+4&7])^c<<7,c=h[m+7&7],f^=(c^=c<<13)^c<<9,h[m]=f,u.i=m+1&7,f},(function(c,f){var h,m=[];if(f===(0|f))m[0]=f;else for(f=""+f,h=0;h<f.length;++h)m[7&h]=m[7&h]<<15^f.charCodeAt(h)+m[h+1&7]<<13;for(;m.length<8;)m.push(0);for(h=0;h<8&&m[h]===0;++h);for(h==8?m[7]=-1:m[h],c.x=m,c.i=0,h=256;h>0;--h)c.next()})(u,s)}function a(s,u){return u.x=s.x.slice(),u.i=s.i,u}function i(s,u){s==null&&(s=+new Date);var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(f.x&&a(f,c),h.state=function(){return a(c,{})}),h}n&&n.exports?n.exports=i:this.xorshift7=i})(0,e)})),RZ=gl((function(e){(function(t,n,r){function o(s){var u=this;u.next=function(){var c,f,h=u.w,m=u.X,v=u.i;return u.w=h=h+1640531527|0,f=m[v+34&127],c=m[v=v+1&127],f^=f<<13,c^=c<<17,f^=f>>>15,c^=c>>>12,f=m[v]=f^c,u.i=v,f+(h^h>>>16)|0},(function(c,f){var h,m,v,y,x,w=[],S=128;for(f===(0|f)?(m=f,f=null):(f+="\0",m=0,S=Math.max(S,f.length)),v=0,y=-32;y<S;++y)f&&(m^=f.charCodeAt((y+32)%f.length)),y===0&&(x=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,y>=0&&(x=x+1640531527|0,v=(h=w[127&y]^=m+x)==0?v+1:0);for(v>=128&&(w[127&(f&&f.length||0)]=-1),v=127,y=512;y>0;--y)m=w[v+34&127],h=w[v=v+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,w[v]=m^h;c.w=x,c.X=w,c.i=v})(u,s)}function a(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function i(s,u){s==null&&(s=+new Date);var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(f.X&&a(f,c),h.state=function(){return a(c,{})}),h}n&&n.exports?n.exports=i:this.xor4096=i})(0,e)})),_Z=gl((function(e){(function(t,n,r){function o(s){var u=this,c="";u.next=function(){var h=u.b,m=u.c,v=u.d,y=u.a;return h=h<<25^h>>>7^m,m=m-v|0,v=v<<24^v>>>8^y,y=y-h|0,u.b=h=h<<20^h>>>12^m,u.c=m=m-v|0,u.d=v<<16^m>>>16^y,u.a=y-h|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=0|s):c+=s;for(var f=0;f<c.length+20;f++)u.b^=0|c.charCodeAt(f),u.next()}function a(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function i(s,u){var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}n&&n.exports?n.exports=i:this.tychei=i})(0,e)})),qs=gl((function(e){(function(t,n){var r,o=this,a=256,i=6,s="random",u=n.pow(a,i),c=n.pow(2,52),f=2*c,h=a-1;function m(S,E,R){var D=[],A=x((function M(I,O){var L,F=[],X=typeof I;if(O&&X=="object")for(L in I)try{F.push(M(I[L],O-1))}catch{}return F.length?F:X=="string"?I:I+"\0"})((E=E==1?{entropy:!0}:E||{}).entropy?[S,w(t)]:S??(function(){try{var M;return r&&(M=r.randomBytes)?M=M(a):(M=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(M)),w(M)}catch{var I=o.navigator,O=I&&I.plugins;return[+new Date,o,O,o.screen,w(t)]}})(),3),D),N=new v(D),k=function(){for(var M=N.g(i),I=u,O=0;M<c;)M=(M+O)*a,I*=a,O=N.g(1);for(;M>=f;)M/=2,I/=2,O>>>=1;return(M+O)/I};return k.int32=function(){return 0|N.g(4)},k.quick=function(){return N.g(4)/4294967296},k.double=k,x(w(N.S),t),(E.pass||R||function(M,I,O,L){return L&&(L.S&&y(L,N),M.state=function(){return y(N,{})}),O?(n[s]=M,I):M})(k,A,"global"in E?E.global:this==n,E.state)}function v(S){var E,R=S.length,D=this,A=0,N=D.i=D.j=0,k=D.S=[];for(R||(S=[R++]);A<a;)k[A]=A++;for(A=0;A<a;A++)k[A]=k[N=h&N+S[A%R]+(E=k[A])],k[N]=E;(D.g=function(M){for(var I,O=0,L=D.i,F=D.j,X=D.S;M--;)I=X[L=h&L+1],O=O*a+X[h&(X[L]=X[F=h&F+I])+(X[F]=I)];return D.i=L,D.j=F,O})(a)}function y(S,E){return E.i=S.i,E.j=S.j,E.S=S.S.slice(),E}function x(S,E){for(var R,D=S+"",A=0;A<D.length;)E[h&A]=h&(R^=19*E[h&A])+D.charCodeAt(A++);return w(E)}function w(S){return String.fromCharCode.apply(0,S)}if(n["seed"+s]=m,x(n.random(),t),e.exports){e.exports=m;try{r=require("crypto")}catch{}}})([],Math)}));qs.alea=wZ,qs.xor128=SZ,qs.xorwow=CZ,qs.xorshift7=EZ,qs.xor4096=RZ,qs.tychei=_Z;var $v=qs.alea,Qw=(function(){function e(t,n,r,o,a){this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=a||Math.random();this.random=$v(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var n,r,o=!1;!o;){var a=void 0,i=void 0,s=void 0;do s=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i;while(s>=1||s===0);var u=Math.sqrt(-2*Math.log(s)/s);n=this.mean+this.stdDev*a*u,r=this.mean+this.stdDev*i*u,this.truncated&&!this.isValidTruncated(n)||(o=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(n)},e.prototype.convertValue=function(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)},e.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},e})(),TZ=(function(){function e(t,n,r,o){this.alpha=t,this.beta=1/n,this.dtype=r;var a=o||Math.random();this.randu=$v(a.toString()),this.randn=new Qw(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var t,n,r,o,a,i;;){do o=this.randn.nextValue(),i=1+this.c*o;while(i<=0);if(i*=i*i,n=1-.331*(t=o*o)*t,r=.5*t+this.d*(1-i+Math.log(i)),(a=this.randu())<n||Math.log(a)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},e.prototype.convertValue=function(t){return this.dtype==="float32"?t:Math.round(t)},e})(),DZ=(function(){function e(t,n,r,o){var a=this;if(t===void 0&&(t=0),n===void 0&&(n=1),this.canReturnFloat=function(){return a.dtype==null||a.dtype==="float32"},this.min=t,this.range=n-t,this.dtype=r,o==null&&(o=Math.random()),typeof o=="number"&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+n+" <= 1 and dtype is not float");this.random=$v(o)}return e.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e})();function dt(e,t,n){return t===void 0&&(t="float32"),t=t||"float32",x4(e),new sf(e,t,n)}function AZ(e,t){t===void 0&&(t=!1),console.log(e.toString(t))}var D4=J({batchToSpaceND_:function(e,t,n){var r=H(e,"x","batchToSpaceND"),o=t.reduce((function(a,i){return a*i}));return q(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),q(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),q(r.shape[0]%o==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o})),ee.runKernelFunc((function(a){return a.batchToSpaceND(r,t,n)}),{$x:r},(function(a){return{$x:function(){return a.spaceToBatchND(t,n)}}}))}}),NZ=J({broadcastTo_:function(e,t){var n=H(e,"broadcastTo","x"),r=n.shape;if(t.some((function(u){return!(u>0)||u%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var o=n.shape.slice();o.length<t.length;)o.unshift(1);n=n.reshape(o)}for(var a=Array.from(t),i=t.length-1;i>=0;i--)if(n.shape[i]===t[i])a[i]=1;else if(n.shape[i]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=a.map((function(u,c){return u>1?c:-1})).filter((function(u){return u>=0}));return s.length===0?n.clone():ee.runKernelFunc((function(u){return u.tile(n,a)}),{input:n},(function(u){return{input:function(){return u.sum(s,!0)}}}))}}),kZ=J({cast_:function(e,t){var n=H(e,"x","cast");if(!CJ(t))throw new Error("Failed to cast to unknown dtype "+t);if(t==="string"&&n.dtype!=="string"||t!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:t};return ee.runKernelFunc((function(o){return o.cast(n,t)}),{x:n},(function(o){return{x:function(){return o.clone()}}}),"Cast",r)}}),MZ=J({clone_:function(e){var t=H(e,"x","clone",null);return ee.runKernelFunc((function(){return ee.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(n){return{$x:function(){return n.toFloat()}}}))}}),IZ=J({cumsum_:function(e,t,n,r){t===void 0&&(t=0),n===void 0&&(n=!1),r===void 0&&(r=!1);var o=H(e,"x","cumsum"),a=Ba([t|=0],o.rank),i=o;a!=null&&(i=o.transpose(a));var s=Fa(1,o.rank)[0],u=ee.runKernelFunc((function(c){return c.cumsum(i,s,n,r)}),{permutedX:i},(function(c){return{permutedX:function(){return c.cumsum(t,n,!r)}}}));return a!=null&&(u=u.transpose(a)),u}}),OZ=J({depthToSpace_:function(e,t,n){n===void 0&&(n="NHWC");var r=H(e,"x","depthToSpace"),o=n==="NHWC"?r.shape[1]:r.shape[2],a=n==="NHWC"?r.shape[2]:r.shape[3],i=n==="NHWC"?r.shape[3]:r.shape[1];return q(o*t>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+o+" and "+t+`  for depthToSpace with input shape
      `+r.shape})),q(a*t>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+t+` for depthToSpace with input shape
          `+r.shape})),q(i%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+i+" for depthToSpace with input shape "+r.shape})),ee.runKernelFunc((function(s){return s.depthToSpace(r,t,n)}),{$x:r})}}),To=J({expandDims_:function(e,t){t===void 0&&(t=0);var n=H(e,"x","expandDims",null);q(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(q(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),qo(n,r)}}),A4=J({eye_:function(e,t,n,r){r===void 0&&(r="float32"),t==null&&(t=e);for(var o=dt([e,t],r),a=e<=t?e:t,i=0;i<a;++i)o.set(1,i,i);var s=o.toTensor().as2D(e,t);if(n==null)return s;if(n.length===1)return Pu(To(s,0),[n[0],1,1]);if(n.length===2)return Pu(To(To(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return Pu(To(To(To(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),PZ=J({multinomial_:function(e,t,n,r){r===void 0&&(r=!1);var o=H(e,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);n=n||Math.random();var s=i===1?o.as2D(1,-1):o,u=ee.runKernelFunc((function(c){return c.multinomial(s,r,t,n)}),{logits2D:s});return i===1?u.as1D():u}}),Ox=J({oneHot_:function(e,t,n,r){if(n===void 0&&(n=1),r===void 0&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var o=H(e,"indices","oneHot","int32"),a=o.shape.concat([t]);return o=o.flatten(),ee.runKernelFunc((function(i){return i.oneHot(o,t,n,r)}),{$indices:o},(function(i){return{$indices:function(){return Zt(o.shape,"float32")}}})).reshape(a)}}),yl=J({pad_:function(e,t,n){n===void 0&&(n=0);var r=H(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:t,constantValue:n};return ee.runKernelFunc((function(a){return a.pad(r,t,n)}),{x:r},(function(a){var i=t.map((function(s){return s[0]}));return{x:function(){return a.slice(i,r.shape)}}}),"PadV2",o)}}),jZ=J({pad1d_:function(e,t,n){return n===void 0&&(n=0),q(t.length===2,(function(){return"Invalid number of paddings. Must be length of 2."})),yl(e,[t],n)}}),BZ=J({pad2d_:function(e,t,n){return n===void 0&&(n=0),q(t.length===2&&t[0].length===2&&t[1].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),yl(e,t,n)}}),FZ=J({pad3d_:function(e,t,n){return n===void 0&&(n=0),q(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),yl(e,t,n)}}),LZ=J({pad4d_:function(e,t,n){return n===void 0&&(n=0),q(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),yl(e,t,n)}}),zZ=J({rand_:function(e,t,n){var r=We(e),o=null;if(n==null||n==="float32")o=new Float32Array(r);else if(n==="int32")o=new Int32Array(r);else{if(n!=="bool")throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var a=0;a<r;a++)o[a]=t();return ee.makeTensor(o,e,n)}}),UZ=J({randomNormal_:function(e,t,n,r,o){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var a=new Qw(t,n,r,!1,o),i=dt(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),VZ=J({randomGamma_:function(e,t,n,r,o){if(n===void 0&&(n=1),r===void 0&&(r="float32"),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var a=new TZ(t,n,r,o),i=dt(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),N4=J({randomUniform_:function(e,t,n,r,o){t===void 0&&(t=0),n===void 0&&(n=1),r===void 0&&(r="float32");for(var a=dt(e,r),i=new DZ(t,n,null,o),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),qo=J({reshape_:function(e,t){var n=H(e,"x","reshape",null);t=wJ(t,n.size),q(n.size===We(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return ee.runKernelFunc((function(o){return o.reshape(n,t)}),{x:n},(function(o){return{x:function(){return o.reshape(n.shape)}}}),"Reshape",r)}}),k4=J({spaceToBatchND_:function(e,t,n){var r=H(e,"x","spaceToBatchND");return q(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),q(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),q(r.shape.reduce((function(o,a,i){return i>0&&i<=t.length?o&&(a+n[i-1][0]+n[i-1][1])%t[i-1]==0:o}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),ee.runKernelFunc((function(o){return o.spaceToBatchND(r,t,n)}),{$x:r},(function(o){return{$x:function(){return o.batchToSpaceND(t,n)}}}))}}),M4=J({squeeze_:function(e,t){var n=H(e,"x","squeeze");return qo(n,Ks(n.shape,t).newShape)}}),lo=J({stack_:function(e,t){t===void 0&&(t=0);var n=Sm(e,"tensors","stack");if(q(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length===1)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,a=n[0].dtype;q(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(s){Lt(o,s.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(s){q(a===s.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=n.map((function(s){return s.expandDims(t)}));return An(i,t)}}),Pu=J({tile_:function(e,t){var n=H(e,"x","tile",null);q(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],o={reps:t};return ee.runKernelFunc((function(a,i){var s=a.tile(n,t);return i([n]),s}),{x:n},(function(a,i){var s=i[0];return{x:function(){var u=Nt(s);if(s.rank===1)for(var c=0;c<t[0];++c)u=u.add(a.slice([c*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(c=0;c<t[0];++c)for(var f=0;f<t[1];++f)u=u.add(a.slice([c*s.shape[0],f*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(c=0;c<t[0];++c)for(f=0;f<t[1];++f)for(var h=0;h<t[2];++h)u=u.add(a.slice([c*s.shape[0],f*s.shape[1],h*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(c=0;c<t[0];++c)for(f=0;f<t[1];++f)for(h=0;h<t[2];++h)for(var m=0;m<t[3];++m)u=u.add(a.slice([c*s.shape[0],f*s.shape[1],h*s.shape[2],m*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return u}}}),"Tile",o,r)}}),HZ=J({truncatedNormal_:function(e,t,n,r,o){if(t===void 0&&(t=0),n===void 0&&(n=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var a=new Qw(t,n,r,!0,o),i=dt(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),Nn=J({unstack_:function(e,t){t===void 0&&(t=0),t=t||0;var n=H(e,"x","unstack");q(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return ee.runKernelFunc((function(o){return o.unstack(n,t)}),{x:n},(function(o){return{x:function(){return lo(o,t)}}}),"Unpack",r)}}),WZ=function(e,t){return Ue(this,void 0,void 0,(function(){var n,r,o,a,i,s,u,c,f,h;return Ve(this,(function(m){switch(m.label){case 0:return n=H(e,"x","setdiff1d"),r=H(t,"y","setdiff1d"),q(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),q(n.rank===1,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),q(r.rank===1,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return o=m.sent(),[4,r.data()];case 2:for(a=m.sent(),i=new Set(a),s=0,f=0;f<o.length;f++)i.has(o[f])||s++;for(u=new sf([s],n.dtype),c=new sf([s],"int32"),f=0,h=0;f<o.length;f++)i.has(o[f])||(u.values[h]=o[f],c.values[h]=f,h++);return[2,[u.toTensor(),c.toTensor()]]}}))}))};function Em(e,t,n,r){r===void 0&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var a=t.length,i=0;i<a;++i)o=o.concat([e[i+1]/t[i],t[i]]);o=o.concat(e.slice(a+1))}return o}function Rm(e,t,n){n===void 0&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var a=[],i=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?i.push(o):a.push(o);r.push.apply(r,a),r.push(0),r.push.apply(r,i)}return r}function _m(e,t,n,r){r===void 0&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?o.push(t[a-1]*e[a]):o.push(e[a]/t[a-1]):o.push(e[a]);return o}function I4(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function O4(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function P4(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(t.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,a=0;a<n.length-1;++a)o*=n[a];var i=e.shape,s=n.slice();s.pop();var u=1;for(a=r;a<e.rank;++a)u*=i[a],s.push(i[a]);var c=_a(e.shape).map((function(f){return f/u})).concat([1]).slice(0,r);return[s,o,u,c]}var j4=30;function g0(e){return e<=j4?e:Dx(e,Math.floor(Math.sqrt(e)))}function $Z(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(a+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(a+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(a+" update.rank != "+(o+e.length-r));for(var i=0;i<o;++i)if(n.shape[i]!==t.shape[i])throw new Error(a+" updates.shape["+i+"] ("+n.shape[i]+") != indices.shape["+i+"] ("+t.shape[i]+").");for(i=0;i<n.rank-o;++i)if(n.shape[i+o]!==e[i+r])throw new Error(a+" updates.shape["+(i+o)+"] ("+n.shape[i+o]+") != shape["+(i+o)+"] ("+e[i+o]+")")}function GZ(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(t.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(n.length===0){if(t.size===0)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}$Z(n,t,e)}function Tm(e,t,n){for(var r=t.shape.length,o=r>1?t.shape[r-1]:1,a=n.length,i=1,s=o;s<a;++s)i*=n[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:We(t.shape)/u,sliceSize:i,strides:_a(n.slice(0,o)).concat([1]),outputSize:We(n)}}function qZ(e,t,n){q(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),q(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(a){q(t[a]+n[a]<=e.shape[a],(function(){return"Error in slice"+e.rank+"D: begin["+a+"] + size["+a+"] ("+(t[a]+n[a])+") would overflow input.shape["+a+"] ("+e.shape[a]+")"}))},o=0;o<e.rank;++o)r(o)}function CD(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function Jw(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function XZ(e,t,n,r,o){var a=t[o],i=n[o]||1;(e&1<<o||a==null)&&(a=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),a=Rx(0,a,s-1)}function YZ(e,t,n,r,o){var a=t[o],i=n[o]||1;(e&1<<o||a==null)&&(a=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),a=i>0?Rx(0,a,s):Rx(-1,a,s-1)}function B4(e,t,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function F4(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function KZ(e,t){q(Tx(e),(function(){return"The f passed in variableGrads(f) must be a function"})),q(t==null||Array.isArray(t)&&t.every((function(f){return f instanceof Yu})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=t!=null;if(!n)for(var r in t=[],ee.registeredVariables)t.push(ee.registeredVariables[r]);var o=n?t.filter((function(f){return!f.trainable})):null,a=t.length;q((t=t.filter((function(f){return f.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."}));var i=ee.gradients(e,t,null,!0),s=i.value,u=i.grads;q(u.some((function(f){return f!=null})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),q(s.rank===0,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var c={};return t.forEach((function(f,h){u[h]!=null&&(c[f.name]=u[h])})),o?.forEach((function(f){return c[f.name]=null})),{value:s,grads:c}}function Gv(e){return ee.customGrad(e)}var Si=J({softmax_:function(e,t){t===void 0&&(t=-1);var n=H(e,"logits","softmax","float32");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return ee.runKernelFunc((function(r,o){var a=r.softmax(n,t);return o([a]),a}),{logits:n},(function(r,o){var a=o[0],i=r.mul(a);return{logits:function(){return i.sub(i.sum([t],!0).mul(a))}}}),"Softmax",{dim:t},[],[!0])}}),QZ=J({logSoftmax_:function(e,t){t===void 0&&(t=-1);var n=H(e,"logits","logSoftmax");if(t===-1&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Gv((function(r,o){var a=r.max(t,!0),i=r.sub(a),s=i.toFloat().sub(i.exp().sum(t,!0).log());return o([s]),{value:s,gradFunc:function(u,c){var f=c[0].exp();return u.sub(u.sum(t,!0).mul(f))}}}))(n)}}),L4=(function(){function e(t,n){this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},e.prototype.set=function(t,n){this.dataIdsCount++,this.data.set(t,n)},e.prototype.has=function(t){return this.data.has(t)},e.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},e.prototype.numDataIds=function(){return this.dataIdsCount},e})(),z4=(function(){function e(){}return e.prototype.time=function(t){return ce("time")},e.prototype.read=function(t){return ce("read")},e.prototype.readSync=function(t){return ce("readSync")},e.prototype.numDataIds=function(){return ce("numDataIds")},e.prototype.disposeData=function(t){return ce("disposeData")},e.prototype.write=function(t,n,r){return ce("write")},e.prototype.move=function(t,n,r,o){return ce("move")},e.prototype.memory=function(){return ce("memory")},e.prototype.floatPrecision=function(){return ce("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(t,n,r,o){return ce("batchMatMul")},e.prototype.fusedBatchMatMul=function(t){return t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights,ce("fusedBatchMatMul")},e.prototype.slice=function(t,n,r){return ce("slice")},e.prototype.stridedSlice=function(t,n,r,o){return ce("stridedSlice")},e.prototype.unstack=function(t,n){return ce("unstack")},e.prototype.reverse=function(t,n){return ce("reverse")},e.prototype.concat=function(t,n){return ce("concat")},e.prototype.neg=function(t){return ce("neg")},e.prototype.add=function(t,n){return ce("add")},e.prototype.addN=function(t){return ce("addN")},e.prototype.subtract=function(t,n){return ce("subtract")},e.prototype.multiply=function(t,n){return ce("multiply")},e.prototype.realDivide=function(t,n){return ce("realDivide")},e.prototype.floorDiv=function(t,n){return ce("floorDiv")},e.prototype.sum=function(t,n){return ce("sum")},e.prototype.prod=function(t,n){return ce("prod")},e.prototype.unsortedSegmentSum=function(t,n,r){return ce("unsortedSegmentSum")},e.prototype.argMin=function(t,n){return ce("argMin")},e.prototype.argMax=function(t,n){return ce("argMax")},e.prototype.equal=function(t,n){return ce("equal")},e.prototype.notEqual=function(t,n){return ce("notEqual")},e.prototype.less=function(t,n){return ce("less")},e.prototype.lessEqual=function(t,n){return ce("lessEqual")},e.prototype.greater=function(t,n){return ce("greater")},e.prototype.greaterEqual=function(t,n){return ce("greaterEqual")},e.prototype.logicalNot=function(t){return ce("logicalNot")},e.prototype.logicalAnd=function(t,n){return ce("logicalAnd")},e.prototype.logicalOr=function(t,n){return ce("logicalOr")},e.prototype.where=function(t){return ce("where")},e.prototype.select=function(t,n,r){return ce("select")},e.prototype.topk=function(t,n,r){return ce("topk")},e.prototype.min=function(t,n){return ce("min")},e.prototype.minimum=function(t,n){return ce("minimum")},e.prototype.mod=function(t,n){return ce("mod")},e.prototype.max=function(t,n){return ce("max")},e.prototype.maximum=function(t,n){return ce("maximum")},e.prototype.all=function(t,n){return ce("all")},e.prototype.any=function(t,n){return ce("any")},e.prototype.squaredDifference=function(t,n){return ce("squaredDifference")},e.prototype.ceil=function(t){return ce("ceil")},e.prototype.floor=function(t){return ce("floor")},e.prototype.round=function(t){return ce("round")},e.prototype.sign=function(t){return ce("sign")},e.prototype.isNaN=function(t){return ce("isNaN")},e.prototype.isInf=function(t){return ce("isInf")},e.prototype.isFinite=function(t){return ce("isFinite")},e.prototype.pow=function(t,n){return ce("pow")},e.prototype.exp=function(t){return ce("exp")},e.prototype.expm1=function(t){return ce("expm1")},e.prototype.softmax=function(t,n){return ce("softmax")},e.prototype.log=function(t){return ce("log")},e.prototype.log1p=function(t){return ce("log1p")},e.prototype.sqrt=function(t){return ce("sqrt")},e.prototype.rsqrt=function(t){return ce("rsqrt")},e.prototype.square=function(t){return ce("square")},e.prototype.reciprocal=function(t){return ce("reciprocal")},e.prototype.relu=function(t){return ce("relu")},e.prototype.relu6=function(t){return ce("relu6")},e.prototype.prelu=function(t,n){return ce("prelu")},e.prototype.elu=function(t){return ce("elu")},e.prototype.eluDer=function(t,n){return ce("eluDer")},e.prototype.selu=function(t){return ce("selu")},e.prototype.int=function(t){return ce("int")},e.prototype.clip=function(t,n,r){return ce("clip")},e.prototype.abs=function(t){return ce("abs")},e.prototype.complexAbs=function(t){return ce("complexAbs")},e.prototype.sigmoid=function(t){return ce("sigmoid")},e.prototype.softplus=function(t){return ce("softplus")},e.prototype.sin=function(t){return ce("sin")},e.prototype.cos=function(t){return ce("cos")},e.prototype.tan=function(t){return ce("tan")},e.prototype.asin=function(t){return ce("asin")},e.prototype.acos=function(t){return ce("acos")},e.prototype.atan=function(t){return ce("atan")},e.prototype.atan2=function(t,n){return ce("atan2")},e.prototype.sinh=function(t){return ce("sinh")},e.prototype.cosh=function(t){return ce("cosh")},e.prototype.tanh=function(t){return ce("tanh")},e.prototype.asinh=function(t){return ce("asinh")},e.prototype.acosh=function(t){return ce("acosh")},e.prototype.atanh=function(t){return ce("atanh")},e.prototype.erf=function(t){return ce("erf")},e.prototype.step=function(t,n){return ce("step")},e.prototype.fusedConv2d=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,ce("fusedConv2d")},e.prototype.conv2d=function(t,n,r){return ce("conv2d")},e.prototype.conv2dDerInput=function(t,n,r){return ce("conv2dDerInput")},e.prototype.conv2dDerFilter=function(t,n,r){return ce("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,ce("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(t,n,r){return ce("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(t,n,r){return ce("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(t,n,r){return ce("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(t,n,r){return ce("conv3d")},e.prototype.conv3dDerInput=function(t,n,r){return ce("conv3dDerInput")},e.prototype.conv3dDerFilter=function(t,n,r){return ce("conv3dDerFilter")},e.prototype.maxPool=function(t,n){return ce("maxPool")},e.prototype.maxPoolBackprop=function(t,n,r,o){return ce("maxPoolBackprop")},e.prototype.avgPool=function(t,n){return ce("avgPool")},e.prototype.avgPoolBackprop=function(t,n,r){return ce("avgPoolBackprop")},e.prototype.avgPool3d=function(t,n){return ce("avgPool3d")},e.prototype.avgPool3dBackprop=function(t,n,r){return ce("avgPool3dBackprop")},e.prototype.maxPool3d=function(t,n){return ce("maxPool3d")},e.prototype.maxPool3dBackprop=function(t,n,r,o){return ce("maxPool3dBackprop")},e.prototype.reshape=function(t,n){return ce("reshape")},e.prototype.cast=function(t,n){return ce("cast")},e.prototype.tile=function(t,n){return ce("tile")},e.prototype.pad=function(t,n,r){return ce("pad")},e.prototype.transpose=function(t,n){return ce("transpose")},e.prototype.gather=function(t,n,r){return ce("gather")},e.prototype.gatherND=function(t,n){return ce("gatherND")},e.prototype.scatterND=function(t,n,r){return ce("scatterND")},e.prototype.batchToSpaceND=function(t,n,r){return ce("batchToSpaceND")},e.prototype.spaceToBatchND=function(t,n,r){return ce("spaceToBatchND")},e.prototype.resizeBilinear=function(t,n,r,o){return ce("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(t,n,r){return ce("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(t,n,r,o){return ce("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(t,n,r){return ce("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(t,n,r,o,a,i){return ce("batchNormalization")},e.prototype.localResponseNormalization4D=function(t,n,r,o,a){return ce("localResponseNormalization4D")},e.prototype.LRNGrad=function(t,n,r,o,a,i,s){return ce("LRNGrad")},e.prototype.multinomial=function(t,n,r,o){return ce("multinomial")},e.prototype.oneHot=function(t,n,r,o){return ce("oneHot")},e.prototype.cumsum=function(t,n,r,o){return ce("cumsum")},e.prototype.nonMaxSuppression=function(t,n,r,o,a){return ce("nonMaxSuppression")},e.prototype.fft=function(t){return ce("fft")},e.prototype.ifft=function(t){return ce("ifft")},e.prototype.complex=function(t,n){return ce("complex")},e.prototype.real=function(t){return ce("real")},e.prototype.imag=function(t){return ce("imag")},e.prototype.cropAndResize=function(t,n,r,o,a,i){return ce("cropAndResize")},e.prototype.depthToSpace=function(t,n,r){return ce("depthToSpace")},e.prototype.split=function(t,n,r){return ce("split")},e.prototype.sparseToDense=function(t,n,r,o){return ce("sparseToDense")},e.prototype.diag=function(t){return ce("diag")},e.prototype.fill=function(t,n,r){return ce("fill")},e.prototype.onesLike=function(t){return ce("onesLike")},e.prototype.zerosLike=function(t){return ce("zerosLike")},e.prototype.linspace=function(t,n,r){return ce("linspace")},e.prototype.dispose=function(){return ce("dispose")},e})();function ce(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function os(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var a=n-1-o,i=e[a]||1;(t[t.length-1-o]||1)>1&&i===1&&r.unshift(a)}return r}function Mn(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],a=t.length-r-1,i=t[a];(o==null||o===1&&i>1)&&n.unshift(a)}return n}function Ct(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var a=e[e.length-o-1];a==null&&(a=1);var i=t[t.length-o-1];if(i==null&&(i=1),a===1)n.unshift(i);else if(i===1)n.unshift(a);else{if(a!==i)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(a)}}return n}function uf(e,t,n,r,o,a,i){i===void 0&&(i="channelsLast");var s,u=Nm(t),c=u[0],f=u[1];if(i==="channelsLast")s=[c,f,e[3],e[3]];else{if(i!=="channelsFirst")throw new Error("Unknown dataFormat "+i);s=[c,f,e[1],e[1]]}return bl(e,s,n,r,o,a,!1,i)}function Dm(e,t,n,r,o,a,i){i===void 0&&(i="NDHWC");var s,u,c=Px(t),f=c[0],h=c[1],m=c[2];if(i==="NDHWC")u="channelsLast",s=[f,h,m,e[4],e[4]];else{if(i!=="NCDHW")throw new Error("Unknown dataFormat "+i);u="channelsFirst",s=[f,h,m,e[1],e[1]]}return Am(e,s,n,r,o,!1,u,a)}function bl(e,t,n,r,o,a,i,s){i===void 0&&(i=!1),s===void 0&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],f=u[1],h=u[2],m=u[3];if(s==="channelsLast")c=e[0],f=e[1],h=e[2],m=e[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);c=e[0],m=e[1],f=e[2],h=e[3]}var v,y=t[0],x=t[1],w=t[3],S=Nm(n),E=S[0],R=S[1],D=Nm(r),A=D[0],N=D[1],k=ju(y,A),M=ju(x,N),I=(function(W,Y,B,V,U,$,j,G){var Q,te,de;if(typeof W=="number"){Q={top:W,bottom:W,left:W,right:W,type:W===0?"VALID":"NUMBER"};var we=(function(je,Pe,Te,Je,it){Je==null&&(Je=U4(je,Pe,Te));var nt=je[0],_e=je[1],De=Bd((nt-Pe+2*Je)/Te+1,it);q(gn(De),(function(){return"The output # of rows ("+De+") must be an integer. Change the stride and/or zero pad parameters"}));var ke=Bd((_e-Pe+2*Je)/Te+1,it);return q(gn(ke),(function(){return"The output # of columns ("+ke+") must be an integer. Change the stride and/or zero pad parameters"})),[De,ke]})([Y,B],$,V,W,G);te=we[0],de=we[1]}else if(W==="same"){te=Math.ceil(Y/V),de=Math.ceil(B/U);var ie=Math.max(0,(te-1)*V+$-Y),oe=Math.max(0,(de-1)*U+j-B),ve=Math.floor(ie/2),pe=ie-ve,Oe=Math.floor(oe/2);Q={top:ve,bottom:pe,left:Oe,right:oe-Oe,type:"SAME"}}else{if(W!=="valid")throw Error("Unknown padding parameter: "+W);Q={top:0,bottom:0,left:0,right:0,type:"VALID"},te=Math.ceil((Y-$+1)/V),de=Math.ceil((B-j+1)/U)}return{padInfo:Q,outHeight:te,outWidth:de}})(o,f,h,E,R,k,M,a),O=I.padInfo,L=I.outHeight,F=I.outWidth,X=i?w*m:w;return s==="channelsFirst"?v=[c,X,L,F]:s==="channelsLast"&&(v=[c,L,F,X]),{batchSize:c,dataFormat:s,inHeight:f,inWidth:h,inChannels:m,outHeight:L,outWidth:F,outChannels:X,padInfo:O,strideHeight:E,strideWidth:R,filterHeight:y,filterWidth:x,effectiveFilterHeight:k,effectiveFilterWidth:M,dilationHeight:A,dilationWidth:N,inShape:e,outShape:v,filterShape:t}}function Am(e,t,n,r,o,a,i,s){a===void 0&&(a=!1),i===void 0&&(i="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],f=u[1],h=u[2],m=u[3],v=u[4];if(i==="channelsLast")c=e[0],f=e[1],h=e[2],m=e[3],v=e[4];else{if(i!=="channelsFirst")throw new Error("Unknown dataFormat "+i);c=e[0],v=e[1],f=e[2],h=e[3],m=e[4]}var y,x=t[0],w=t[1],S=t[2],E=t[4],R=Px(n),D=R[0],A=R[1],N=R[2],k=Px(r),M=k[0],I=k[1],O=k[2],L=ju(x,M),F=ju(w,I),X=ju(S,O),W=(function(j,G,Q,te,de,we,ie,oe,ve,pe,Oe){var je,Pe,Te,Je;if(typeof j=="number"){je={top:j,bottom:j,left:j,right:j,front:j,back:j,type:j===0?"VALID":"NUMBER"};var it=(function(qt,Ae,Be,rt,kt,Rt){kt==null&&(kt=U4(qt,Ae,rt));var jn=qt[0],zt=qt[1],Jt=qt[2],_r=Bd((jn-Ae+2*kt)/rt+1,Rt);q(gn(_r),(function(){return"The output # of depths ("+_r+") must be an integer. Change the stride and/or zero pad parameters"}));var Hr=Bd((zt-Ae+2*kt)/rt+1,Rt);q(gn(Hr),(function(){return"The output # of rows ("+Hr+") must be an integer. Change the stride and/or zero pad parameters"}));var gr=Bd((Jt-Ae+2*kt)/rt+1,Rt);return q(gn(gr),(function(){return"The output # of columns ("+gr+") must be an integer. Change the stride and/or zero pad parameters"})),[_r,Hr,gr,Be]})([G,Q,te,1],oe,1,de,j,Oe);Pe=it[0],Te=it[1],Je=it[2]}else if(j==="same"){Pe=Math.ceil(G/de),Te=Math.ceil(Q/we),Je=Math.ceil(te/ie);var nt=(Pe-1)*de+oe-G,_e=(Te-1)*we+ve-Q,De=(Je-1)*ie+pe-te,ke=Math.floor(nt/2),Ze=nt-ke,st=Math.floor(_e/2),Ye=_e-st,He=Math.floor(De/2);je={top:st,bottom:Ye,left:He,right:De-He,front:ke,back:Ze,type:"SAME"}}else{if(j!=="valid")throw Error("Unknown padding parameter: "+j);je={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},Pe=Math.ceil((G-oe+1)/de),Te=Math.ceil((Q-ve+1)/we),Je=Math.ceil((te-pe+1)/ie)}return{padInfo:je,outDepth:Pe,outHeight:Te,outWidth:Je}})(o,f,h,m,D,A,N,L,F,X,s),Y=W.padInfo,B=W.outDepth,V=W.outHeight,U=W.outWidth,$=a?E*v:E;return i==="channelsFirst"?y=[c,$,B,V,U]:i==="channelsLast"&&(y=[c,B,V,U,$]),{batchSize:c,dataFormat:i,inDepth:f,inHeight:h,inWidth:m,inChannels:v,outDepth:B,outHeight:V,outWidth:U,outChannels:$,padInfo:Y,strideDepth:D,strideHeight:A,strideWidth:N,filterDepth:x,filterHeight:w,filterWidth:S,effectiveFilterDepth:L,effectiveFilterHeight:F,effectiveFilterWidth:X,dilationDepth:M,dilationHeight:I,dilationWidth:O,inShape:e,outShape:y,filterShape:t}}function U4(e,t,n,r){r===void 0&&(r=1);var o=ju(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function Nm(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function Px(e){return typeof e=="number"?[e,e,e]:e}function ju(e,t){return t<=1?e:e+(e-1)*(t-1)}function Bd(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function Qu(e){var t=Nm(e),n=t[0],r=t[1],o=t[2];return n===1&&r===1&&o===1}function Vr(e,t){return Qu(e)||Qu(t)}function Zw(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function V4(e,t,n){if(t==="complex64"){if(e.dtype==="complex64")return e.clone();var r=Zt(e.shape),o=e.toFloat(),a=n.complex(o,r);return r.dispose(),o.dispose(),a}if(!EJ(e.dtype,t))return ee.makeTensorFromDataId(e.dataId,e.shape,t);if(e.dtype==="complex64"){var i=n.real(e);return a=i.cast(t),i.dispose(),a}if(t==="int32")return n.int(e);if(t==="bool"){var s=Ie(0,e.dtype);return a=n.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function jx(e,t){return ee.makeTensorFromDataId(e.dataId,t,e.dtype)}function H4(e,t,n){var r=(t-e)/(n-1),o=jf(n,"float32");o[0]=e;for(var a=1;a<o.length;a++)o[a]=o[a-1]+r;return Sn(o,"float32")}function Bx(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function ED(e,t){return{real:e[2*t],imag:e[2*t+1]}}function JZ(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function ZZ(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function eee(e,t,n){var r=(function(a,i,s){return(function(u,c,f){for(var h=0,m=u.length,v=0,y=!1;h<m;){var x=f(c,u[v=h+(m-h>>>1)]);x>0?h=v+1:(m=v,y=!x)}return y?h:-h-1})(a,i,s||tee)})(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function tee(e,t){return e>t?1:e<t?-1:0}function e2(e,t,n,r,o){return W4(e,t,n,r,o,0).selectedIndices}function t2(e,t,n,r,o,a){var i=W4(e,t,n,r,o,a);return i.numValidOutputs.dispose(),{selectedIndices:i.selectedIndices,selectedScores:i.selectedScores}}function W4(e,t,n,r,o,a,i,s){s===void 0&&(s=!1);for(var u=Array.from(t).map((function(D,A){return{score:D,boxIndex:A,suppressBeginIndex:0}})).filter((function(D){return D.score>o})).sort(RD),c=a>0?-.5/a:0,f=[],h=[];f.length<n&&u.length>0;){var m=u.pop(),v=m.score,y=m.boxIndex,x=m.suppressBeginIndex;if(v<o)break;for(var w=!1,S=f.length-1;S>=x;--S){var E=nee(e,y,f[S]);if(E>=r){w=!0;break}if(m.score=m.score*ree(r,c,E),m.score<=o)break}m.suppressBeginIndex=f.length,w||(m.score===v?(f.push(y),h.push(m.score)):m.score>o&&eee(u,m,RD))}var R=f.length;return s&&(f.fill(0,R),h.fill(0,R)),{selectedIndices:Sn(f,"int32"),selectedScores:Sn(h,"float32"),numValidOutputs:Ie(R,"int32")}}function nee(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),f=Math.min(o[1],o[3]),h=Math.max(o[0],o[2]),m=Math.max(o[1],o[3]),v=(s-a)*(u-i),y=(h-c)*(m-f);if(v<=0||y<=0)return 0;var x=Math.max(a,c),w=Math.max(i,f),S=Math.min(s,h),E=Math.min(u,m),R=Math.max(S-x,0)*Math.max(E-w,0);return R/(v+y-R)}function ree(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function RD(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function $4(e,t,n){var r=new Array(e.rank).fill(0),o=e.shape.slice();return t.map((function(a){o[n]=a;var i=e.slice(r,o);return r[n]+=a,i}))}function G4(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=dt(n,e.dtype);for(r=0;r<o.values.length;++r){for(var a=o.indexToLoc(r),i=new Array(e.rank),s=0;s<i.length;s++)i[s]=a[s]%e.shape[s];var u=e.locToIndex(i);o.values[r]=e.values[u]}return o.toTensor()}function q4(e,t,n,r,o){for(var a=t[t.length-1],i=[e.length/a,a],s=i[0],u=i[1],c=af(n,s*r),f=af("int32",s*r),h=0;h<s;h++){for(var m=h*u,v=e.subarray(m,m+u),y=[],x=0;x<v.length;x++)y.push({value:v[x],index:x});y.sort((function(D,A){return A.value-D.value}));var w=h*r,S=c.subarray(w,w+r),E=f.subarray(w,w+r);for(x=0;x<r;x++)S[x]=y[x].value,E[x]=y[x].index}var R=t.slice();return R[R.length-1]=r,[er(c,R,n),er(f,R,"int32")]}function n2(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=dt(e,"int32"),a=dt([n.length,e.length],"int32");for(r=0;r<n.length;r++){var i=o.indexToLoc(n[r]),s=r*e.length;a.values.set(i,s)}return a.toTensor()}var oee=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(o,a){return"T"+a}));var n=[];this.variableNames.forEach((function(o){n.push("float v"+o+" = get"+o+"AtOutCoords();")}));var r=this.variableNames.map((function(o){return"v"+o})).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},aee=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(o,a){return"T"+a}));var n=[];this.variableNames.forEach((function(o){n.push("vec4 v"+o+" = get"+o+"AtOutCoords();")}));var r=this.variableNames.map((function(o){return"v"+o})).join(" + ");this.userCode=`
      void main() {
        `+n.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},iee=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,a=e.inSize,i=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var s=t==="max"?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+u+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function X4(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(n){return e+"."+n}))}function Ir(e,t){return t===1?[e]:X4(e,t)}function cr(){var e,t,n,r,o,a,i,s,u,c;return ge().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",n="out",r="in",o="texture",a="outputColor",i="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,u="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",n="varying",r="varying",o="texture2D",a="gl_FragColor",i="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:a,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function el(e,t,n){n===void 0&&(n="index");var r=_a(t);return r.map((function(o,a){return"int "+e[a]+" = "+n+" / "+o+"; "+(a===r.length-1?"int "+e[a+1]+" = "+n+" - "+e[a]+" * "+o:"index -= "+e[a]+" * "+o)+";"})).join("")}function r2(e){var t=_a(e).map((function(n){return n.toString()}));return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+t[0]+" + coords.y * "+t[1]+` + coords.z;
  }
`}var Y4=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function see(e,t,n,r){var o=[];e.forEach((function(v){var y=We(v.shapeInfo.logicalShape);v.shapeInfo.isUniform?o.push("uniform float "+v.name+(y>1?"["+y+"]":"")+";"):(o.push("uniform sampler2D "+v.name+";"),o.push("uniform int offset"+v.name+";"))}));var a,i,s=o.join(`
`),u=e.map((function(v){return(function(y,x,w){w===void 0&&(w=!1);var S="";S+=w?K4(y):xu(y);var E=y.shapeInfo.logicalShape,R=x.logicalShape;return E.length<=R.length&&(S+=w?(function(D,A){var N,k=D.name,M=k.charAt(0).toUpperCase()+k.slice(1),I="get"+M+"AtOutCoords",O=D.shapeInfo.logicalShape.length,L=A.logicalShape.length,F=os(D.shapeInfo.logicalShape,A.logicalShape),X=Qt(L),W=L-O,Y=["x","y","z","w","u","v"];N=O===0?"":L<2&&F.length>=1?"coords = 0;":F.map((function(Q){return"coords."+Y[Q+W]+" = 0;"})).join(`
`);var B="";B=L<2&&O>0?"coords":D.shapeInfo.logicalShape.map((function(Q,te){return"coords."+Y[te+W]})).join(", ");var V="return outputValue;",U=We(D.shapeInfo.logicalShape)===1,$=We(A.logicalShape)===1;if(O!==1||U||$){if(U&&!$)V=L===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(F.length){var j=O-2,G=O-1;F.indexOf(j)>-1&&F.indexOf(G)>-1?V="return vec4(outputValue.x);":F.indexOf(j)>-1?V="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":F.indexOf(G)>-1&&(V="return vec4(outputValue.xx, outputValue.zz);")}}else V=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+I+`() {
      `+X+` coords = getOutputCoords();
      `+N+`
      vec4 outputValue = get`+M+"("+B+`);
      `+V+`
    }
  `})(y,x):(function(D,A){var N=D.name,k=N.charAt(0).toUpperCase()+N.slice(1),M="get"+k+"AtOutCoords",I=A.texShape,O=D.shapeInfo.texShape,L=D.shapeInfo.logicalShape.length,F=A.logicalShape.length;if(!D.shapeInfo.isUniform&&L===F&&D.shapeInfo.flatOffset==null&&Wn(O,I))return`
      float `+M+`() {
        return sampleTexture(`+N+`, resultUV);
      }
    `;var X,W=Qt(F),Y=os(D.shapeInfo.logicalShape,A.logicalShape),B=F-L,V=["x","y","z","w","u","v"];X=L===0?"":F<2&&Y.length>=1?"coords = 0;":Y.map((function($){return"coords."+V[$+B]+" = 0;"})).join(`
`);var U="";return U=F<2&&L>0?"coords":D.shapeInfo.logicalShape.map((function($,j){return"coords."+V[j+B]})).join(", "),`
    float `+M+`() {
      `+W+` coords = getOutputCoords();
      `+X+`
      return get`+k+"("+U+`);
    }
  `})(y,x)),S})(v,t,r)})).join(`
`),c=t.texShape,f=cr(),h=(function(v){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+v.texture2D+`(textureSampler, uv).r;
    }
  `})(f),m=(function(v){return v.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+v.varyingFs+` vec2 resultUV;
    `+v.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+v.defineSpecialNaN+`
    `+v.defineSpecialInf+`
    `+v.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+lee+`
    `+uee+`
    `+cee+`
  `})(f);return t.isPacked?(a=(function(v,y){switch(v.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(D,A){var N=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)];return N[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+N[1]+`.0);
      }
    `:N[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+N[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+N[0]+", "+N[1]+`));
      return 2 * (resTexRC.x * `+N[1]+` + resTexRC.y);
    }
  `})(0,y);case 2:return(function(D,A){var N=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)];if(Wn(D,A))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+N[0]+", "+N[1]+`));
      }
    `;var k=Math.ceil(D[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+N[0]+", "+N[1]+`));

      int index = resTexRC.x * `+N[1]+` + resTexRC.y;
      int r = 2 * (index / `+k+`);
      int c = imod(index, `+k+`) * 2;

      return ivec2(r, c);
    }
  `})(v,y);case 3:return x=v,w=y,S=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)],E=Math.ceil(x[2]/2),R=E*Math.ceil(x[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));
      int index = resTexRC.x * `+S[1]+` + resTexRC.y;

      int b = index / `+R+`;
      index -= b * `+R+`;

      int r = 2 * (index / `+E+`);
      int c = imod(index, `+E+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return(function(D,A){for(var N=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)],k=Math.ceil(D[D.length-1]/2),M=k*Math.ceil(D[D.length-2]/2),I=M,O="",L="b, r, c",F=2;F<D.length-1;F++)I*=D[D.length-F-1],O=`
      int b`+F+" = index / "+I+`;
      index -= b`+F+" * "+I+`;
    `+O,L="b"+F+", "+L;return`
    ivec`+D.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+N[0]+", "+N[1]+`));
      int index = resTexRC.x * `+N[1]+` + resTexRC.y;

      `+O+`

      int b = index / `+M+`;
      index -= b * `+M+`;

      int r = 2 * (index / `+k+`);
      int c = imod(index, `+k+`) * 2;

      return ivec`+D.length+"("+L+`);
    }
  `})(v,y)}var x,w,S,E,R})(t.logicalShape,c),i=(function(v){return`
    void setOutput(vec4 val) {
      `+v.output+` = val;
    }
  `})(f)):(a=(function(v,y){switch(v.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(S,E){return E[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+E[1]+`.0);
      }
    `:E[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+E[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      return resTexRC.x * `+E[1]+` + resTexRC.y;
    }
  `})(0,y);case 2:return(function(S,E){return Wn(S,E)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+E[0]+", "+E[1]+`));
      }
    `:S[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+E[0]+", "+E[1]+`));
        int index = resTexRC.x * `+E[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:S[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+E[0]+", "+E[1]+`));
        int index = resTexRC.x * `+E[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;
      int r = index / `+S[1]+`;
      int c = index - r * `+S[1]+`;
      return ivec2(r, c);
    }
  `})(v,y);case 3:return x=y,w=el(["r","c","d"],v),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;
      `+w+`
      return ivec3(r, c, d);
    }
  `;case 4:return(function(S,E){var R=el(["r","c","d","d2"],S);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;
      `+R+`
      return ivec4(r, c, d, d2);
    }
  `})(v,y);case 5:return(function(S,E){var R=el(["r","c","d","d2","d3"],S);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+E[0]+`,
                             `+E[1]+`));

      int index = resTexRC.x * `+E[1]+` + resTexRC.y;

      `+R+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `})(v,y);case 6:return(function(S,E){var R=el(["r","c","d","d2","d3","d4"],S);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;

      `+R+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `})(v,y);default:throw new Error(v.length+"-D output sampling is not yet supported")}var x,w})(t.logicalShape,c),i=(function(v){return`
    void setOutput(float val) {
      `+v.output+` = vec4(val, 0, 0, 0);
    }
  `})(f)),r&&(m+=dee),[m,h,i,s,a,u,n].join(`
`)}function xu(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return(function(n){var r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return"float "+o+"() {return "+r+";}";var a=n.shapeInfo.texShape,i=a[0],s=a[1];if(i===1&&s===1)return`
      float `+o+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=n.shapeInfo.texShape,c=u[0],f=u[1],h=Vs(r);return`
    float `+o+`() {
      vec2 uv = uvFromFlat(`+c+", "+f+", "+h+`);
      return sampleTexture(`+r+`, uv);
    }
  `})(e);case 1:return(function(n){var r=n.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1);if(n.shapeInfo.isUniform)return`
      float `+o+`(int index) {
        `+pu(n)+`
      }
    `;var a=n.shapeInfo.texShape,i=a[0],s=a[1];if(s===1&&i===1)return`
      float `+o+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=Vs(r);return s===1?`
      float `+o+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+u+") + 0.5) / "+i+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:i===1?`
      float `+o+`(int index) {
        vec2 uv = vec2((float(index + `+u+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+o+`(int index) {
      vec2 uv = uvFromFlat(`+i+", "+s+", index + "+u+`);
      return sampleTexture(`+r+`, uv);
    }
  `})(e);case 2:return(function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=n.shapeInfo.texShape;if(i!=null&&Wn(r,i)){var s=i[0],u=i[1];return`
    float `+a+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+u+".0, "+s+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `}var c=Ks(r),f=c.newShape,h=c.keptDims,m=f;if(m.length<r.length){var v=wu(n,m);return`
      `+xu(v)+`
      float `+a+`(int row, int col) {
        return `+a+"("+Su(["row","col"],h)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+pu(n)+`
      }
    `;var y=i[0],x=i[1],w=Vs(o);return x===1?`
    float `+a+`(int row, int col) {
      float index = dot(vec3(row, col, `+w+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+y+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `:y===1?`
    float `+a+`(int row, int col) {
      float index = dot(vec3(row, col, `+w+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+x+`.0, 0.5);
      return sampleTexture(`+o+`, uv);
    }
  `:`
  float `+a+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+w+`;
    vec2 uv = uvFromFlat(`+y+", "+x+`, index);
    return sampleTexture(`+o+`, uv);
  }
`})(e);case 3:return(function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=r[1]*r[2],s=r[2],u=Ks(r),c=u.newShape,f=u.keptDims,h=c;if(h.length<r.length){var m=wu(n,h);return`
        `+xu(m)+`
        float `+a+`(int row, int col, int depth) {
          return `+a+"("+Su(["row","col","depth"],f)+`);
        }
      `}if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+i+", "+s+`, 1)));
        `+pu(n)+`
      }
    `;var v=n.shapeInfo.texShape,y=v[0],x=v[1],w=n.shapeInfo.flatOffset;if(x===i&&w==null)return`
        float `+a+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+x+".0, "+y+`.0);
          return sampleTexture(`+o+`, uv);
        }
      `;if(x===s&&w==null)return`
    float `+a+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+x+".0, "+y+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `;var S=Vs(o);return`
      float `+a+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+i+" + col * "+s+" + depth + "+S+`;
        vec2 uv = uvFromFlat(`+y+", "+x+`, index);
        return sampleTexture(`+o+`, uv);
      }
  `})(e);case 4:return(function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=r[3],s=r[2]*i,u=r[1]*s,c=Ks(r),f=c.newShape,h=c.keptDims;if(f.length<r.length){var m=wu(n,f);return`
      `+xu(m)+`
      float `+a+`(int row, int col, int depth, int depth2) {
        return `+a+"("+Su(["row","col","depth","depth2"],h)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+u+", "+s+", "+i+`, 1)));
        `+pu(n)+`
      }
    `;var v=n.shapeInfo.flatOffset,y=n.shapeInfo.texShape,x=y[0],w=y[1];if(w===u&&v==null)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+i+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+w+".0, "+x+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(w===i&&v==null)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+w+".0, "+x+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var S=Vs(o);return`
    float `+a+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+s+` +
          depth * `+i+` + depth2;
      vec2 uv = uvFromFlat(`+x+", "+w+", index + "+S+`);
      return sampleTexture(`+o+`, uv);
    }
  `})(e);case 5:return(function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=r[4],s=r[3]*i,u=r[2]*s,c=r[1]*u,f=Ks(r),h=f.newShape,m=f.keptDims;if(h.length<r.length){var v=wu(n,h);return`
      `+xu(v)+`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        return `+a+"("+Su(["row","col","depth","depth2","depth3"],m)+`);
      }
    `}if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+c+", "+u+", "+s+", "+i+`)) +
          depth3;
        `+pu(n)+`
      }
    `;var y=n.shapeInfo.flatOffset,x=n.shapeInfo.texShape,w=x[0],S=x[1];if(S===c&&y==null)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+u+", "+s+", "+i+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+S+".0, "+w+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(S===i&&y==null)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+S+".0, "+w+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var E=Vs(o);return`
    float `+a+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+c+" + col * "+u+" + depth * "+s+` +
          depth2 * `+i+" + depth3 + "+E+`;
      vec2 uv = uvFromFlat(`+w+", "+S+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `})(e);case 6:return(function(n){var r=n.shapeInfo.logicalShape,o=n.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=Ks(r),s=i.newShape,u=i.keptDims;if(s.length<r.length){var c=wu(n,s);return`
      `+xu(c)+`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+a+"("+Su(["row","col","depth","depth2","depth3","depth4"],u)+`);
      }
    `}var f=r[5],h=r[4]*f,m=r[3]*h,v=r[2]*m,y=r[1]*v;if(n.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+y+", "+v+", "+m+", "+h+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+f+`, 1)));
        `+pu(n)+`
      }
    `;var x=n.shapeInfo.flatOffset,w=n.shapeInfo.texShape,S=w[0],E=w[1];if(E===y&&x==null)return`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+v+", "+m+", "+h+", "+f+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+E+".0, "+S+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(E===f&&x==null)return`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+E+".0, "+S+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var R=Vs(o);return`
    float `+a+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+y+" + col * "+v+" + depth * "+m+` +
          depth2 * `+h+" + depth3 * "+f+" + depth4 + "+R+`;
      vec2 uv = uvFromFlat(`+S+", "+E+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `})(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function K4(e){var t,n,r;switch(e.shapeInfo.logicalShape.length){case 0:return t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=cr(),`
    vec4 `+n+`() {
      return `+r.texture2D+"("+t+`, halfCR);
    }
  `;case 1:return(function(o){var a=o.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),s=o.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=cr();return`
    vec4 `+i+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+u[0]+", "+u[1]+`, index);
      return `+c.texture2D+"("+a+`, uv);
    }
  `})(e);case 2:return(function(o){var a=o.shapeInfo.logicalShape,i=o.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),u=o.shapeInfo.texShape,c=u[0],f=u[1],h=cr();if(u!=null&&Wn(a,u))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+f+".0, "+c+`.0);

        return `+h.texture2D+"("+i+`, uv);
      }
    `;var m=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],v=Math.ceil(a[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+v+", "+m[0]+", "+m[1]+`, row, col);
      return `+h.texture2D+"("+i+`, uv);
    }
  `})(e);case 3:return(function(o){var a=o.shapeInfo.logicalShape,i=o.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),u=o.shapeInfo.texShape,c=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];if(a[0]===1){var f=a.slice(1),h=wu(o,f);return`
        `+K4(h)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+Su(["b","row","col"],[1,2])+`);
        }
      `}var m=c[0],v=c[1],y=Math.ceil(a[2]/2),x=y*Math.ceil(a[1]/2),w=cr();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+m+", "+v+", "+x+", "+y+`, b, row, col);
      return `+w.texture2D+"("+i+`, uv);
    }
  `})(e);default:return(function(o){for(var a=o.shapeInfo.logicalShape,i=a.length,s=o.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),c=o.shapeInfo.texShape,f=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],h=f[0],m=f[1],v=Math.ceil(a[i-1]/2),y=v*Math.ceil(a[i-2]/2),x="int b, int row, int col",w="b * "+y+" + (row / 2) * "+v+" + (col / 2)",S=2;S<i-1;S++)x="int b"+S+", "+x,y*=a[i-S-1],w="b"+S+" * "+y+" + "+w;var E=cr();return`
    vec4 `+u+"("+x+`) {
      int index = `+w+`;
      int texR = index / `+m+`;
      int texC = index - texR * `+m+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+m+", "+h+`);
      return `+E.texture2D+"("+s+`, uv);
    }
  `})(e)}}var lee=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,uee=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,cee=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,dee=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Vs(e){return"offset"+e}function pu(e){var t=e.name,n=We(e.shapeInfo.logicalShape);return n<2?"return "+t+";":`
    for (int i = 0; i < `+n+`; i++) {
      if (i == index) {
        return `+t+`[i];
      }
    }
  `}function Qt(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function wu(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Su(e,t){return t.map((function(n){return e[n]})).join(", ")}var fee=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,q(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var o=e[e.length-1],a=Math.ceil(o/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var i,s,u=this.outputShape,c=u.length,f=Qt(c),h=Ir("coords",c);if(a===1){var m=Qt(s=c+1);i=`
        `+m+" sourceLocR = "+m+"("+h.join()+`, 0);
        ++`+h[c-1]+`;
        `+m+" sourceLocG = "+m+"("+h.join()+`, 0);
        ++`+h[c-2]+`;
        `+m+" sourceLocA = "+m+"("+h.join()+`, 0);
        --`+h[c-1]+`;
        `+m+" sourceLocB = "+m+"("+h.join()+`, 0);
        --`+h[c-2]+";"}else s=c,i=`
        `+f+` sourceLocR = coords;
        ++`+h[c-1]+`;
        `+f+` sourceLocG = coords;
        ++`+h[c-2]+`;
        `+f+` sourceLocA = coords;
        --`+h[c-1]+`;
        `+f+` sourceLocB = coords;
        --`+h[c-2]+";";var v=["x","y","z","w","u","v"].slice(0,s),y="."+v[s-1],x=v.map((function(M){return"int "+M})),w=Ir("sourceLocR",s-1).concat("inIdx.r"),S=Ir("sourceLocG",s-1).concat("inIdx.g"),E=Ir("sourceLocB",s-1).concat("inIdx.b"),R=Ir("sourceLocA",s-1).concat("inIdx.a"),D=n==="max"?"greaterThan":"lessThan",A=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+w.join()+`),
                             getBestIndicesAChannel(`+S.join()+`),
                             getBestIndicesAChannel(`+E.join()+`),
                             getBestIndicesAChannel(`+R.join()+")));",N=`vec4(
            getAChannel(`+w.join()+`),
            hasNextCol ? getAChannel(`+S.join()+`) : 0.,
            hasNextRow ? getAChannel(`+E.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+R.join()+") : 0.)",k=r?"":`
      float getBestIndicesAChannel(`+x.join()+`) {
        return getChannel(getBestIndicesA(`+v.join()+`),
                                          vec2(`+v.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+x.join()+`) {
        return getChannel(getA(`+v.join()+`),
                               vec2(`+v.slice(-2).join()+`));
      }
      `+k+`
      void main() {
        `+f+` coords = getOutputCoords();
        bool hasNextCol = `+h[c-1]+" < "+(u[c-1]-1)+`;
        bool hasNextRow = `+h[c-2]+" < "+(u[c-2]-1)+`;
        `+i+`
        ivec4 srcIdx = ivec4(sourceLocR`+y+", sourceLocG"+y+`,
          sourceLocB`+y+", sourceLocA"+y+") * "+t+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+N+`;

        for (int i = 0; i < `+t+`; i++) {
          inIdx = srcIdx;
          `+A+`
          vec4 candidate = `+N+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+D+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},hee=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.top,f=u-1-e.padInfo.left,h=1/(t*n);this.userCode=`
      const ivec2 pads = ivec2(`+c+", "+f+`);
      const float avgMultiplier = float(`+h+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+a+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+u+`;
            wC+= `+i+`) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},pee=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,f=e.effectiveFilterDepth,h=e.effectiveFilterHeight,m=e.effectiveFilterWidth,v=f-1-e.padInfo.front,y=h-1-e.padInfo.top,x=m-1-e.padInfo.left,w=1/(t*n*r);this.userCode=`
      const ivec3 pads = ivec3(`+v+", "+y+", "+x+`);
      const float avgMultiplier = float(`+w+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+f+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+o+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+h+`;
              wR += `+u+`) {
            float dyR = float(dyRCorner + wR) / `+a+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+m+`;
                wC += `+c+`) {
              float dyC = float(dyCCorner + wC) / `+i+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},mee=function(e,t,n,r,o,a){this.outputShape=[],this.variableNames=["x","mean","variance"],Ct(e,t),Ct(e,n);var i="0.0";r!=null&&(Ct(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="1.0";o!=null&&(Ct(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+i+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+a+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},vee=function(e,t,n,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Ct(e,t),Ct(e,n);var i="vec4(0.0)";r!=null&&(Ct(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="vec4(1.0)";o!=null&&(Ct(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+i+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+a+`));

        setOutput((x - mean) * inv + offset);
      }
    `},gee="return areal * breal - aimag * bimag;",yee="return areal * bimag + aimag * breal;",_D=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Ct(t,n),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},y0="return a + b;",b0="return a - b;",TD="return a * b;",Q4="return (a < 0.) ? b * a : a;",dn=function(e,t,n){this.variableNames=["A","B"],this.outputShape=Ct(t,n),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},J4=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,ri=function(e,t,n,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Ct(t,n);var o=this.outputShape.length,a="";if(r)if(o===0||We(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          `+Qt(o)+` coords = getOutputCoords();
        `,o===1)a+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var i=Ir("coords",o);a+=`
            bool nextRowOutOfBounds =
              (`+i[o-2]+" + 1) >= "+this.outputShape[o-2]+`;
            bool nextColOutOfBounds =
              (`+i[o-1]+" + 1) >= "+this.outputShape[o-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+a+`

        setOutput(result);
      }
    `},bee=(function(){function e(t){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(o,a){r.minLoc==null&&(r.minLoc=o.getUniformLocationNoThrow(a,"minVal"),r.maxLoc=o.getUniformLocationNoThrow(a,"maxVal")),o.gl.uniform1f(r.minLoc,t),o.gl.uniform1f(r.maxLoc,n)}},e})(),xee=(function(){function e(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,n){var r=this;return function(o,a){r.minLoc==null&&(r.minLoc=o.getUniformLocationNoThrow(a,"minVal"),r.maxLoc=o.getUniformLocationNoThrow(a,"maxVal")),o.gl.uniform1f(r.minLoc,t),o.gl.uniform1f(r.maxLoc,n)}},e})(),wee=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},See=function(e){this.outputShape=[],this.outputShape=Ku(e,1),this.variableNames=e.map((function(s,u){return"T"+u}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var o=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var a=t.length,i=t[t.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+i+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},Cee=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Ku(e,t);var n=this.outputShape,r=n.length,o=Qt(r),a=Ir("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(w,S){return"T"+S}));var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var c=i[t],f=i.slice(-2),h=i.join(),m="if ("+c+" < "+s[0]+`) {
        return getChannel(
            getT0(`+h+"), vec2("+f.join()+`));
        }`;for(u=1;u<s.length;u++){var v=s[u-1];m+=`
        if (`+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+`) {
          return getChannel(
            getT`+u+"("+Sp(i,c,v)+`),
            vec2(`+Sp(f,c,v)+`));
        }`}var y=s.length,x=s[s.length-1];m+=`
        return getChannel(
          getT`+y+"("+Sp(i,c,x)+`),
          vec2(`+Sp(f,c,x)+"));",this.userCode=`
      float getValue(`+i.map((function(w){return"int "+w}))+`) {
        `+m+`
      }

      void main() {
        `+o+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+a+`), 0., 0., 0.);

        `+a[r-1]+" = "+a[r-1]+` + 1;
        if (`+a[r-1]+" < "+n[r-1]+`) {
          result.g = getValue(`+a+`);
        }

        `+a[r-2]+" = "+a[r-2]+` + 1;
        if (`+a[r-2]+" < "+n[r-2]+`) {
          result.a = getValue(`+a+`);
        }

        `+a[r-1]+" = "+a[r-1]+` - 1;
        if (`+a[r-2]+" < "+n[r-2]+` &&
            `+a[r-1]+" < "+n[r-1]+`) {
          result.b = getValue(`+a+`);
        }
        setOutput(result);
      }
    `};function Sp(e,t,n){var r=e.indexOf(t);return e.map((function(o,a){return a===r?o+" - "+n:o})).join()}var Eee=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+o+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+a+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},Ree=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dataFormat==="channelsLast",i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=a?1:2,c=a?2:3,f=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+f+`];

        ivec2 dyCorner = ivec2(coords[`+u+"], coords["+c+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+a+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},_ee=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,a=e.padInfo.top,i=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+t+" - "+o+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+n+" - "+a+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+i+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},Tee=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+u+", "+c+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+t+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+o+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+t+` - 1 - wF;

          for (int wR = 0; wR < `+n+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+a+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+n+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+i+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},Dee=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+a+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+n+" - "+o+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},Aee=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+a+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+n+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+n+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},DD=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,a=e.padInfo.left,i=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,f=e.filterHeight,h=e.filterWidth,m=4*Math.floor(e.inChannels/4),v=e.inChannels%4,y=e.dataFormat==="channelsLast",x=y?1:2,w=y?2:3,S=y?3:1,E="",R="";n&&(E=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,R="result = activation(result);");var D=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+E+`

      const ivec2 strides = ivec2(`+i+", "+s+`);
      const ivec2 pads = ivec2(`+o+", "+a+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+S+`];

        ivec2 xRCCorner =
            ivec2(coords[`+x+"], coords["+w+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+f+`; wR++) {
          int xR = xRCorner + wR * `+u+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+h+`; wC++) {
            int xC = xCCorner + wC * `+c+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+m+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+y+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(v===1)+`) {

              if (`+y+`) {
                dotProd +=
                    getX(batch, xR, xC, `+m+`) *
                    getW(wR, wC, `+m+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+m+`, xR, xC) *
                    getW(wR, wC, `+m+`, d2);
              }

            } else if (`+(v===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+m+`, d2),
                getW(wR, wC, `+m+` + 1, d2)
              );

              if (`+y+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+m+`),
                  getX(batch, xR, xC, `+m+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+m+`, xR, xC),
                  getX(batch, `+m+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(v===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+m+`, d2),
                getW(wR, wC, `+m+` + 1, d2),
                getW(wR, wC, `+m+` + 2, d2)
              );

              if (`+y+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+m+`),
                  getX(batch, xR, xC, `+m+` + 1),
                  getX(batch, xR, xC, `+m+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+m+`, xR, xC),
                  getX(batch, `+m+` + 1, xR, xC),
                  getX(batch, `+m+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+D+`
        `+R+`
        setOutput(result);
      }
    `},Nee=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,f=e.filterDepth,h=e.filterHeight,m=e.filterWidth,v=4*Math.floor(e.inChannels/4),y=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+o+", "+a+", "+i+`);
      const ivec3 pads = ivec3(`+t+", "+n+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+f+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+h+`; wR++) {
            int xR = xRCorner + wR * `+u+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+m+`; wC++) {
              int xC = xCCorner + wC * `+c+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+v+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(y===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+v+`) *
                  getW(wF, wR, wC, `+v+`, d2);
              } else if (`+(y===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+v+`),
                  getX(batch, xF, xR, xC, `+v+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+v+`, d2),
                  getW(wF, wR, wC, `+v+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(y===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+v+`),
                  getX(batch, xF, xR, xC, `+v+` + 1),
                  getX(batch, xF, xR, xC, `+v+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+v+`, d2),
                  getW(wF, wR, wC, `+v+` + 1, d2),
                  getW(wF, wR, wC, `+v+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},AD=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,a=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,f=e.dilationHeight,h=e.dilationWidth,m=e.filterHeight,v=e.filterWidth,y=e.outChannels/e.inChannels,x="",w="";n&&(x=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`
          float activation(float x) {
            `+n+`
          }
        `,w="result = activation(result);");var S=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+x+`

      const ivec2 strides = ivec2(`+u+", "+c+`);
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+y+`;
        int q = d2 - d1 * `+y+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+m+`; wR++) {
          int xR = xRCorner + wR * `+f+`;

          if (xR < 0 || xR >= `+o+`) {
            continue;
          }

          for (int wC = 0; wC < `+v+`; wC++) {
            int xC = xCCorner + wC * `+h+`;

            if (xC < 0 || xC >= `+a+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+S+`
        `+w+`
        setOutput(result);
      }
    `},ND=function(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,a=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,f=e.dilationHeight,h=e.dilationWidth,m=e.filterHeight,v=e.filterWidth,y=v,x="int xR; int xC; int xCOffset;",w=0;w<m;w++)for(var S=0;S<v;S++)x+=`
          vec4 xTexelR`+w+"C"+2*S+` = vec4(0.);
          vec4 wR`+w+"C"+S+` = vec4(0.);
          vec4 xR`+w+"C"+S+" = vec4(0.);";for(w=0;w<m;w++)for(var E=0;E<y;E++){if(x+=`
          xR = xRCorner + `+w*f+`;
          xC = xCCorner + `+(S=2*E)*h+`;
        `,c===1){if(S<v&&(x+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+a+`) {
                    xTexelR`+w+"C"+S+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+a+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+a+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+w+"C"+S+" = vec4(previous.zw, xTexelR"+w+"C"+S+`.xy);
                } else {
                  xR`+w+"C"+S+" = vec4(0, 0, xTexelR"+w+"C"+S+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+o+" && xC >= 0 && xC < "+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xR`+w+"C"+S+" = xTexelR"+w+"C"+S+`;
              `,S+1<v)){var R=s%2==0?v4(h):h;h%2==0&&s%2==1||h%2!=0&&s%2!=1?(x+=`
                  xCOffset = xC + `+s%2+" + "+R+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+a+`) {
                    xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,h>1&&(x+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+o+` &&
                      xCOffset >= 0 && xCOffset < `+a+`) {
                      xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+w+"C"+S+` = vec4(0.);
                    }
                  `),x+=`
                  xR`+w+"C"+(S+1)+` = vec4(
                    xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.xy);
                `):x+=`
                  xCOffset = xC + `+R+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+a+`) {
                    xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+w+"C"+(S+1)+" = xTexelR"+w+"C"+(S+2)+`;
                `}}else S<v&&(x+=`
              if(xR >= 0 && xR < `+o+`) {
            `,s%2==1?(x+=`
                xCOffset = xC + 1 - `+c+`;
                if(xCOffset >= 0 && xCOffset < `+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+a+`) {
                  xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+w+"C"+(S+2)+` = vec4(0.);
                }

                xR`+w+"C"+S+` = vec4(
                  xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.zw);
              `,S+1<v&&(x+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+c+`;
                  if(xCOffset >= 0 && xCOffset < `+a+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+w+"C"+(S+1)+" = vec4(xTexelR"+w+"C"+(S+2)+`.xy, final.xy);
                `)):(x+=`
                if(xC >= 0 && xC < `+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xCOffset = xC + `+c+`;
                if(xCOffset >= 0 && xCOffset < `+a+`) {
                  xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+w+"C"+(S+2)+` = vec4(0.);
                }

                xR`+w+"C"+S+` = vec4(
                  xTexelR`+w+"C"+S+".xy, xTexelR"+w+"C"+(S+2)+`.xy);
              `,S+1<v&&(x+=`
                  xR`+w+"C"+(S+1)+` = vec4(
                    xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.zw);
                `)),x+="}");S<v&&(x+=`
            vec4 wTexelR`+w+"C"+S+" = getW("+w+", "+S+`, d1, q);
            wR`+w+"C"+S+" = vec4(wTexelR"+w+"C"+S+".xz, wTexelR"+w+"C"+S+`.xz);
          `,S+1<v&&(x+=`
              vec4 wTexelR`+w+"C"+(S+1)+" = getW("+w+", "+(S+1)+`, d1, q);
              wR`+w+"C"+(S+1)+` =
                vec4(wTexelR`+w+"C"+(S+1)+".xz, wTexelR"+w+"C"+(S+1)+".xz);"))}for(w=0;w<m;w++)for(S=0;S<v;S++)x+="dotProd += xR"+w+"C"+S+" * wR"+w+"C"+S+";";var D="",A="";n&&(D=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+n+`
        }`:`vec4 activation(vec4 x) {
          `+n+`
        }`,A="result = activation(result);");var N=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+D+`

      const ivec2 strides = ivec2(`+u+", "+c+`);
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+x+`

        vec4 result = dotProd;
        `+N+`
        `+A+`
        setOutput(result);
      }
    `},kee=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],i=e[1],s=e[2],u=e[3],c=t[0],f=n[0],h=n[1];this.outputShape=[c,f,h,u];var m=r==="bilinear"?1:0,v=[i-1+".0",s-1+".0"],y=v[0],x=v[1],w=f>1?[""+(i-1)/(f-1),"(y2-y1) * height_ratio","y1*"+y+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+y],S=w[0],E=w[1],R=w[2],D=h>1?[""+(s-1)/(h-1),"(x2-x1) * width_ratio","x1*"+x+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+x],A=D[0],N=D[1],k=D[2];this.userCode=`
      const float height_ratio = float(`+S+`);
      const float width_ratio = float(`+A+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+a+`) {
          return;
        }

        float height_scale = `+E+`;
        float width_scale = `+N+`;

        float in_y = `+R+`;
        if( in_y < 0.0 || in_y > `+y+` ) {
          setOutput(float(`+o+`));
          return;
        }
        float in_x = `+k+`;
        if( in_x < 0.0 || in_x > `+x+` ) {
          setOutput(float(`+o+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+m+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},Mee=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],a=n?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(n?"return "+o+" -i - 1;":"return i;")+`
      }

      void main() {
        `+Qt(r)+` coords = getOutputCoords();
        int end = `+kD(r,"coords")+`;
        float val = 0.0;
        for (int i = `+o+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+a+` end) {
            continue;
          }
          if (idx == end && `+t+`) {
            continue;
          }
          `+kD(r,"coords")+` = idx;
          val += getX(`+(function(i,s){if(i===1)return""+s;if(i===2)return s+".x, "+s+".y";if(i===3)return s+".x, "+s+".y, "+s+".z";if(i===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+i+" is not yet supported")})(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function kD(e,t){if(e===1)return""+t;if(e===2)return t+".y";if(e===3)return t+".z";if(e===4)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Iee=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=lf.DENSE;var t=jd(e),n=cr();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+el(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+n.output+` = result;
      }
    `},Oee=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=lf.DENSE;var t=jd(e),n=cr();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+el(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+n.output+` = result;
      }
    `},Pee=(function(){function e(t,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+n+`;
      int offset_h = imod(h, `+n+`);
      int in_w = w / `+n+`;
      int offset_w = imod(w, `+n+`);
      int offset_d = (offset_h * `+n+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e})(),jee=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},Bee=function(e){this.variableNames=["A"],this.outTexUsage=ro.DOWNLOAD;var t=cr();this.outputShape=e,this.userCode=`
      `+Y4+`

      void main() {
        float x = getAAtOutCoords();
        `+t.output+` = encode_float(x);
      }
    `},Fee=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=ro.DOWNLOAD;var t=cr();this.outputShape=e,this.userCode=`
      `+Y4+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+t.output+` = encode_float(x);
      }
    `},Lee=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"];var r=cr(),o=t[0],a=t[1];this.outputShape=e;var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode=`
      `+r2(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+a+`;
        int c = imod(flatIndex, `+a+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+a+".0, "+o+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+i+`, 0., 0., 0.);
      }
    `},zee=function(e,t,n){n===void 0&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=cr(),o=t[0],a=t[1];this.outputShape=e;var i="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var f=2*u+c;i+=`
          localCoords = coords;
          if(localCoords[2] + `+c+" < "+e[2]+`) {
            localCoords[2] += `+c+`;
            if(localCoords[1] + `+u+" < "+e[1]+`) {
              localCoords[1] += `+u+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+a+`;
              c = imod(flatIndex, `+a+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+a+".0, "+o+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+f+`] = values[0];
              } else if(offset == 1) {
                result[`+f+`] = values[1];
              } else if(offset == 2) {
                result[`+f+`] = values[2];
              } else {
                result[`+f+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+r2(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+i+`

        `+r.output+" = "+s+`;
      }
    `},Uee="return real * expR - imag * expI;",Vee="return real * expI + imag * expR;",MD=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+o+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+a+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},Hee=(function(){function e(t,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,o){n.valueLoc==null&&(n.valueLoc=r.getUniformLocationNoThrow(o,"value")),r.gl.uniform1f(n.valueLoc,t)}},e})(),Wee=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=Qt(this.rank),a=(function(i,s){var u=i.length;if(u>4)throw Error("Gather for rank "+u+" is not yet supported");if(u===1)return"int(getIndices(resRC))";for(var c=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],h=0;h<i.length;h++)h===s?f.push("int(getIndices("+c[h]+"))"):f.push(""+c[h]);return f.join()})(e,n);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+a+`));
      }
    `},$ee=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=Qt(t.length),o=Qt(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+o+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+a+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function Gee(e,t){var n=cr();return UJ(e,t,n.version+`
    precision highp float;
    `+n.attribute+` vec3 clipSpacePos;
    `+n.attribute+` vec2 uv;
    `+n.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function qee(e,t){return GJ(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Xee(e,t){return qJ(e,t,new Uint16Array([0,1,2,2,1,3]))}function Ff(e,t,n,r,o,a,i){YJ(n,r);var s=XJ(e,t),u=e.TEXTURE_2D;return Ge(e,t,(function(){return e.bindTexture(u,s)})),Ge(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),Ge(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),Ge(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),Ge(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),Ge(e,t,(function(){return e.texImage2D(u,0,o,n,r,0,a,i,null)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function Yee(e,t,n,r,o){var a=Wv(n,r);return Ff(e,t,a[0],a[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function Kee(e,t,n,r,o){var a=Wv(n,r);return Ff(e,t,a[0],a[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function Qee(e,t,n,r,o){var a=Wv(n,r);return Ff(e,t,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Jee(e,t,n,r,o){var a=Bf(n,r);return Ff(e,t,a[0],a[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Zee(e,t,n,r,o){var a=Bf(n,r);return Ff(e,t,a[0],a[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function ete(e,t,n,r){return Ge(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),bD(e,t,n,"clipSpacePos",r,3,20,0)&&bD(e,t,n,"uv",r,2,20,12)}function tte(e,t,n,r,o,a,i){var s,u,c;Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),a instanceof Uint8Array?(s=new Uint8Array(r*o*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(r*o*4),u=e.FLOAT,c=i.internalFormatPackedFloat),s.set(a),Ge(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,r,o,0,e.RGBA,u,s)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function nte(e,t,n,r){Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?Ge(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):Ge(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),Ge(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function rte(e,t,n,r,o){var a=e.createBuffer();Ge(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var i=16*n*r;return Ge(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),Ge(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),Ge(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}function ote(e,t,n){var r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function ate(e,t,n,r,o){var a=Wv(n,r),i=a[0],s=a[1],u=new Uint8Array(n*r*4);return Ge(e,t,(function(){return e.readPixels(0,0,i,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function ite(e,t,n,r,o,a,i,s){var u=e,c=new Float32Array((function(f,h){var m=Bf(f,h);return m[0]*m[1]*4})(a,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function ste(e,t,n,r){var o=new Float32Array(n*r*4);return Ge(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,o)})),o}var lte=(function(){function e(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=ge().getNumber("WEBGL_VERSION");t!=null?(this.gl=t,jJ(n,t)):this.gl=ja(n);var r="WEBGL_color_buffer_float";if(ge().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=yp(this.gl,this.debug,"OES_texture_float"),No(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=yp(this.gl,this.debug,"OES_texture_half_float");else if(ge().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),No(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=yp(this.gl,this.debug,"EXT_color_buffer_half_float");else if(ge().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",No(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!No(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=qee(this.gl,this.debug),this.indexBuffer=Xee(this.gl,this.debug),this.framebuffer=KJ(this.gl,this.debug),this.textureConfig=qw(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return ge().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var t=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var n=this.gl;Ge(n,this.debug,(function(){return n.finish()})),Ge(n,this.debug,(function(){return n.bindFramebuffer(n.FRAMEBUFFER,null)})),Ge(n,this.debug,(function(){return n.deleteFramebuffer(t.framebuffer)})),Ge(n,this.debug,(function(){return n.bindBuffer(n.ARRAY_BUFFER,null)})),Ge(n,this.debug,(function(){return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null)})),Ge(n,this.debug,(function(){return n.deleteBuffer(t.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(t,n){return this.throwIfDisposed(),Yee(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(t,n){return this.throwIfDisposed(),Kee(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(t,n){return this.throwIfDisposed(),Qee(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(t,n){this.throwIfDisposed(),nte(this.gl,this.debug,t,n)},e.prototype.uploadDenseMatrixToTexture=function(t,n,r,o){this.throwIfDisposed(),tte(this.gl,this.debug,t,n,r,o,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(t,n){return this.throwIfDisposed(),Zee(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(t,n){return this.throwIfDisposed(),Jee(this.gl,this.debug,t,n,this.textureConfig)},e.prototype.deleteMatrixTexture=function(t){var n=this;this.throwIfDisposed(),this.outputTexture===t&&(xD(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Ge(this.gl,this.debug,(function(){return n.gl.deleteTexture(t)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,n,r){var o=this;return this.downloadMatrixDriver(t,(function(){return ate(o.gl,o.debug,n,r,o.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(t,n,r,o,a,i){return ite(this.gl,t,0,0,0,a,i,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(t,n){return ote(this.gl,t,n)},e.prototype.createBufferFromTexture=function(t,n,r){this.bindTextureToFrameBuffer(t);var o=rte(this.gl,this.debug,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),o},e.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},e.prototype.createFence=function(t){var n,r,o=this;if(ge().getBool("WEBGL_FENCE_API_ENABLED")){var a=t,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),r=function(){var s=a.clientWaitSync(i,0,0);return s===a.ALREADY_SIGNALED||s===a.CONDITION_SATISFIED},n=i}else ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=function(){return o.isQueryAvailable(n,ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:n,isFencePassed:r}},e.prototype.downloadMatrixFromPackedTexture=function(t,n,r){var o=this;return this.downloadMatrixDriver(t,(function(){return ste(o.gl,o.debug,n,r)}))},e.prototype.createProgram=function(t){this.throwIfDisposed();var n=this.gl,r=VJ(n,this.debug,t),o=Gee(n,this.debug),a=WJ(n,this.debug);return Ge(n,this.debug,(function(){return n.attachShader(a,o)})),Ge(n,this.debug,(function(){return n.attachShader(a,r)})),$J(n,this.debug,a),this.debug&&p0(n,this.debug,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=ete(n,this.debug,this.program,this.vertexBuffer)),a},e.prototype.deleteProgram=function(t){var n=this;this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&Ge(this.gl,this.debug,(function(){return n.gl.deleteProgram(t)}))},e.prototype.setProgram=function(t){var n=this;this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&p0(this.gl,this.debug,this.program),Ge(this.gl,this.debug,(function(){return n.gl.useProgram(t)}))},e.prototype.getUniformLocation=function(t,n,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?JJ(this.gl,this.debug,t,n):ZJ(this.gl,t,n)},e.prototype.getAttributeLocation=function(t,n){var r=this;return this.throwIfDisposed(),Ge(this.gl,this.debug,(function(){return r.gl.getAttribLocation(t,n)}))},e.prototype.getUniformLocationNoThrow=function(t,n){return this.throwIfDisposed(),this.gl.getUniformLocation(t,n)},e.prototype.setInputMatrixTexture=function(t,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),eZ(this.gl,this.debug,this.program,t,n,r)},e.prototype.setOutputMatrixTexture=function(t,n,r){this.setOutputMatrixTextureDriver(t,r,n)},e.prototype.setOutputPackedMatrixTexture=function(t,n,r){this.throwIfDisposed();var o=Bf(n,r),a=o[0],i=o[1];this.setOutputMatrixTextureDriver(t,a,i)},e.prototype.setOutputMatrixWriteRegion=function(t,n,r,o){this.setOutputMatrixWriteRegionDriver(r,t,o,n)},e.prototype.setOutputPackedMatrixWriteRegion=function(t,n,r,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&p0(this.gl,this.debug,this.program),bp(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),Ge(t,this.debug,(function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),Ge(this.gl,this.debug,(function(){return t.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=yp(this.gl,this.debug,ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.createQuery();return t.beginQuery(n.TIME_ELAPSED_EXT,r),r}var o=this.getQueryTimerExtensionWebGL1(),a=o.createQueryEXT();return o.beginQueryEXT(o.TIME_ELAPSED_EXT,a),a},e.prototype.endQuery=function(){if(ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(t){return Ue(this,void 0,void 0,(function(){var n=this;return Ve(this,(function(r){switch(r.label){case 0:return[4,hD((function(){return n.disposed||n.isQueryAvailable(t,ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return r.sent(),[2,this.getQueryTime(t,ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(t,n){if(n===0)return null;if(n===2){var r=this.gl;return r.getQueryParameter(t,r.QUERY_RESULT)/1e6}var o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(t,o.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(t,n){if(n===0)return!0;if(n===2){var r=this.gl,o=this.getQueryTimerExtensionWebGL2(),a=r.getQueryParameter(t,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),a&&!this.disjoint}return a=(o=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,o.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),a&&!this.disjoint},e.prototype.pollFence=function(t){var n=this;return new Promise((function(r){n.addItemToPoll((function(){return t.isFencePassed()}),(function(){return r()}))}))},e.prototype.pollItems=function(){for(var t=(function(r){for(var o=0;o<r.length&&r[o]();++o);return o-1})(this.itemsToPoll.map((function(r){return r.isDoneFn}))),n=0;n<=t;++n)(0,this.itemsToPoll[n].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},e.prototype.addItemToPoll=function(t,n){var r=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:n}),this.itemsToPoll.length>1||hD((function(){return r.pollItems(),r.itemsToPoll.length===0}))},e.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),m0(this.gl,this.debug,t,this.framebuffer),this.debug&&bp(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(m0(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&bp(this.gl)):xD(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(t,n){this.bindTextureToFrameBuffer(t);var r=n();return this.unbindTextureToFrameBuffer(),r},e.prototype.setOutputMatrixTextureDriver=function(t,n,r){this.throwIfDisposed();var o=this.gl;m0(o,this.debug,t,this.framebuffer),this.debug&&bp(o),this.outputTexture=t,Ge(o,this.debug,(function(){return o.viewport(0,0,n,r)})),Ge(o,this.debug,(function(){return o.scissor(0,0,n,r)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(t,n,r,o){var a=this;this.throwIfDisposed(),Ge(this.gl,this.debug,(function(){return a.gl.scissor(t,n,r,o)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e})();function ID(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(n,r){var o=n.logicalShape,a=t[r],i=a.shape;if(!Wn(o,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+o+" and "+i+" must match");if(!n.isUniform||!a.isUniform){var s=n.texShape,u=a.isUniform?null:a.texData.texShape;if(!Wn(s,u))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+u+" must match")}}))}var ute=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,o=n.inChannels,a=n.strideWidth,i=n.strideHeight,s=n.padInfo,u=n.outWidth,c=n.dilationWidth,f=n.dilationHeight,h=n.dataFormat,m=s.left,v=s.top,y=o*r,x=cr(),w=h==="channelsLast",S=w?0:1,E=w?1:2,R="",D=0;D<=1;D++)for(var A=0;A<=1;A++)R+=`
          blockIndex = rc.y + `+A+`;
          pos = rc.x + `+D+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+u+")) * "+i+" - "+v+`;
            d0 = offsetY + `+f+" * (pos / "+y+`);

            if(d0 < `+t[S]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+u+".) * "+a+". - "+m+`.);
              d1 = offsetX + `+c+" * (int(mod(float(pos), "+y+".) / "+o+`.));

              if(d1 < `+t[E]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+o+`.));

                if (`+w+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*D+A)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*D+A)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+R+`

        `+x.output+` = result;
      }
    `},cte=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var a,i=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";a=o===.5?"inversesqrt("+u+")":o===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+i+"; j <= "+i+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+a+`;
        setOutput(val);
      }
    `},dte=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+t+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+t+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+n+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+o+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+o+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},fte=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,i=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";a=o===.5?"inversesqrt("+u+")":o===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+i+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+i+"; j <= "+i+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+a+`;
        setOutput(result);
      }
    `},hte=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,a=e.effectiveFilterWidth,i=o-1-e.padInfo.top,s=a-1-e.padInfo.left,u=o*a-1;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+o+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+t+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+a+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+n+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+u+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+a+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},pte=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,f=s-1-e.padInfo.front,h=u-1-e.padInfo.top,m=c-1-e.padInfo.left,v=s*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(`+f+", "+h+", "+m+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+o+`) {
          float dyD = float(dyDCorner + wD) / `+t+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+u+`;
              wR += `+a+`) {
            float dyR = float(dyRCorner + wR) / `+n+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+c+`;
                wC += `+i+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+v+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+u+" * "+c+` +
                  wR * `+c+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},x0=function(e,t,n,r,o,a,i){n===void 0&&(n=!1),r===void 0&&(r=!1),o===void 0&&(o=!1),a===void 0&&(a=null),i===void 0&&(i=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),c=n?"i * 2, rc.y":"rc.y, i * 2",f=r?"rc.z, i * 2":"i * 2, rc.z",h=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",y="";a&&(v=i?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+a+`
        }`:`vec4 activation(vec4 x) {
          `+a+`
        }`,y="result = activation(result);");var x=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+v+`

      const float sharedDimension = `+u+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+u+`; i++) {
          vec4 a = getMatrixA(rc.x, `+c+`);
          vec4 b = getMatrixB(rc.x, `+f+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+h[0]+" * "+m[0]+`);
          result += (`+h[1]+" * "+m[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+x+`

        `+y+`

        setOutput(result);
      }
    `},mte=(function(){function e(t,n,r){this.variableNames=["probs"],this.outputShape=[t,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(n-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(n-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;return function(r,o){n.seedLoc==null&&(n.seedLoc=r.getUniformLocation(o,"seed")),r.gl.uniform1f(n.seedLoc,t)}},e})(),vte=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+n+`),
                      float(index == coords.y)));
      }
    `},gte=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(t===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var n=Ir("rc",t),r=Qt(t),o=(function(s,u,c){if(s===1)return"rc > "+u[0];for(var f="",h=s-2;h<s;h++)f+=c[h]+" >= "+u[h],h<s-1&&(f+="||");return f})(t,e,n),a=(function(s,u,c,f){if(s===1)return"";var h=f.slice(-2);return`
    int r = `+h[0]+`;
    int c = `+h[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+u+`;
    bool rEdge = rp1 >= `+c+`;
  `})(t,e[e.length-1],e[e.length-2],n),i=(function(s,u){var c=s.length,f=(function(h,m){for(var v=[],y=0;y<=1;y++)for(var x=0;x<=1;x++){for(var w=(y===0?"r":"rp1")+", "+(x===0?"c":"cp1"),S=2;S<h;S++)w=m[m.length-1-S]+","+w;v.push(w)}return v})(c,u);return c===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+f[0]+`),
          cEdge ? 0. : getA(`+f[1]+`),
          rEdge ? 0. : getA(`+f[2]+`),
          rEdge || cEdge ? 0. : getA(`+f[3]+")"})(e,n);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+o+`) {
            setOutput(vec4(0));
          } else {
            `+a+`

            setOutput(vec4(`+i+`));
          }
        }
      `}},yte=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(u,c){return u[0]+e[c]+u[1]}));var r=e.length,o=Qt(r),a=t.map((function(u){return u[0]})).join(","),i=t.map((function(u,c){return u[0]+e[c]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+o+" start = "+o+"("+a+`);
      `+o+" end = "+o+"("+i+`);

      void main() {
        `+o+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+n+`));
        } else {
          `+o+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+a+`;
        int end = `+i+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+n+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},bte=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(w,S){return w[0]+e[S]+w[1]}));for(var r=e.length,o=Qt(r),a=t.map((function(w){return w[0]})).join(","),i=t.map((function(w,S){return w[0]+e[S]})).join(","),s=Ir("rc",r),u=Ir("source",r),c=s[r-1]+" < "+this.outputShape[r-1],f=r===1?"source":"vec2("+u.slice(-2).join()+")",h=[o+" rc = outputLoc;",s[r-1]+` += 1;
       if(`+c+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+s[r-2]+` += 1;
       if(`+s[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+s[r-1]+` += 1;
         if(`+c+") {"],m=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",v="",y=0,x=r===1?2:4;y<x;y++)v+=`
        `+h[y]+`
        if (`+m+`) {
          result[`+y+"] = float("+n+`);
        } else {
          `+o+` source = rc - start;
          result[`+y+"] = getChannel(getX("+u.join()+"), "+f+`);
        }
      `;v+=r===1?"} ":"}}",this.userCode=`
      const `+o+" start = "+o+"("+a+`);
      const `+o+" end = "+o+"("+i+`);

      void main() {
        `+o+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+v+`
        setOutput(result);
      }
    `},w0=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,f=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;var m=t==="avg",v="0.0";if(m||(v="-1.0 / 1e-20"),n)this.userCode=`
        const ivec2 strides = ivec2(`+o+", "+a+`);
        const ivec2 pads = ivec2(`+f+", "+h+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+u+`;
              wR += `+i+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+c+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+c+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(y="avgValue / count");var x=4*Math.floor(r/4),w=r%4,S=`
      if (`+m+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+o+", "+a+`);
      const ivec2 pads = ivec2(`+f+", "+h+`);
      const float initializationValue = `+v+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+v+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+u+`;
            wR += `+i+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+x+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+S+`
          }

          int xC = xCCorner + `+x+`;
          if (`+(w===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+S+`
          } else if (`+(w===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+S+`
          } else if (`+(w===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+S+`
          }
        }
        setOutput(`+y+`);
      }
    `}},S0=function(e,t,n){if(this.variableNames=["x"],t==="avg"&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,f=e.effectiveFilterDepth,h=e.effectiveFilterHeight,m=e.effectiveFilterWidth,v=e.padInfo.front,y=e.padInfo.top,x=e.padInfo.left;this.outputShape=e.outShape;var w=t==="avg",S="0.0";if(w||(S="-1.0 / 1e-20"),n)this.userCode=`
        const ivec3 strides =
            ivec3(`+o+", "+a+", "+i+`);
        const ivec3 pads = ivec3(`+v+", "+y+", "+x+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+f+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+h+`;
                wR += `+u+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+m+`;
                  wC += `+c+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+h+" * "+m+` +
                      wR * `+m+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var E=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(E="avgValue / count");var R=4*Math.floor(r/4),D=r%4,A=`
      if (`+w+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+o+", "+a+", "+i+`);
      const ivec3 pads = ivec3(`+v+", "+y+", "+x+`);
      const float initializationValue = `+S+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+S+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+f+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+h+`;
            wR += `+u+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+R+`; wC += 4) {
              int xC = xCCorner + wC * `+c+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+c+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+c+`, ch)
              );

              `+A+`
            }

            int xC = xCCorner + `+R+`;
            if (`+(D===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+A+`
            } else if (`+(D===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                initializationValue,
                initializationValue
              );

              `+A+`
            } else if (`+(D===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+c+`, ch),
                initializationValue
              );

              `+A+`
            }
          }
          setOutput(`+E+`);
        }
      }
    `}},xte=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,a=Math.ceil(o/n);this.outputShape=[r,a];var i="0.0",s="";t==="prod"?i="1.0":t==="min"?(i="1.0 / 1e-20",s="min"):t==="max"&&(i="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="sum"?u="sumValue":t==="prod"?u="prodValue":t==="all"?u="allValue":t==="any"&&(u="anyValue");var c=4*Math.floor(n/4),f=n%4,h=`
      if (`+(t==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(t==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,m="vec4";t==="all"?(i="1.0",h=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):t==="any"&&(i="0.0",h=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");var v="";o%n>0&&(v=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+i+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+v+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        vec4 minMaxValue = vec4(`+i+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+c+`; i += 4) {
          int inIdx = inOffset + i;
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+h+`
        }

        int inIdx = inOffset + `+c+`;
        if (`+(f===1)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+h+`
        } else if (`+(f===2)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+h+`
        } else if (`+(f===3)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+h+`
        }
        setOutput(`+u+`);
      }
    `},wte=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+=`
        `+o+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+el(["r","c","d"],t)+`
      return ivec3(r, c, d);
    }
  
      `+r2(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+n+`

        setOutput(result);
      }
    `},Ste=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],a=r[2],i=e.shape,s=i[1],u=i[2],c=[n&&s>1?o-1:o,n&&u>1?a-1:a],f=[n&&s>1?s-1:s,n&&u>1?u-1:u],h=c[0]/f[0],m=c[1]/f[1],v=1/h,y=1/m,x=2*Math.ceil(v)+2,w=2*Math.ceil(y)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+h+`);
        const float widthScale = float(`+m+`);

        const float invHeightScale = float(`+v+`);
        const float invWidthScale = float(`+y+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+w+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(o-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(a-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},Cte=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?i-1:i],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`);
      const vec2 inputShapeRC = vec2(`+a+".0, "+i+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},Ete=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?i-1:i],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`,
          `+u[1]/c[1]+`);
      const vec3 inputShapeRC = vec3(`+a+".0, "+i+`.0,
                                     `+i+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(n-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},Rte=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],a=r[2],i=e.shape,s=i[1],u=i[2],c=[n&&s>1?o-1:o,n&&u>1?a-1:a],f=[n&&s>1?s-1:s,n&&u>1?u-1:u],h=c[0]/f[0],m=c[1]/f[1],v=1/h,y=1/m,x=2*Math.ceil(v)+2,w=2*Math.ceil(y)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+h+`);
        const float widthScale = float(`+m+`);

        const float invHeightScale = float(`+v+`);
        const float invWidthScale = float(`+y+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+w+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float sourceFracRow =
              float(`+c[0]+`) *
                (float(dyR) / float(`+f[0]+`));

            float sourceFracCol =
                float(`+c[1]+`) *
                  (float(dyC) / float(`+f[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+o+`) - 1),
                `+n+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+a+`) - 1),
                `+n+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},_te=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?i-1:i],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`);
      const vec2 inputShapeRC = vec2(`+a+".0, "+i+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+f+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},Tte=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,n!==1){var r=e.map((function(a,i){return(function(s){return t.indexOf(s)!==-1&&e[s]!==1?e[s]+" - coords["+s+"] - 1":"coords["+s+"]"})(i)})).join(","),o=Qt(n);this.userCode=`
      void main() {
        `+o+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},Dte=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=Ir("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],i=Qt(n);function s(u){var c=e.map((function(f,h){return(function(m,v){return t.indexOf(m)!==-1&&e[m]!==1?e[m]+" - "+v[m]+" - 1":""+v[m]})(h,u)}));return"getChannel(getX("+c.join(",")+"), vec2("+c.slice(-2).join(",")+"))"}this.userCode=n===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+o+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+i+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+(function(u){return s(u)})(r.slice())+`;
          if(`+o+`){
            result.g = `+(function(u){return u[n-1]="("+u[n-1]+" + 1)",s(u)})(r.slice())+`;
          }
          if(`+a+`) {
            result.b = `+(function(u){return u[n-2]="("+u[n-2]+" + 1)",s(u)})(r.slice())+`;
            if(`+o+`) {
              result.a = `+(function(u){return u[n-1]="("+u[n-1]+" + 1)",u[n-2]="("+u[n-2]+" + 1)",s(u)})(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},OD=function(e,t,n,r,o,a,i){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=Qt(o.length),u=Qt(a.length),c="";n===1?c="i":n===2&&(c="i, j");var f="getIndices("+c+")",h="";r===1?h="i":r===2&&(h="i, coords[1]");var m="getUpdates("+h+")",v=t>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+o+`);

        void main() {
          `+u+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+t+`; j++) {
              int index = round(`+f+`);
              flattenedIndex += index * `+v+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+m+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},Ate=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,a=e.numSegments,i=a*Math.ceil(o/n);this.outputShape=[r,i];var s=4*Math.floor(n/4),u=n%4,c=`
        sumValue += dot(values, segFilter);
    `,f="";o%n>0&&(f=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `);var h="";o%n>0&&(h=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+f+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+h+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+a+")) * float("+n+`));
        int currentSeg = int(mod(float(outIdx), float(`+a+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+c+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(u===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+c+`
        } else if (`+(u===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+c+`
        } else if (`+(u===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+c+`
        }
        setOutput(sumValue);
      }
    `},Nte=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(n===1)o="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[],u=0;u<t.length;u++)s.push(""+a[u]),u<e&&i.push(""+a[u]);r=i.join(),o=s.join()}var c=Qt(n);this.userCode=`
      void main() {
        `+c+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+o+`));
        } else {
          setOutput(getB(`+o+`));
        }
      }
    `},kte=(function(){function e(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n,r=Qt(this.rank),o="uniform int start["+this.rank+"];",a=(function(i){if(i===1)return"sourceLoc";if(i<=6)return C0.slice(0,i).map((function(s){return"sourceLoc."+s})).join(",");throw Error("Slicing for rank "+i+" is not yet supported")})(this.rank);n=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+t.map((function(i,s){return"sourceLoc."+C0[s]+" = start["+s+"] + coords."+C0[s]+";"})).join(`
`)+`
      `,this.userCode=`
      `+o+`
      void main() {
        `+n+`
        setOutput(getSource(`+a+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,o){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(o,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e})(),C0=["x","y","z","w","u","v"],Mte=(function(){function e(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var n=Qt(this.rank),r=Ir("coords",this.rank),o=Ir("sourceLoc",this.rank),a=this.rank===1?"sourceLoc":"vec2("+o.slice(-2).join()+")",i="getChannel(getSource("+o.join()+"), "+a+")",s=`
      result.x = `+i+`;
      if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
        ++`+o[this.rank-1]+`;
        result.y = `+i+`;
        --`+o[this.rank-1]+`;
      }
    `,u=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+t[this.rank-2]+`) {
        ++`+o[this.rank-2]+`;
        result.z = `+i+`;
        if (++`+r[this.rank-1]+" < "+t[this.rank-1]+`) {
          ++`+o[this.rank-1]+`;
          result.w = `+i+`;
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            `+n+"("+t.map((function(f,h){return"start["+h+"]"})).join()+");":t.map((function(f,h){return o[h]+" = "+r[h]+" + start["+h+"];"})).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+n+` coords = getOutputCoords();
        `+n+` sourceLoc;
        `+c+`
        vec4 result = vec4(0.);
        `+s+`
        `+u+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var n=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(r,o){n.startLoc==null&&(n.startLoc=r.getUniformLocationNoThrow(o,"start"),n.startLoc==null)||r.gl.uniform1iv(n.startLoc,t)}},e})(),Ite=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=Qt(n.length),a=Qt(n.length),i="";if(r===1)i="coords * strides + begin";else{var s=0;i=n.map((function(u,c){return s++,n.length===1?"coords * strides["+c+"] + begin["+c+"]":"coords["+(s-1)+"] * strides["+c+"] + begin["+c+"]"})).join(",")}this.userCode=`
      `+o+" begin = "+o+"("+e+`);
      `+o+" strides = "+o+"("+t+`);

      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+i+`));
      }
    `},Ote=(function(){function e(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(t,n,r){var o,a=PD(n,r),i=jD(t,a,r);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[i].shift();return this.usedTextures[i].push(s),s}return this.numUsedTextures++,this.log(),a===Zr.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):a===Zr.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):a===Zr.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):a===Zr.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):a===Zr.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[i].push(o),o},e.prototype.releaseTexture=function(t,n,r,o){if(this.freeTextures!=null){var a=jD(n,PD(r,o),o);a in this.freeTextures||(this.freeTextures[a]=[]),this.freeTextures[a].push(t),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[a],s=i.indexOf(t);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(s,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var t=this;if(this.freeTextures!=null){for(var n in this.freeTextures)this.freeTextures[n].forEach((function(r){t.gpgpu.deleteMatrixTexture(r)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(o){t.gpgpu.deleteMatrixTexture(o)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e})();function PD(e,t){if(e===ro.UPLOAD)return Zr.PACKED_2X2_FLOAT32;if(e===ro.RENDER||e==null)return(function(n){return ge().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?n?Zr.PACKED_2X2_FLOAT32:Zr.UNPACKED_FLOAT32:n?Zr.PACKED_2X2_FLOAT16:Zr.UNPACKED_FLOAT16})(t);if(e===ro.DOWNLOAD||e===ro.PIXELS)return Zr.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function jD(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var Pte=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=Qt(this.rank),a=(function(i){var s=i.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+i[0]+")";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],c=[],f=0;f<i.length;f++)c.push("imod("+u[f]+", "+i[f]+")");return c.join()})(e);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+a+`));
      }
    `},jte=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=Qt(this.rank),a=(function(i){var s=i.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],c=new Array(s),f=0;f<i.length;f++)c[i[f]]=u[f];return c.join()})(t);this.userCode=`
    void main() {
      `+o+` resRC = getOutputCoords();
      setOutput(getA(`+a+`));
    }
    `},Bte=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=Qt(this.rank),a=X4("rc",this.rank),i=new Array(this.rank);for(r=0;r<t.length;r++)i[t[r]]=a[r];var s="vec2("+i.slice(-2).join()+")",u="++"+a[this.rank-1]+" < "+n[this.rank-1],c="getChannel(getA("+i.join()+"), "+s+")";this.userCode=`
    void main() {
      `+o+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+c+`;
      if(`+u+`) {
        result[1] = `+c+`;
      }
      --`+a[this.rank-1]+`;
      if(++`+a[this.rank-2]+" < "+n[this.rank-2]+`) {
        result[2] = `+c+`;
        if(`+u+`) {
          result[3] = `+c+`;
        }
      }
      setOutput(result);
    }
    `},o2=1.7580993408473768,a2=1.0507009873554805,vt=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+t+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},aa="if (isnan(x)) return x;",Fte="return x;",BD="return abs(x);",Z4=aa+`
  return (x < 0.0) ? 0.0 : x;
`,eI=aa+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,tI="return (x >= 0.0) ? x : (exp(x) - 1.0);",Lte=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+o2+`;
  float scale = `+a2+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,FD="return -x;",LD="return ceil(x);",zD="return floor(x);",UD="return exp(x);",VD="return exp(x) - 1.0;",zte=aa+`
  return sin(x);
`,Ute=aa+`
  return cos(x);
`,Vte=aa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Hte=aa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,Wte=aa+`
  return atan(x);
`,$te=aa+"return log(x + sqrt(x * x + 1.0));",Gte=aa+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,qte=aa+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Cp="return x;",Xte="return x;",nI=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,rI=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,oI=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,kd=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+t+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},Yte=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=Ir("rc",t),r=Qt(t),o=(function(s,u){if(s===1)return"rc";for(var c="",f=0;f<s;f++)c+=u[f],f<s-1&&(c+=",");return c})(t,n),a=n.slice(-2),i=t<=1?"rc":"vec2("+a.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+o+`);

        setOutput(getChannel(packedInput, `+i+`));
      }
    `},Ep={};function Rp(e,t){if(t===void 0&&(t=!1),e==="linear")return t?Xte:Fte;if(e==="relu")return t?nI:Z4;if(e==="elu")return t?oI:tI;if(e==="relu6")return t?rI:eI;if(e==="prelu")return t?J4:Q4;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var Kte=600,Qte=(function(e){function t(n){var r,o=e.call(this)||this;if(o.pendingRead=new WeakMap,o.pendingDisposal=new WeakSet,o.dataRefCount=new WeakMap,o.numBytesInGPU=0,o.uploadWaitMs=0,o.downloadWaitMs=0,o.warnedAboutMemory=!1,o.pendingDeletes=0,o.disposed=!1,!ge().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(n==null){var a=ja(ge().getNumber("WEBGL_VERSION"));o.binaryCache=((r=ge().getNumber("WEBGL_VERSION"))in Ep||(Ep[r]={}),Ep[r]),o.gpgpu=new lte(a),o.canvas=a.canvas,o.gpgpuCreatedLocally=!0}else o.gpgpu=n,o.binaryCache={},o.gpgpuCreatedLocally=!1,o.canvas=n.gl.canvas;return o.textureManager=new Ote(o.gpgpu),o.numMBBeforeWarning=ge().global.screen==null?1024:ge().global.screen.height*ge().global.screen.width*window.devicePixelRatio*Kte/1024/1024,o.texData=new L4(o,ee),o}return oa(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(n,r,o){if(ge().getBool("DEBUG")&&this.checkNumericalProblems(n),o==="complex64"&&n!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var a={};return this.texData.set(a,{shape:r,dtype:o,values:n,usage:ro.UPLOAD}),a},t.prototype.move=function(n,r,o,a){if(ge().getBool("DEBUG")&&this.checkNumericalProblems(r),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(n,{shape:o,dtype:a,values:r,usage:ro.UPLOAD})},t.prototype.readSync=function(n){var r=this.texData.get(n),o=r.values,a=r.dtype,i=r.complexTensors,s=r.slice,u=r.shape,c=r.isPacked;if(s!=null){var f=void 0;f=c?new kd(u,Cp):new vt(u,Cp);var h=this.runWebGLProgram(f,[{dataId:n,shape:u,dtype:a}],a),m=this.readSync(h.dataId);return this.disposeData(h.dataId),m}if(o!=null)return this.convertAndCacheOnCPU(n);if(a==="string")return o;var v,y,x=this.activeTimers!=null;return x&&(v=ga()),a==="complex64"?y=Bx(i.real.dataSync(),i.imag.dataSync()):y=this.getValuesFromTexture(n),x&&(this.downloadWaitMs+=ga()-v),this.convertAndCacheOnCPU(n,y)},t.prototype.read=function(n){return Ue(this,void 0,void 0,(function(){var r,o,a,i,s,u,c,f,h,m,v,y,x,w,S,E,R,D,A,N,k,M;return Ve(this,(function(I){switch(I.label){case 0:if(this.pendingRead.has(n))return r=this.pendingRead.get(n),[2,new Promise((function(O){return r.push(O)}))];if(o=this.texData.get(n),a=o.values,i=o.shape,s=o.slice,u=o.dtype,c=o.complexTensors,f=o.isPacked,s!=null)return h=void 0,h=f?new kd(i,Cp):new vt(i,Cp),m=this.runWebGLProgram(h,[{dataId:n,shape:i,dtype:u}],u),v=this.read(m.dataId),this.disposeData(m.dataId),[2,v];if(a!=null)return[2,this.convertAndCacheOnCPU(n)];if(!ge().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&ge().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return y=null,u!=="complex64"&&ge().get("WEBGL_BUFFER_SUPPORTED")&&(x=this.decode(n),w=this.texData.get(x.dataId),y=(M=this.gpgpu).createBufferFromTexture.apply(M,[w.texture].concat(jd(i)))),this.pendingRead.set(n,[]),u==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:I.sent(),I.label=2;case 2:return u!=="complex64"?[3,4]:[4,Promise.all([c.real.data(),c.imag.data()])];case 3:return E=I.sent(),R=E[0],D=E[1],S=Bx(R,D),[3,5];case 4:y==null?S=this.getValuesFromTexture(n):(A=We(i),S=this.gpgpu.downloadFloat32MatrixFromBuffer(y,A)),I.label=5;case 5:return x!=null&&this.disposeData(x.dataId),N=this.convertAndCacheOnCPU(n,S),k=this.pendingRead.get(n),this.pendingRead.delete(n),k.forEach((function(O){return O(N)})),this.pendingDisposal.has(n)&&(this.pendingDisposal.delete(n),this.disposeData(n),this.pendingDeletes--),[2,N]}}))}))},t.prototype.checkNumericalProblems=function(n){if(n!=null)for(var r=0;r<n.length;r++){var o=n[r];if(!LJ(o))throw ge().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+o+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+o+" cannot be represented on this device.")}},t.prototype.getValuesFromTexture=function(n){var r,o=this.texData.get(n),a=o.shape,i=o.dtype,s=o.isPacked,u=We(a);if(ge().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var c=this.decode(n),f=this.texData.get(c.dataId),h=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[f.texture].concat(jd(a))).subarray(0,u);return this.disposeData(c.dataId),h}var m=ge().getBool("WEBGL_PACK")&&s===!0,v=m?v0(a):a,y=m?new Fee(v):new Bee(v),x=this.runWebGLProgram(y,[{shape:v,dtype:i,dataId:n}],"float32"),w=this.texData.get(x.dataId),S=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(w.texture,w.texShape[0],w.texShape[1]).subarray(0,u);return this.disposeData(x.dataId),S},t.prototype.time=function(n){return Ue(this,void 0,void 0,(function(){var r,o,a,i,s,u,c;return Ve(this,(function(f){switch(f.label){case 0:return r=this.activeTimers,o=[],a=!1,this.programTimersStack==null?(this.programTimersStack=o,a=!0):this.activeTimers.push(o),this.activeTimers=o,n(),i=Xu(this.activeTimers.map((function(h){return h.query}))).filter((function(h){return h!=null})),s=Xu(this.activeTimers.map((function(h){return h.name}))).filter((function(h){return h!=null})),this.activeTimers=r,a&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return c=f.sent(),u.kernelMs=bJ(c),u.getExtraProfileInfo=function(){return c.map((function(h,m){return{name:s[m],ms:h}})).map((function(h){return h.name+": "+h.ms})).join(", ")},[3,3];case 2:u.kernelMs={error:"WebGL query timers are not supported in this environment."},f.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:ga(),endMs:null}},t.prototype.endTimer=function(n){return ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),n):(n.endMs=ga(),n)},t.prototype.getQueryTime=function(n){return Ue(this,void 0,void 0,(function(){var r;return Ve(this,(function(o){return ge().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(n)]:[2,(r=n).endMs-r.startMs]}))}))},t.prototype.disposeData=function(n){if(!this.pendingDisposal.has(n)){if(this.pendingRead.has(n))return this.pendingDisposal.add(n),void this.pendingDeletes++;if(this.texData.has(n)){this.releaseGPUData(n);var r=this.texData.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(n)}}},t.prototype.releaseGPUData=function(n){var r=this.texData.get(n),o=r.texture,a=r.dtype,i=r.texShape,s=r.usage,u=r.isPacked,c=r.slice,f=c&&c.origDataId||n,h=this.dataRefCount.get(f);h>1?this.dataRefCount.set(f,h-1):(this.dataRefCount.delete(f),o!=null&&(this.numBytesInGPU-=this.computeBytes(i,a),this.textureManager.releaseTexture(o,i,s,u)));var m=this.texData.get(n);m.texture=null,m.texShape=null,m.isPacked=!1,m.slice=null},t.prototype.getTexture=function(n){return this.uploadToGPU(n),this.texData.get(n).texture},t.prototype.getDataInfo=function(n){return this.texData.get(n)},t.prototype.getCPUBackend=function(){return ge().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=ee.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(n,r){var o=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&n.every((function(a){return o.texData.get(a.dataId).texture==null&&a.size<r}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(n,r){var o=this.makeOutput(n.shape,"complex64");return this.texData.get(o.dataId).complexTensors={real:ee.keep(n.clone()),imag:ee.keep(r.clone())},o},t.prototype.real=function(n){return this.texData.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.texData.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,o){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.slice(n,r,o);if(We(o)===0)return er([],o,n.dtype);var a=this.texData.get(n.dataId).isPacked,i=B4(n.shape,r,o);if(a||!i){var s=ge().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Mte(o):new kte(o),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[n],null,u)}return this.uploadToGPU(n.dataId),this.shallowSlice(n,r,o)},t.prototype.shallowSlice=function(n,r,o){var a=this.texData.get(n.dataId),i=this.makeOutput(o,n.dtype),s=this.texData.get(i.dataId);Object.assign(s,a),s.shape=o,s.dtype=n.dtype;var u=F4(r,n.strides);a.slice&&(u+=a.slice.flatOffset),s.slice={flatOffset:u,origDataId:a.slice&&a.slice.origDataId||n.dataId};var c=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,c+1),i},t.prototype.stridedSlice=function(n,r,o,a){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.stridedSlice(n,r,o,a);var i=Jw(r,o,a);if(i.some((function(u){return u===0})))return er([],i);var s=new Ite(r,a,i);return this.compileAndRun(s,[n])},t.prototype.reverse=function(n,r){var o=ge().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Dte(n.shape,r):new Tte(n.shape,r);return this.compileAndRun(o,[n])},t.prototype.concat=function(n,r){if(n[0].dtype==="complex64"){var o=n.map((function(v){return Do(v)})),a=n.map((function(v){return xa(v)}));return Qn(this.concat(o,r),this.concat(a,r))}if(this.shouldExecuteOnCPU(n))return this.cpuBackend.concat(n,r);if(n.length===1)return n[0];if(n.length>ge().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(n.length/2),s=this.concat(n.slice(0,i),r),u=this.concat(n.slice(i),r);return this.concat([s,u],r)}if(ge().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&n[0].rank>1){var c=new Cee(n.map((function(v){return v.shape})),r);return this.compileAndRun(c,n)}var f=Ku(n.map((function(v){return v.shape})),r),h=n.map((function(v){return v.as2D(-1,We(v.shape.slice(r)))})),m=new See(h.map((function(v){return v.shape})));return this.compileAndRun(m,h).reshape(f)},t.prototype.neg=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.neg(n);if(ge().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,FD,n.dtype);var r=new vt(n.shape,FD);return this.compileAndRun(r,[n])},t.prototype.batchMatMul=function(n,r,o,a){var i=o?n.shape[2]:n.shape[1],s=a?r.shape[1]:r.shape[2],u=o?n.shape[1]:n.shape[2],c=n.shape[0];if((i===1||s===1)&&u>1e3){o&&(n=n.transpose([0,2,1])),a&&(r=r.transpose([0,2,1]));var f=s===1?n:n.as3D(c,u,1),h=s===1?2:1,m=s===1?r.as3D(c,1,u):r;return this.multiply(f,m).sum(h,!0)}var v=Jn(n.dtype,r.dtype),y=new x0(n.shape,[c,i,s],o,a);return this.compileAndRun(y,[n,r],v)},t.prototype.fusedBatchMatMul=function(n){var r=n.a,o=n.b,a=n.transposeA,i=n.transposeB,s=n.bias,u=n.activation,c=n.preluActivationWeights,f=a?r.shape[2]:r.shape[1],h=i?o.shape[1]:o.shape[2],m=r.shape[0],v=Jn(r.dtype,o.dtype),y=s!=null,x=c!=null,w=u?Rp(u,!0):null,S=new x0(r.shape,[m,f,h],a,i,y,w,x),E=[r,o];return s&&E.push(s),c&&E.push(c),this.compileAndRun(S,E,v)},t.prototype.multiply=function(n,r){if(n.dtype==="complex64"){var o=this.texData.get(n.dataId),a=this.texData.get(r.dataId),i=new _D(gee,n.shape,r.shape),s=new _D(yee,n.shape,r.shape),u=[this.makeComplexComponentTensorInfo(n,o.complexTensors.real),this.makeComplexComponentTensorInfo(n,o.complexTensors.imag),this.makeComplexComponentTensorInfo(r,a.complexTensors.real),this.makeComplexComponentTensorInfo(r,a.complexTensors.imag)],c=this.compileAndRun(i,u),f=this.compileAndRun(s,u),h=this.complex(c,f);return c.dispose(),f.dispose(),h}if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.multiply(n,r);if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,TD,n.dtype);var m=new dn(TD,n.shape,r.shape);return this.compileAndRun(m,[n,r],n.dtype)},t.prototype.batchNormalization=function(n,r,o,a,i,s){var u=[n,r,o],c=null;s!=null&&(c=s.shape,u.push(s));var f=null;if(i!=null&&(f=i.shape,u.push(i)),ge().getBool("WEBGL_PACK_NORMALIZATION")){var h=new vee(n.shape,r.shape,o.shape,c,f,a);return this.compileAndRun(h,u)}var m=new mee(n.shape,r.shape,o.shape,c,f,a);return this.compileAndRun(m,u)},t.prototype.localResponseNormalization4D=function(n,r,o,a,i){var s=ge().getBool("WEBGL_PACK_NORMALIZATION")?new fte(n.shape,r,o,a,i):new cte(n.shape,r,o,a,i);return this.compileAndRun(s,[n])},t.prototype.LRNGrad=function(n,r,o,a,i,s,u){var c=new dte(r.shape,a,i,s,u);return this.compileAndRun(c,[r,o,n])},t.prototype.tile=function(n,r){if(n.dtype==="string"){var o=this.readSync(n.dataId).map((function(i){return ym(i)}));return G4(dt(n.shape,n.dtype,o),r)}var a=new Pte(n.shape,r);return this.compileAndRun(a,[n])},t.prototype.pad=function(n,r,o){var a=ge().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bte(n.shape,r,o):new yte(n.shape,r,o);return this.compileAndRun(a,[n])},t.prototype.transpose=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.transpose(n,r);var o=ge().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Bte(n.shape,r):new jte(n.shape,r);return this.compileAndRun(o,[n])},t.prototype.gather=function(n,r,o){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.gather(n,r,o);var a=new Wee(n.shape,r.size,o);return this.compileAndRun(a,[n,r])},t.prototype.batchToSpaceND=function(n,r,o){q(n.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var a=r.reduce((function(h,m){return h*m})),i=Em(n.shape,r,a),s=Rm(i.length,r.length),u=_m(n.shape,r,a),c=I4(o,r.length),f=O4(u,o,r.length);return n.reshape(i).transpose(s).reshape(u).slice(c,f)},t.prototype.spaceToBatchND=function(n,r,o){q(n.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var a=r.reduce((function(m,v){return m*v})),i=[[0,0]];i.push.apply(i,o);for(var s=1+r.length;s<n.shape.length;++s)i.push([0,0]);var u=n.pad(i),c=Em(u.shape,r,a,!1),f=Rm(c.length,r.length,!1),h=_m(u.shape,r,a,!1);return u.reshape(c).transpose(f).reshape(h)},t.prototype.reduce=function(n,r,o){var a=n.shape[0],i=n.shape[1],s=g0(i),u=new xte({windowSize:s,inSize:i,batchSize:a},r),c=this.compileAndRun(u,[n],o);return c.shape[1]===1?c:this.reduce(c,r,o)},t.prototype.argReduce=function(n,r,o){o===void 0&&(o=null);var a=n.shape[0],i=n.shape[1];o!=null&&(a=o.shape[0],i=o.shape[1]);var s=g0(i),u=new iee({windowSize:s,inSize:i,batchSize:a},r,o==null),c=[n];o!=null&&c.push(o);var f=this.compileAndRun(u,c,"int32");return f.shape[1]===1?f:this.argReduce(n,r,f)},t.prototype.argReducePacked=function(n,r,o){o===void 0&&(o=null);var a=o!=null?o.shape:n.shape,i=g0(a[a.length-1]),s=new fee(a,i,r,o==null),u=o==null?[n]:[n,o],c=this.compileAndRun(s,u,"int32");return c.rank===n.rank?this.argReducePacked(n,r,c):c},t.prototype.sum=function(n,r){Jr("sum",r,n.rank);var o=ir(n.shape,r),a=o[0],i=We(o[1]),s=n.as2D(-1,i),u=u0(n.dtype);return this.reduce(s,"sum",u).reshape(a)},t.prototype.prod=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.prod(n,r);var o=ir(n.shape,r),a=o[0],i=We(o[1]),s=n.as2D(-1,i),u=u0(n.dtype);return this.reduce(s,"prod",u).reshape(a)},t.prototype.unsortedSegmentSum=function(n,r,o){var a=0,i=Ba([a],n.rank),s=n;i!=null&&(s=n.transpose(i),a=Fa(1,n.rank)[0]);var u=(function(v,y,x){for(var w=[],S=v.length,E=0;E<S;E++)E!==y?w.push(v[E]):w.push(x);return w})(s.shape,a,o),c=We([s.shape[a]]),f=s.as2D(-1,c),h=u0(n.dtype),m=this.segOpCompute(f,"unsortedSegmentSum",r,h,o).reshape(u);return i!=null&&(m=m.transpose(Xw(i))),m},t.prototype.segOpCompute=function(n,r,o,a,i){var s=n.shape[0],u=n.shape[1],c=(function(m,v){var y,x=!1;for(m<=j4?(y=m,x=!0):y=Dx(m,Math.floor(Math.sqrt(m)));!x;)y>v||y===m?x=!0:y=Dx(m,y+1);return y})(u,i),f=new Ate({windowSize:c,inSize:u,batchSize:s,numSegments:i}),h=this.compileAndRun(f,[n,o],a);return h.shape[1]===i?h:(o=Cm(0,i).tile([u/c]),this.segOpCompute(h,r,o,a,i))},t.prototype.argMinMaxReduce=function(n,r,o){var a=[r];if(Jr("arg"+o.charAt(0).toUpperCase()+o.slice(1),a,n.rank),!ge().getBool("WEBGL_PACK_REDUCE")||n.rank<=2){var i=ir(n.shape,a),s=i[0],u=We(i[1]),c=n.as2D(-1,u);return this.argReduce(c,o).reshape(s)}return this.argReducePacked(n,o)},t.prototype.argMin=function(n,r){return this.argMinMaxReduce(n,r,"min")},t.prototype.argMax=function(n,r){return this.argMinMaxReduce(n,r,"max")},t.prototype.cumsum=function(n,r,o,a){if(r!==n.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(n.rank-1)+" but got axis="+r);var i=new Mee(n.shape,o,a);return this.compileAndRun(i,[n])},t.prototype.equal=function(n,r){if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(equal(a, b));
`,"bool");var o=new dn("return float(a == b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.notEqual=function(n,r){if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(notEqual(a, b));
`,"bool");var o=new dn("return float(a != b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.less=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.less(n,r);if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThan(a, b));
`,"bool");var o=new dn("return float(a < b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.lessEqual=function(n,r){if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var o=new dn("return float(a <= b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.greater=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.greater(n,r);if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThan(a, b));
`,"bool");var o=new dn("return float(a > b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.greaterEqual=function(n,r){if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var o=new dn("return float(a >= b);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.logicalNot=function(n){var r=new vt(n.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[n])},t.prototype.logicalAnd=function(n,r){if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var o=new dn("return float(a >= 1.0 && b >= 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.logicalOr=function(n,r){if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var o=new dn("return float(a >= 1.0 || b >= 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r],"bool")},t.prototype.select=function(n,r,o){var a=new Nte(n.rank,r.shape,r.rank);return this.compileAndRun(a,[n,r,o],Jn(r.dtype,o.dtype))},t.prototype.where=function(n){wm("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=n.dataSync();return n2(n.shape,r)},t.prototype.topk=function(n,r,o){return q4(n.dataSync(),n.shape,n.dtype,r)},t.prototype.min=function(n,r){Jr("min",r,n.rank);var o=ir(n.shape,r),a=o[0],i=We(o[1]),s=n.as2D(-1,i);return this.reduce(s,"min",s.dtype).reshape(a)},t.prototype.minimum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.minimum(n,r);var o=ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ri(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new dn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.mod=function(n,r){var o=ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ri(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new dn(`if (b == 0.0) return NAN;
  return mod(a, b);`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.max=function(n,r){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.max(n,r);Jr("max",r,n.rank);var o=ir(n.shape,r),a=o[0],i=We(o[1]),s=n.as2D(-1,i);return this.reduce(s,"max",s.dtype).reshape(a)},t.prototype.maximum=function(n,r){if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.maximum(n,r);var o=ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ri(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new dn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.all=function(n,r){Jr("all",r,n.rank);var o=ir(n.shape,r),a=o[0],i=We(o[1]),s=n.as2D(-1,i);return this.reduce(s,"all",s.dtype).reshape(a)},t.prototype.any=function(n,r){Jr("any",r,n.rank);var o=ir(n.shape,r),a=o[0],i=We(o[1]),s=n.as2D(-1,i);return this.reduce(s,"any",s.dtype).reshape(a)},t.prototype.realDivide=function(n,r){if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var o=new dn(`
if (a == b) {
  return 1.0;
};
return a / b;`,n.shape,r.shape);return this.compileAndRun(o,[n,r],"float32")},t.prototype.floorDiv=function(n,r){if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var o=new dn(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,n.shape,r.shape);return this.compileAndRun(o,[n,r],"int32")},t.prototype.add=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,y0);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.add(n,r);var o=Jn(n.dtype,r.dtype);if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,y0,o);var a=new dn(y0,n.shape,r.shape);return this.compileAndRun(a,[n,r],o)},t.prototype.packedUnaryOp=function(n,r,o){var a=new kd(n.shape,r);return this.compileAndRun(a,[n],o)},t.prototype.packedBinaryOp=function(n,r,o,a,i){i===void 0&&(i=!1);var s=new ri(o,n.shape,r.shape,i);return this.compileAndRun(s,[n,r],a)},t.prototype.complexSeparableBinaryOp=function(n,r,o){var a=this,i=this.texData.get(n.dataId),s=this.texData.get(r.dataId),u=[[i.complexTensors.real,s.complexTensors.real],[i.complexTensors.imag,s.complexTensors.imag]].map((function(m){var v=m[0],y=m[1],x=a.makeComplexComponentTensorInfo(n,v),w=a.makeComplexComponentTensorInfo(r,y),S=new dn(o,n.shape,r.shape);return a.compileAndRun(S,[x,w],Jn(v.dtype,y.dtype))})),c=u[0],f=u[1],h=this.complex(c,f);return c.dispose(),f.dispose(),h},t.prototype.makeComplexComponentTensorInfo=function(n,r){return{dataId:r.dataId,dtype:r.dtype,shape:n.shape}},t.prototype.addN=function(n){if(n.length===1)return n[0];if(n.length>ge().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(n.length/2),o=this.addN(n.slice(0,r)),a=this.addN(n.slice(r));return this.addN([o,a])}var i=n.map((function(c){return c.dtype})).reduce((function(c,f){return Jn(c,f)})),s=n.map((function(c){return c.shape})),u=ge().getBool("WEBGL_PACK")?new aee(n[0].shape,s):new oee(n[0].shape,s);return this.compileAndRun(u,n,i)},t.prototype.subtract=function(n,r){if(n.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(n,r,b0);if(this.shouldExecuteOnCPU([n,r]))return this.cpuBackend.subtract(n,r);var o=Jn(n.dtype,r.dtype);if(ge().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(n,r,b0,n.dtype);var a=new dn(b0,n.shape,r.shape);return this.compileAndRun(a,[n,r],o)},t.prototype.pow=function(n,r){var o=ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ri(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new dn(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,n.shape,r.shape),a=Jn(n.dtype,r.dtype);return this.compileAndRun(o,[n,r],a)},t.prototype.ceil=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.ceil(n);if(ge().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,LD,n.dtype);var r=new vt(n.shape,LD);return this.compileAndRun(r,[n])},t.prototype.floor=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.floor(n);if(ge().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,zD,n.dtype);var r=new vt(n.shape,zD);return this.compileAndRun(r,[n])},t.prototype.sign=function(n){var r=new vt(n.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[n])},t.prototype.isNaN=function(n){var r=new vt(n.shape,"return float(isnan(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isInf=function(n){var r=new vt(n.shape,"return float(isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.isFinite=function(n){var r=new vt(n.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[n],"bool")},t.prototype.round=function(n){var r=new vt(n.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[n])},t.prototype.exp=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.exp(n);if(ge().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,UD,n.dtype);var r=new vt(n.shape,UD);return this.compileAndRun(r,[n])},t.prototype.expm1=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.expm1(n);if(ge().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,VD,n.dtype);var r=new vt(n.shape,VD);return this.compileAndRun(r,[n])},t.prototype.softmax=function(n,r){var o=Pn([r],n.shape),a=this.max(n,o),i=Ur(a.shape,o),s=this.subtract(n,a.reshape(i)),u=this.exp(s),c=this.sum(u,o).reshape(i);return this.realDivide(u,c)},t.prototype.log=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.log(n);if(ge().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,n.dtype);var r=new vt(n.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[n])},t.prototype.log1p=function(n){var r=new vt(n.shape,"return log(1.0 + x);");return this.compileAndRun(r,[n])},t.prototype.sqrt=function(n){var r=new vt(n.shape,"return sqrt(x);");return this.compileAndRun(r,[n])},t.prototype.rsqrt=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.rsqrt(n);var r=new vt(n.shape,"return inversesqrt(x);");return this.compileAndRun(r,[n])},t.prototype.reciprocal=function(n){var r=new vt(n.shape,"return 1.0 / x;");return this.compileAndRun(r,[n])},t.prototype.relu=function(n){var r;return r=ge().getBool("WEBGL_PACK")?new kd(n.shape,nI):new vt(n.shape,Z4),this.compileAndRun(r,[n])},t.prototype.relu6=function(n){var r;return r=ge().getBool("WEBGL_PACK")?new kd(n.shape,rI):new vt(n.shape,eI),this.compileAndRun(r,[n])},t.prototype.prelu=function(n,r){var o=ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ri(J4,n.shape,r.shape):new dn(Q4,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.elu=function(n){if(ge().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,oI,n.dtype);var r=new vt(n.shape,tI);return this.compileAndRun(r,[n])},t.prototype.eluDer=function(n,r){var o=ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ri(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,n.shape,r.shape):new dn("return (b >= 1.0) ? a : a * (b + 1.0);",n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.selu=function(n){var r=new vt(n.shape,Lte);return this.compileAndRun(r,[n])},t.prototype.int=function(n){var r=new vt(n.shape,"return float(int(x));");return this.compileAndRun(r,[n],"int32")},t.prototype.clip=function(n,r,o){var a,i=(a=ge().getBool("WEBGL_PACK_CLIP")?new xee(n.shape):new bee(n.shape)).getCustomSetupFunc(r,o);return this.compileAndRun(a,[n],null,i)},t.prototype.abs=function(n){if(this.shouldExecuteOnCPU([n]))return this.cpuBackend.abs(n);if(ge().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(n,BD,n.dtype);var r=new vt(n.shape,BD);return this.compileAndRun(r,[n])},t.prototype.complexAbs=function(n){var r=this.texData.get(n.dataId),o=new wee(n.shape),a=[this.makeComplexComponentTensorInfo(n,r.complexTensors.real),this.makeComplexComponentTensorInfo(n,r.complexTensors.imag)];return this.compileAndRun(o,a)},t.prototype.sigmoid=function(n){var r=new vt(n.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[n])},t.prototype.softplus=function(n){var r=new vt(n.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[n])},t.prototype.sin=function(n){var r=new vt(n.shape,zte);return this.compileAndRun(r,[n])},t.prototype.cos=function(n){var r=new vt(n.shape,Ute);return this.compileAndRun(r,[n])},t.prototype.tan=function(n){var r=new vt(n.shape,"return tan(x);");return this.compileAndRun(r,[n])},t.prototype.asin=function(n){var r=new vt(n.shape,Vte);return this.compileAndRun(r,[n])},t.prototype.acos=function(n){var r=new vt(n.shape,Hte);return this.compileAndRun(r,[n])},t.prototype.atan=function(n){var r=new vt(n.shape,Wte);return this.compileAndRun(r,[n])},t.prototype.atan2=function(n,r){var o=ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ri(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,n.shape,r.shape):new dn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,n.shape,r.shape);return this.compileAndRun(o,[n,r])},t.prototype.sinh=function(n){var r=new vt(n.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.cosh=function(n){var r=new vt(n.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[n])},t.prototype.tanh=function(n){var r=new vt(n.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[n])},t.prototype.asinh=function(n){var r=new vt(n.shape,$te);return this.compileAndRun(r,[n])},t.prototype.acosh=function(n){var r=new vt(n.shape,Gte);return this.compileAndRun(r,[n])},t.prototype.atanh=function(n){var r=new vt(n.shape,qte);return this.compileAndRun(r,[n])},t.prototype.erf=function(n){var r=new vt(n.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[n])},t.prototype.step=function(n,r){var o=new vt(n.shape,(function(a){return a===void 0&&(a=0),aa+`
    return x > 0.0 ? 1.0 : float(`+a+`);
  `})(r));return this.compileAndRun(o,[n])},t.prototype.conv2dByMatMul=function(n,r,o,a,i,s){var u=n.shape,c=this.texData.get(n.dataId),f=o.inChannels,h=u[0]*u[1]*u[2],m=o.outChannels,v=o.dataFormat==="channelsLast",y=(h===1||m===1)&&f>1e3,x=u[2]%2!=0&&!!c.isPacked;if(y||!ge().getBool("WEBGL_LAZILY_UNPACK")||!ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!x){var w=v?u[0]*u[1]*u[2]:u[0]*u[2]*u[3],S=this.reshape(n,[1,w,o.inChannels]),E=this.reshape(r,[1,o.inChannels,o.outChannels]);return this.reshape(this.fusedBatchMatMul({a:S,b:E,transposeA:!1,transposeB:!1,bias:a,activation:i,preluActivationWeights:s}),o.outShape)}var R=v?u[0]*u[1]*(u[2]+1):u[0]*u[2]*(u[3]+1),D={dataId:n.dataId,shape:[1,R,o.inChannels],dtype:n.dtype},A=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,q(wp(c.shape,D.shape),(function(){return"packed reshape "+c.shape+" to "+D.shape+" isn't free"}));var N=this.reshape(r,[1,o.inChannels,o.outChannels]),k=this.fusedBatchMatMul({a:D,b:N,transposeA:!1,transposeB:!1,bias:a,activation:i,preluActivationWeights:s}),M=this.texData.get(k.dataId);return q(M.isPacked,(function(){return"batchMatMul result is expected to be packed"})),c.shape=A,M.shape=o.outShape,ee.makeTensorFromDataId(k.dataId,o.outShape,k.dtype)},t.prototype.conv2dWithIm2Row=function(n,r,o,a,i,s){var u=o.filterWidth,c=o.filterHeight,f=o.inChannels,h=o.outWidth,m=o.outHeight,v=o.dataFormat==="channelsLast",y=u*c*f,x=m*h,w=[y,x],S=n.squeeze([0]),E=r.reshape([1,y,-1]),R=new ute(w,S.shape,o),D=this.compileAndRun(R,[S]).reshape([1,w[0],w[1]]),A=a!=null,N=s!=null,k=i?Rp(i,!0):null,M=new x0(D.shape,[1,x,o.outChannels],!0,!1,A,k,N),I=[D,E];a&&I.push(a),N&&I.push(s);var O=this.compileAndRun(M,I);return v?O.reshape([1,m,h,o.outChannels]):O.reshape([1,o.outChannels,m,h])},t.prototype.fusedConv2d=function(n){var r=n.input,o=n.filter,a=n.convInfo,i=n.bias,s=n.activation,u=n.preluActivationWeights;if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(r,o,a,i,s,u);if(ge().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,o,a,i,s,u);var c=i!=null,f=u!=null,h=s?Rp(s,!1):null,m=new DD(a,c,h,f),v=[r,o];return i&&v.push(i),u&&v.push(u),this.compileAndRun(m,v)},t.prototype.conv2d=function(n,r,o){if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(n,r,o);if(ge().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,r,o);var a=new DD(o);return this.compileAndRun(a,[n,r])},t.prototype.conv2dDerInput=function(n,r,o){var a=new Ree(o);return this.compileAndRun(a,[n,r])},t.prototype.conv2dDerFilter=function(n,r,o){var a=new Eee(o);return this.compileAndRun(a,[n,r])},t.prototype.fusedDepthwiseConv2D=function(n){var r,o=n.input,a=n.filter,i=n.convInfo,s=n.bias,u=n.activation,c=n.preluActivationWeights,f=ge().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,h=u?Rp(u,f):null,m=[o,a],v=s!=null,y=c!=null;return v&&m.push(s),y&&m.push(c),f?(r=new ND(i,v,h,y),this.compileAndRun(r,m)):(r=new AD(i,v,h,y),this.compileAndRun(r,m))},t.prototype.depthwiseConv2D=function(n,r,o){var a;return ge().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1?(a=new ND(o),this.compileAndRun(a,[n,r])):(a=new AD(o),this.compileAndRun(a,[n,r]))},t.prototype.depthwiseConv2DDerInput=function(n,r,o){var a=new Aee(o);return this.compileAndRun(a,[n,r])},t.prototype.depthwiseConv2DDerFilter=function(n,r,o){var a=new Dee(o);return this.compileAndRun(a,[n,r])},t.prototype.conv3d=function(n,r,o){var a=new Nee(o);return this.compileAndRun(a,[n,r])},t.prototype.conv3dDerInput=function(n,r,o){var a=new Tee(o);return this.compileAndRun(a,[n,r])},t.prototype.conv3dDerFilter=function(n,r,o){var a=new _ee(o);return this.compileAndRun(a,[n,r])},t.prototype.maxPool=function(n,r){var o=new w0(r,"max",!1);return this.compileAndRun(o,[n])},t.prototype.avgPool=function(n,r){var o=new w0(r,"avg",!1);return this.compileAndRun(o,[n],"float32")},t.prototype.maxPoolBackprop=function(n,r,o,a){var i=new w0(a,"max",!0),s=this.compileAndRun(i,[r]),u=new hte(a),c=this.compileAndRun(u,[n,s],r.dtype);return s.dispose(),c},t.prototype.avgPoolBackprop=function(n,r,o){var a=new hee(o);return this.compileAndRun(a,[n],r.dtype)},t.prototype.cast=function(n,r){return V4(n,r,this)},t.prototype.unstack=function(n,r){for(var o=n.shape[r],a=new Array(n.rank-1),i=0,s=0;s<n.rank;s++)s!==r&&(a[i++]=n.shape[s]);var u=new Array(n.rank).fill(0),c=n.shape.slice();c[r]=1;var f=new Array(o);for(s=0;s<f.length;s++)u[r]=s,f[s]=this.slice(n,u,c).reshape(a);return f},t.prototype.avgPool3d=function(n,r){var o=new S0(r,"avg",!1);return this.compileAndRun(o,[n],"float32")},t.prototype.avgPool3dBackprop=function(n,r,o){var a=new pee(o);return this.compileAndRun(a,[n],r.dtype)},t.prototype.maxPool3d=function(n,r){var o=new S0(r,"max",!1);return this.compileAndRun(o,[n],"float32")},t.prototype.maxPool3dBackprop=function(n,r,o,a){var i=new S0(a,"max",!0),s=this.compileAndRun(i,[r]),u=new pte(a),c=this.compileAndRun(u,[n,s],r.dtype);return s.dispose(),c},t.prototype.reshape=function(n,r){var o=this.texData.get(n.dataId);if(o.isPacked&&!wp(n.shape,r)&&(o.texture===null||!wp(o.shape,r))){var a=this.packedReshape(n,r);return ee.makeTensorFromDataId(a.dataId,a.shape,a.dtype)}return jx(n,r)},t.prototype.resizeBilinear=function(n,r,o,a){var i=ge().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ete(n.shape,r,o,a):new Cte(n.shape,r,o,a);return this.compileAndRun(i,[n],"float32")},t.prototype.resizeBilinearBackprop=function(n,r,o){var a=new Ste(n,r,o);return this.compileAndRun(a,[n])},t.prototype.resizeNearestNeighbor=function(n,r,o,a){var i=new _te(n.shape,r,o,a);return this.compileAndRun(i,[n])},t.prototype.resizeNearestNeighborBackprop=function(n,r,o){var a=new Rte(n,r,o);return this.compileAndRun(a,[n])},t.prototype.multinomial=function(n,r,o,a){var i=r?n:Si(n),s=i.shape[0],u=i.shape[1],c=new mte(s,u,o),f=c.getCustomSetupFunc(a);return this.compileAndRun(c,[i],"int32",f)},t.prototype.oneHot=function(n,r,o,a){var i=new vte(n.size,r,o,a);return this.compileAndRun(i,[n])},t.prototype.diag=function(n){var r=new jee(n.size);return this.compileAndRun(r,[n])},t.prototype.nonMaxSuppression=function(n,r,o,a,i){return wm("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),e2(n.dataSync(),r.dataSync(),o,a,i)},t.prototype.cropAndResize=function(n,r,o,a,i,s){var u=new kee(n.shape,r.shape,a,i,s);return this.compileAndRun(u,[n,r,o],"float32")},t.prototype.depthToSpace=function(n,r,o){q(r>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+r}));var a=n.shape[0],i=o==="NHWC"?n.shape[1]:n.shape[2],s=o==="NHWC"?n.shape[2]:n.shape[3],u=o==="NHWC"?n.shape[3]:n.shape[1],c=i*r,f=s*r,h=u/(r*r),m=new Pee(o==="NHWC"?[a,c,f,h]:[a,h,c,f],r,o);return this.compileAndRun(m,[n])},t.prototype.split=function(n,r,o){return $4(n,r,o)},t.prototype.scatterND=function(n,r,o){var a=Tm(0,n,o),i=a.sliceRank,s=a.numUpdates,u=a.sliceSize,c=a.strides,f=a.outputSize,h=[f/u,u],m=n.reshape([s,i]),v=r.reshape([s,u]);if(f===0)return jx(er([]),o);var y=Ie(0),x=new OD(s,i,m.rank,v.rank,c,h);return this.compileAndRun(x,[v,m,y]).reshape(o)},t.prototype.sparseToDense=function(n,r,o,a){var i=Tm(0,n,o),s=i.sliceRank,u=i.numUpdates,c=i.strides,f=i.outputSize,h=new OD(u,s,n.rank,r.rank,c,[f,1]);return this.compileAndRun(h,[r,n,a]).reshape(o)},t.prototype.fft=function(n){return this.fftImpl(n,!1)},t.prototype.ifft=function(n){return this.fftImpl(n,!0)},t.prototype.fftImpl=function(n,r){var o=this.texData.get(n.dataId),a=new MD(Uee,n.shape,r),i=new MD(Vee,n.shape,r),s=[this.makeComplexComponentTensorInfo(n,o.complexTensors.real),this.makeComplexComponentTensorInfo(n,o.complexTensors.imag)],u=this.compileAndRun(a,s),c=this.compileAndRun(i,s),f=this.complex(u,c).as2D(n.shape[0],n.shape[1]);return u.dispose(),c.dispose(),f},t.prototype.gatherND=function(n,r){var o=r.shape,a=o[o.length-1],i=P4(n,r),s=i[0],u=i[1],c=i[2],f=i[3],h=r.reshape([u,a]),m=n.reshape([n.size/c,c]),v=new $ee(a,f,[u,c]);return this.compileAndRun(v,[m,h]).reshape(s)},t.prototype.fill=function(n,r,o){if((o=o||Pf(r))==="string"){var a=gm(o,We(n));return a.fill(r),ee.makeTensor(a,n,o,this)}var i=new Hee(n,r),s=i.getCustomSetupFunc(r);return this.compileAndRun(i,[],o,s)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){return this.fill(n.shape,n.dtype==="string"?"":0,n.dtype)},t.prototype.linspace=function(n,r,o){return H4(n,r,o)},t.prototype.makeTensorInfo=function(n,r){var o=this.write(null,n,r);return this.texData.get(o).usage=null,{dataId:o,shape:n,dtype:r}},t.prototype.makeOutput=function(n,r){var o=this.makeTensorInfo(n,r).dataId;return ee.makeTensorFromDataId(o,n,r,this)},t.prototype.unpackTensor=function(n){var r=new Yte(n.shape);return this.runWebGLProgram(r,[n],n.dtype)},t.prototype.packTensor=function(n){var r=new gte(n.shape);return this.runWebGLProgram(r,[n],n.dtype,null,!0)},t.prototype.packedReshape=function(n,r){var o=[bm(n.shape)].concat(xm(n.shape)),a={dtype:n.dtype,shape:o,dataId:n.dataId},i=[bm(r)].concat(xm(r)),s=new wte(i,o),u=this.runWebGLProgram(s,[a],n.dtype,null,!0);return{dataId:u.dataId,shape:r,dtype:u.dtype}},t.prototype.decode=function(n){var r,o=this.texData.get(n),a=o.isPacked,i=o.shape,s=o.dtype,u=v0(i);return r=a?new Oee(u):new Iee(u),{dtype:s,shape:i,dataId:this.runWebGLProgram(r,[{shape:u,dtype:s,dataId:n}],s,null,!0).dataId}},t.prototype.runWebGLProgram=function(n,r,o,a,i){var s=this;i===void 0&&(i=!1);var u=this.makeTensorInfo(n.outputShape,o),c=this.texData.get(u.dataId);if(n.packedOutput&&(c.isPacked=!0),n.outPackingScheme===lf.DENSE){var f=jd(n.outputShape);c.texShape=f.map((function(R){return 2*R}))}if(n.outTexUsage!=null&&(c.usage=n.outTexUsage),We(u.shape)===0)return c.values=af(u.dtype,0),u;var h=[],m=r.map((function(R){if(R.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var D=s.texData.get(R.dataId);if(D.texture==null){if(!n.packedInputs&&We(R.shape)<=ge().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:R.shape,texData:null,isUniform:!0,uniformValues:D.values};n.packedInputs&&(D.isPacked=!0,D.shape=R.shape)}else if(!!D.isPacked!=!!n.packedInputs)R=D.isPacked?s.unpackTensor(R):s.packTensor(R),h.push(R),D=s.texData.get(R.dataId);else if(D.isPacked&&!wp(D.shape,R.shape)){var A=R,N=R.shape;R.shape=D.shape,R=s.packedReshape(R,N),h.push(R),D=s.texData.get(R.dataId),A.shape=N}return s.uploadToGPU(R.dataId),{shape:R.shape,texData:D,isUniform:!1}}));this.uploadToGPU(u.dataId);var v,y={shape:u.shape,texData:c,isUniform:!1},x=(function(R,D,A){var N="";D.concat(A).forEach((function(I){var O=I.texData!=null&&I.texData.slice!=null&&I.texData.slice.flatOffset>0,L=I.isUniform?"uniform":I.texData.texShape;N+=I.shape+"_"+L+"_"+O}));var k=R.userCode,M=R.constructor.name;return M+="_"+N+"_"+k})(n,m,y),w=this.getAndSaveBinary(x,(function(){return(function(R,D,A,N){var k=D.userCode,M=A.map((function(U,$){var j={logicalShape:U.shape,texShape:U.isUniform?null:U.texData.texShape,isUniform:U.isUniform,isPacked:!U.isUniform&&U.texData.isPacked,flatOffset:null};return U.texData!=null&&U.texData.slice!=null&&U.texData.slice.flatOffset>0&&(j.flatOffset=U.texData.slice.flatOffset),{name:D.variableNames[$],shapeInfo:j}})),I=M.map((function(U){return U.shapeInfo})),O={logicalShape:N.shape,texShape:N.texData.texShape,isUniform:!1,isPacked:N.texData.isPacked,flatOffset:null},L=see(M,O,k,D.packedInputs),F=R.createProgram(L),X=null,W=R.getUniformLocation(F,"NAN",!1);ge().getNumber("WEBGL_VERSION")===1&&(X=R.getUniformLocation(F,"INFINITY",!1));for(var Y={},B=0;B<D.variableNames.length;B++){var V=D.variableNames[B];Y[V]=R.getUniformLocation(F,V,!1),Y["offset"+V]=R.getUniformLocation(F,"offset"+V,!1)}return{program:D,source:L,webGLProgram:F,uniformLocations:Y,inShapeInfos:I,outShapeInfo:O,infLoc:X,nanLoc:W}})(s.gpgpu,n,m,y)})),S=this.activeTimers!=null;if(S&&(v=this.startTimer()),(function(R,D,A,N,k){ID(D.inShapeInfos,A),ID([D.outShapeInfo],[N]);var M=N.texData.texture,I=N.texData.texShape;N.texData.isPacked?R.setOutputPackedMatrixTexture(M,I[0],I[1]):R.setOutputMatrixTexture(M,I[0],I[1]),R.setProgram(D.webGLProgram),ge().getNumber("WEBGL_VERSION")===1&&D.infLoc!==null&&R.gl.uniform1f(D.infLoc,1/0),D.nanLoc!==null&&R.gl.uniform1f(D.nanLoc,NaN),A.forEach((function(O,L){var F=D.program.variableNames[L],X=D.uniformLocations[F],W=D.uniformLocations["offset"+F];if(X!=null)if(O.isUniform)if(We(O.shape)<2)R.gl.uniform1f(X,O.uniformValues[0]);else{var Y=O.uniformValues;Y instanceof Float32Array||(Y=new Float32Array(Y)),R.gl.uniform1fv(X,Y)}else O.texData.slice!=null&&W!=null&&R.gl.uniform1i(W,O.texData.slice.flatOffset),R.setInputMatrixTexture(O.texData.texture,X,L)})),k?.(R,D.webGLProgram),R.executeProgram()})(this.gpgpu,w,m,y,a),h.forEach((function(R){return s.disposeData(R.dataId)})),S&&(v=this.endTimer(v),this.activeTimers.push({name:n.constructor.name,query:this.getQueryTime(v)})),!ge().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&i===!1){var E=this.unpackTensor(u);return this.disposeData(u.dataId),E}return u},t.prototype.compileAndRun=function(n,r,o,a,i){i===void 0&&(i=!1),o=o||r[0].dtype;var s=this.runWebGLProgram(n,r,o,a,i);return ee.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},t.prototype.getAndSaveBinary=function(n,r){return n in this.binaryCache||(this.binaryCache[n]=r()),this.binaryCache[n]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var n=this;this.disposed||(ge().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(r){n.gpgpu.deleteProgram(n.binaryCache[r].webGLProgram),delete n.binaryCache[r]})),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var n=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Le((function(){if(!ge().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=ge().getBool("DEBUG");ge().set("DEBUG",!1);var o=n.abs(Ie(1e-8)).dataSync()[0];if(ge().set("DEBUG",r),o>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.uploadToGPU=function(n){var r,o=this.texData.get(n),a=o.shape,i=o.dtype,s=o.values,u=o.texture,c=o.usage,f=o.isPacked;if(u==null){var h,m=this.activeTimers!=null;m&&(h=ga());var v=o.texShape;if(v==null&&(v=rZ(a,f),o.texShape=v),s!=null){var y=v0(a),x=void 0,w=v[1],S=v[0],E=s instanceof Uint8Array;f?(w=(r=Bf(v[0],v[1]))[0],S=r[1],x=new zee(y,[S,w],E)):x=new Lee(y,[S,w],E);var R=this.makeTensorInfo([S,w],i);this.texData.get(R.dataId).usage=E?ro.PIXELS:ro.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(R.dataId),w,S,s);var D=this.runWebGLProgram(x,[R],i,null,!0),A=this.texData.get(D.dataId);o.texture=A.texture,o.texShape=A.texShape,o.isPacked=A.isPacked,o.usage=A.usage,this.disposeData(R.dataId),this.texData.delete(D.dataId),o.values=null,m&&(this.uploadWaitMs+=ga()-h)}else{var N=this.acquireTexture(v,c,i,f);o.texture=N}}},t.prototype.convertAndCacheOnCPU=function(n,r){var o=this.texData.get(n),a=o.dtype;return this.releaseGPUData(n),r!=null&&(o.values=(function(i,s){if(s==="float32"||s==="complex64")return i;if(s==="int32"||s==="bool"){for(var u=s==="int32"?new Int32Array(i.length):new Uint8Array(i.length),c=0;c<u.length;++c)u[c]=Math.round(i[c]);return u}throw new Error("Unknown dtype "+s)})(r,a)),o.values},t.prototype.acquireTexture=function(n,r,o,a){if(this.numBytesInGPU+=this.computeBytes(n,o),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(n,r,a)},t.prototype.computeBytes=function(n,r){return n[0]*n[1]*g4(r)},t})(z4);E4()&&ee.registerBackend("webgl",(function(){return new Qte}),2);var Jte=J({square_:function(e){var t=H(e,"x","square"),n=[t];return ee.runKernelFunc((function(r,o){return o([t]),r.square(t)}),{x:t},null,"Square",{},n,[])}}),cf="SquaredDifference",aI=J({squaredDifference_:function(e,t){var n,r=H(e,"a","squaredDifference"),o=H(t,"b","squaredDifference");n=sn(r,o),r=n[0],o=n[1],Ct(r.shape,o.shape);var a={a:r,b:o},i=[r,o];return ee.runKernelFunc((function(s,u){var c=s.squaredDifference(r,o);return u([r,o]),c}),a,(function(s,u){var c=u[0],f=u[1],h=Ie(2);return{a:function(){return s.mul(c.sub(f).mul(h))},b:function(){return s.mul(f.sub(c).mul(h))}}}),cf,{},i,[])}}),Zte=J({abs_:function(e){var t=H(e,"x","abs");return t.dtype==="complex64"?ee.runKernelFunc((function(n){return n.complexAbs(t)}),{$x:t}):ee.runKernelFunc((function(n,r){var o=n.abs(t);return r([t]),o}),{x:t},(function(n,r){var o=r[0];return{x:function(){return n.mul(o.toFloat().step(-1))}}}),"Abs")}}),ene=J({acos_:function(e){var t=H(e,"x","acos");return ee.runKernelFunc((function(n,r){var o=n.acos(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.divStrict(Ie(1).sub(o.toFloat().square()).sqrt()).neg()}}}))}}),tne=J({acosh_:function(e){var t=H(e,"x","acosh");return ee.runKernelFunc((function(n,r){var o=n.acosh(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.divStrict(o.toFloat().square().sub(1).sqrt())}}}))}}),nne=J({asin_:function(e){var t=H(e,"x","asin");return ee.runKernelFunc((function(n,r){var o=n.asin(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.divStrict(Ie(1).sub(o.toFloat().square()).sqrt())}}}))}}),rne=J({asinh_:function(e){var t=H(e,"x","asinh");return ee.runKernelFunc((function(n,r){var o=n.asinh(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.divStrict(Ie(1).add(o.toFloat().square()).sqrt())}}}))}}),one=J({atan_:function(e){var t=H(e,"x","atan");return ee.runKernelFunc((function(n,r){var o=n.atan(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.div(o.toFloat().square().add(1))}}}))}}),ane=J({atanh_:function(e){var t=H(e,"x","atanh");return ee.runKernelFunc((function(n,r){var o=n.atanh(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.div(Ie(1).sub(o.toFloat().square()))}}}))}}),ine=J({ceil_:function(e){var t=H(e,"x","ceil");return ee.runKernelFunc((function(n){return n.ceil(t)}),{$x:t},(function(n){return{$x:function(){return Nt(n)}}}))}}),i2=J({clipByValue_:function(e,t,n){var r=H(e,"x","clipByValue");q(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var o=[r],a={min:t,max:n};return ee.runKernelFunc((function(i,s){var u=i.clip(r,t,n);return s([r]),u}),{x:r},(function(i,s){var u=s[0];return{x:function(){return i.where(u.greaterEqual(t).logicalAnd(u.lessEqual(n)),Nt(i))}}}),"ClipByValue",a,o)}}),sne=J({cos_:function(e){var t=H(e,"x","cos"),n=[t];return ee.runKernelFunc((function(r,o){var a=r.cos(t);return o([t]),a}),{x:t},(function(r,o){var a=o[0];return{x:function(){return a.toFloat().sin().neg().mul(r)}}}),"Cos",{},n)}}),lne=J({cosh_:function(e){var t=H(e,"x","cosh");return ee.runKernelFunc((function(n,r){var o=n.cosh(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return o.toFloat().sinh().mulStrict(n)}}}))}}),une=J({erf_:function(e){var t=H(e,"x","erf");return q(t.dtype==="int32"||t.dtype==="float32",(function(){return"Input dtype must be `int32` or `float32`."})),t.dtype==="int32"&&(t=t.toFloat()),ee.runKernelFunc((function(n,r){var o=n.erf(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.mul(o.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Fx=J({exp_:function(e){var t=H(e,"x","exp");return ee.runKernelFunc((function(n,r){var o=n.exp(t);return r([o]),o}),{x:t},(function(n,r){return{x:function(){return n.mulStrict(r[0])}}}),"Exp",{},[],[!0])}}),cne=J({expm1_:function(e){var t=H(e,"x","expm1");return ee.runKernelFunc((function(n,r){var o=n.expm1(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.mul(o.exp())}}}))}}),dne=J({floor_:function(e){var t=H(e,"x","floor");return ee.runKernelFunc((function(n){return n.floor(t)}),{$x:t},(function(n){return{$x:function(){return Nt(n)}}}))}}),fne=J({log_:function(e){var t=H(e,"x","log"),n=[t];return ee.runKernelFunc((function(r,o){var a=r.log(t);return o([t]),a}),{x:t},(function(r,o){var a=o[0];return{x:function(){return r.div(a.toFloat())}}}),"Log",{},n)}}),hne=J({log1p_:function(e){var t=H(e,"x","log1p");return ee.runKernelFunc((function(n,r){var o=n.log1p(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.div(o.add(1))}}}))}}),pne=J({logSigmoid_:function(e){var t=H(e,"x","logSigmoid");return ee.runKernelFunc((function(n,r){var o=n.softplus(t.neg()).neg();return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.mul(o.neg().sigmoid())}}}))}}),km=J({neg_:function(e){var t=H(e,"x","neg"),n=[t];return ee.runKernelFunc((function(r){return r.neg(t)}),{x:t},(function(r){return{x:function(){return r.neg()}}}),"Neg",{},n)}}),mne=J({reciprocal_:function(e){var t=H(e,"x","reciprocal");return ee.runKernelFunc((function(n,r){var o=n.reciprocal(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.div(o.square().neg())}}}))}}),vne=J({round_:function(e){var t=H(e,"x","round");return ee.runKernelFunc((function(n){return n.round(t)}),{$x:t},(function(n){return{$x:function(){return Nt(n)}}}))}}),iI=J({rsqrt_:function(e){var t=H(e,"x","rsqrt"),n=[t];return ee.runKernelFunc((function(r,o){var a=r.rsqrt(t);return o([t]),a}),{x:t},(function(r,o){var a=o[0];return{x:function(){return r.div(a.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),sI=J({sigmoid_:function(e){var t=H(e,"x","sigmoid");return ee.runKernelFunc((function(n,r){var o=n.sigmoid(t);return r([o]),o}),{x:t},(function(n,r){var o=r[0];return{x:function(){return n.mul(o.mul(Ie(1).sub(o)))}}}),"Sigmoid")}}),gne=J({sign_:function(e){var t=H(e,"x","sign");return ee.runKernelFunc((function(n){return n.sign(t)}),{$x:t},(function(n){return{$x:function(){return Nt(n)}}}))}}),yne=J({isNaN_:function(e){var t=H(e,"x","isNaN");return ee.runKernelFunc((function(n){return n.isNaN(t)}),{$x:t},(function(n){return{$x:function(){return Nt(n)}}}))}}),bne=J({isInf_:function(e){var t=H(e,"x","isInf");return ee.runKernelFunc((function(n){return n.isInf(t)}),{$x:t},(function(n){return{$x:function(){return Nt(n)}}}))}}),xne=J({isFinite_:function(e){var t=H(e,"x","isFinite");return ee.runKernelFunc((function(n){return n.isFinite(t)}),{$x:t},(function(n){return{$x:function(){return Nt(n)}}}))}}),wne=J({sin_:function(e){var t=H(e,"x","sin"),n=[t];return ee.runKernelFunc((function(r,o){var a=r.sin(t);return o([t]),a}),{x:t},(function(r,o){var a=o[0];return{x:function(){return a.toFloat().cos().mul(r)}}}),"Sin",{},n)}}),Sne=J({sinh_:function(e){var t=H(e,"x","sinh");return ee.runKernelFunc((function(n,r){var o=n.sinh(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return o.toFloat().cosh().mulStrict(n)}}}))}}),Cne=J({softplus_:function(e){var t=H(e,"x","softplus");return ee.runKernelFunc((function(n,r){var o=n.softplus(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.mul(o.sigmoid())}}}))}}),Ene=J({sqrt_:function(e){var t=H(e,"x","sqrt");return ee.runKernelFunc((function(n,r){var o=n.sqrt(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.div(o.toFloat().sqrt().mul(2))}}}))}}),Rne=J({step_:function(e,t){t===void 0&&(t=0);var n=H(e,"x","step");return ee.runKernelFunc((function(r){return r.step(n,t)}),{$x:n},(function(r){return{$x:function(){return Nt(r)}}}))}}),_ne=J({tan_:function(e){var t=H(e,"x","tan");return ee.runKernelFunc((function(n,r){var o=n.tan(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return n.div(o.cos().square())}}}))}}),Tne=J({tanh_:function(e){var t=H(e,"x","tanh");return ee.runKernelFunc((function(n,r){var o=n.tanh(t);return r([o]),o}),{x:t},(function(n,r){var o=r[0];return{x:function(){return Ie(1).sub(o.square()).mulStrict(n)}}}),"Tanh",{},null,[!0])}});function lI(e,t,n,r,o,a){var i,s,u=H(e,"x","batchNorm"),c=H(t,"mean","batchNorm"),f=H(n,"variance","batchNorm");return o!=null&&(i=H(o,"scale","batchNorm")),r!=null&&(s=H(r,"offset","batchNorm")),q(u.rank===2,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),q(c.rank===2||c.rank===1,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."})),q(f.rank===2||f.rank===1,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+f.rank+"."})),i!=null&&q(i.rank===2||i.rank===1,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."})),s!=null&&q(s.rank===2||s.rank===1,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),Lf(u,c,f,s,i,a)}function uI(e,t,n,r,o,a){var i,s,u=H(e,"x","batchNorm"),c=H(t,"mean","batchNorm"),f=H(n,"variance","batchNorm");return o!=null&&(i=H(o,"scale","batchNorm")),r!=null&&(s=H(r,"offset","batchNorm")),q(u.rank===3,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),q(c.rank===3||c.rank===1,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."})),q(f.rank===3||f.rank===1,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+f.rank+"."})),i!=null&&q(i.rank===3||i.rank===1,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."})),s!=null&&q(s.rank===3||s.rank===1,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),Lf(u,c,f,s,i,a)}function cI(e,t,n,r,o,a){var i,s,u=H(e,"x","batchNorm"),c=H(t,"mean","batchNorm"),f=H(n,"variance","batchNorm");return o!=null&&(i=H(o,"scale","batchNorm")),r!=null&&(s=H(r,"offset","batchNorm")),q(u.rank===4,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),q(c.rank===4||c.rank===1,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."})),q(f.rank===4||f.rank===1,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+f.rank+"."})),i!=null&&q(i.rank===4||i.rank===1,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."})),s!=null&&q(s.rank===4||s.rank===1,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),Lf(u,c,f,s,i,a)}function Lf(e,t,n,r,o,a){a==null&&(a=.001);var i,s,u,c=H(e,"x","batchNorm"),f=H(t,"mean","batchNorm"),h=H(n,"variance","batchNorm");o!=null&&(i=H(o,"scale","batchNorm")),r!=null&&(s=H(r,"offset","batchNorm")),q(f.rank===h.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),q(s==null||f.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),q(i==null||f.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),u=c.rank===0||c.rank===1?c.as4D(1,1,1,c.size):c.rank===2?c.as4D(1,1,c.shape[0],c.shape[1]):c.rank===3?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var m=[c,f,h,i];return ee.runKernelFunc((function(v,y){var x=v.batchNormalization(u,_p(f),_p(h),a,_p(i),_p(s));return y([c,f,h,i]),x}),{x:c,mean:f,variance:h,scale:i,offset:s},(function(v,y){var x=y,w=x[0],S=x[1],E=x[2],R=x[3],D=R??Ie(1),A=Mn(S.shape,u.shape),N=[];if(S.rank===1){for(var k=0;k<u.shape.length-1;++k)N.push(u.shape[k]);N.push(1)}var M=w.sub(S),I=v.mul(D),O=iI(E.add(Ie(a))),L=O.mul(O).mul(O).mul(Ie(-.5));return{x:function(){return S.rank===1?v.mul(Pu(O.as4D(1,1,1,S.shape[0]),N)).mul(D).reshape(w.shape):v.mul(O).mul(D).reshape(w.shape)},mean:function(){var F=O.mul(Ie(-1)).mul(I);return S.rank===1&&(F=F.sum(A)),F.reshape(S.shape)},variance:function(){var F=L.mul(M).mul(I);return S.rank===1&&(F=F.sum(A)),F.reshape(S.shape)},scale:function(){var F=M.mul(O),X=v.mul(F);return S.rank===1&&(X=X.sum(A)),X.reshape(S.shape)},offset:function(){var F=v;return S.rank===1&&(F=F.sum(A)),F.reshape(S.shape)}}}),"BatchNormalization",{varianceEpsilon:a},m).reshape(c.shape)}function _p(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function qv(){R4("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Dne=J({batchNormalization2d_:function(e,t,n,r,o,a){return r===void 0&&(r=.001),qv(),lI(e,t,n,a,o,r)}}),Ane=J({batchNormalization3d_:function(e,t,n,r,o,a){return r===void 0&&(r=.001),qv(),uI(e,t,n,a,o,r)}}),Nne=J({batchNormalization4d_:function(e,t,n,r,o,a){return r===void 0&&(r=.001),qv(),cI(e,t,n,a,o,r)}}),kne=J({batchNormalization_:function(e,t,n,r,o,a){return r===void 0&&(r=.001),qv(),Lf(e,t,n,a,o,r)}}),dI=J({batchNorm_:Lf}),Mne=J({batchNorm2d_:lI}),Ine=J({batchNorm3d_:uI}),One=J({batchNorm4d_:cI}),Xv=J({logicalAnd_:function(e,t){var n=H(e,"a","logicalAnd","bool"),r=H(t,"b","logicalAnd","bool");return Ct(n.shape,r.shape),ee.runKernelFunc((function(o){return o.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),Pne=J({logicalNot_:function(e){var t=H(e,"x","logicalNot","bool");return ee.runKernelFunc((function(n){return n.logicalNot(t)}),{$x:t})}}),fI=J({logicalOr_:function(e,t){var n=H(e,"a","logicalOr","bool"),r=H(t,"b","logicalOr","bool");return Ct(n.shape,r.shape),ee.runKernelFunc((function(o){return o.logicalOr(n,r)}),{$a:n,$b:r})}}),jne=J({logicalXor_:function(e,t){var n=H(e,"a","logicalXor","bool"),r=H(t,"b","logicalXor","bool");return Ct(n.shape,r.shape),fI(e,t).logicalAnd(Xv(e,t).logicalNot())}}),cl=J({where_:function(e,t,n){var r=H(t,"a","where"),o=H(n,"b","where"),a=H(e,"condition","where","bool");return Lt(r.shape,o.shape,"Error in where: "),a.rank===1?q(a.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):Lt(a.shape,o.shape,"Error in where: "),ee.runKernelFunc((function(i,s){var u=i.select(a,r,o);return s([a]),u}),{$condition:a,$a:r,$b:o},(function(i,s){var u=s[0];return{$condition:function(){return Nt(u).toFloat()},$a:function(){return i.mul(u.cast(i.dtype))},$b:function(){return i.mul(u.logicalNot().cast(i.dtype))}}}))}}),hI=function(e){return Ue(this,void 0,void 0,(function(){var t,n,r;return Ve(this,(function(o){switch(o.label){case 0:return[4,(t=H(e,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=n2(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},xt=J({add_:function(e,t){var n,r=H(e,"a","add"),o=H(t,"b","add");n=sn(r,o),r=n[0],o=n[1];var a=Ct(r.shape,o.shape);return ee.runKernelFunc((function(i){return i.add(r,o)}),{a:r,b:o},(function(i){return{a:function(){var s=i,u=Mn(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=i,u=Mn(o.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(o.shape)}}}),"Add")}}),Bne=J({addN_:function(e){q(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),q(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(o,a){return H(o,"tensors"+a,"addN")})),n=t[0];t.forEach((function(o){if(o.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(o){if(!Wn(o.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return ee.runKernelFunc((function(o){return o.addN(t)}),r,(function(o){var a={};return t.forEach((function(i,s){a[s]=function(){return o.clone()}})),a}),"AddN")}}),Fne=J({addStrict_:function(e,t){var n=H(e,"a","addStrict"),r=H(t,"b","addStrict");return Lt(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),Lne=J({atan2_:function(e,t){var n,r=H(e,"a","atan2"),o=H(t,"b","atan2");n=sn(r,o),r=n[0],o=n[1];var a=Ct(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.atan2(r,o);return s([r,o]),u}),{$a:r,$b:o},(function(i,s){var u=s[0],c=s[1];return{$a:function(){var f=xt(u.square(),c.square()),h=i.mul(c.div(f)),m=Mn(u.shape,a);return m.length>0&&(h=h.sum(m)),h.reshape(u.shape)},$b:function(){var f=xt(u.square(),c.square()),h=km(i.mul(u.div(f))),m=Mn(c.shape,a);return m.length>0&&(h=h.sum(m)),h.reshape(c.shape)}}}))}}),Ho=J({div_:function(e,t){var n,r=H(e,"a","div"),o=H(t,"b","div");if(n=sn(r,o),r=n[0],o=n[1],r.dtype==="int32"&&o.dtype==="int32")return pI(r,o);var a=Ct(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.realDivide(r,o);return s([r,o]),u}),{a:r,b:o},(function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.div(c.toFloat()),h=Mn(u.shape,a);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=Mn(c.shape,a);h.length>0&&(f=f.sum(h).reshape(c.shape));var m=c.square();return f.div(m.toFloat()).neg()}}}),"Div")}}),zne=J({divNoNan_:function(e,t){var n,r=H(e,"a","div"),o=H(t,"b","div");r=(n=sn(r,o))[0],o=n[1];var a=Ho(r,o),i=Nt(a),s=o.equal(i);return cl(s,i,a)}}),Une=J({divStrict_:function(e,t){var n=H(e,"a","div"),r=H(t,"b","div");return Lt(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),pI=J({floorDiv_:function(e,t){var n,r=H(e,"a","floorDiv"),o=H(t,"b","floorDiv");n=sn(r,o),r=n[0],o=n[1];var a=Ct(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.floorDiv(r,o);return s([r,o]),u}),{a:r,b:o},(function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.div(c.toFloat()),h=Mn(u.shape,a);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=Mn(c.shape,a);h.length>0&&(f=f.sum(h).reshape(c.shape));var m=c.square();return f.div(m.toFloat()).neg()}}}),"FloorDiv")}}),s2=J({maximum_:function(e,t){var n,r=H(e,"a","maximum"),o=H(t,"b","maximum");return n=sn(r,o),r=n[0],o=n[1],r.dtype==="bool"&&(r=r.toInt(),o=o.toInt()),Ct(r.shape,o.shape),ee.runKernelFunc((function(a,i){var s=a.maximum(r,o);return i([r,o]),s}),{a:r,b:o},(function(a,i){var s=i[0],u=i[1];return{a:function(){return a.mul(s.greaterEqual(u).toFloat())},b:function(){return a.mul(s.less(u).toFloat())}}}),"Maximum")}}),Vne=J({maximumStrict_:function(e,t){var n=H(e,"a","maximumStrict"),r=H(t,"b","maximumStrict");return Lt(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),mI=J({minimum_:function(e,t){var n,r=H(e,"a","minimum"),o=H(t,"b","minimum");return n=sn(r,o),r=n[0],o=n[1],r.dtype==="bool"&&(r=r.toInt(),o=o.toInt()),Ct(r.shape,o.shape),ee.runKernelFunc((function(a,i){var s=a.minimum(r,o);return i([r,o]),s}),{a:r,b:o},(function(a,i){var s=i[0],u=i[1];return{a:function(){return a.mul(s.lessEqual(u).toFloat())},b:function(){return a.mul(s.greater(u).toFloat())}}}),"Minimum")}}),Hne=J({minimumStrict_:function(e,t){var n=H(e,"a","minimumStrict"),r=H(t,"b","minimumStrict");return Lt(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),Wne=J({mod_:function(e,t){var n,r=H(e,"a","mod"),o=H(t,"b","mod");n=sn(r,o),r=n[0],o=n[1];var a=Ct(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.mod(r,o);return s([r,o]),u}),{$a:r,$b:o},(function(i,s){var u=s[0],c=s[1];return{$a:function(){var f=Mn(u.shape,a);return f.length>0?i.sum(f).reshape(u.shape):i},$b:function(){var f=i.mul(u.div(c).floor().neg()),h=Mn(c.shape,a);return h.length>0?f.sum(h).reshape(c.shape):f}}}))}}),$ne=J({modStrict_:function(e,t){var n=H(e,"a","modStrict"),r=H(t,"b","modStrict");return Lt(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),hr=J({mul_:function(e,t){var n,r=H(e,"a","mul"),o=H(t,"b","mul");n=sn(r,o),r=n[0],o=n[1];var a=Ct(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.multiply(r,o);return s([r,o]),u}),{a:r,b:o},(function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.mul(c.toFloat()),h=Mn(u.shape,a);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=Mn(c.shape,a);return h.length>0?f.sum(h).reshape(c.shape):f}}}),"Mul")}}),Gne=J({mulStrict_:function(e,t){var n=H(e,"a","mul"),r=H(t,"b","mul");return Lt(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),Mm=J({pow_:function(e,t){var n,r=H(e,"base","pow"),o=H(t,"exp","pow");n=sn(r,o),r=n[0],o=n[1];var a=Ct(r.shape,o.shape),i=[r,o];return ee.runKernelFunc((function(s,u){var c=s.pow(r,o);return u([r,o,c]),c}),{a:r,b:o},(function(s,u){var c=u[0],f=u[1],h=u[2];return{a:function(){var m=f.toFloat(),v=s.mul(m.mul(c.pow(m.sub(Ie(1))))),y=Mn(c.shape,a);return y.length>0&&(v=v.sum(y)),v.reshape(c.shape)},b:function(){var m=c.greater(0),v=c.log().where(m,Nt(c)),y=s.mul(h.mul(v)),x=Mn(f.shape,a);return x.length>0&&(y=y.sum(x)),y.reshape(f.shape)}}}),"Pow",{},i,[!0])}}),qne=J({powStrict_:function(e,t){return Lt(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Xne=J({squaredDifferenceStrict_:function(e,t){var n=H(e,"a","squaredDifferenceStrict"),r=H(t,"b","squaredDifferenceStrict");return Lt(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),In=J({sub_:function(e,t){var n,r=H(e,"a","sub"),o=H(t,"b","sub");n=sn(r,o),r=n[0],o=n[1];var a=Ct(r.shape,o.shape);return ee.runKernelFunc((function(i){return i.subtract(r,o)}),{a:r,b:o},(function(i){return{a:function(){var s=i,u=Mn(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=i,u=Mn(o.shape,a);return u.length>0&&(s=s.sum(u)),s.neg().reshape(o.shape)}}}),"Sub")}}),Yne=J({subStrict_:function(e,t){var n=H(e,"a","subStrict"),r=H(t,"b","subStrict");return Lt(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),vI=J({equal_:function(e,t){var n,r=H(e,"a","equal"),o=H(t,"b","equal");return n=sn(r,o),r=n[0],o=n[1],Ct(r.shape,o.shape),ee.runKernelFunc((function(a){return a.equal(r,o)}),{$a:r,$b:o})}}),Kne=J({equalStrict_:function(e,t){var n=H(e,"a","equalStrict"),r=H(t,"b","equalStrict");return Lt(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Qne=J({greater_:function(e,t){var n,r=H(e,"a","greater"),o=H(t,"b","greater");return n=sn(r,o),r=n[0],o=n[1],Ct(r.shape,o.shape),ee.runKernelFunc((function(a){return a.greater(r,o)}),{a:r,b:o},null,"Greater")}}),gI=J({greaterEqual_:function(e,t){var n,r=H(e,"a","greaterEqual"),o=H(t,"b","greaterEqual");return n=sn(r,o),r=n[0],o=n[1],Ct(r.shape,o.shape),ee.runKernelFunc((function(a,i){var s=a.greaterEqual(r,o);return i([r,o]),s}),{a:r,b:o},(function(a,i){var s=i[0],u=i[1];return{a:function(){return Nt(s)},b:function(){return Nt(u)}}}),"GreaterEqual")}}),Jne=J({greaterEqualStrict_:function(e,t){var n=H(e,"a","greaterEqualStrict"),r=H(t,"b","greaterEqualStrict");return Lt(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Zne=J({greaterStrict_:function(e,t){var n=H(e,"a","greaterStrict"),r=H(t,"b","greaterStrict");return Lt(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),ere=J({less_:function(e,t){var n,r=H(e,"a","less"),o=H(t,"b","less");return n=sn(r,o),r=n[0],o=n[1],Ct(r.shape,o.shape),ee.runKernelFunc((function(a){return a.less(r,o)}),{a:r,b:o},null,"Less")}}),tre=J({lessEqual_:function(e,t){var n,r=H(e,"a","lessEqual"),o=H(t,"b","lessEqual");return n=sn(r,o),r=n[0],o=n[1],Ct(r.shape,o.shape),ee.runKernelFunc((function(a,i){var s=a.lessEqual(r,o);return i([r,o]),s}),{a:r,b:o},null,"LessEqual")}}),nre=J({lessEqualStrict_:function(e,t){var n=H(e,"a","lessEqualStrict"),r=H(t,"b","lessEqualStrict");return Lt(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),rre=J({lessStrict_:function(e,t){var n=H(e,"a","lessStrict"),r=H(t,"b","lessStrict");return Lt(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),ore=J({notEqual_:function(e,t){var n,r=H(e,"a","notEqual"),o=H(t,"b","notEqual");return n=sn(r,o),r=n[0],o=n[1],Ct(r.shape,o.shape),ee.runKernelFunc((function(a){return a.notEqual(r,o)}),{a:r,b:o},null,"NotEqual")}}),are=J({notEqualStrict_:function(e,t){var n=H(e,"a","notEqualStrict"),r=H(t,"b","notEqualStrict");return Lt(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function HD(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function WD(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var l2=J({gather_:function(e,t,n){n===void 0&&(n=0);var r=H(e,"x","gather"),o=H(t,"indices","gather","int32");n=Pn(n,r.shape)[0];var a=(function(i,s,u){for(var c=i.shape[u],f=[],h=1,m=1,v=0;v<u;v++)f.push(i.shape[v]),h*=i.shape[v];for(v=0;v<s.rank;v++)f.push(s.shape[v]);for(v=u+1;v<i.rank;v++)f.push(i.shape[v]),m*=i.shape[v];return{batchSize:h,sliceSize:m,dimSize:c,outputShape:f}})(r,o,n);return ee.runKernelFunc((function(i,s){var u=i.gather(r,o.flatten(),n);return s([o]),u}),{x:r,indices:o},(function(i,s){var u=s[0];return{x:function(){var c=r.shape,f=u.size,h=c.slice(0,n),m=h.length,v=c.slice(n,c.length).slice(1),y=v.length,x=HD(0,m),w=HD(m+1,m+1+y),S=WD([h,[f],v]),E=i.reshape(S),R=u.reshape([f]),D=WD([[m],x,w]),A=E.transpose(D),N=yI(A,R,r.shape[n]),k=Xw(D);return N=N.transpose(k)},indices:function(){return u}}}),"Gather",{axis:n}).reshape(a.outputShape)}}),yI=J({unsortedSegmentSum_:function(e,t,n){var r=H(e,"x","unsortedSegmentSum"),o=H(t,"segmentIds","unsortedSegmentSum","int32");return q(gn(n),(function(){return"numSegments must be of dtype int"})),ee.runKernelFunc((function(a,i){var s=a.unsortedSegmentSum(r,o,n);return i([o]),s}),{$x:r},(function(a,i){var s=i[0];return{$x:function(){return(function(u,c){for(var f=s2(c,Nt(c)),h=l2(u,f),m=gI(c,Ie(0,"int32")),v=h.rank-m.rank,y=0;y<v;++y)m=To(m,y+1);m=Xv(m,xc(h.shape,"bool"));var x=Nt(h);return cl(m,h,x)})(a,s)}}}))}}),ire=function(e,t,n){return Ue(this,void 0,void 0,(function(){var r,o,a,i,s,u,c,f,h,m,v,y,x;return Ve(this,(function(w){switch(w.label){case 0:for(r=H(e,"tensor","boolMask"),o=H(t,"mask","boolMask","bool"),a=n??0,i=o.rank,s=r.shape,q(i>0,(function(){return"mask cannot be scalar"})),Lt(s.slice(a,a+i),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=a;c<a+i;c++)u*=s[c];return f=s.slice(0,a).concat([u],s.slice(a+i)),h=r.reshape(f),m=o.reshape([-1]),[4,hI(m)];case 1:return v=w.sent(),y=v.squeeze([1]),x=l2(h,y,a),e!==r&&r.dispose(),t!==o&&o.dispose(),y.dispose(),h.dispose(),m.dispose(),v.dispose(),[2,x]}}))}))};function bI(e,t,n,r,o,a,i){a===void 0&&(a="NHWC"),q(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,u=t,c=!1;t.rank===3&&(c=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),q(s.length===4,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),q(u.rank===4,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),q(n.rank===4,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var f=a==="NHWC"?s[3]:s[1],h=a==="NHWC"?u.shape[3]:u.shape[1];q(f===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+f+") must match input depth for filter "+n.shape[2]+"."})),q(h===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+h+") must match output depth for filter "+n.shape[3]+"."})),i!=null&&q(gn(o),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var m=Zw(a),v=bl(s,n.shape,r,1,o,i,!1,m),y=ee.runKernelFunc((function(x,w){var S=x.conv2dDerInput(u,n,v);return w([n,u]),S}),{dy4D:u,filter:n},(function(x,w){var S=w[0],E=w[1];return{dy4D:function(){return Lo(x,S,r,o,a,1,i)},filter:function(){return u2(x,E,S.shape,r,o,a,i)}}}));return c?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}function E0(e){var t=(function(a){return typeof a=="number"?[a,a,a]:a.length===2?[a[0],a[1],1]:a})(e),n=t[0],r=t[1],o=t[2];return n===1&&r===1&&o===1}function xI(e,t,n,r,o){q(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var a=e,i=t,s=!1;t.rank===4&&(s=!0,i=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var u=a[4],c=i.shape[4];q(a.length===5,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."})),q(i.rank===5,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank})),q(n.rank===5,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),q(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),q(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+n.shape[4]+"."}));var f=Am(a,n.shape,r,1,o),h=ee.runKernelFunc((function(m){return m.conv3dDerInput(i,n,f)}),{dy5D:i});return s?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}var sre=J({conv1d_:function(e,t,n,r,o,a,i){o===void 0&&(o="NWC"),a===void 0&&(a=1);var s=H(e,"x","conv1d"),u=H(t,"filter","conv1d"),c=s,f=!1;s.rank===2&&(f=!0,c=s.as3D(1,s.shape[0],s.shape[1])),q(c.rank===3,(function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."})),q(u.rank===3,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),i!=null&&q(gn(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."})),q(c.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),q(Vr(n,a),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"})),q(o==="NWC",(function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."}));var h=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),m=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),v=Lo(m,h,[1,n],r,"NHWC",[1,a],i);return f?v.as2D(v.shape[2],v.shape[3]):v.as3D(v.shape[0],v.shape[2],v.shape[3])}}),Lo=J({conv2d_:function(e,t,n,r,o,a,i){o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]);var s=H(e,"x","conv2d"),u=H(t,"filter","conv2d"),c=s,f=!1;s.rank===3&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),q(c.rank===4,(function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."})),q(u.rank===4,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),i!=null&&q(gn(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var h=o==="NHWC"?c.shape[3]:c.shape[1];q(h===u.shape[2],(function(){return"Error in conv2d: depth of input ("+h+") must match input depth for filter "+u.shape[2]+"."})),q(Vr(n,a),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}));var m=Zw(o),v=bl(c.shape,u.shape,n,a,r,i,!1,m),y=[u,c],x=ee.runKernelFunc((function(w,S){var E=w.conv2d(c,u,v);return S([u,c]),E}),{x:c,filter:u},(function(w,S){var E=S,R=E[0],D=E[1];return q(Qu(a),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"})),{x:function(){return wI(D.shape,w,R,n,r,o)},filter:function(){return u2(D,w,R.shape,n,r,o)}}}),"Conv2D",v,y);return f?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),lre=J({conv3d_:function(e,t,n,r,o,a){o===void 0&&(o="NDHWC"),a===void 0&&(a=[1,1,1]);var i=H(e,"x","conv3d"),s=H(t,"filter","conv3d"),u=i,c=!1;i.rank===4&&(c=!0,u=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),q(u.rank===5,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),q(s.rank===5,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),q(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),q((function(m,v){return E0(m)||E0(v)})(n,a),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),q(o==="NDHWC",(function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."}));var f=Am(u.shape,s.shape,n,a,r),h=ee.runKernelFunc((function(m,v){var y=m.conv3d(u,s,f);return v([u,s]),y}),{x:u,$filter:s},(function(m,v){q(E0(a),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}));var y=v[0],x=v[1];return{x:function(){return xI(y.shape,m,x,n,r)},$filter:function(){return(function(w,S,E,R,D){var A=w;w.rank===4&&(A=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3]));var N=S;N.rank===4&&(N=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3])),q(A.rank===5,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+A.shape+"."})),q(N.rank===5,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+N.shape+"."})),q(E.length===5,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+E+"."})),q(A.shape[4]===E[3],(function(){return"Error in conv3dDerFilter: depth of input "+A.shape[4]+") must match input depth in filter ("+E[3]+"."})),q(N.shape[4]===E[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+N.shape[4]+") must match output depth for filter ("+E[4]+")."}));var k=Am(A.shape,E,R,1,D);return ee.runKernelFunc((function(M){return M.conv3dDerFilter(A,N,k)}),{x5D:A,dy5D:N})})(y,m,x.shape,n,r)}}}));return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),u2=J({conv2dDerFilter_:function(e,t,n,r,o,a,i){a===void 0&&(a="NHWC");var s=e;e.rank===3&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;u.rank===3&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),q(s.rank===4,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),q(u.rank===4,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),q(n.length===4,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var c=a==="NHWC"?s.shape[3]:s.shape[1],f=a==="NHWC"?u.shape[3]:u.shape[1];q(c===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+n[2]+"."})),q(f===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+f+") must match output depth for filter ("+n[3]+")."})),i!=null&&q(gn(o),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var h=Zw(a),m=bl(s.shape,n,r,1,o,i,!1,h);return ee.runKernelFunc((function(v){return v.conv2dDerFilter(s,u,m)}),{x4D:s,dy4D:u})}}),wI=J({conv2dDerInput_:bI}),Yv=J({depthwiseConv2d_:function(e,t,n,r,o,a,i){a===void 0&&(a=[1,1]);var s=H(e,"x","depthwiseConv2d"),u=H(t,"filter","depthwiseConv2d"),c=s,f=!1;s.rank===3&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),q(c.rank===4,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."})),q(u.rank===4,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),q(c.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),a==null&&(a=[1,1]),q(Vr(n,a),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),i!=null&&q(gn(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var h=bl(c.shape,u.shape,n,a,r,i,!0),m=[c,u],v=ee.runKernelFunc((function(y,x){var w=y.depthwiseConv2D(c,u,h);return x([c,u]),w}),{x:c,filter:u},(function(y,x){q(Qu(a),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"}));var w=x[0],S=x[1];return{x:function(){return SI(w.shape,y,S,h)},filter:function(){return CI(w,y,S.shape,h)}}}),"DepthwiseConv2dNative",h,m);return f?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),SI=J({depthwiseConv2dDerInput_:function(e,t,n,r){var o=t,a=!1;t.rank===3&&(a=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var i=ee.runKernelFunc((function(s){return s.depthwiseConv2DDerInput(o,n,r)}),{dy4D:o});return a?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),CI=J({depthwiseConv2dDerFilter_:function(e,t,n,r){var o=e;e.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return a.rank===3&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),ee.runKernelFunc((function(i){return i.depthwiseConv2DDerFilter(o,a,r)}),{x4D:o,dy4D:a})}}),c2=J({separableConv2d_:function(e,t,n,r,o,a,i){a===void 0&&(a=[1,1]),i===void 0&&(i="NHWC");var s=H(e,"x","separableConv2d"),u=H(t,"depthwiseFilter","separableConv2d"),c=H(n,"pointwiseFilter","separableConv2d"),f=s,h=!1;if(s.rank===3&&(h=!0,f=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");q(f.rank===4,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+f.rank+"."})),q(u.rank===4,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),q(c.rank===4,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),q(c.shape[0]===1,(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."})),q(c.shape[1]===1,(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."}));var m=u.shape[2],v=u.shape[3];q(c.shape[2]===m*v,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+m*v+", but got "+c.shape[2]+"."}));var y=Yv(f,u,r,o,i,a),x=Lo(y,c,1,"valid",i);return h?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),ure=J({conv2dTranspose_:function(e,t,n,r,o,a){return bI(n,H(e,"x","conv2dTranspose"),H(t,"filter","conv2dTranspose"),r,o,"NHWC",a)}}),cre=J({conv3dTranspose_:function(e,t,n,r,o){return xI(n,H(e,"x","conv3dTranspose"),H(t,"filter","conv3dTranspose"),r,o)}}),Kv=J({matMul_:function(e,t,n,r){var o;n===void 0&&(n=!1),r===void 0&&(r=!1);var a=H(e,"a","matMul"),i=H(t,"b","matMul");o=sn(a,i),a=o[0],i=o[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],u=r?i.shape[i.rank-1]:i.shape[i.rank-2],c=n?a.shape[a.rank-1]:a.shape[a.rank-2],f=r?i.shape[i.rank-2]:i.shape[i.rank-1],h=a.shape.slice(0,-2),m=i.shape.slice(0,-2),v=We(h),y=We(m);q(a.rank>=2&&i.rank>=2&&a.rank===i.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+i.rank+"."})),q(Wn(h,m),(function(){return"Error in matMul: outer dimensions ("+h+") and ("+m+") of Tensors with shapes "+a.shape+" and "+i.shape+" must match."})),q(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+a.shape+" and "+i.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var x=a.shape.slice(0,-2).concat([c,f]),w=n?a.as3D(v,s,c):a.as3D(v,c,s),S=r?i.as3D(y,f,u):i.as3D(y,u,f),E={transposeA:n,transposeB:r};return ee.runKernelFunc((function(R,D){var A=R.batchMatMul(w,S,n,r);return D([w,S]),A}),{a:w,b:S},(function(R,D){var A=D,N=A[0],k=A[1];return n||r?!n&&r?{a:function(){return R.matMul(k,!1,!1)},b:function(){return R.matMul(N,!0,!1)}}:n&&!r?{a:function(){return k.matMul(R,!1,!0)},b:function(){return N.matMul(R,!1,!1)}}:{a:function(){return k.matMul(R,!0,!0)},b:function(){return R.matMul(N,!0,!0)}}:{a:function(){return R.matMul(k,!1,!0)},b:function(){return N.matMul(R,!0,!1)}}}),"BatchMatMul",E).reshape(x)}}),dre=J({dot_:function(e,t){var n=H(e,"t1","dot"),r=H(t,"t2","dot");q(!(n.rank!==1&&n.rank!==2||r.rank!==1&&r.rank!==2),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var o=n.rank===1?n.size:n.shape[1],a=r.rank===1?r.size:r.shape[0];return q(o===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+a+"."})),n.rank===1&&r.rank===1?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():n.rank===1&&r.rank===2?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():n.rank===2&&r.rank===1?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),fre=J({outerProduct_:function(e,t){var n=H(e,"v1","outerProduct"),r=H(t,"v2","outerProduct");return q(n.rank===1&&r.rank===1,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),zf=J({reverse_:function(e,t){var n=H(e,"x","reverse");if(n.rank===0)return n.clone();var r=Pn(t,n.shape);return ee.runKernelFunc((function(o){return o.reverse(n,r)}),{$x:n},(function(o){return{$x:function(){return o.reverse(r)}}})).reshapeAs(n)}}),hre=J({reverse1d_:function(e){var t=H(e,"x","reverse");return q(t.rank===1,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),zf(t,0)}}),pre=J({reverse2d_:function(e,t){var n=H(e,"x","reverse");return q(n.rank===2,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),zf(n,t)}}),mre=J({reverse3d_:function(e,t){var n=H(e,"x","reverse");return q(n.rank===3,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),zf(n,t)}}),vre=J({reverse4d_:function(e,t){var n=H(e,"x","reverse");return q(n.rank===4,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),zf(n,t)}});function EI(e,t,n,r,o,a){var i=H(e,"x","maxPool"),s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),q(s.rank===4,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),q(Vr(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),a!=null&&q(gn(o),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var c=uf(s.shape,t,n,r,o,a);if(c.filterWidth===1&&c.filterHeight===1&&Wn(c.inShape,c.outShape))return i.clone();var f=[s],h=ee.runKernelFunc((function(m,v){var y=m.maxPool(s,c);return v([s,y]),y}),{x:s},(function(m,v){var y=v[0],x=v[1];return{x:function(){return(function(w,S,E,R,D,A,N,k){var M=H(w,"dy","maxPoolBackprop"),I=H(S,"input","maxPoolBackprop"),O=H(E,"output","maxPoolBackprop");q(I.rank===M.rank,(function(){return"Rank of input ("+I.rank+") does not match rank of dy ("+M.rank+")"})),q(Vr(D,A),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+D+" and dilations '"+A+"'"})),q(M.rank===4,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+M.rank+"."})),q(I.rank===4,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+I.rank+"."}));var L=uf(I.shape,R,D,A,N,k);return ee.runKernelFunc((function(F){return F.maxPoolBackprop(M,I,O,L)}),{$dy:M,$input:I})})(m,y,x,t,n,r,o)}}}),"MaxPool",c,f);return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function RI(e,t,n,r,o,a){var i=H(e,"x","avgPool","float32");q(Vr(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),q(s.rank===4,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),a!=null&&q(gn(o),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var c=uf(s.shape,t,n,r,o,a);if(c.filterWidth===1&&c.filterHeight===1&&Wn(c.inShape,c.outShape))return i.clone();var f=ee.runKernelFunc((function(h){return h.avgPool(s,c)}),{x:s},(function(h){return{x:function(){return(function(m,v,y,x,w,S){var E=H(m,"dy","avgPoolBackprop"),R=H(v,"input","avgPoolBackprop");q(R.rank===E.rank,(function(){return"Rank of input ("+R.rank+") does not match rank of dy ("+E.rank+")"})),q(Vr(x,w),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+w+"'"}));var D=R,A=E,N=!1;R.rank===3&&(N=!0,D=R.as4D(1,R.shape[0],R.shape[1],R.shape[2]),A=E.as4D(1,E.shape[0],E.shape[1],E.shape[2])),q(A.rank===4,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+A.rank+"."})),q(D.rank===4,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+D.rank+"."}));var k=uf(D.shape,y,x,w,S),M=ee.runKernelFunc((function(I){return I.avgPoolBackprop(A,D,k)}),{dy4D:A,input4D:D});return N?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M})(h,s,t,n,r,o)}}}),"AvgPool",c);return f=f.cast(i.dtype),u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}var Un=J({maxPool_:function(e,t,n,r,o){return EI(e,t,n,1,r,o)}}),Uf=J({avgPool_:function(e,t,n,r,o){return RI(e,t,n,1,r,o)}}),gre=J({pool_:function(e,t,n,r,o,a){o==null&&(o=[1,1]),a==null&&(a=1),r===0&&(r="valid");var i=H(e,"x","maxPool"),s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),q(Vr(a,o),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"}));var c,f=uf(s.shape,t,a,o,r),h=[f.dilationHeight,f.dilationWidth];c=r==="same"?(function(D,A){var N=D.map((function(I,O){return I+(I-1)*(A[O]-1)})).map((function(I){return I-1})),k=N.map((function(I){return Math.floor(I/2)})),M=N.map((function(I,O){return I-k[O]}));return N.map((function(I,O){return[k[O],M[O]]}))})([f.filterHeight,f.filterWidth],h):[[0,0],[0,0]];var m=h[0]===1&&h[1]===1,v=(function(D,A,N){var k=N.map((function(W){return W[0]})),M=N.map((function(W){return W[1]})),I=D.concat(k,M),O=A.map((function(W,Y){return(W-I[Y]%W)%W})),L=M.map((function(W,Y){return W+O[Y]})),F=A.map((function(W,Y){return[k[Y],L[Y]]})),X=A.map((function(W,Y){return[0,O[Y]]}));return[F,X]})([f.inHeight,f.inWidth],h,c),y=v[0],x=v[1],w=m?r:"valid",S=m?s:k4(s,h,y),E=(n==="avg"?function(){return RI(S,t,a,1,w)}:function(){return EI(S,t,a,1,w)})(),R=m?E:D4(E,h,x);return u?R.as3D(R.shape[1],R.shape[2],R.shape[3]):R}}),yre=J({maxPool3d_:function(e,t,n,r,o,a,i){a===void 0&&(a="NDHWC");var s=H(e,"x","maxPool3d"),u=s,c=!1;s.rank===4&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),i==null&&(i=[1,1,1]),q(u.rank===5,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),q(a==="NDHWC",(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),q(Vr(n,i),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),o!=null&&q(gn(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f=Dm(u.shape,t,n,i,r,o,a),h=ee.runKernelFunc((function(m,v){var y=m.maxPool3d(u,f);return v([u,y]),y}),{x:u},(function(m,v){var y=v[0],x=v[1];return{x:function(){return(function(w,S,E,R,D,A,N,k){var M=H(w,"dy","maxPool3dBackprop"),I=H(S,"input","maxPool3dBackprop"),O=H(E,"output","maxPool3dBackprop"),L=M,F=I,X=O,W=!1;I.rank===4&&(W=!0,L=M.as5D(1,M.shape[0],M.shape[1],M.shape[2],M.shape[3]),F=I.as5D(1,I.shape[0],I.shape[1],I.shape[2],I.shape[3]),X=O.as5D(1,O.shape[0],O.shape[1],O.shape[2],O.shape[3])),q(L.rank===5,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+L.rank+"."})),q(F.rank===5,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+F.rank+"."})),q(X.rank===5,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+X.rank+"."})),A==null&&(A=[1,1,1]),q(Vr(D,A),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+D+" and dilations '"+A+"'"})),k!=null&&q(gn(N),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+k+" but got pad "+N+"."}));var Y=Dm(F.shape,R,D,A,N,k),B=ee.runKernelFunc((function(V){return V.maxPool3dBackprop(L,F,X,Y)}),{dy5D:L,input5D:F});return W?B.as4D(B.shape[1],B.shape[2],B.shape[3],B.shape[4]):B})(m,y,x,t,n,i,r,o)}}}));return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),bre=J({avgPool3d_:function(e,t,n,r,o,a,i){a===void 0&&(a="NDHWC");var s=H(e,"x","avgPool3d","float32"),u=s,c=!1;s.rank===4&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),i==null&&(i=[1,1,1]),q(u.rank===5,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),q(a==="NDHWC",(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),q(Vr(n,i),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"})),o!=null&&q(gn(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f=Dm(u.shape,t,n,i,r,o,a),h=ee.runKernelFunc((function(m){return m.avgPool3d(u,f)}),{x:u},(function(m){return{x:function(){return(function(v,y,x,w,S,E,R){var D=H(v,"dy","avgPool3dBackprop"),A=H(y,"input","avgPool3dBackprop"),N=D,k=A,M=!1;A.rank===4&&(M=!0,N=D.as5D(1,D.shape[0],D.shape[1],D.shape[2],D.shape[3]),k=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3])),q(N.rank===5,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+N.rank+"."})),q(k.rank===5,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+k.rank+"."})),S==null&&(S=[1,1,1]),q(Vr(w,S),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+w+" and dilations '"+S+"'"})),R!=null&&q(gn(E),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+R+" but got pad "+E+"."}));var I=Dm(k.shape,x,w,S,E,R),O=ee.runKernelFunc((function(L){return L.avgPool3dBackprop(N,k,I)}),{dy5D:N,input5D:k});return M?O.as4D(O.shape[1],O.shape[2],O.shape[3],O.shape[4]):O})(m,u,t,n,i,r,o)}}}));return h=h.cast(u.dtype),c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),ka=J({slice_:function(e,t,n){var r,o,a=H(e,"x","slice");if(a.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof t=="number"?[t].concat(new Array(a.rank-1).fill(0)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(0)):t.slice()).forEach((function(u){q(u!==-1,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=n==null?new Array(a.rank).fill(-1):typeof n=="number"?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map((function(u,c){return u>=0?u:(q(u===-1,(function(){return"Negative size values should be exactly -1 but got "+u+" for the slice() size at index "+c+"."})),a.shape[c]-r[c])})),qZ(a,r,o);var i=a.shape,s={begin:r,size:o};return ee.runKernelFunc((function(u){return u.slice(a,r,o)}),{x:a},(function(u){for(var c=[],f=0;f<u.rank;f++)c.push([r[f],i[f]-r[f]-o[f]]);return{x:function(){return u.pad(c)}}}),"Slice",s)}}),xre=J({slice1d_:function(e,t,n){var r=H(e,"x","slice1d");return q(r.rank===1,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),ka(r,[t],[n])}}),wre=J({slice2d_:function(e,t,n){var r=H(e,"x","slice2d");return q(r.rank===2,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),ka(r,t,n)}}),_I=J({slice3d_:function(e,t,n){var r=H(e,"x","slice3d");return q(r.rank===3,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),ka(r,t,n)}}),Sre=J({slice4d_:function(e,t,n){var r=H(e,"x","slice4d");return q(r.rank===4,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),ka(r,t,n)}});function TI(e,t,n,r,o){return t.rank<n.rank&&(t=t.reshape(Ur(t.shape,r))),e.rank<n.rank&&(e=e.reshape(Ur(e.shape,r))),{x:function(){var a=e.mul(n.equal(t).cast(e.dtype));return o==null?a:a.transpose(o)}}}var Cre=J({all_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=H(e,"x","all","bool"),o=Pn(t,r.shape),a=o,i=Ba(a,r.rank);i!=null&&(r=r.transpose(i),a=Fa(a.length,r.rank));var s=ee.runKernelFunc((function(c){return c.all(r,a)}),{$x:r});if(n){var u=Ur(s.shape,o);return s.reshape(u)}return s}}),Ere=J({any_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=H(e,"x","any","bool"),o=Pn(t,r.shape),a=o,i=Ba(a,r.rank);i!=null&&(r=r.transpose(i),a=Fa(a.length,r.rank));var s=ee.runKernelFunc((function(c){return c.any(r,a)}),{$x:r});if(n){var u=Ur(s.shape,o);return s.reshape(u)}return s}}),Rre=J({argMax_:function(e,t){t===void 0&&(t=0);var n=H(e,"x","argMax");t==null&&(t=0);var r=Pn(t,n.shape),o=Ba(r,n.rank);o!=null&&(n=n.transpose(o),r=Fa(r.length,n.rank));var a={axis:r[0]},i=[n];return ee.runKernelFunc((function(s,u){var c=s.argMax(n,r[0]);return u([n]),c}),{x:n},(function(s,u){var c=u[0];return{x:function(){return Nt(c)}}}),"ArgMax",a,i)}}),_re=J({argMin_:function(e,t){t===void 0&&(t=0);var n=H(e,"x","argMin");t==null&&(t=0);var r=Pn(t,n.shape),o=Ba(r,n.rank);return o!=null&&(n=n.transpose(o),r=Fa(r.length,n.rank)),ee.runKernelFunc((function(a,i){var s=a.argMin(n,r[0]);return i([n]),s}),{$x:n},(function(a,i){var s=i[0];return{$x:function(){return Nt(s)}}}))}}),Tre=J({logSumExp_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=H(e,"x","logSumExp"),o=Pn(t,r.shape),a=r.max(o,!0),i=r.sub(a).exp().sum(o).log(),s=a.reshape(i.shape).add(i);if(n){var u=Ur(s.shape,o);return s.reshape(u)}return s}}),Qv=J({max_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=H(e,"x","max"),o=r,a=Pn(t,r.shape),i=a,s=Ba(i,r.rank);s!=null&&(r=r.transpose(s),i=Fa(i.length,r.rank));var u=[r],c=ee.runKernelFunc((function(h,m){var v=h.max(r,i);return m([o,v]),v}),{x:r},(function(h,m){return TI(h,m[1],m[0],a,s)}),"Max",{axes:i},u,[!0]);if(n){var f=Ur(c.shape,a);c=c.reshape(f)}return c}}),Dre=J({mean_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=H(e,"x","mean"),o=Pn(t,r.shape),a=We(ir(r.shape,o)[1]);return Gv((function(i){var s=Ie(a);return{value:(s.dtype===i.dtype?i:i.cast(s.dtype)).div(s).sum(t,n),gradFunc:function(u){var c=i.shape.slice();return o.forEach((function(f){c[f]=1})),u.reshape(c).mul(xc(i.shape,"float32")).div(a)}}}))(r)}}),Are=J({min_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=H(e,"x","min"),o=r,a=Pn(t,r.shape),i=a,s=Ba(i,r.rank);s!=null&&(r=r.transpose(s),i=Fa(i.length,r.rank));var u=[r],c=ee.runKernelFunc((function(h,m){var v=h.min(r,i);return m([o,v]),v}),{x:r},(function(h,m){return TI(h,m[1],m[0],a,s)}),"Min",{axes:i},u,[!0]);if(n){var f=Ur(c.shape,a);c=c.reshape(f)}return c}}),Nre=J({moments_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=Pn(t,(e=H(e,"x","moments")).shape),o=e.mean(r,n),a=o.shape;n||(a=Ur(o.shape,r));var i=e.toFloat().sub(o.reshape(a)).square();return{mean:o,variance:i.mean(r,n)}}}),DI=J({sum_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=H(e,"x","sum");r.dtype==="bool"&&(r=r.toInt());var o=Pn(t,r.shape);return Gv((function(a){var i=Ba(o,a.rank),s=o,u=a;i!=null&&(u=a.transpose(i),s=Fa(s.length,a.rank));var c=function(v){var y=a.shape.slice();return o.forEach((function(x){y[x]=1})),v.reshape(y).mul(xc(a.shape,"float32"))},f={axes:s},h=ee.runKernelFunc((function(v){return v.sum(u,s)}),{x:u},(function(v){return{x:function(){return c(v)}}}),"Sum",f);if(n){var m=Ur(h.shape,o);h=h.reshape(m)}return{value:h,gradFunc:c}}))(r)}}),kre=J({prod_:function(e,t,n){t===void 0&&(t=null),n===void 0&&(n=!1);var r=H(e,"x","prod");r.dtype==="bool"&&(r=r.toInt());var o=Pn(t,r.shape),a=Ba(o,r.rank),i=o,s=r;a!=null&&(s=r.transpose(a),i=Fa(i.length,r.rank));var u=ee.runKernelFunc((function(f){return f.prod(s,i)}),{permutedX:s});if(n){var c=Ur(u.shape,o);u=u.reshape(c)}return u}}),AI=J({elu_:function(e){var t=H(e,"x","elu");return ee.runKernelFunc((function(n,r){var o=n.elu(t);return r([o]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){return ee.runKernelFunc((function(a){return a.eluDer(n,o)}),{dy:n,y:o})}}}))}}),Mre=J({leakyRelu_:function(e,t){t===void 0&&(t=.2);var n=H(e,"x","leakyRelu");return s2(Ie(t).mul(n),n)}}),NI=J({prelu_:function(e,t){var n=H(e,"x","prelu"),r=H(t,"alpha","prelu");return ee.runKernelFunc((function(o,a){var i=o.prelu(n,r);return a([n,r]),i}),{x:n,alpha:r},(function(o,a){var i=a[0],s=a[1],u=i.greater(0);return{x:function(){return cl(u,o,o.mul(s))},alpha:function(){var c=cl(u,Nt(o),o.mul(i)),f=Mn(s.shape,o.shape);return f.length>0&&(c=c.sum(f)),c.reshape(s.shape)}}}),"Prelu")}}),on=J({relu_:function(e){var t=H(e,"x","relu");return t.dtype==="bool"?t.toInt():ee.runKernelFunc((function(n,r){var o=n.relu(t);return r([t]),o}),{x:t},(function(n,r){var o=r[0];return{x:function(){return n.mulStrict(o.step().toFloat())}}}),"Relu")}}),kI=J({relu6_:function(e){var t=H(e,"x","relu6");return t.dtype==="bool"?t.toInt():ee.runKernelFunc((function(n,r){var o=n.relu6(t);return r([t]),o}),{x:t},(function(n,r){var o=r[0],a=o.lessEqual(6).mul(o.step());return{x:function(){return n.mulStrict(a.toFloat())}}}),"Relu6")}}),Ire=J({selu_:function(e){var t=H(e,"x","selu");return ee.runKernelFunc((function(n,r){var o=n.selu(t);return r([t]),o}),{$x:t},(function(n,r){var o=r[0];return{$x:function(){var a=o.greater(Ie(0)),i=Ie(o2),s=Ie(a2),u=n.mul(s),c=n.mul(i).mul(o.toFloat().exp());return cl(a,u,c)}}}))}}),gs=J({transpose_:function(e,t){var n=H(e,"x","transpose");if(t==null&&(t=n.shape.map((function(o,a){return a})).reverse()),q(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(o){q(o>=0&&o<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return ee.runKernelFunc((function(o){return o.transpose(n,t)}),{x:n},(function(o){var a=Xw(t);return{x:function(){return o.transpose(a)}}}),"Transpose",r)}}),Ore=J({localResponseNormalization_:function(e,t,n,r,o){t===void 0&&(t=5),n===void 0&&(n=1),r===void 0&&(r=1),o===void 0&&(o=.5);var a=H(e,"x","localResponseNormalization");q(a.rank===4||a.rank===3,(function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+a.rank+"."})),q(gn(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var i=a,s=!1;a.rank===3&&(s=!0,i=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var u=ee.runKernelFunc((function(c,f){var h=c.localResponseNormalization4D(i,t,n,r,o);return f([i,h]),h}),{x4D:i},(function(c,f){var h=f[0],m=f[1];return{x4D:function(){return ee.runKernelFunc((function(v){return v.LRNGrad(c,h,m,t,n,r,o)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),MI=J({norm_:function(e,t,n,r){t===void 0&&(t="euclidean"),n===void 0&&(n=null),r===void 0&&(r=!1);var o=(function s(u,c,f){if(f===void 0&&(f=null),u.rank===0)return u.abs();if(u.rank!==1&&f===null)return s(u.reshape([-1]),c,f);if(u.rank===1||typeof f=="number"||Array.isArray(f)&&f.length===1){if(c===1)return u.abs().sum(f);if(c===1/0)return u.abs().max(f);if(c===-1/0)return u.abs().min(f);if(c==="euclidean"||c===2)return u.abs().pow(Ie(2,"int32")).sum(f).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}if(Array.isArray(f)&&f.length===2){if(c===1)return u.abs().sum(f[0]).max(f[1]-1);if(c===1/0)return u.abs().sum(f[1]).max(f[0]);if(c===-1/0)return u.abs().sum(f[1]).min(f[0]);if(c==="fro"||c==="euclidean")return u.square().sum(f).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}throw new Error("Error in norm: invalid axis: "+f)})(e=H(e,"x","norm"),t,n),a=o.shape;if(r){var i=Pn(n,e.shape);a=Ur(o.shape,i)}return o.reshape(a)}}),Pre=J({basicLSTMCell_:function(e,t,n,r,o,a){var i=H(e,"forgetBias","basicLSTMCell"),s=H(t,"lstmKernel","basicLSTMCell"),u=H(n,"lstmBias","basicLSTMCell"),c=H(r,"data","basicLSTMCell"),f=H(o,"c","basicLSTMCell"),h=H(a,"h","basicLSTMCell"),m=c.concat(h,1).matMul(s).add(u),v=m.shape[0],y=m.shape[1]/4,x=[v,y],w=m.slice([0,0],x),S=m.slice([0,y],x),E=m.slice([0,2*y],x),R=m.slice([0,3*y],x),D=w.sigmoid().mulStrict(S.tanh()).addStrict(f.mulStrict(i.add(E).sigmoid())),A=D.tanh().mulStrict(R.sigmoid());return[D,A]}}),jre=J({multiRNNCell_:function(e,t,n,r){for(var o=H(t,"data","multiRNNCell"),a=Sm(n,"c","multiRNNCell"),i=Sm(r,"h","multiRNNCell"),s=o,u=[],c=0;c<e.length;c++){var f=e[c](s,a[c],i[c]);u.push(f[0]),u.push(f[1]),s=f[1]}var h=[],m=[];for(c=0;c<u.length;c+=2)h.push(u[c]),m.push(u[c+1]);return[h,m]}}),Bre=J({movingAverage_:function(e,t,n,r,o){o===void 0&&(o=!0);var a=H(e,"v","movingAverage"),i=H(t,"x","movingAverage"),s=H(n,"decay","movingAverage");OJ(a,i),q(Wn(a.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var u=Ie(1),c=u.sub(s),f=i.sub(a).mul(c);if(o){q(r!=null,(function(){return"When using zeroDebias: true, step is required."}));var h=H(r,"step","movingAverage");f=f.div(u.sub(Mm(s,h)))}return a.add(f)}}),Fre=J({stridedSlice_:function(e,t,n,r,o,a,i,s,u){if(o===void 0&&(o=0),a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=0),r==null&&(r=new Array(t.length)),i!==0)throw new Error("ellipsis mask is not yet supported");var c=H(e,"x","stridedSlice"),f=CD(s),h=c.shape.slice();f.forEach((function(w){t[w]=0,n[w]=1,h.splice(w,0,1)})),c=c.reshape(h);for(var m=0;m<c.rank;m++)t[m]=XZ(o,t,r,c.shape,m),n[m]=YZ(a,n,r,c.shape,m),r[m]=r[m]||1;var v=CD(u);v.forEach((function(w){n[w]=t[w]+1,r[w]=1}));var y=Jw(t,n,r),x=y.filter((function(w,S){return v.indexOf(S)===-1}));return r.every((function(w){return w===1}))?ka(c,t,y).reshape(x):ee.runKernelFunc((function(w){return w.stridedSlice(c,t,n,r)}),{$x:c}).reshape(x)}}),Lre=J({topk_:function(e,t,n){t===void 0&&(t=1),n===void 0&&(n=!0);var r=H(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var a=ee.runKernelFunc((function(i){return i.topk(r,t,n)}),{$x:r});return{values:a[0],indices:a[1]}}}),zre=J({scatterND_:function(e,t,n){var r=H(e,"indices","scatterND","int32"),o=H(t,"updates","scatterND");return GZ(o,r,n),ee.runKernelFunc((function(a){return a.scatterND(r,o,n)}),{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),d2=J({fft_:function(e){q(e.dtype==="complex64",(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return ee.runKernelFunc((function(o){return o.fft(r)}),{input:e}).reshape(e.shape)}}),Im=J({ifft_:function(e){q(e.dtype==="complex64",(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return ee.runKernelFunc((function(o){return o.ifft(r)}),{input:e}).reshape(e.shape)}}),f2=J({rfft_:function(e,t){q(e.dtype==="float32",(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],o=e.size/r;if(t!=null&&t<r){var a=e.shape.map((function(S){return 0})),i=e.shape.map((function(S){return S}));i[e.shape.length-1]=t,n=e.slice(a,i),r=t}else if(t!=null&&t>r){var s=e.shape.map((function(S){return S}));s[e.shape.length-1]=t-r,n=e.concat(Zt(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),c=Qn(n,u).as2D(o,r),f=d2(c),h=Math.floor(r/2)+1,m=Do(f),v=xa(f),y=m.split([h,r-h],m.shape.length-1),x=v.split([h,r-h],v.shape.length-1),w=n.shape.slice();return w[n.shape.length-1]=h,Qn(y[0],x[0]).reshape(w)}}),II=J({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=Im(r);return Do(o)}var a=[n,2*(t-1)],i=Do(e).as2D(n,t),s=xa(e).as2D(n,t),u=i.slice([0,1],[n,t-2]).reverse(1),c=s.slice([0,1],[n,t-2]).reverse(1).mul(Ie(-1)),f=i.concat(u,1),h=s.concat(c,1);return r=Qn(f,h).as2D(a[0],a[1]),o=Im(r),Do(o)}}),Ure=Object.freeze({fft:d2,ifft:Im,rfft:f2,irfft:II}),Vre=J({sparseToDense_:function(e,t,n,r){r===void 0&&(r=0);var o=H(e,"sparseIndices","sparseToDense","int32"),a=H(t,"sparseValues","sparseToDense"),i=H(r,"defaultValue","sparseToDense",a.dtype);return(function(s,u,c,f){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var h=s.rank>0?s.shape[0]:1,m=s.rank>1?s.shape[1]:1;if(c.length!==m)throw new Error("outputShape has incorrect number of elements:, "+c.length+", should be: "+m+".");var v=u.size;if(u.rank!==0&&(u.rank!==1||v!==h))throw new Error("sparseValues has incorrect shape "+u.shape+", should be [] or ["+h+"]");if(u.dtype!==f.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")})(o,a,n,i),ee.runKernelFunc((function(s){return s.sparseToDense(o,a,n,i)}),{$sparseIndices:o,$sparseValues:a,$defaultValue:i})}}),Hre=J({gatherND_:function(e,t){var n=H(t,"indices","gatherND","int32"),r=H(e,"x","gatherND");return ee.runKernelFunc((function(o){return o.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),Wre=J({diag_:function(e){var t=H(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return ee.runKernelFunc((function(r){return r.diag(t)}),{$x:t}).reshape(n)}}),$re=J({dropout_:function(e,t,n,r){var o=H(e,"x","dropout");if(q(o.dtype==="float32",(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."})),q(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),t===0)return e instanceof rn?o.clone():o;var a=(function(u,c){if(c==null)return u.shape.slice();if(Wn(u.shape,c))return c;if(u.shape.length===c.length){for(var f=[],h=0;h<u.shape.length;h++)c[h]==null&&u.shape[h]!=null?f.push(u.shape[h]):f.push(c[h]);return f}return c})(o,n),i=1-t,s=N4(a,0,1,"float32",r).add(i).floor().div(i);return o.mul(s)}});function OI(e,t,n){for(var r=1-e%2,o=new Float32Array(e),a=0;a<e;++a){var i=2*Math.PI*a/(e+r-1);o[a]=t-n*Math.cos(i)}return Sn(o,"float32")}var h2=J({hannWindow_:function(e){return OI(e,.5,.5)}}),PI=J({hammingWindow_:function(e){return OI(e,.54,.46)}}),p2=J({frame_:function(e,t,n,r,o){r===void 0&&(r=!1),o===void 0&&(o=0);for(var a=0,i=[];a+t<=e.size;)i.push(ka(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,u=An([ka(e,a,t-s),Ta([s],o)]);i.push(u),a+=n}return i.length===0?ds([],[0,t]):An(i).as2D(i.length,t)}}),jI=J({stft_:function(e,t,n,r,o){var a;o===void 0&&(o=h2),r==null&&(a=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var i=p2(e,t,n),s=hr(i,o(t)),u=[],c=0;c<i.shape[0];c++)u.push(f2(s.slice([c,0],[1,t]),r));return An(u)}}),Gre=Object.freeze({hannWindow:h2,hammingWindow:PI,frame:p2,stft:jI}),dr,qre=function(e,t,n){return n===void 0&&(n=1),Ue(this,void 0,void 0,(function(){var r,o,a,i,s,u,c,f,h,m,v,y,x,w;return Ve(this,(function(S){switch(S.label){case 0:return r=H(e,"predictions","inTopK"),o=H(t,"targets","inTopK"),q(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),q(r.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank})),Lt(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],q(n>0&&n<=a,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+n})),[4,r.data()];case 1:return i=S.sent(),[4,o.data()];case 2:for(s=S.sent(),u=[i.length/a,a],f=u[1],h=af("bool",c=u[0]),m=0;m<c;m++){for(v=m*f,y=i.subarray(v,v+f),x=[],w=0;w<y.length;w++)x.push({value:y[w],index:w});for(x.sort((function(E,R){return R.value-E.value})),h[m]=0,w=0;w<n;w++)if(x[w].index===s[m]){h[m]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),[2,er(h,o.shape,"bool")]}}))}))};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(dr||(dr={}));var Xre=J({absoluteDifference_:function(e,t,n,r){r===void 0&&(r=dr.SUM_BY_NONZERO_WEIGHTS);var o=H(e,"labels","absoluteDifference"),a=H(t,"predictions","absoluteDifference"),i=null;n!=null&&(i=H(n,"weights","absoluteDifference")),Lt(o.shape,a.shape,"Error in absoluteDifference: ");var s=o.sub(a).abs();return Ci(s,i,r)}}),Ci=J({computeWeightedLoss_:function(e,t,n){n===void 0&&(n=dr.SUM_BY_NONZERO_WEIGHTS);var r=H(e,"losses","computeWeightedLoss"),o=null;t!=null&&(o=H(t,"weights","computeWeightedLoss"));var a=o==null?r:r.mul(o);if(n===dr.NONE)return a;if(n===dr.SUM)return a.sum();if(n===dr.MEAN){if(o==null)return a.mean();var i=r.size/o.size,s=a.sum().div(o.sum());return i>1?s.div(Ie(i)):s}if(n===dr.SUM_BY_NONZERO_WEIGHTS){if(o==null)return a.sum().div(Ie(r.size));var u=o.mul(xc(r.shape)).notEqual(Ie(0)).sum().toFloat();return a.sum().div(u)}throw Error("Unknown reduction: "+n)}}),Yre=J({cosineDistance_:function(e,t,n,r,o){o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"labels","cosineDistance"),i=H(t,"predictions","cosineDistance"),s=null;r!=null&&(s=H(r,"weights","cosineDistance")),Lt(a.shape,i.shape,"Error in cosineDistance: ");var u=Ie(1).sub(a.mul(i).sum(n,!0));return Ci(u,s,o)}}),Kre=J({hingeLoss_:function(e,t,n,r){r===void 0&&(r=dr.SUM_BY_NONZERO_WEIGHTS);var o=H(e,"labels","hingeLoss"),a=H(t,"predictions","hingeLoss"),i=null;n!=null&&(i=H(n,"weights","hingeLoss")),Lt(o.shape,a.shape,"Error in hingeLoss: ");var s=Ie(1);o=Ie(2).mul(o).sub(s);var u=s.sub(o.mul(a)).relu();return Ci(u,i,r)}}),Qre=J({huberLoss_:function(e,t,n,r,o){r===void 0&&(r=1),o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"labels","huberLoss"),i=H(t,"predictions","huberLoss"),s=null;n!=null&&(s=H(n,"weights","huberLoss")),Lt(a.shape,i.shape,"Error in huberLoss: ");var u=Ie(r),c=i.sub(a).abs(),f=mI(c,u),h=c.sub(f),m=Ie(.5).mul(f.square()).add(u.mul(h));return Ci(m,s,o)}}),Jre=J({logLoss_:function(e,t,n,r,o){r===void 0&&(r=1e-7),o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"labels","logLoss"),i=H(t,"predictions","logLoss"),s=null;n!=null&&(s=H(n,"weights","logLoss")),Lt(a.shape,i.shape,"Error in logLoss: ");var u=Ie(1),c=Ie(r),f=a.mul(i.add(c).log()).neg().sub(u.sub(a).mul(u.sub(i).add(c).log()));return Ci(f,s,o)}}),Zre=J({meanSquaredError_:function(e,t,n,r){r===void 0&&(r=dr.SUM_BY_NONZERO_WEIGHTS);var o=H(e,"labels","meanSquaredError"),a=H(t,"predictions","meanSquaredError"),i=null;n!=null&&(i=H(n,"weights","meanSquaredError")),Lt(o.shape,a.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(a);return Ci(s,i,r)}}),eoe=J({sigmoidCrossEntropy_:function(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"multiClassLabels","sigmoidCrossEntropy"),i=H(t,"logits","sigmoidCrossEntropy"),s=null;if(n!=null&&(s=H(n,"weights","sigmoidCrossEntropy")),Lt(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=Ie(r),c=Ie(1),f=Ie(.5);a=a.mul(c.sub(u)).add(f.mul(u))}var h=(function(m,v){var y=H(m,"labels","sigmoidCrossEntropyWithLogits"),x=H(v,"logits","sigmoidCrossEntropyWithLogits");Lt(y.shape,x.shape,"Error in sigmoidCrossEntropyWithLogits: ");var w=x.relu(),S=x.mul(y),E=x.abs().neg().exp().log1p();return w.sub(S).add(E)})(a,i);return Ci(h,s,o)}}),toe=J({softmaxCrossEntropy_:function(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"onehotLabels","softmaxCrossEntropy"),i=H(t,"logits","softmaxCrossEntropy"),s=null;if(n!=null&&(s=H(n,"weights","softmaxCrossEntropy")),Lt(a.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var u=Ie(r),c=Ie(1),f=Ie(a.shape[1]);a=a.mul(c.sub(u)).add(u.div(f))}var h=(function(m,v,y){if(y===void 0&&(y=-1),y===-1&&(y=v.rank-1),y!==v.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+v.rank+" and dim was "+y);return Gv((function(x,w,S){var E=w.logSumExp([y],!0),R=w.toFloat().sub(E);return S([x,R]),{value:R.mul(x).neg().sum([y]),gradFunc:function(D,A){var N=A[0],k=A[1],M=Ur(D.shape,[y]);return[D.reshape(M).mul(N.toFloat().sub(k.exp())),D.reshape(M).mul(k.exp().sub(N.toFloat()))]}}}))(m,v)})(a,i);return Ci(h,s,o)}}),noe=Object.freeze({get Reduction(){return dr},absoluteDifference:Xre,computeWeightedLoss:Ci,cosineDistance:Yre,hingeLoss:Kre,huberLoss:Qre,logLoss:Jre,meanSquaredError:Zre,sigmoidCrossEntropy:eoe,softmaxCrossEntropy:toe});function $D(e,t){return t===void 0&&(t=!1),ee.tidy((function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=A4(n),a=e.clone(),i=ds([[1]],[1,1]),s=i.clone(),u=n>=r?r:n,c=function(h){var m,v=a,y=s,x=o;m=ee.tidy((function(){var w=a.slice([h,h],[n-h,1]),S=w.norm(),E=a.slice([h,h],[1,1]),R=ds([[-1]]).where(E.greater(0),ds([[1]])),D=E.sub(R.mul(S)),A=w.div(D);s=A.shape[0]===1?i.clone():i.concat(A.slice([1,0],[A.shape[0]-1,A.shape[1]]),0);var N=R.matMul(D).div(S).neg(),k=a.slice([h,0],[n-h,r]),M=N.mul(s);if(h===0)a=k.sub(M.matMul(s.transpose().matMul(k)));else{var I=k.sub(M.matMul(s.transpose().matMul(k)));a=a.slice([0,0],[h,r]).concat(I,0)}var O=o.slice([0,h],[n,o.shape[1]-h]);if(h===0)o=O.sub(O.matMul(s).matMul(M.transpose()));else{var L=O.sub(O.matMul(s).matMul(M.transpose()));o=o.slice([0,0],[n,h]).concat(L,1)}return[s,a,o]})),s=m[0],a=m[1],o=m[2],Lr([v,y,x])},f=0;f<u;++f)c(f);return!t&&n>r&&(o=o.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[o,a]}))}var roe=J({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=H(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,a=r.shape.slice(-2),i=a[0],s=a[1];if(!(t<=i))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+i+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=i),n<0&&(n=s);var u=Cm(0,i,1,"int32").reshape([-1,1]),c=Cm(0,s,1,"int32"),f=In(u,c),h=Xv(f.lessEqual(Ie(+t,"int32")),f.greaterEqual(Ie(-n,"int32"))),m=Zt([i,s],r.dtype);return lo(Nn(r.reshape([-1,i,s])).map((function(v){return cl(h,v,m)}))).reshape(o)}}),ooe=J({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,q(e!=null&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(u){q(e[u].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[u].shape[0]+" vs. "+n+")"}))},o=1;o<e.length;++o)r(o)}else t=!0,e=Kw(e,e.shape[0],0).map((function(u){return M4(u,[0])}));q(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var a=[],i=e,s=function(u){a.push(ee.tidy((function(){var c=i[u];if(u>0)for(var f=0;f<u;++f){var h=DI(a[f].mulStrict(c)).mul(a[f]);c=c.sub(h)}return c.div(MI(c,"euclidean"))})))};for(o=0;o<e.length;++o)s(o);return t?lo(a,0):a}}),aoe=J({qr_:function(e,t){if(t===void 0&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return $D(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(i,s){return i*s})),r=Nn(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],a=[];return r.forEach((function(i){var s=$D(i,t),u=s[0],c=s[1];o.push(u),a.push(c)})),[lo(o,0).reshape(e.shape),lo(a,0).reshape(e.shape)]}}),ioe=Object.freeze({bandPart:roe,gramSchmidt:ooe,qr:aoe});function Jv(e,t,n,r,o,a){r==null&&(r=.5),o==null&&(o=Number.NEGATIVE_INFINITY),a==null&&(a=0);var i=e.shape[0];return n=Math.min(n,i),q(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),q(e.rank===2,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),q(e.shape[1]===4,(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),q(t.rank===1,(function(){return"scores must be a 1D tensor"})),q(t.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected "+i+", but was "+t.shape[0]})),q(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}var soe=J({resizeBilinear_:function(e,t,n){n===void 0&&(n=!1);var r=H(e,"images","resizeBilinear");q(r.rank===3||r.rank===4,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),q(t.length===2,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var o=r,a=!1;r.rank===3&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],u=ee.runKernelFunc((function(c,f){return f([o]),c.resizeBilinear(o,i,s,n)}),{x:o},(function(c,f){return{x:function(){return ee.runKernelFunc((function(h){return h.resizeBilinearBackprop(c,f[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:i,newWidth:s});return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),loe=J({resizeNearestNeighbor_:function(e,t,n){n===void 0&&(n=!1);var r=H(e,"images","resizeNearestNeighbor");q(r.rank===3||r.rank===4,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),q(t.length===2,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),q(r.dtype==="float32"||r.dtype==="int32",(function(){return"`images` must have `int32` or `float32` as dtype"}));var o=r,a=!1;r.rank===3&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],u=ee.runKernelFunc((function(c,f){return f([o]),c.resizeNearestNeighbor(o,i,s,n)}),{batchImages:o},(function(c,f){return{batchImages:function(){return ee.runKernelFunc((function(h){return h.resizeNearestNeighborBackprop(c,f[0],n)}),{})}}}));return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),uoe=J({nonMaxSuppression_:function(e,t,n,r,o){r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY);var a=H(e,"boxes","nonMaxSuppression"),i=H(t,"scores","nonMaxSuppression"),s=Jv(a,i,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return ee.runKernelFunc((function(c){return c.nonMaxSuppression(a,i,n,r,o)}),{boxes:a,scores:i},null,"NonMaxSuppressionV3",u)}}),coe=function(e,t,n,r,o){return r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),Ue(this,void 0,void 0,(function(){var a,i,s,u,c,f,h;return Ve(this,(function(m){switch(m.label){case 0:return a=H(e,"boxes","nonMaxSuppressionAsync"),i=H(t,"scores","nonMaxSuppressionAsync"),s=Jv(a,i,n,r,o),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([a.data(),i.data()])];case 1:return u=m.sent(),c=u[0],f=u[1],h=e2(c,f,n,r,o),a!==e&&a.dispose(),i!==t&&i.dispose(),[2,h]}}))}))},doe=J({nonMaxSuppressionWithScore_:function(e,t,n,r,o,a){r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),a===void 0&&(a=0);var i=H(e,"boxes","nonMaxSuppression"),s=H(t,"scores","nonMaxSuppression"),u=Jv(i,s,n,r,o,a),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},f=ee.runKernel("NonMaxSuppressionV5",{boxes:i,scores:s},c);return{selectedIndices:f[0],selectedScores:f[1]}}}),foe=function(e,t,n,r,o,a){return r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),a===void 0&&(a=0),Ue(this,void 0,void 0,(function(){var i,s,u,c,f,h,m;return Ve(this,(function(v){switch(v.label){case 0:return i=H(e,"boxes","nonMaxSuppressionAsync"),s=H(t,"scores","nonMaxSuppressionAsync"),u=Jv(i,s,n,r,o,a),n=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,a=u.softNmsSigma,[4,Promise.all([i.data(),s.data()])];case 1:return c=v.sent(),f=c[0],h=c[1],m=t2(f,h,n,r,o,a),i!==e&&i.dispose(),s!==t&&s.dispose(),[2,m]}}))}))},hoe=J({cropAndResize_:function(e,t,n,r,o,a){var i=H(e,"image","cropAndResize"),s=H(t,"boxes","cropAndResize","float32"),u=H(n,"boxInd","cropAndResize","int32");o=o||"bilinear",a=a||0;var c=s.shape[0];return q(i.rank===4,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."})),q(s.rank===2&&s.shape[1]===4,(function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."})),q(u.rank===1&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."})),q(r.length===2,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),q(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),q(o==="bilinear"||o==="nearest",(function(){return"method must be bilinear or nearest, but was "+o})),ee.runKernelFunc((function(f,h){return f.cropAndResize(i,s,u,r,o,a)}),{images:i,boxes:s,boxInd:u},null,"CropAndResize",{method:o,extrapolationValue:a,cropSize:r})}}),m2=Object.freeze({resizeBilinear:soe,resizeNearestNeighbor:loe,nonMaxSuppression:uoe,nonMaxSuppressionAsync:coe,nonMaxSuppressionWithScore:doe,nonMaxSuppressionWithScoreAsync:foe,cropAndResize:hoe}),v2=function(e,t){return!(e>0)||t==="linear"},g2=function(e,t,n){if(n==null||n==="linear")return e;if(n==="relu")return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},y2=function(e,t){var n=t,r=Mn(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},b2=function(e,t,n){if(t==="linear")return e;if(t==="relu")return on(e);if(t==="elu")return AI(e);if(t==="relu6")return kI(e);if(t==="prelu")return NI(e,n);throw new Error("Unknown fused activation "+t+".")},poe=J({fusedMatMul_:function(e){var t,n=e.a,r=e.b,o=e.transposeA,a=o!==void 0&&o,i=e.transposeB,s=i!==void 0&&i,u=e.bias,c=e.activation,f=c===void 0?"linear":c,h=e.preluActivationWeights;if(v2(ee.state.gradientDepth,f)===!1){var m=Kv(n,r,a,s);return u!=null&&(m=xt(m,u)),b2(m,f,h)}var v=H(n,"a","fused matMul"),y=H(r,"b","fused matMul");t=sn(v,y),v=t[0],y=t[1];var x=a?v.shape[v.rank-2]:v.shape[v.rank-1],w=s?y.shape[y.rank-1]:y.shape[y.rank-2],S=a?v.shape[v.rank-1]:v.shape[v.rank-2],E=s?y.shape[y.rank-2]:y.shape[y.rank-1],R=v.shape.slice(0,-2),D=y.shape.slice(0,-2),A=We(R),N=We(D);q(v.rank>=2&&y.rank>=2&&v.rank===y.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+v.rank+" and "+y.rank+"."})),q(Wn(R,D),(function(){return"Error in fused matMul: outer dimensions ("+R+") and ("+D+") of Tensors with shapes "+v.shape+" and "+y.shape+" must match."})),q(x===w,(function(){return"Error in fused matMul: inner shapes ("+x+") and ("+w+") of Tensors with shapes "+v.shape+" and "+y.shape+" and transposeA="+a+" and transposeB="+s+" must match."}));var k,M,I=v.shape.slice(0,-2).concat([S,E]),O=a?v.as3D(A,x,S):v.as3D(A,S,x),L=s?y.as3D(N,E,w):y.as3D(N,w,E);u!=null&&Ct(I,(k=sn(k=H(u,"bias","fused matMul"),v)[0]).shape),h!=null&&(M=H(h,"prelu weights","fused matMul"));var F={a:O,b:L};u!=null&&(F.bias=k),h!=null&&(F.preluActivationWeights=M);var X=[O,L];return ee.runKernelFunc((function(W,Y){var B=W.fusedBatchMatMul({a:O,b:L,transposeA:a,transposeB:s,bias:k,activation:f,preluActivationWeights:M});return Y([O,L,B]),B}),F,(function(W,Y){var B=Y[0],V=Y[1],U=Y[2],$=g2(W,U,f),j={};return u!=null&&(j={bias:function(){return y2(k,$)}}),Object.assign(a||s?!a&&s?{a:function(){return $.matMul(V,!1,!1)},b:function(){return $.matMul(B,!0,!1)}}:a&&!s?{a:function(){return V.matMul($,!1,!0)},b:function(){return B.matMul($,!1,!1)}}:{a:function(){return V.matMul($,!0,!0)},b:function(){return $.matMul(B,!0,!0)}}:{a:function(){return $.matMul(V,!1,!0)},b:function(){return B.matMul($,!0,!1)}},j)}),"_FusedMatMul",{transposeA:a,transposeB:s,activation:f},X,[!0]).reshape(I)}}),moe=J({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,a=e.dataFormat,i=a===void 0?"NHWC":a,s=e.dilations,u=s===void 0?[1,1]:s,c=e.dimRoundingMode,f=e.bias,h=e.activation,m=h===void 0?"linear":h,v=e.preluActivationWeights;if(m=m||"linear",v2(ee.state.gradientDepth,m)===!1){var y=Lo(t,n,r,o,i,u,c);return f!=null&&(y=xt(y,f)),b2(y,m,v)}var x=H(t,"x","conv2d"),w=H(n,"filter","conv2d"),S=x,E=!1;x.rank===3&&(E=!0,S=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),q(S.rank===4,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+S.rank+"."})),q(w.rank===4,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+w.rank+"."})),c!=null&&q(gn(o),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+o+"."})),q(S.shape[3]===w.shape[2],(function(){return"Error in conv2d: depth of input ("+S.shape[3]+") must match input depth for filter "+w.shape[2]+"."})),q(Vr(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),q(i==="NHWC",(function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."}));var R,D,A=bl(S.shape,w.shape,r,u,o,c);f!=null&&(R=sn(R=H(f,"bias","fused conv2d"),x)[0],Ct(A.outShape,R.shape)),v!=null&&(D=H(v,"prelu weights","fused conv2d"));var N={x:S,filter:w};f!=null&&(N.bias=R),v!=null&&(N.preluActivationWeights=D);var k=[w,S],M=ee.runKernelFunc((function(I,O){var L=I.fusedConv2d({input:S,filter:w,convInfo:A,bias:R,activation:m,preluActivationWeights:D});return O([w,S,L]),L}),N,(function(I,O){var L=O,F=L[0],X=L[1],W=L[2],Y=g2(I,W,m);q(Qu(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var B={};return f!=null&&(B={bias:function(){return y2(R,Y)}}),Object.assign({x:function(){return wI(X.shape,Y,F,r,o)},filter:function(){return u2(X,Y,F.shape,r,o)}},B)}),"FusedConv2D",{convInfo:A,activation:m},k,[!0]);return E?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M}}),voe=J({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,a=e.dataFormat,i=a===void 0?"NHWC":a,s=e.dilations,u=s===void 0?[1,1]:s,c=e.dimRoundingMode,f=e.bias,h=e.activation,m=h===void 0?"linear":h,v=e.preluActivationWeights;if(v2(ee.state.gradientDepth,m)===!1){var y=Yv(t,n,r,o,i,u,c);return f!=null&&(y=xt(y,f)),b2(y,m,v)}var x=H(t,"x","depthwiseConv2d"),w=H(n,"filter","depthwiseConv2d"),S=x,E=!1;x.rank===3&&(E=!0,S=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),q(S.rank===4,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+S.rank+"."})),q(w.rank===4,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+w.rank+"."})),q(S.shape[3]===w.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+S.shape[3]+") must match the inChannels dimension in filter "+w.shape[2]+"."})),u==null&&(u=[1,1]),q(Vr(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),c!=null&&q(gn(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+o+"."}));var R,D,A=bl(S.shape,w.shape,r,u,o,c,!0);f!=null&&(R=sn(R=H(f,"bias","fused conv2d"),x)[0],Ct(A.outShape,R.shape)),v!=null&&(D=H(v,"prelu weights","fused depthwiseConv2d"));var N={x:S,filter:w};f!=null&&(N.bias=R),v!=null&&(N.preluActivationWeights=D);var k=[w,S],M=ee.runKernelFunc((function(I,O){var L=I.fusedDepthwiseConv2D({input:S,filter:w,convInfo:A,bias:R,activation:m,preluActivationWeights:D});return O([w,S,L]),L}),N,(function(I,O){q(Qu(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var L=O[0],F=O[1],X=O[2],W=g2(I,X,m),Y={};return f!=null&&(Y={bias:function(){return y2(R,W)}}),Object.assign({x:function(){return SI(F.shape,W,L,A)},filter:function(){return CI(F,W,L.shape,A)}},Y)}),"FusedDepthwiseConv2D",{convInfo:A,activation:m},k,[!0]);return E?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M}}),goe=Object.freeze({matMul:poe,conv2d:moe,depthwiseConv2d:voe}),yoe=Object.freeze({image:m2,linalg:ioe,losses:noe,spectral:Ure,fused:goe,signal:Gre,square:Jte,squaredDifference:aI,conv1d:sre,conv2d:Lo,conv3d:lre,depthwiseConv2d:Yv,separableConv2d:c2,conv2dTranspose:ure,conv3dTranspose:cre,op:J,batchNormalization2d:Dne,batchNormalization3d:Ane,batchNormalization4d:Nne,batchNormalization:kne,batchNorm:dI,batchNorm2d:Mne,batchNorm3d:Ine,batchNorm4d:One,booleanMaskAsync:ire,complex:Qn,real:Do,imag:xa,concat:An,concat1d:gZ,concat2d:yZ,concat3d:bZ,concat4d:xZ,split:Kw,matMul:Kv,dot:dre,outerProduct:fre,reverse:zf,reverse1d:hre,reverse2d:pre,reverse3d:mre,reverse4d:vre,maxPool:Un,avgPool:Uf,pool:gre,maxPool3d:yre,avgPool3d:bre,slice:ka,slice1d:xre,slice2d:wre,slice3d:_I,slice4d:Sre,abs:Zte,acos:ene,acosh:tne,asin:nne,asinh:rne,atan:one,atanh:ane,ceil:ine,clipByValue:i2,cos:sne,cosh:lne,erf:une,exp:Fx,expm1:cne,floor:dne,log:fne,log1p:hne,logSigmoid:pne,neg:km,reciprocal:mne,round:vne,rsqrt:iI,sigmoid:sI,sign:gne,isNaN:yne,isInf:bne,isFinite:xne,sin:wne,sinh:Sne,softplus:Cne,sqrt:Ene,step:Rne,tan:_ne,tanh:Tne,all:Cre,any:Ere,argMax:Rre,argMin:_re,logSumExp:Tre,max:Qv,mean:Dre,min:Are,moments:Nre,sum:DI,prod:kre,equal:vI,equalStrict:Kne,greater:Qne,greaterEqual:gI,greaterEqualStrict:Jne,greaterStrict:Zne,less:ere,lessEqual:tre,lessEqualStrict:nre,lessStrict:rre,notEqual:ore,notEqualStrict:are,add:xt,addN:Bne,addStrict:Fne,atan2:Lne,div:Ho,divNoNan:zne,divStrict:Une,floorDiv:pI,maximum:s2,maximumStrict:Vne,minimum:mI,minimumStrict:Hne,mod:Wne,modStrict:$ne,mul:hr,mulStrict:Gne,pow:Mm,powStrict:qne,squaredDifferenceStrict:Xne,sub:In,subStrict:Yne,elu:AI,leakyRelu:Mre,prelu:NI,relu:on,relu6:kI,selu:Ire,logicalAnd:Xv,logicalNot:Pne,logicalOr:fI,logicalXor:jne,where:cl,whereAsync:hI,buffer:dt,print:AZ,batchToSpaceND:D4,broadcastTo:NZ,cast:kZ,clone:MZ,cumsum:IZ,depthToSpace:OZ,expandDims:To,eye:A4,multinomial:PZ,oneHot:Ox,pad:yl,pad1d:jZ,pad2d:BZ,pad3d:FZ,pad4d:LZ,rand:zZ,randomNormal:UZ,randomGamma:VZ,randomUniform:N4,reshape:qo,spaceToBatchND:k4,squeeze:M4,stack:lo,tile:Pu,truncatedNormal:HZ,unstack:Nn,setdiff1dAsync:WZ,fill:Ta,linspace:vZ,ones:xc,range:Cm,scalar:Ie,tensor:er,tensor1d:Sn,tensor2d:ds,tensor3d:Yw,tensor4d:Mr,tensor5d:hZ,tensor6d:pZ,variable:mZ,zeros:Zt,onesLike:T4,zerosLike:Nt,transpose:gs,softmax:Si,logSoftmax:QZ,localResponseNormalization:Ore,norm:MI,gather:l2,unsortedSegmentSum:yI,basicLSTMCell:Pre,multiRNNCell:jre,movingAverage:Bre,stridedSlice:Fre,topk:Lre,scatterND:zre,fft:d2,ifft:Im,rfft:f2,irfft:II,sparseToDense:Vre,gatherND:Hre,diag:Wre,dropout:$re,hannWindow:h2,hammingWindow:PI,frame:p2,stft:jI,inTopKAsync:qre});function Ee(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(n){n!=null&&q(n.dtype!=="complex64",(function(){return t+" does not support complex64 tensors."}))}))}function R0(e,t,n,r){if(n==="linear")return e.linear(t);if(n==="relu")return e.relu(t);if(n==="elu")return e.elu(t);if(n==="relu6")return e.relu6(t);if(n==="prelu")return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var boe=(function(e){function t(){var n=e.call(this)||this;return n.blockSize=48,n.firstUse=!0,n.data=new L4(n,ee),n}return oa(t,e),t.prototype.write=function(n,r,o){this.firstUse&&(this.firstUse=!1,ge().get("IS_NODE")&&wm(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var a={};return this.data.set(a,{values:n,dtype:o}),a},t.prototype.move=function(n,r,o,a){this.data.set(n,{values:r,dtype:a})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(n){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(r){return[2,this.readSync(n)]}))}))},t.prototype.readSync=function(n){var r=this.data.get(n),o=r.dtype,a=r.complexTensors;return o==="complex64"?Bx(this.readSync(a.real.dataId),this.readSync(a.imag.dataId)):this.data.get(n).values},t.prototype.bufferSync=function(n){var r=this.readSync(n.dataId),o=r;if(n.dtype==="string")try{o=r.map((function(a){return ym(a)}))}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return dt(n.shape,n.dtype,o)},t.prototype.makeOutput=function(n,r,o){var a=this.write(n,r,o);return ee.makeTensorFromDataId(a,r,o,this)},t.prototype.disposeData=function(n){if(this.data.has(n)){var r=this.data.get(n).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(n)}},t.prototype.time=function(n){return Ue(this,void 0,void 0,(function(){var r;return Ve(this,(function(o){return r=ga(),n(),[2,{kernelMs:ga()-r}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(n,r){var o=this.makeOutput(null,n.shape,"complex64");return this.data.get(o.dataId).complexTensors={real:ee.keep(n.clone()),imag:ee.keep(r.clone())},o},t.prototype.real=function(n){return this.data.get(n.dataId).complexTensors.real.clone()},t.prototype.imag=function(n){return this.data.get(n.dataId).complexTensors.imag.clone()},t.prototype.slice=function(n,r,o){if(Ee(n,"slice"),B4(n.shape,r,o)){var a=F4(r,n.strides),i=We(o);return er(this.readSync(n.dataId).subarray(a,a+i),o,n.dtype)}for(var s=dt(o,n.dtype),u=this.bufferSync(n),c=0;c<s.size;++c){var f=s.indexToLoc(c).map((function(h,m){return h+r[m]}));s.values[c]=u.get.apply(u,f)}return s.toTensor()},t.prototype.stridedSlice=function(n,r,o,a){Ee(n,"stridedSlice");var i=Jw(r,o,a);if(i.some((function(v){return v===0})))return er([],i);for(var s=dt(i,n.dtype),u=this.bufferSync(n),c=0;c<s.size;c++){for(var f=s.indexToLoc(c),h=new Array(f.length),m=0;m<h.length;m++)h[m]=f[m]*a[m]+r[m];s.set.apply(s,[u.get.apply(u,h)].concat(f))}return s.toTensor()},t.prototype.diag=function(n){for(var r=this.readSync(n.dataId),o=dt([n.size,n.size],n.dtype),a=o.values,i=0;i<r.length;i++)a[i*n.size+i]=r[i];return o.toTensor()},t.prototype.unstack=function(n,r){for(var o=n.shape[r],a=new Array(n.rank-1),i=0,s=0;s<n.rank;s++)s!==r&&(a[i++]=n.shape[s]);var u=new Array(n.rank).fill(0),c=n.shape.slice();c[r]=1;var f=new Array(o);for(s=0;s<f.length;s++)u[r]=s,f[s]=this.slice(n,u,c).reshape(a);return f},t.prototype.reverse=function(n,r){Ee(n,"reverse");for(var o=dt(n.shape,n.dtype),a=this.bufferSync(n),i=function(u){var c=o.indexToLoc(u),f=c.slice();r.forEach((function(h){return f[h]=n.shape[h]-1-f[h]})),o.set.apply(o,[a.get.apply(a,f)].concat(c))},s=0;s<o.size;s++)i(s);return o.toTensor()},t.prototype.concat=function(n,r){var o=this;if(n[0].dtype==="complex64"){var a=n.map((function(v){return Do(v)})),i=n.map((function(v){return xa(v)}));return Qn(this.concat(a,r),this.concat(i,r))}var s=n.map((function(v){var y=We(v.shape.slice(r));return v.as2D(-1,y)})),u=Ku(s.map((function(v){return v.shape})),1),c=dt(u,n[0].dtype).values;if(s[0].shape[0]===1){var f=0;s.forEach((function(v){c.set(o.readSync(v.dataId),f),f+=v.size}))}else{var h=0;s.forEach((function(v){for(var y=o.readSync(v.dataId),x=0,w=0;w<v.shape[0];++w)for(var S=w*u[1]+h,E=0;E<v.shape[1];++E)c[S+E]=y[x++];h+=v.shape[1]}))}var m=Ku(n.map((function(v){return v.shape})),r);return er(c,m,n[0].dtype)},t.prototype.neg=function(n){return Ee(n,"neg"),this.multiply(Ie(-1),n)},t.prototype.add=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),(function(o,a,i,s){return{real:o+i,imag:a+s}})):this.broadcastedBinaryOp(n,r,Jn(n.dtype,r.dtype),(function(o,a){return o+a}))},t.prototype.addN=function(n){var r=this;Ee(n,"addN");for(var o=n.map((function(f){return r.readSync(f.dataId)})),a=dt(n[0].shape,n[0].dtype),i=a.values,s=0;s<n.length;s++)for(var u=o[s],c=0;c<i.length;c++)i[c]+=u[c];return a.toTensor()},t.prototype.softmax=function(n,r){var o=Pn([r],n.shape),a=this.max(n,o),i=Ur(a.shape,o),s=this.subtract(n,a.reshape(i)),u=this.exp(s),c=this.sum(u,o).reshape(i);return this.realDivide(u,c)},t.prototype.subtract=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),(function(o,a,i,s){return{real:o-i,imag:a-s}})):this.broadcastedBinaryOp(n,r,Jn(n.dtype,r.dtype),(function(o,a){return o-a}))},t.prototype.pow=function(n,r){return Ee([n,r],"pow"),this.broadcastedBinaryOp(n,r,n.dtype,(function(o,a){return Math.pow(o,a)}))},t.prototype.batchMatMul=function(n,r,o,a){Ee([n,r],"matMul");for(var i=o?n.shape[1]:n.shape[2],s=o?n.shape[2]:n.shape[1],u=a?r.shape[1]:r.shape[2],c=n.shape[0],f=this.readSync(n.dataId),h=this.readSync(r.dataId),m=o?[n.strides[0],1,n.strides[1]]:[n.strides[0],n.strides[1],1],v=m[0],y=m[1],x=m[2],w=a?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],S=w[0],E=w[1],R=w[2],D=s*u,A=dt([c,s,u],n.dtype),N=A.values,k=this.blockSize,M=0;M<c;M++)for(var I=0;I<s;I+=k)for(var O=0;O<u;O+=k)for(var L=0;L<i;L+=k)for(var F=Math.min(I+k,s),X=Math.min(O+k,u),W=Math.min(L+k,i),Y=I;Y<F;Y++)for(var B=O;B<X;B++){for(var V=0,U=L;U<W;U++)V+=f[M*v+Y*y+U*x]*h[U*S+B*E+M*R];N[M*D+(Y*u+B)]+=V}return A.toTensor()},t.prototype.fusedBatchMatMul=function(n){var r=n.a,o=n.b,a=n.transposeA,i=n.transposeB,s=n.bias,u=n.activation,c=n.preluActivationWeights,f=this.batchMatMul(r,o,a,i);return s&&(f=this.add(f,s)),u&&(f=R0(this,f,u,c)),f},t.prototype.multiply=function(n,r){return n.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(n.cast("complex64"),r.cast("complex64"),(function(o,a,i,s){return{real:o*i-a*s,imag:o*s+a*i}})):this.broadcastedBinaryOp(n,r,Jn(n.dtype,r.dtype),(function(o,a){return o*a}))},t.prototype.realDivide=function(n,r){return Ee([n,r],"realDivide"),this.broadcastedBinaryOp(n,r,"float32",(function(o,a){return o/a}))},t.prototype.floorDiv=function(n,r){return Ee([n,r],"floorDiv"),this.broadcastedBinaryOp(n,r,"int32",(function(o,a){return Math.floor(o/a)}))},t.prototype.sum=function(n,r){Ee(n,"sum"),Jr("sum",r,n.rank);for(var o=ir(n.shape,r),a=o[0],i=o[1],s=Zt(a,Jn(n.dtype,"int32")),u=We(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,v=0,y=0;y<u;++y)v+=f[m+y];c[h]=v}return s},t.prototype.prod=function(n,r){Ee(n,"sum");for(var o=ir(n.shape,r),a=o[0],i=o[1],s=Zt(a,Jn(n.dtype,"int32")),u=We(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,v=1,y=0;y<u;++y)v*=f[m+y];c[h]=v}return s},t.prototype.unsortedSegmentSum=function(n,r,o){Ee(n,"unsortedSegmentSum");for(var a=[],i=n.rank-r.rank,s=0;s<i;++s)r=r.expandDims(s+1);for(s=0;s<o;++s){var u=Ie(s,"int32"),c=vI(u,r).asType("float32").mul(n).sum(0);a.push(c)}return lo(a)},t.prototype.argMin=function(n,r){Ee(n,"argMin");var o=[r];Jr("argMin",o,n.rank);for(var a=ir(n.shape,o),i=a[0],s=a[1],u=Zt(i,"int32"),c=We(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),m=0;m<f.length;++m){for(var v=m*c,y=h[v],x=0,w=0;w<c;++w){var S=h[v+w];S<y&&(y=S,x=w)}f[m]=x}return u},t.prototype.argMax=function(n,r){Ee(n,"argMax");var o=[r];Jr("argMax",o,n.rank);for(var a=ir(n.shape,o),i=a[0],s=a[1],u=Zt(i,"int32"),c=We(s),f=this.readSync(u.dataId),h=this.readSync(n.dataId),m=0;m<f.length;++m){for(var v=m*c,y=h[v],x=0,w=0;w<c;++w){var S=h[v+w];S>y&&(y=S,x=w)}f[m]=x}return u},t.prototype.cumsum=function(n,r,o,a){if(Ee(n,"cumsum"),r!==n.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(n.rank-1)+" but got axis="+r);for(var i=Jn(n.dtype,"int32"),s=Zt(n.shape,i),u=this.readSync(s.dataId),c=this.readSync(n.dataId),f=n.shape[n.rank-1],h=a?function(w,S){return w+f-S-1}:function(w,S){return w+S},m=0;m<c.length;m+=f)for(var v=0;v<f;v++){var y=h(m,v);if(v===0)u[y]=o?0:c[y];else{var x=h(m,v-1);u[y]=o?c[x]+u[x]:c[y]+u[x]}}return s},t.prototype.equal=function(n,r){return Ee([n,r],"equal"),this.broadcastedBinaryOp(n,r,"bool",(function(o,a){return o===a?1:0}))},t.prototype.notEqual=function(n,r){return Ee([n,r],"notEqual"),this.broadcastedBinaryOp(n,r,"bool",(function(o,a){return o!==a?1:0}))},t.prototype.less=function(n,r){return Ee([n,r],"less"),this.broadcastedBinaryOp(n,r,"bool",(function(o,a){return o<a?1:0}))},t.prototype.lessEqual=function(n,r){return Ee([n,r],"lessEqual"),this.broadcastedBinaryOp(n,r,"bool",(function(o,a){return o<=a?1:0}))},t.prototype.greater=function(n,r){return Ee([n,r],"greater"),this.broadcastedBinaryOp(n,r,"bool",(function(o,a){return o>a?1:0}))},t.prototype.greaterEqual=function(n,r){return Ee([n,r],"greaterEqual"),this.broadcastedBinaryOp(n,r,"bool",(function(o,a){return o>=a?1:0}))},t.prototype.logicalNot=function(n){Ee(n,"logicalNot");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)o[a]=r[a]?0:1;return this.makeOutput(o,n.shape,"bool")},t.prototype.logicalAnd=function(n,r){return Ee([n,r],"logicalAnd"),this.broadcastedBinaryOp(n,r,"bool",(function(o,a){return o&&a}))},t.prototype.logicalOr=function(n,r){return Ee([n,r],"logicalOr"),this.broadcastedBinaryOp(n,r,"bool",(function(o,a){return o||a}))},t.prototype.select=function(n,r,o){Ee([n,r,o],"select");for(var a=this.readSync(n.dataId),i=this.readSync(r.dataId),s=this.readSync(o.dataId),u=Zt(r.shape,Jn(r.dtype,o.dtype)),c=this.readSync(u.dataId),f=0,h=n.rank===0||n.rank>1||r.rank===1?1:We(r.shape.slice(1)),m=0;m<a.length;m++)for(var v=0;v<h;v++)a[m]===1?c[f++]=i[m]:c[f++]=s[m];return u},t.prototype.where=function(n){Ee([n],"where");var r=this.readSync(n.dataId);return n2(n.shape,r)},t.prototype.topk=function(n,r,o){return Ee(n,"topk"),q4(this.readSync(n.dataId),n.shape,n.dtype,r)},t.prototype.min=function(n,r){Ee(n,"min"),Jr("min",r,n.rank);for(var o=ir(n.shape,r),a=o[0],i=o[1],s=Zt(a,n.dtype),u=We(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,v=f[m],y=0;y<u;++y){var x=f[m+y];x<v&&(v=x)}c[h]=v}return s},t.prototype.minimum=function(n,r){return Ee([n,r],"minimum"),this.broadcastedBinaryOp(n,r,n.dtype,(function(o,a){return Math.min(o,a)}))},t.prototype.mod=function(n,r){return Ee([n,r],"mod"),this.broadcastedBinaryOp(n,r,n.dtype,(function(o,a){var i=o%a;return o<0&&a<0||o>=0&&a>=0?i:(i+a)%a}))},t.prototype.max=function(n,r){Ee(n,"max"),Jr("max",r,n.rank);for(var o=ir(n.shape,r),a=o[0],i=o[1],s=Zt(a,n.dtype),u=We(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,v=f[m],y=0;y<u;++y){var x=f[m+y];x>v&&(v=x)}c[h]=v}return s},t.prototype.maximum=function(n,r){return Ee([n,r],"maximum"),this.broadcastedBinaryOp(n,r,n.dtype,(function(o,a){return Math.max(o,a)}))},t.prototype.all=function(n,r){Ee(n,"all"),Jr("all",r,n.rank);for(var o=ir(n.shape,r),a=o[0],i=o[1],s=Zt(a,n.dtype),u=We(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,v=f[m],y=0;y<u;++y){var x=f[m+y];v=v&&x}c[h]=v}return s},t.prototype.any=function(n,r){Ee(n,"any"),Jr("any",r,n.rank);for(var o=ir(n.shape,r),a=o[0],i=o[1],s=Zt(a,n.dtype),u=We(i),c=this.readSync(s.dataId),f=this.readSync(n.dataId),h=0;h<c.length;++h){for(var m=h*u,v=f[m],y=0;y<u;++y){var x=f[m+y];v=v||x}c[h]=v}return s},t.prototype.squaredDifference=function(n,r){return Ee([n,r],"squaredDifference"),this.broadcastedBinaryOp(n,r,n.dtype,(function(o,a){var i=o-a;return i*i}))},t.prototype.ceil=function(n){Ee(n,"ceil");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.ceil(r[a]);return this.makeOutput(o,n.shape,"float32")},t.prototype.floor=function(n){Ee(n,"floor");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.floor(r[a]);return this.makeOutput(o,n.shape,"float32")},t.prototype.sign=function(n){Ee(n,"x");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)r[a]<0?o[a]=-1:r[a]>0?o[a]=1:o[a]=0;return this.makeOutput(o,n.shape,"float32")},t.prototype.isNaN=function(n){Ee(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Number.isNaN(r[a])&&(o[a]=1);return this.makeOutput(o,n.shape,"bool")},t.prototype.isInf=function(n){Ee(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Math.abs(r[a])===1/0&&(o[a]=1);return this.makeOutput(o,n.shape,"bool")},t.prototype.isFinite=function(n){Ee(n,"x");for(var r=this.readSync(n.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Number.isFinite(r[a])&&(o[a]=1);return this.makeOutput(o,n.shape,"bool")},t.prototype.round=function(n){Ee(n,"round");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=Math.floor(r[a]);r[a]-i<.5?o[a]=Math.floor(r[a]):r[a]-i>.5?o[a]=Math.ceil(r[a]):o[a]=i%2==0?i:i+1}return this.makeOutput(o,n.shape,"float32")},t.prototype.exp=function(n){Ee(n,"exp");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.exp(r[a]);return this.makeOutput(o,n.shape,"float32")},t.prototype.expm1=function(n){Ee(n,"expm1");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.expm1(r[a]);return this.makeOutput(o,n.shape,"float32")},t.prototype.log=function(n){Ee(n,"log");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=r[a];o[a]=Math.log(i)}return this.makeOutput(o,n.shape,"float32")},t.prototype.log1p=function(n){Ee(n,"log1p");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=r[a];o[a]=Math.log1p(i)}return this.makeOutput(o,n.shape,"float32")},t.prototype.sqrt=function(n){Ee(n,"sqrt");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=r[a];o[a]=Math.sqrt(i)}return this.makeOutput(o,n.shape,"float32")},t.prototype.rsqrt=function(n){Ee(n,"rsqrt");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=r[a];o[a]=1/Math.sqrt(i)}return this.makeOutput(o,n.shape,"float32")},t.prototype.reciprocal=function(n){Ee(n,"reciprocal");for(var r=this.readSync(n.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=1/r[a];return this.makeOutput(o,n.shape,"float32")},t.prototype.linear=function(n){return n},t.prototype.relu=function(n){Ee(n,"relu");for(var r=Zt(n.shape,n.dtype),o=this.readSync(r.dataId),a=this.readSync(n.dataId),i=0;i<a.length;++i)o[i]=Math.max(0,a[i]);return r},t.prototype.relu6=function(n){Ee(n,"relu");for(var r=Zt(n.shape,n.dtype),o=this.readSync(r.dataId),a=this.readSync(n.dataId),i=0;i<a.length;++i)o[i]=Math.min(Math.max(0,a[i]),6);return r},t.prototype.prelu=function(n,r){return Ee([n,r],"prelu"),this.broadcastedBinaryOp(n,r,n.dtype,(function(o,a){return o<0?a*o:o}))},t.prototype.elu=function(n){Ee(n,"elu");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a){var i=o[a];r[a]=i>=0?i:Math.exp(i)-1}return this.makeOutput(r,n.shape,"float32")},t.prototype.eluDer=function(n,r){Ee([n,r],"eluDer");for(var o=new Float32Array(r.size),a=this.readSync(r.dataId),i=this.readSync(n.dataId),s=0;s<a.length;++s){var u=a[s];o[s]=u>=1?i[s]:i[s]*(u+1)}return this.makeOutput(o,r.shape,"float32")},t.prototype.selu=function(n){Ee(n,"selu");for(var r=o2,o=a2,a=new Float32Array(n.size),i=this.readSync(n.dataId),s=0;s<i.length;++s){var u=i[s];a[s]=u>=0?o*u:r*(Math.exp(u)-1)}return this.makeOutput(a,n.shape,"float32")},t.prototype.clip=function(n,r,o){Ee(n,"clip");for(var a=new Float32Array(n.size),i=this.readSync(n.dataId),s=0;s<i.length;++s){var u=i[s];a[s]=u>o?o:u<r?r:u}return this.makeOutput(a,n.shape,"float32")},t.prototype.abs=function(n){for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.abs(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.complexAbs=function(n){for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<n.size;++a){var i=o[2*a],s=o[2*a+1];r[a]=Math.hypot(i,s)}return this.makeOutput(r,n.shape,"float32")},t.prototype.int=function(n){Ee(n,"int");for(var r=new Int32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=o[a];return this.makeOutput(r,n.shape,"int32")},t.prototype.sigmoid=function(n){Ee(n,"sigmoid");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=1/(1+Math.exp(-o[a]));return this.makeOutput(r,n.shape,"float32")},t.prototype.softplus=function(n){Ee(n,"softplus");for(var r=Math.log(11920928955078125e-23)+2,o=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var s=a[i]>-r,u=a[i]<r,c=Math.exp(a[i]),f=void 0;f=u?c:s?a[i]:Math.log(1+c),o[i]=f}return this.makeOutput(o,n.shape,"float32")},t.prototype.sin=function(n){Ee(n,"sin");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.sin(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cos=function(n){Ee(n,"cos");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.cos(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tan=function(n){Ee(n,"tan");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.tan(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asin=function(n){Ee(n,"asin");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.asin(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acos=function(n){Ee(n,"acos");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.acos(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan=function(n){Ee(n,"atan");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.atan(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atan2=function(n,r){return Ee([n,r],"atan2"),this.broadcastedBinaryOp(n,r,n.dtype,(function(o,a){return Math.atan2(o,a)}))},t.prototype.sinh=function(n){Ee(n,"sinh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.sinh(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.cosh=function(n){Ee(n,"cosh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.cosh(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.tanh=function(n){Ee(n,"tanh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=xJ(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.asinh=function(n){Ee(n,"asinh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.asinh(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.acosh=function(n){Ee(n,"acosh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.acosh(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.atanh=function(n){Ee(n,"atanh");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a)r[a]=Math.atanh(o[a]);return this.makeOutput(r,n.shape,"float32")},t.prototype.erf=function(n){Ee(n,"erf");for(var r=new Float32Array(n.size),o=this.readSync(n.dataId),a=0;a<o.length;++a){var i=Math.sign(o[a]),s=Math.abs(o[a]),u=1/(1+.3275911*s);r[a]=i*(1-((((1.061405429*u-1.453152027)*u+1.421413741)*u-.284496736)*u+.254829592)*u*Math.exp(-s*s))}return this.makeOutput(r,n.shape,"float32")},t.prototype.step=function(n,r){r===void 0&&(r=0),Ee(n,"step");for(var o=new Float32Array(n.size),a=this.readSync(n.dataId),i=0;i<a.length;++i){var s=a[i];isNaN(s)?o[i]=NaN:o[i]=s>0?1:r}return this.makeOutput(o,n.shape,"float32")},t.prototype.fusedConv2d=function(n){var r=n.input,o=n.filter,a=n.convInfo,i=n.bias,s=n.activation,u=n.preluActivationWeights,c=this.conv2d(r,o,a);return i&&(c=this.add(c,i)),s&&(c=R0(this,c,s,u)),c},t.prototype.conv2d=function(n,r,o){Ee([n,r],"conv2d");for(var a=o.filterHeight,i=o.filterWidth,s=o.dilationHeight,u=o.dilationWidth,c=o.padInfo.left,f=o.padInfo.top,h=o.dataFormat==="channelsLast",m=dt(o.outShape,n.dtype),v=n.strides[0],y=h?n.strides[1]:n.strides[2],x=h?n.strides[2]:1,w=h?1:n.strides[1],S=m.strides[0],E=h?m.strides[1]:m.strides[2],R=h?m.strides[2]:1,D=h?1:m.strides[1],A=this.readSync(n.dataId),N=this.readSync(r.dataId),k=m.values,M=0;M<o.batchSize;++M)for(var I=M*v,O=M*S,L=0;L<o.outHeight;++L)for(var F=O+L*E,X=L*o.strideHeight-f,W=0;W<a;W++){var Y=X+W*s;if(!(Y<0||Y>=o.inHeight))for(var B=W*r.strides[0],V=I+Y*y,U=0;U<o.outWidth;++U)for(var $=F+U*R,j=U*o.strideWidth-c,G=0;G<i;G++){var Q=j+G*u;if(!(Q<0||Q>=o.inWidth))for(var te=V+Q*x,de=B+G*r.strides[1],we=0;we<o.inChannels;++we){for(var ie=A[te+we*w],oe=0;oe<o.outChannels;++oe)k[$+oe*D]+=ie*N[de+oe];de+=o.outChannels}}}return m.toTensor()},t.prototype.conv3d=function(n,r,o){for(var a=o.filterDepth,i=o.filterHeight,s=o.filterWidth,u=o.dilationDepth,c=o.dilationHeight,f=o.dilationWidth,h=o.padInfo.front,m=o.padInfo.left,v=o.padInfo.top,y=dt(o.outShape,n.dtype),x=this.readSync(n.dataId),w=this.readSync(r.dataId),S=y.values,E=0;E<o.batchSize;++E)for(var R=E*n.strides[0],D=E*y.strides[0],A=0;A<o.outDepth;++A)for(var N=D+A*y.strides[1],k=A*o.strideDepth-h,M=0;M<a;M++){var I=k+M*u;if(!(I<0||I>=o.inDepth))for(var O=M*r.strides[0],L=R+I*n.strides[1],F=0;F<o.outHeight;++F)for(var X=N+F*y.strides[2],W=F*o.strideHeight-v,Y=0;Y<i;Y++){var B=W+Y*c;if(!(B<0||B>=o.inHeight))for(var V=O+Y*r.strides[1],U=L+B*n.strides[2],$=0;$<o.outWidth;++$)for(var j=X+$*o.outChannels,G=$*o.strideWidth-m,Q=0;Q<s;Q++){var te=G+Q*f;if(!(te<0||te>=o.inWidth))for(var de=V+Q*r.strides[2],we=U+te*o.inChannels,ie=de,oe=0;oe<o.inChannels;++oe){for(var ve=x[we+oe],pe=0;pe<o.outChannels;++pe)S[j+pe]+=ve*w[ie+pe];ie+=o.outChannels}}}}return y.toTensor()},t.prototype.conv2dDerInput=function(n,r,o){Ee([n,r],"conv2dDerInput");for(var a=dt(o.inShape,"float32"),i=a.values,s=this.readSync(n.dataId),u=this.readSync(r.dataId),c=r.strides,f=c[0],h=c[1],m=c[2],v=o.batchSize,y=o.filterHeight,x=o.filterWidth,w=o.inChannels,S=o.inHeight,E=o.inWidth,R=o.outChannels,D=o.outHeight,A=o.outWidth,N=o.strideHeight,k=o.strideWidth,M=o.dataFormat,I=y-1-o.padInfo.top,O=x-1-o.padInfo.left,L=M==="channelsLast",F=a.strides[0],X=L?a.strides[1]:a.strides[2],W=L?a.strides[2]:1,Y=L?1:a.strides[1],B=n.strides[0],V=L?n.strides[1]:n.strides[2],U=L?n.strides[2]:1,$=L?1:n.strides[1],j=0;j<v;++j)for(var G=0;G<w;++G)for(var Q=0;Q<S;++Q)for(var te=Q-I,de=Math.max(0,Math.ceil(te/N)),we=Math.min(D,(y+te)/N),ie=0;ie<E;++ie){for(var oe=ie-O,ve=Math.max(0,Math.ceil(oe/k)),pe=Math.min(A,(x+oe)/k),Oe=0,je=de;je<we;++je)for(var Pe=je*N-te,Te=ve;Te<pe;++Te)for(var Je=B*j+V*je+U*Te,it=f*(y-1-Pe)+h*(x-1-(Te*k-oe))+m*G,nt=0;nt<R;++nt)Oe+=s[Je+$*nt]*u[it+nt];i[F*j+X*Q+W*ie+Y*G]=Oe}return a.toTensor()},t.prototype.conv3dDerInput=function(n,r,o){for(var a=dt(o.inShape,"float32"),i=a.values,s=a.strides,u=s[0],c=s[1],f=s[2],h=s[3],m=this.readSync(n.dataId),v=n.strides,y=v[0],x=v[1],w=v[2],S=v[3],E=this.readSync(r.dataId),R=r.strides,D=R[0],A=R[1],N=R[2],k=R[3],M=o.batchSize,I=o.filterDepth,O=o.filterHeight,L=o.filterWidth,F=o.inChannels,X=o.inDepth,W=o.inHeight,Y=o.inWidth,B=o.outChannels,V=o.outDepth,U=o.outHeight,$=o.outWidth,j=o.strideDepth,G=o.strideHeight,Q=o.strideWidth,te=I-1-o.padInfo.front,de=O-1-o.padInfo.top,we=L-1-o.padInfo.left,ie=0;ie<M;++ie)for(var oe=0;oe<F;++oe)for(var ve=0;ve<X;++ve)for(var pe=ve-te,Oe=Math.max(0,Math.ceil(pe/j)),je=Math.min(V,(I+pe)/j),Pe=0;Pe<W;++Pe)for(var Te=Pe-de,Je=Math.max(0,Math.ceil(Te/G)),it=Math.min(U,(O+Te)/G),nt=0;nt<Y;++nt){for(var _e=nt-we,De=Math.max(0,Math.ceil(_e/Q)),ke=Math.min($,(L+_e)/Q),Ze=0,st=Oe;st<je;++st)for(var Ye=st*j-pe,He=Je;He<it;++He)for(var qt=He*G-Te,Ae=De;Ae<ke;++Ae)for(var Be=y*ie+x*st+w*He+S*Ae,rt=D*(I-1-Ye)+A*(O-1-qt)+N*(L-1-(Ae*Q-_e))+k*oe,kt=0;kt<B;++kt)Ze+=m[Be+kt]*E[rt+kt];i[u*ie+c*ve+f*Pe+h*nt+oe]=Ze}return a.toTensor()},t.prototype.conv2dDerFilter=function(n,r,o){Ee([n,r],"conv2dDerFilter");for(var a=o.strideHeight,i=o.strideWidth,s=o.filterHeight,u=o.filterWidth,c=o.dataFormat==="channelsLast",f=dt(o.filterShape,"float32"),h=o.padInfo.left,m=o.padInfo.top,v=this.bufferSync(n),y=this.bufferSync(r),x=0;x<s;++x)for(var w=Math.max(0,Math.ceil((m-x)/a)),S=Math.min(o.outHeight,(o.inHeight+m-x)/a),E=0;E<u;++E)for(var R=Math.max(0,Math.ceil((h-E)/i)),D=Math.min(o.outWidth,(o.inWidth+h-E)/i),A=0;A<o.inChannels;++A)for(var N=0;N<o.outChannels;++N){for(var k=0,M=0;M<o.batchSize;++M)for(var I=w;I<S;++I)for(var O=x+I*a-m,L=R;L<D;++L){var F=E+L*i-h;k+=c?v.get(M,O,F,A)*y.get(M,I,L,N):v.get(M,A,O,F)*y.get(M,N,I,L)}f.set(k,x,E,A,N)}return f.toTensor()},t.prototype.conv3dDerFilter=function(n,r,o){for(var a=o.strideDepth,i=o.strideHeight,s=o.strideWidth,u=o.filterDepth,c=o.filterHeight,f=o.filterWidth,h=dt(o.filterShape,"float32"),m=h.values,v=h.strides,y=v[0],x=v[1],w=v[2],S=v[3],E=this.readSync(r.dataId),R=r.strides,D=R[0],A=R[1],N=R[2],k=R[3],M=this.readSync(n.dataId),I=n.strides,O=I[0],L=I[1],F=I[2],X=I[3],W=o.padInfo.front,Y=o.padInfo.left,B=o.padInfo.top,V=0;V<u;++V)for(var U=Math.max(0,Math.ceil((W-V)/a)),$=Math.min(o.outDepth,(o.inDepth+W-V)/a),j=V*y,G=0;G<c;++G)for(var Q=Math.max(0,Math.ceil((B-G)/i)),te=Math.min(o.outHeight,(o.inHeight+B-G)/i),de=G*x+j,we=0;we<f;++we)for(var ie=Math.max(0,Math.ceil((Y-we)/s)),oe=Math.min(o.outWidth,(o.inWidth+Y-we)/s),ve=we*w+de,pe=0;pe<o.inChannels;++pe)for(var Oe=pe*S+ve,je=0;je<o.outChannels;++je){for(var Pe=0,Te=0;Te<o.batchSize;++Te)for(var Je=Te*O,it=Te*D,nt=U;nt<$;++nt)for(var _e=(V+nt*a-W)*L+Je,De=nt*A+it,ke=Q;ke<te;++ke)for(var Ze=(G+ke*i-B)*F+_e,st=ke*N+De,Ye=ie;Ye<oe;++Ye){var He=Ye*k+st;Pe+=M[(we+Ye*s-Y)*X+Ze+pe]*E[He+je]}m[Oe+je]=Pe}return h.toTensor()},t.prototype.fusedDepthwiseConv2D=function(n){var r=n.input,o=n.filter,a=n.convInfo,i=n.bias,s=n.activation,u=n.preluActivationWeights,c=this.depthwiseConv2D(r,o,a);return i&&(c=this.add(c,i)),s&&(c=R0(this,c,s,u)),c},t.prototype.depthwiseConv2D=function(n,r,o){Ee([n,r],"depthwiseConv2D");for(var a=o.filterHeight,i=o.filterWidth,s=o.dilationHeight,u=o.dilationWidth,c=o.padInfo.left,f=o.padInfo.top,h=o.outChannels/o.inChannels,m=dt(o.outShape,n.dtype),v=this.readSync(n.dataId),y=this.readSync(r.dataId),x=m.values,w=0;w<o.batchSize;++w)for(var S=w*n.strides[0],E=w*m.strides[0],R=0;R<o.outHeight;++R)for(var D=E+R*m.strides[1],A=R*o.strideHeight-c,N=0;N<a;++N){var k=A+N*s;if(!(k<0||k>=o.inHeight))for(var M=N*r.strides[0],I=S+k*n.strides[1],O=0;O<o.outWidth;++O)for(var L=D+O*m.strides[2],F=O*o.strideWidth-f,X=0;X<i;++X){var W=F+X*u;if(!(W<0||W>=o.inWidth))for(var Y=M+X*r.strides[1],B=I+W*o.inChannels,V=L,U=Y,$=0;$<o.inChannels;++$){for(var j=v[B+$],G=0;G<h;++G)x[V+G]+=j*y[U+G];V+=h,U+=h}}}return m.toTensor()},t.prototype.depthwiseConv2DDerInput=function(n,r,o){Ee([n,r],"depthwiseConv2DDerInput");for(var a=dt(o.inShape,"float32"),i=a.values,s=a.strides,u=s[0],c=s[1],f=s[2],h=this.readSync(n.dataId),m=n.strides,v=m[0],y=m[1],x=m[2],w=this.readSync(r.dataId),S=r.strides,E=S[0],R=S[1],D=S[2],A=o.batchSize,N=o.filterHeight,k=o.filterWidth,M=o.inChannels,I=o.inHeight,O=o.inWidth,L=o.outChannels,F=o.outHeight,X=o.outWidth,W=o.strideHeight,Y=o.strideWidth,B=N-1-o.padInfo.top,V=k-1-o.padInfo.left,U=L/M,$=0;$<A;++$)for(var j=0;j<M;++j)for(var G=0;G<I;++G)for(var Q=G-B,te=Math.max(0,Math.ceil(Q/W)),de=Math.min(F,(N+Q)/W),we=0;we<O;++we){for(var ie=we-V,oe=Math.max(0,Math.ceil(ie/Y)),ve=Math.min(X,(k+ie)/Y),pe=0,Oe=te;Oe<de;++Oe)for(var je=Oe*W-Q,Pe=oe;Pe<ve;++Pe)for(var Te=v*$+y*Oe+x*Pe,Je=E*(N-1-je)+R*(k-1-(Pe*Y-ie))+D*j,it=0;it<U;++it)pe+=h[Te+(j*U+it)]*w[Je+it];i[u*$+c*G+f*we+j]=pe}return a.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(n,r,o){Ee([n,r],"depthwiseConv2DDerFilter");for(var a=o.strideHeight,i=o.strideWidth,s=o.filterHeight,u=o.filterWidth,c=dt(o.filterShape,"float32"),f=o.padInfo.left,h=o.padInfo.top,m=o.outChannels/o.inChannels,v=this.bufferSync(n),y=this.bufferSync(r),x=0;x<s;++x)for(var w=Math.max(0,Math.ceil((h-x)/a)),S=Math.min(o.outHeight,(o.inHeight+h-x)/a),E=0;E<u;++E)for(var R=Math.max(0,Math.ceil((f-E)/i)),D=Math.min(o.outWidth,(o.inWidth+f-E)/i),A=0;A<o.outChannels;++A){for(var N=Math.trunc(A/m),k=A%m,M=0,I=0;I<o.batchSize;++I)for(var O=w;O<S;++O)for(var L=x+O*a-h,F=R;F<D;++F){var X=E+F*i-f;M+=v.get(I,L,X,N)*y.get(I,O,F,A)}c.set(M,x,E,N,k)}return c.toTensor()},t.prototype.tile=function(n,r){return Ee(n,"tile"),G4(this.bufferSync(n),r)},t.prototype.pad=function(n,r,o){Ee(n,"pad");var a=r.map((function(m,v){return m[0]+n.shape[v]+m[1]})),i=r.map((function(m){return m[0]})),s=this.bufferSync(n),u=dt(a,n.dtype);o!==0&&u.values.fill(o);for(var c=0;c<n.size;c++){var f=s.indexToLoc(c),h=f.map((function(m,v){return m+i[v]}));u.set.apply(u,[s.get.apply(s,f)].concat(h))}return u.toTensor()},t.prototype.transpose=function(n,r){Ee(n,"transpose");for(var o=new Array(n.rank),a=0;a<o.length;a++)o[a]=n.shape[r[a]];var i=this.readSync(n.dataId),s=dt(o,n.dtype),u=this.bufferSync(n);for(a=0;a<n.size;++a){for(var c=u.indexToLoc(a),f=new Array(c.length),h=0;h<f.length;h++)f[h]=c[r[h]];var m=s.locToIndex(f);s.values[m]=i[a]}return s.toTensor()},t.prototype.gather=function(n,r,o){Ee([n,r],"gather");var a=n.shape.slice(),i=this.readSync(r.dataId);a[o]=i.length;for(var s=dt(a,n.dtype),u=this.bufferSync(n),c=0;c<s.size;++c){var f=s.indexToLoc(c),h=f.slice();h[o]=i[f[o]];var m=u.locToIndex(h);s.values[c]=u.values[m]}return s.toTensor()},t.prototype.batchToSpaceND=function(n,r,o){Ee([n],"batchToSpaceND");var a=r.reduce((function(h,m){return h*m})),i=Em(n.shape,r,a),s=Rm(i.length,r.length),u=_m(n.shape,r,a),c=I4(o,r.length),f=O4(u,o,r.length);return n.reshape(i).transpose(s).reshape(u).slice(c,f)},t.prototype.spaceToBatchND=function(n,r,o){Ee([n],"spaceToBatchND");var a=r.reduce((function(m,v){return m*v})),i=[[0,0]];i.push.apply(i,o);for(var s=1+r.length;s<n.shape.length;++s)i.push([0,0]);var u=n.pad(i),c=Em(u.shape,r,a,!1),f=Rm(c.length,r.length,!1),h=_m(u.shape,r,a,!1);return u.reshape(c).transpose(f).reshape(h)},t.prototype.pool=function(n,r,o){Ee(n,"pool");for(var a=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,v=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=this.readSync(n.dataId),x=dt(r.outShape,n.dtype),w=x.values,S=r.outShape[1]*r.outShape[2]*r.outShape[3],E=r.outShape[2]*r.outShape[3],R=r.outShape[3],D=0;D<r.batchSize;++D)for(var A=D*S,N=D*n.strides[0],k=0;k<r.inChannels;++k)for(var M=0;M<r.outHeight;++M)for(var I=M*a-h,O=Math.max(0,I),L=Math.min(r.inHeight,c+I),F=A+M*E,X=0;X<r.outWidth;++X){for(var W=X*i-m,Y=Math.max(0,W),B=Math.min(r.inWidth,f+W),V=v,U=0,$=0,j=O;j<L;j+=s){for(var G=N+j*n.strides[1],Q=Y;Q<B;Q+=u){var te=y[G+Q*n.strides[2]+k];o==="max"&&te>V?V=te:o==="avg"&&(U+=te,$++)}if(isNaN(V))break}w[F+X*R+k]=o==="avg"?U/$:V}return x.toTensor()},t.prototype.maxPool=function(n,r){return this.pool(n,r,"max")},t.prototype.maxPoolPositions=function(n,r){for(var o=dt(r.outShape,"int32"),a=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,v=this.bufferSync(n),y=0;y<r.batchSize;++y)for(var x=0;x<r.inChannels;++x)for(var w=0;w<r.outHeight;++w){for(var S=w*a-h,E=S;E<0;)E+=s;for(var R=Math.min(r.inHeight,c+S),D=0;D<r.outWidth;++D){for(var A=D*i-m,N=A;N<0;)N+=u;for(var k=Math.min(r.inWidth,f+A),M=Number.NEGATIVE_INFINITY,I=-1,O=E;O<R;O+=s)for(var L=O-S,F=N;F<k;F+=u){var X=F-A,W=v.get(y,O,F,x);W>M&&(M=W,I=L*f+X)}o.set(I,y,w,D,x)}}return o.toTensor()},t.prototype.maxPoolBackprop=function(n,r,o,a){Ee([r,o],"maxPoolBackprop");for(var i=this.maxPoolPositions(r,a),s=a.strideHeight,u=a.strideWidth,c=a.dilationHeight,f=a.dilationWidth,h=a.effectiveFilterHeight,m=a.effectiveFilterWidth,v=m-1-a.padInfo.left,y=h-1-a.padInfo.top,x=dt(r.shape,"float32"),w=this.bufferSync(i),S=this.bufferSync(n),E=0;E<a.batchSize;++E)for(var R=0;R<a.inChannels;++R)for(var D=0;D<a.inHeight;++D)for(var A=0;A<a.inWidth;++A){for(var N=D-y,k=A-v,M=0,I=0;I<h;I+=c){var O=(N+I)/s;if(!(O<0||O>=a.outHeight||Math.floor(O)!==O))for(var L=0;L<m;L+=f){var F=(k+L)/u;if(!(F<0||F>=a.outWidth||Math.floor(F)!==F)){var X=h*m-1-w.get(E,O,F,R)===I*m+L?1:0;X!==0&&(M+=S.get(E,O,F,R)*X)}}}x.set(M,E,D,A,R)}return x.toTensor()},t.prototype.avgPoolBackprop=function(n,r,o){Ee([n,r],"avgPoolBackprop");for(var a=o.strideHeight,i=o.strideWidth,s=o.filterHeight,u=o.filterWidth,c=o.dilationHeight,f=o.dilationWidth,h=o.effectiveFilterHeight,m=o.effectiveFilterWidth,v=m-1-o.padInfo.left,y=h-1-o.padInfo.top,x=dt(r.shape,"float32"),w=1/(s*u),S=this.bufferSync(n),E=0;E<o.batchSize;++E)for(var R=0;R<o.inChannels;++R)for(var D=0;D<o.inHeight;++D)for(var A=0;A<o.inWidth;++A){for(var N=D-y,k=A-v,M=0,I=0;I<h;I+=c){var O=(N+I)/a;if(!(O<0||O>=o.outHeight||Math.floor(O)!==O))for(var L=0;L<m;L+=f){var F=(k+L)/i;F<0||F>=o.outWidth||Math.floor(F)!==F||(M+=S.get(E,O,F,R))}}x.set(M*w,E,D,A,R)}return x.toTensor()},t.prototype.pool3d=function(n,r,o){Ee(n,"pool3d");for(var a=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,f=r.dilationWidth,h=r.effectiveFilterDepth,m=r.effectiveFilterHeight,v=r.effectiveFilterWidth,y=r.padInfo.front,x=r.padInfo.top,w=r.padInfo.left,S=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,E=this.readSync(n.dataId),R=dt(r.outShape,n.dtype),D=R.values,A=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],N=r.outShape[2]*r.outShape[3]*r.outShape[4],k=r.outShape[3]*r.outShape[4],M=r.outShape[4],I=0;I<r.batchSize;++I)for(var O=I*A,L=I*n.strides[0],F=0;F<r.inChannels;++F)for(var X=0;X<r.outDepth;++X){for(var W=X*a-y,Y=W;Y<0;)Y+=u;for(var B=Math.min(r.inDepth,h+W),V=O+X*N,U=0;U<r.outHeight;++U){for(var $=U*i-x,j=$;j<0;)j+=c;for(var G=Math.min(r.inHeight,m+$),Q=V+U*k,te=0;te<r.outWidth;++te){for(var de=te*s-w,we=de;we<0;)we+=f;for(var ie=Math.min(r.inWidth,v+de),oe=Q+te*M,ve=S,pe=0,Oe=0,je=Y;je<B;je+=u){for(var Pe=L+je*n.strides[1],Te=j;Te<G;Te+=c){for(var Je=Pe+Te*n.strides[2],it=we;it<ie;it+=f){var nt=E[Je+it*n.strides[3]+F];if(o==="max"&&nt>ve?ve=nt:o==="avg"&&(pe+=nt,Oe++),isNaN(ve))break}if(isNaN(ve))break}if(isNaN(ve))break}D[oe+F]=o==="avg"?pe/Oe:ve}}}return R.toTensor()},t.prototype.avgPool3d=function(n,r){return Ee(n,"avgPool3d"),this.pool3d(n,r,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(n,r,o){Ee([n,r],"avgPool3dBackprop");for(var a=o.strideDepth,i=o.strideHeight,s=o.strideWidth,u=o.filterDepth,c=o.filterHeight,f=o.filterWidth,h=o.dilationDepth,m=o.dilationHeight,v=o.dilationWidth,y=o.effectiveFilterDepth,x=o.effectiveFilterHeight,w=o.effectiveFilterWidth,S=y-1-o.padInfo.front,E=w-1-o.padInfo.left,R=x-1-o.padInfo.top,D=dt(r.shape,"float32"),A=1/(u*c*f),N=this.bufferSync(n),k=0;k<o.batchSize;++k)for(var M=0;M<o.inChannels;++M)for(var I=0;I<o.inDepth;++I)for(var O=0;O<o.inHeight;++O)for(var L=0;L<o.inWidth;++L){for(var F=I-S,X=O-R,W=L-E,Y=0,B=0;B<y;B+=h){var V=(F+B)/a;if(!(V<0||V>=o.outDepth||Math.floor(V)!==V))for(var U=0;U<x;U+=m){var $=(X+U)/i;if(!($<0||$>=o.outHeight||Math.floor($)!==$))for(var j=0;j<w;j+=v){var G=(W+j)/s;G<0||G>=o.outWidth||Math.floor(G)!==G||(Y+=N.get(k,V,$,G,M))}}}D.set(Y*A,k,I,O,L,M)}return D.toTensor()},t.prototype.maxPool3d=function(n,r){return Ee(n,"maxPool3d"),this.pool3d(n,r,"max").toFloat()},t.prototype.maxPool3dPositions=function(n,r){for(var o=dt(r.outShape,"int32"),a=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,f=r.dilationWidth,h=r.effectiveFilterDepth,m=r.effectiveFilterHeight,v=r.effectiveFilterWidth,y=r.padInfo.front,x=r.padInfo.top,w=r.padInfo.left,S=this.bufferSync(n),E=0;E<r.batchSize;++E)for(var R=0;R<r.inChannels;++R)for(var D=0;D<r.outDepth;++D){for(var A=D*a-y,N=A;N<0;)N+=u;for(var k=Math.min(r.inDepth,h+A),M=0;M<r.outHeight;++M){for(var I=M*i-x,O=I;O<0;)O+=c;for(var L=Math.min(r.inHeight,m+I),F=0;F<r.outWidth;++F){for(var X=F*s-w,W=X;W<0;)W+=f;for(var Y=Math.min(r.inWidth,v+X),B=Number.NEGATIVE_INFINITY,V=-1,U=N;U<k;U+=u)for(var $=U-A,j=O;j<L;j+=c)for(var G=j-I,Q=W;Q<Y;Q+=f){var te=Q-X,de=S.get(E,U,j,Q,R);de>=B&&(B=de,V=$*m*v+G*m+te)}o.set(V,E,D,M,F,R)}}}return o.toTensor()},t.prototype.maxPool3dBackprop=function(n,r,o,a){Ee([r,o],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(r,a),s=a.strideDepth,u=a.strideHeight,c=a.strideWidth,f=a.dilationDepth,h=a.dilationHeight,m=a.dilationWidth,v=a.effectiveFilterDepth,y=a.effectiveFilterHeight,x=a.effectiveFilterWidth,w=v-1-a.padInfo.front,S=x-1-a.padInfo.left,E=y-1-a.padInfo.top,R=dt(r.shape,"float32"),D=this.bufferSync(i),A=this.bufferSync(n),N=0;N<a.batchSize;++N)for(var k=0;k<a.inChannels;++k)for(var M=0;M<a.inDepth;++M)for(var I=0;I<a.inHeight;++I)for(var O=0;O<a.inWidth;++O){for(var L=M-w,F=I-E,X=O-S,W=0,Y=0;Y<v;Y+=f){var B=(L+Y)/s;if(!(B<0||B>=a.outDepth||Math.floor(B)!==B))for(var V=0;V<y;V+=h){var U=(F+V)/u;if(!(U<0||U>=a.outHeight||Math.floor(U)!==U))for(var $=0;$<x;$+=m){var j=(X+$)/c;if(!(j<0||j>=a.outWidth||Math.floor(j)!==j)){var G=v*y*x-1-D.get(N,B,U,j,k)===Y*y*x+V*x+$?1:0;G!==0&&(W+=A.get(N,B,U,j,k)*G)}}}}R.set(W,N,M,I,O,k)}return R.toTensor()},t.prototype.cast=function(n,r){return V4(n,r,this)},t.prototype.reshape=function(n,r){return jx(n,r)},t.prototype.avgPool=function(n,r){return Ee(n,"avgPool"),this.pool(n,r,"avg").toFloat()},t.prototype.resizeBilinear=function(n,r,o,a){Ee(n,"resizeBilinear");for(var i=n.shape,s=i[0],u=i[1],c=i[2],f=i[3],h=this.readSync(n.dataId),m=new Float32Array(We([s,r,o,f])),v=[a&&r>1?u-1:u,a&&o>1?c-1:c],y=[a&&r>1?r-1:r,a&&o>1?o-1:o],x=0,w=v[0]/y[0],S=v[1]/y[1],E=0;E<s;E++)for(var R=0;R<r;R++)for(var D=w*R,A=Math.floor(D),N=D-A,k=Math.min(u-1,Math.ceil(D)),M=E*n.strides[0]+A*n.strides[1],I=E*n.strides[0]+k*n.strides[1],O=0;O<o;O++)for(var L=S*O,F=Math.floor(L),X=L-F,W=Math.min(c-1,Math.ceil(L)),Y=M+F*n.strides[2],B=I+F*n.strides[2],V=M+W*n.strides[2],U=I+W*n.strides[2],$=0;$<f;$++){var j=h[Y+$],G=h[B+$],Q=j+(h[V+$]-j)*X,te=Q+(G+(h[U+$]-G)*X-Q)*N;m[x++]=te}return er(m,[s,r,o,f])},t.prototype.resizeBilinearBackprop=function(n,r,o){Ee([n,r],"resizeBilinearBackprop");for(var a=r.shape,i=a[0],s=a[1],u=a[2],c=a[3],f=n.shape,h=f[1],m=f[2],v=new Float32Array(i*s*u*c),y=[o&&h>1?s-1:s,o&&m>1?u-1:u],x=[o&&h>1?h-1:h,o&&m>1?m-1:m],w=y[0]/x[0],S=y[1]/x[1],E=this.readSync(n.dataId),R=0,D=0;D<i;D++)for(var A=D*r.strides[0],N=0;N<h;N++)for(var k=N*w,M=Math.floor(k),I=Math.min(Math.ceil(k),s-1),O=A+M*r.strides[1],L=A+I*r.strides[1],F=k-M,X=1-F,W=0;W<m;W++)for(var Y=W*S,B=Math.floor(Y),V=Math.min(Math.ceil(Y),u-1),U=Y-B,$=1-U,j=O+B*r.strides[2],G=O+V*r.strides[2],Q=L+B*r.strides[2],te=L+V*r.strides[2],de=X*$,we=X*U,ie=F*$,oe=F*U,ve=0;ve<c;ve++){var pe=E[R++];v[j+ve]+=pe*de,v[G+ve]+=pe*we,v[Q+ve]+=pe*ie,v[te+ve]+=pe*oe}return Mr(v,[i,u,s,c],r.dtype)},t.prototype.resizeNearestNeighbor=function(n,r,o,a){Ee(n,"resizeNearestNeighbor");for(var i=n.shape,s=i[0],u=i[1],c=i[2],f=i[3],h=this.readSync(n.dataId),m=new Float32Array(s*r*o*f),v=[a&&r>1?u-1:u,a&&o>1?c-1:c],y=[a&&r>1?r-1:r,a&&o>1?o-1:o],x=v[0]/y[0],w=v[1]/y[1],S=0,E=0;E<s;E++)for(var R=E*n.strides[0],D=0;D<r;D++)for(var A=x*D,N=R+Math.min(u-1,a?Math.round(A):Math.floor(A))*n.strides[1],k=0;k<o;k++)for(var M=w*k,I=N+Math.min(c-1,a?Math.round(M):Math.floor(M))*n.strides[2],O=0;O<f;O++){var L=h[I+O];m[S++]=L}return er(m,[s,r,o,f],n.dtype)},t.prototype.resizeNearestNeighborBackprop=function(n,r,o){Ee([n,r],"resizeNearestNeighborBackprop");for(var a=r.shape,i=a[0],s=a[1],u=a[2],c=a[3],f=n.shape,h=f[1],m=f[2],v=new Float32Array(i*s*u*c),y=this.readSync(n.dataId),x=[o&&h>1?s-1:s,o&&m>1?u-1:u],w=[o&&h>1?h-1:h,o&&m>1?m-1:m],S=x[0]/w[0],E=x[1]/w[1],R=1/S,D=1/E,A=2*Math.ceil(R)+2,N=2*Math.ceil(D)+2,k=0;k<i;k++)for(var M=k*r.strides[0],I=0;I<s;I++)for(var O=M+I*r.strides[1],L=Math.floor(I*R),F=Math.floor(L-A/2),X=0;X<u;X++)for(var W=O+X*r.strides[2],Y=Math.floor(X*D),B=Math.floor(Y-N/2),V=0;V<c;V++){for(var U=0,$=0;$<A;$++){var j=$+F;if(!(j<0||j>=h)){var G=M+j*n.strides[1],Q=j*S;if(I===Math.min(s-1,o?Math.round(Q):Math.floor(Q)))for(var te=0;te<N;te++){var de=te+B;if(!(de<0||de>=m)){var we=G+de*n.strides[2],ie=de*E;X===Math.min(u-1,o?Math.round(ie):Math.floor(ie))&&(U+=y[we+V])}}}}v[W+V]=U}return Mr(v,r.shape,r.dtype)},t.prototype.batchNormalization=function(n,r,o,a,i,s){Ee([n,r,o,i,s],"batchNorm");for(var u=this.readSync(n.dataId),c=this.readSync(r.dataId),f=this.readSync(o.dataId),h=i?this.readSync(i.dataId):new Float32Array([1]),m=s?this.readSync(s.dataId):new Float32Array([0]),v=new Float32Array(u.length),y=m.length,x=h.length,w=f.length,S=c.length,E=0,R=0,D=0,A=0,N=0;N<u.length;++N)v[N]=m[E++]+(u[N]-c[R++])*h[D++]/Math.sqrt(f[A++]+a),E>=y&&(E=0),R>=S&&(R=0),D>=x&&(D=0),A>=w&&(A=0);return Mr(v,n.shape)},t.prototype.localResponseNormalization4D=function(n,r,o,a,i){Ee(n,"localResponseNormalization4D");var s=n.shape[3],u=s-1,c=this.readSync(n.dataId),f=n.size,h=new Float32Array(f);function m(w){for(var S=w%s,E=w-S+Math.max(0,S-r),R=w-S+Math.min(S+r,u),D=0;E<=R;E++){var A=c[E];D+=A*A}return D}for(var v=0;v<f;v++){var y=m(v),x=c[v]*Math.pow(o+a*y,-i);h[v]=x}return Mr(h,n.shape)},t.prototype.LRNGrad=function(n,r,o,a,i,s,u){Ee(n,"LRNGrad");for(var c=n.shape[3],f=this.readSync(n.dataId),h=this.readSync(r.dataId),m=this.readSync(o.dataId),v=new Float32Array(n.size),y=n.size,x=0;x<y;x++){for(var w=x%c,S=x-w+Math.max(0,w-a),E=x-w+Math.min(c,w+a+1),R=0,D=S;D<E;D++)R+=Math.pow(h[D],2);for(R=s*R+i,D=S;D<E;D++){var A=-2*s*u*h[D]*m[x]/R;x===D&&(A+=Math.pow(R,-u)),A*=f[x],v[D]+=A}}return Mr(v,n.shape)},t.prototype.multinomial=function(n,r,o,a){Ee(n,"multinomial");for(var i=r?n:Si(n),s=i.shape[0],u=i.shape[1],c=Zt([s,o],"int32"),f=this.readSync(c.dataId),h=this.readSync(i.dataId),m=0;m<s;++m){var v=m*u,y=new Float32Array(u-1);y[0]=h[v];for(var x=1;x<y.length;++x)y[x]=y[x-1]+h[v+x];for(var w=$v(a.toString()),S=m*o,E=0;E<o;++E){var R=w();f[S+E]=y.length;for(var D=0;D<y.length;D++)if(R<y[D]){f[S+E]=D;break}}}return c},t.prototype.oneHot=function(n,r,o,a){Ee(n,"oneHot");var i=new Float32Array(n.size*r);i.fill(a);for(var s=this.readSync(n.dataId),u=0;u<n.size;++u)s[u]>=0&&s[u]<r&&(i[u*r+s[u]]=o);return ds(i,[n.size,r],"int32")},t.prototype.nonMaxSuppression=function(n,r,o,a,i){return Ee(n,"nonMaxSuppression"),e2(this.readSync(n.dataId),this.readSync(r.dataId),o,a,i)},t.prototype.fft=function(n){return this.fftBatch(n,!1)},t.prototype.ifft=function(n){return this.fftBatch(n,!0)},t.prototype.fftBatch=function(n,r){for(var o=n.shape[0],a=n.shape[1],i=dt(n.shape,"float32"),s=dt(n.shape,"float32"),u=Do(n).as2D(o,a),c=xa(n).as2D(o,a),f=0;f<o;f++)for(var h=u.slice([f,0],[1,a]),m=c.slice([f,0],[1,a]),v=Qn(h,m),y=this.readSync(this.fftImpl(v,r).dataId),x=0;x<a;x++){var w=ED(y,x);i.values[f*a+x]=w.real,s.values[f*a+x]=w.imag}return Qn(i.toTensor(),s.toTensor()).as2D(o,a)},t.prototype.fftImpl=function(n,r){var o=n.as1D(),a=o.size;if(this.isExponentOf2(a)){var i=this.fftRadix2(o,a,r).as2D(n.shape[0],n.shape[1]);return r&&(i=Qn(Do(i).div(Ie(a)),xa(i).div(Ie(a)))),i}var s=this.readSync(n.dataId),u=(function(c){for(var f=new Float32Array(c.length/2),h=new Float32Array(c.length/2),m=0;m<c.length;m+=2)f[m/2]=c[m],h[m/2]=c[m+1];return{real:f,imag:h}})(this.fourierTransformByMatmul(s,a,r));return Qn(u.real,u.imag).as2D(n.shape[0],n.shape[1])},t.prototype.isExponentOf2=function(n){return(n&n-1)==0},t.prototype.fftRadix2=function(n,r,o){if(r===1)return n;var a=this.readSync(n.dataId),i=r/2,s=(function(S){for(var E=Math.ceil(S.length/4),R=new Float32Array(E),D=new Float32Array(E),A=0;A<S.length;A+=4)R[Math.floor(A/4)]=S[A],D[Math.floor(A/4)]=S[A+1];return{real:R,imag:D}})(a),u=Qn(s.real,s.imag).as1D(),c=(function(S){for(var E=Math.floor(S.length/4),R=new Float32Array(E),D=new Float32Array(E),A=2;A<S.length;A+=4)R[Math.floor(A/4)]=S[A],D[Math.floor(A/4)]=S[A+1];return{real:R,imag:D}})(a),f=Qn(c.real,c.imag).as1D();u=this.fftRadix2(u,i,o),f=this.fftRadix2(f,i,o);var h=(function(S,E){for(var R=new Float32Array(S/2),D=new Float32Array(S/2),A=0;A<Math.ceil(S/2);A++){var N=(E?2:-2)*Math.PI*(A/S);R[A]=Math.cos(N),D[A]=Math.sin(N)}return{real:R,imag:D}})(r,o),m=Qn(h.real,h.imag).mul(f),v=u.add(m),y=u.sub(m),x=Do(v).concat(Do(y)),w=xa(v).concat(xa(y));return Qn(x,w).as1D()},t.prototype.fourierTransformByMatmul=function(n,r,o){for(var a=new Float32Array(2*r),i=0;i<r;i++){for(var s=0,u=0,c=0;c<r;c++){var f=ZZ(i*c,r,o),h=ED(n,c);s+=h.real*f.real-h.imag*f.imag,u+=h.real*f.imag+h.imag*f.real}o&&(s/=r,u/=r),JZ(a,s,u,i)}return a},t.prototype.depthToSpace=function(n,r,o){q(o==="NHWC",(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+o})),q(r>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+r}));for(var a=n.shape[0],i=n.shape[1],s=n.shape[2],u=n.shape[3],c=i*r,f=s*r,h=u/(r*r),m=this.readSync(n.dataId),v=new Float32Array(a*c*f*h),y=0,x=0;x<a;++x)for(var w=0;w<c;++w)for(var S=Math.floor(w/r),E=w%r,R=0;R<f;++R)for(var D=Math.floor(R/r),A=(E*r+R%r)*h,N=0;N<h;++N){var k=N+A+u*(D+s*(S+i*x));v[y++]=m[k]}return Mr(v,[a,c,f,h])},t.prototype.broadcastedBinaryOp=function(n,r,o,a){var i=Ct(n.shape,r.shape),s=dt(i,o),u=this.readSync(n.dataId),c=this.readSync(r.dataId),f=os(n.shape,i),h=os(r.shape,i),m=s.values;if(f.length+h.length===0)for(var v=0;v<m.length;++v)m[v]=a(u[v%u.length],c[v%c.length]);else{var y=this.bufferSync(n),x=this.bufferSync(r),w=function(S){var E=s.indexToLoc(S),R=E.slice(-n.rank);f.forEach((function(k){return R[k]=0}));var D=y.locToIndex(R),A=E.slice(-r.rank);h.forEach((function(k){return A[k]=0}));var N=x.locToIndex(A);m[S]=a(u[D],c[N])};for(v=0;v<m.length;++v)w(v)}return s.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(n,r,o){var a=Ct(n.shape,r.shape),i=dt(a,"float32"),s=dt(a,"float32"),u=this.readSync(n.dataId),c=this.readSync(r.dataId),f=os(n.shape,a),h=os(r.shape,a),m=i.values,v=s.values;if(f.length+h.length===0)for(var y=0;y<m.length;y++){var x=y%u.length,w=y%c.length,S=o(u[2*x],u[2*x+1],c[2*w],c[2*w+1]);m[y]=S.real,v[y]=S.imag}else{var E=this.bufferSync(this.data.get(n.dataId).complexTensors.real),R=this.bufferSync(this.data.get(r.dataId).complexTensors.real),D=function(A){var N=i.indexToLoc(A),k=N.slice(-n.rank);f.forEach((function(F){return k[F]=0}));var M=E.locToIndex(k),I=N.slice(-r.rank);h.forEach((function(F){return I[F]=0}));var O=R.locToIndex(I),L=o(u[2*M],u[2*M+1],c[2*O],c[2*O+1]);m[A]=L.real,v[A]=L.imag};for(y=0;y<m.length;y++)D(y)}return this.complex(i.toTensor(),s.toTensor())},t.prototype.split=function(n,r,o){return $4(n,r,o)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(n,r,o,a,i,s){for(var u=n.shape,c=u[0],f=u[1],h=u[2],m=u[3],v=r.shape[0],y=a[0],x=a[1],w=dt([v,y,x,m],"float32"),S=this.readSync(r.dataId),E=this.readSync(o.dataId),R=this.readSync(n.dataId),D=n.strides,A=w.strides,N=0;N<v;N++){var k=4*N,M=S[k],I=S[k+1],O=S[k+2],L=S[k+3],F=E[N];if(!(F>=c))for(var X=y>1?(O-M)*(f-1)/(y-1):0,W=x>1?(L-I)*(h-1)/(x-1):0,Y=0;Y<y;Y++){var B=y>1?M*(f-1)+Y*X:.5*(M+O)*(f-1);if(B<0||B>f-1)for(var V=0;V<x;V++)for(var U=0;U<m;U++){var $=U+V*A[2]+Y*A[1]+N*A[0];w.values[$]=s}else if(i==="bilinear"){var j=Math.floor(B),G=Math.ceil(B),Q=B-j;for(V=0;V<x;V++)if((je=x>1?I*(h-1)+V*W:.5*(I+L)*(h-1))<0||je>h-1)for(U=0;U<m;U++)$=U+V*A[2]+Y*A[1]+N*A[0],w.values[$]=s;else{var te=Math.floor(je),de=Math.ceil(je),we=je-te;for(U=0;U<m;U++){var ie=R[$=U+te*D[2]+j*D[1]+F*D[0]],oe=R[$=U+de*D[2]+j*D[1]+F*D[0]],ve=R[$=U+te*D[2]+G*D[1]+F*D[0]],pe=ie+(oe-ie)*we,Oe=ve+(R[$=U+de*D[2]+G*D[1]+F*D[0]]-ve)*we;$=U+V*A[2]+Y*A[1]+N*A[0],w.values[$]=pe+(Oe-pe)*Q}}}else for(V=0;V<x;++V){var je;if((je=x>1?I*(h-1)+V*W:.5*(I+L)*(h-1))<0||je>h-1)for(U=0;U<m;U++)$=U+V*A[2]+Y*A[1]+N*A[0],w.values[$]=s;else{var Pe=Math.round(je),Te=Math.round(B);for(U=0;U<m;U++){var Je=U+Pe*D[2]+Te*D[1]+F*D[0],it=U+V*A[2]+Y*A[1]+N*A[0];w.values[it]=R[Je]}}}}}return w.toTensor()},t.prototype.sparseToDense=function(n,r,o,a){var i=Tm(0,n,o),s=i.sliceRank,u=i.numUpdates,c=i.sliceSize,f=i.strides,h=i.outputSize;return this.scatter(n,r,o,h,c,u,s,f,a,!1)},t.prototype.gatherND=function(n,r){var o=r.shape,a=o[o.length-1],i=P4(n,r),s=i[0],u=i[1],c=i[2],f=i[3];if(u===0)return er([],s,n.dtype);for(var h=new sf([u,c],n.dtype),m=this.readSync(r.dataId),v=this.readSync(n.dataId),y=0;y<u;y++){for(var x=[],w=0,S=0;S<a;S++){var E=m[y*a+S];w+=E*f[S],x.push(E)}if(w<0||w>=n.size/c)throw new Error("Invalid indices: "+x+" does not index into "+n.shape);for(var R=0;R<c;R++)h.values[y*c+R]=v[w*c+R]}return h.toTensor().reshape(s)},t.prototype.scatterND=function(n,r,o){var a=Tm(0,n,o),i=a.sliceRank,s=a.numUpdates,u=a.sliceSize,c=a.strides,f=a.outputSize,h=Ie(0);return this.scatter(n,r,o,f,u,s,i,c,h,!0)},t.prototype.fill=function(n,r,o){var a=gm(o=o||Pf(r),We(n));return a.fill(r),ee.makeTensor(a,n,o,this)},t.prototype.onesLike=function(n){if(n.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(n.shape,1,n.dtype)},t.prototype.zerosLike=function(n){var r=gm(n.dtype,We(n.shape));return this.makeOutput(r,n.shape,n.dtype)},t.prototype.linspace=function(n,r,o){return H4(n,r,o)},t.prototype.scatter=function(n,r,o,a,i,s,u,c,f,h){var m=[a/i,i],v=this.readSync(n.dataId),y=this.readSync(r.dataId);if(a===0)return er([],o,r.dtype);var x=new sf(m,r.dtype);x.values.fill(this.readSync(f.dataId)[0]);for(var w=0;w<s;w++){for(var S=[],E=0,R=0;R<u;R++){var D=v[w*u+R];S.push(D),E+=D*c[R]}if(E<0||E>=a/i)throw new Error("Invalid indices: "+S+" does not index into "+o);for(var A=0;A<i;A++)h?x.values[E*i+A]+=y[w*i+A]:x.values[E*i+A]=r.rank===0?y[0]:y[w*i+A]}return x.toTensor().reshape(o)},t})(z4);ee.registerBackend("cpu",(function(){return new boe}),1);for(var _0=0,GD=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t,a=o.boxes,i=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,f=s.scoreThreshold,h=s.softNmsSigma,m=n;Ee(a,"NonMaxSuppressionWithScore");var v=t2(m.data.get(a.dataId).values,m.data.get(i.dataId).values,u,c,f,h);return[v.selectedIndices,v.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n;Ee(r,"square");for(var a=o.data.get(r.dataId).values,i=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];i[s]=u*u}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:cf,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,a=r.b,i=n;Ee([o,a],cf);var s=i.data.get(o.dataId).values,u=i.data.get(a.dataId).values,c=(function(m,v,y,x,w,S){var E=Ct(m,v),R=E.length,D=_a(E),A=af(w,We(E)),N=m.length,k=v.length,M=_a(m),I=_a(v),O=os(m,E),L=os(v,E);if(O.length+L.length===0)for(var F=0;F<A.length;++F)A[F]=S(y[F%y.length],x[F%x.length]);else{var X=function(W){var Y=AJ(W,R,D),B=Y.slice(-N);O.forEach((function(j){return B[j]=0}));var V=mD(B,N,M),U=Y.slice(-k);L.forEach((function(j){return U[j]=0}));var $=mD(U,k,I);A[W]=S(y[V],x[$])};for(F=0;F<A.length;++F)X(F)}return[A,E]})(o.shape,a.shape,s,u,o.dtype,(function(m,v){var y=m-v;return y*y})),f=c[0],h=c[1];return{dataId:i.write(f,h,o.dtype),shape:h,dtype:o.dtype}}}];_0<GD.length;_0++)p4(GD[_0]);var mu,xoe=function(e){this.variableNames=["A"];var t=cr(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+n+`.0);

        vec4 values = `+t.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},woe=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=cr(),n=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+n+`.0);
            vec4 values = `+t.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+t.output+` = result;
      }
    `};for(var T0=0,qD=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t.pixels,a=r.numChannels,i=typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,u=i?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=u[0],f=u[1],h=[f,c],m=[f,c,a];(s||i)&&(mu==null&&(mu=document.createElement("canvas").getContext("2d")),mu.canvas.width=c,mu.canvas.height=f,mu.drawImage(o,0,0,c,f),o=mu.canvas);var v=n.makeTensorInfo(h,"int32");n.texData.get(v.dataId).usage=ro.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(v.dataId),o);var y=ge().getBool("WEBGL_PACK")?new woe(m):new xoe(m),x=n.runWebGLProgram(y,[v],"int32");return n.disposeData(v.dataId),x}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;wm("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=t,a=o.boxes,i=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,f=s.scoreThreshold,h=s.softNmsSigma,m=n,v=t2(m.readSync(a.dataId),m.readSync(i.dataId),u,c,f,h);return[v.selectedIndices,v.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n,a=new vt(r.shape,"return x * x;");return o.runWebGLProgram(a,[r],r.dtype)}},{kernelName:cf,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,a=r.b,i=n,s=ge().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ri("return (a - b) * (a - b);",o.shape,a.shape):new dn("return (a - b) * (a - b);",o.shape,a.shape);return i.compileAndRun(s,[o,a])}}];T0<qD.length;T0++)p4(qD[T0]);for(var D0=0,XD=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:cf,gradFunc:function(e,t){var n=t[0],r=t[1],o=Ie(2);return{a:function(){return hr(e,hr(o,In(n,r)))},b:function(){return hr(e,hr(o,In(r,n)))}}}}];D0<XD.length;D0++)yJ(XD[D0]);var Soe=(function(){function e(){}return e.prototype.fetch=function(t,n){return fetch(t,n)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+n);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return new TextDecoder(n).decode(t)},e})();ge().get("IS_BROWSER")&&ge().setPlatform("browser",new Soe);var A0,Coe=function(){return require("node-fetch")},Eoe=(function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(t,n){return ge().global.fetch!=null?ge().global.fetch(t,n):(A0==null&&(A0=Coe()),A0(t,n))},e.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},e.prototype.encode=function(t,n){if(n!=="utf-8"&&n!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+n);return this.textEncoder.encode(t)},e.prototype.decode=function(t,n){return t.length===0?"":new this.util.TextDecoder(n).decode(t)},e})();ge().get("IS_NODE")&&ge().setPlatform("node",new Eoe);var Lx={float32:4,int32:4,uint16:2,uint8:1,bool:1},Om=4;function BI(e,t){for(var n={},r=0,o=function(s){var u=s.name,c=s.dtype,f=s.shape,h=We(f),m=void 0;if("quantization"in s){var v=s.quantization;if(v.dtype!=="uint8"&&v.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+v.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var y=Lx[v.dtype],x=e.slice(r,r+h*y),w=v.dtype==="uint8"?new Uint8Array(x):new Uint16Array(x);if(c==="float32")m=Float32Array.from(w,(function(N){return N*v.scale+v.min}));else{if(c!=="int32")throw new Error("Unsupported dtype in weight '"+u+"': "+c);m=Int32Array.from(w,(function(N){return Math.round(N*v.scale+v.min)}))}r+=h*y}else if(c==="string"){var S=We(s.shape);m=[];for(var E=0;E<S;E++){var R=new Uint32Array(e.slice(r,r+Om))[0];r+=Om;var D=new Uint8Array(e.slice(r,r+R));m.push(D),r+=R}}else{var A=Lx[c];if(x=e.slice(r,r+h*A),c==="float32")m=new Float32Array(x);else if(c==="int32")m=new Int32Array(x);else{if(c!=="bool")throw new Error("Unsupported dtype in weight '"+u+"': "+c);m=new Uint8Array(x)}r+=h*A}n[u]=er(m,f,c)},a=0,i=t;a<i.length;a++)o(i[a]);return n}function Roe(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(a){if(t+=a.byteLength,n.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+a.constructor.name)}));var r=new Uint8Array(t),o=0;return n.forEach((function(a){r.set(new Uint8Array(a.buffer),o),o+=a.byteLength})),r.buffer}var zx=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function YD(e){return zx?Buffer.byteLength(e):new Blob([e]).size}function x2(e){var t=0;e.forEach((function(o){t+=o.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(o){n.set(new Uint8Array(o),r),r+=o.byteLength})),n.buffer}function KD(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Vf(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:YD(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:YD(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var oo=(function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var o=[];return(n==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(a){var i=a(t,r);i!==null&&o.push(i)})),o},e})(),Bu="://",fs=(function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(t,n){q(t!=null,(function(){return"scheme must not be undefined or null."})),t.endsWith(Bu)&&(t=t.slice(0,t.indexOf(Bu))),q(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();q(r.managers[t]==null,(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(t){var n=this.getInstance().managers[t];if(n==null)throw new Error("Cannot find model manager for scheme '"+t+"'");return n},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e})();function Gp(e){if(e.indexOf(Bu)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+fs.getSchemes().join(","));return{scheme:e.split(Bu)[0],path:e.split(Bu)[1]}}function QD(e,t,n){return n===void 0&&(n=!1),Ue(this,void 0,void 0,(function(){var r,o,a,i,s,u,c,f,h;return Ve(this,(function(m){switch(m.label){case 0:return q(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),q((r=oo.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),q(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),o=r[0],q((a=oo.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),q(a.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),i=a[0],s=Gp(e).scheme,u=Gp(e).path,c=s===Gp(e).scheme,[4,o.load()];case 1:return f=m.sent(),n&&c?[4,fs.getManager(s).removeModel(u)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[4,i.save(f)];case 4:return h=m.sent(),!n||c?[3,6]:[4,fs.getManager(s).removeModel(u)];case 5:m.sent(),m.label=6;case 6:return[2,h.modelArtifactsInfo]}}))}))}var tl="models_store",as="model_info_store";function FI(){if(!ge().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Ux(e){var t=e.result;t.createObjectStore(tl,{keyPath:"modelPath"}),t.createObjectStore(as,{keyPath:"modelPath"})}var Fu=(function(){function e(t){if(this.indexedDB=FI(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return e.prototype.save=function(t){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]}))}))},e.prototype.load=function(){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(t){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(t,n){var r=this;return new Promise((function(o,a){var i=r.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Ux(i)},i.onsuccess=function(){var s=i.result;if(n==null){var u=s.transaction(tl,"readonly"),c=u.objectStore(tl).get(r.modelPath);c.onsuccess=function(){if(c.result==null)return s.close(),a(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));o(c.result.modelArtifacts)},c.onerror=function(x){return s.close(),a(c.error)},u.oncomplete=function(){return s.close()}}else{var f,h=Vf(n),m=s.transaction(as,"readwrite"),v=m.objectStore(as),y=v.put({modelPath:r.modelPath,modelArtifactsInfo:h});y.onsuccess=function(){var x=(f=s.transaction(tl,"readwrite")).objectStore(tl).put({modelPath:r.modelPath,modelArtifacts:n,modelArtifactsInfo:h});x.onsuccess=function(){return o({modelArtifactsInfo:h})},x.onerror=function(w){var S=(v=m.objectStore(as)).delete(r.modelPath);S.onsuccess=function(){return s.close(),a(x.error)},S.onerror=function(E){return s.close(),a(x.error)}}},y.onerror=function(x){return s.close(),a(y.error)},m.oncomplete=function(){f==null?s.close():f.oncomplete=function(){return s.close()}}}},i.onerror=function(s){return a(i.error)}}))},e.URL_SCHEME="indexeddb://",e})(),JD=function(e){return ge().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Fu.URL_SCHEME)?(t=e.slice(Fu.URL_SCHEME.length),new Fu(t)):null;var t};oo.registerSaveRouter(JD),oo.registerLoadRouter(JD);var _oe=(function(){function e(){this.indexedDB=FI()}return e.prototype.listModels=function(){return Ue(this,void 0,void 0,(function(){var t=this;return Ve(this,(function(n){return[2,new Promise((function(r,o){var a=t.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return Ux(a)},a.onsuccess=function(){var i=a.result,s=i.transaction(as,"readonly"),u=s.objectStore(as).getAll();u.onsuccess=function(){for(var c={},f=0,h=u.result;f<h.length;f++){var m=h[f];c[m.modelPath]=m.modelArtifactsInfo}r(c)},u.onerror=function(c){return i.close(),o(u.error)},s.oncomplete=function(){return i.close()}},a.onerror=function(i){return o(a.error)}}))]}))}))},e.prototype.removeModel=function(t){return Ue(this,void 0,void 0,(function(){var n=this;return Ve(this,(function(r){var o;return t=(o=t).startsWith(Fu.URL_SCHEME)?o.slice(Fu.URL_SCHEME.length):o,[2,new Promise((function(a,i){var s=n.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return Ux(s)},s.onsuccess=function(){var u,c=s.result,f=c.transaction(as,"readwrite"),h=f.objectStore(as),m=h.get(t);m.onsuccess=function(){if(m.result==null)return c.close(),i(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var v=h.delete(t),y=function(){var x=(u=c.transaction(tl,"readwrite")).objectStore(tl).delete(t);x.onsuccess=function(){return a(m.result.modelArtifactsInfo)},x.onerror=function(w){return i(m.error)}};v.onsuccess=y,v.onerror=function(x){return y(),c.close(),i(m.error)}},m.onerror=function(v){return c.close(),i(m.error)},f.oncomplete=function(){u==null?c.close():u.oncomplete=function(){return c.close()}}},s.onerror=function(u){return i(s.error)}}))]}))}))},e})();if(ge().getBool("IS_BROWSER"))try{fs.registerManager(Fu.URL_SCHEME,new _oe)}catch{}var si="/",Cu="tensorflowjs_models",LI="info",Toe="model_topology",Doe="weight_specs",Aoe="weight_data",Noe="model_metadata";function zI(e){return{info:[Cu,e,LI].join(si),topology:[Cu,e,Toe].join(si),weightSpecs:[Cu,e,Doe].join(si),weightData:[Cu,e,Aoe].join(si),modelMetadata:[Cu,e,Noe].join(si)}}function koe(e){var t=e.split(si);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(si)}var Lu=(function(){function e(t){if(!ge().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=zI(this.modelPath)}return e.prototype.save=function(t){return Ue(this,void 0,void 0,(function(){var n,r,o;return Ve(this,(function(a){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),o=Vf(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,(function(i){if(zx)return Buffer.from(i).toString("base64");for(var s=new Uint8Array(i),u="",c=0,f=s.length;c<f;c++)u+=String.fromCharCode(s[c]);return btoa(u)})(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:o}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+o.modelTopologyBytes+", weightSpecsBytes="+o.weightSpecsBytes+", weightDataBytes="+o.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return Ue(this,void 0,void 0,(function(){var t,n,r,o,a,i,s;return Ve(this,(function(u){if((t=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(n={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(n.modelTopology=r,(o=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(n.weightSpecs=o,(a=this.LS.getItem(this.keys.modelMetadata))!=null&&(i=JSON.parse(a),n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,n.userDefinedMetadata=i.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return n.weightData=(function(c){if(zx){var f=Buffer.from(c,"base64");return f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)}for(var h=atob(c),m=new Uint8Array(h.length),v=0;v<h.length;++v)m.set([h.charCodeAt(v)],v);return m.buffer})(s),[2,n]}))}))},e.URL_SCHEME="localstorage://",e})(),ZD=function(e){return ge().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Lu.URL_SCHEME)?(t=e.slice(Lu.URL_SCHEME.length),new Lu(t)):null;var t};oo.registerSaveRouter(ZD),oo.registerLoadRouter(ZD);var Moe=(function(){function e(){q(ge().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),q(typeof window>"u"||window.localStorage!==void 0,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return Ue(this,void 0,void 0,(function(){var t,n,r,o,a,i;return Ve(this,(function(s){for(t={},n=Cu+si,r=si+LI,o=0;o<this.LS.length;++o)(a=this.LS.key(o)).startsWith(n)&&a.endsWith(r)&&(i=koe(a),t[i]=JSON.parse(this.LS.getItem(a)));return[2,t]}))}))},e.prototype.removeModel=function(t){return Ue(this,void 0,void 0,(function(){var n,r;return Ve(this,(function(o){var a;if(t=(a=t).startsWith(Lu.URL_SCHEME)?a.slice(Lu.URL_SCHEME.length):a,n=zI(t),this.LS.getItem(n.info)==null)throw new Error("Cannot find model at path '"+t+"'");return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),[2,r]}))}))},e})();if(ge().getBool("IS_BROWSER"))try{fs.registerManager(Lu.URL_SCHEME,new Moe)}catch{}var Ioe="model",Ooe=".json",Poe=".weights.bin";function eA(e){return new Promise((function(t){return setTimeout(t)})).then(e)}var N0=(function(){function e(t){if(!ge().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),t!=null&&t.length!==0||(t=Ioe),this.modelTopologyFileName=t+Ooe,this.weightDataFileName=t+Poe}return e.prototype.save=function(t){return Ue(this,void 0,void 0,(function(){var n,r,o,a,i,s;return Ve(this,(function(u){switch(u.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:r},a=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),(i=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=a,[4,eA((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return u.sent(),t.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,[4,eA((function(){return s.dispatchEvent(new MouseEvent("click"))}))]);case 3:u.sent(),u.label=4;case 4:return[2,{modelArtifactsInfo:Vf(t)}]}}))}))},e.URL_SCHEME="downloads://",e})(),joe=(function(){function e(t){if(t==null||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return e.prototype.load=function(){return Ue(this,void 0,void 0,(function(){var t,n,r=this;return Ve(this,(function(o){return t=this.files[0],n=this.files.slice(1),[2,new Promise((function(a,i){var s=new FileReader;s.onload=function(u){var c=JSON.parse(u.target.result),f=c.modelTopology;if(f!=null){n.length===0&&a({modelTopology:f});var h=c.weightsManifest;if(h!=null){var m;try{m=r.checkManifestAndWeightFiles(h,n)}catch(w){return void i(w)}var v=[],y=[],x=[];h.forEach((function(w){w.paths.forEach((function(S){y.push(S),x.push(null)})),v.push.apply(v,w.weights)})),h.forEach((function(w){w.paths.forEach((function(S){var E=new FileReader;E.onload=function(R){var D=R.target.result,A=y.indexOf(S);x[A]=D,x.indexOf(null)===-1&&a({modelTopology:f,weightSpecs:v,weightData:x2(x),format:c.format,generatedBy:c.generatedBy,convertedBy:c.convertedBy,userDefinedMetadata:c.userDefinedMetadata})},E.onerror=function(R){return i("Failed to weights data from file of path '"+S+"'.")},E.readAsArrayBuffer(m[S])}))}))}else i(new Error("weightManifest field is missing from file "+t.name))}else i(new Error("modelTopology field is missing from file "+t.name))},s.onerror=function(u){return i("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(t)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(t,n){for(var r=[],o=n.map((function(u){return KD(u.name)})),a={},i=0,s=t;i<s.length;i++)s[i].paths.forEach((function(u){var c=KD(u);if(r.indexOf(c)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+c+"'");if(r.push(c),o.indexOf(c)===-1)throw new Error("Weight file with basename '"+c+"' is not provided.");a[u]=n[o.indexOf(c)]}));if(r.length!==n.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+n.length+").");return a},e})();function tA(e,t,n,r){(function(a){q(a!=null&&Array.isArray(a)&&a.length>0,(function(){return"promises must be a none empty array"}))})(e),(function(a,i){q(a>=0&&a<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+a})),q(i>=0&&i<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+i})),q(i>=a,(function(){return"startFraction must be no more than endFraction, but got startFraction "+a+" and endFraction "+i}))})(n=n??0,r=r??1);var o=0;return Promise.all(e.map((function(a){return a.then((function(i){var s=n+ ++o/e.length*(r-n);return t(s),i})),a})))}function UI(e,t){return Ue(this,void 0,void 0,(function(){var n,r,o,a,i,s,u,c,f;return Ve(this,(function(h){switch(h.label){case 0:return t==null&&(t={}),n=t.fetchFunc==null?ge().platform.fetch:t.fetchFunc,r=e.map((function(m){return n(m,t.requestInit,{isBinary:!0})})),o=0,a=.5,t.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return i=h.sent(),[3,4];case 2:return[4,tA(r,t.onProgress,o,a)];case 3:i=h.sent(),h.label=4;case 4:return s=i.map((function(m){return m.arrayBuffer()})),u=.5,c=1,t.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return f=h.sent(),[3,8];case 6:return[4,tA(s,t.onProgress,u,c)];case 7:f=h.sent(),h.label=8;case 8:return[2,f]}}))}))}function nA(e){var t=this;return function(n,r,o){return r===void 0&&(r=""),Ue(t,void 0,void 0,(function(){var a,i,s,u,c,f,h,m,v,y;return Ve(this,(function(x){switch(x.label){case 0:if(a=n.map((function(){return!1})),i={},s=o!=null?o.map((function(){return!1})):[],u=[],n.forEach((function(w,S){var E=0;w.weights.forEach((function(R){var D="quantization"in R?R.quantization.dtype:R.dtype,A=Lx[D]*We(R.shape),N=function(){a[S]=!0,i[S]==null&&(i[S]=[]),i[S].push({manifestEntry:R,groupOffset:E,sizeBytes:A})};o!=null?o.forEach((function(k,M){k===R.name&&(N(),s[M]=!0)})):N(),u.push(R.name),E+=A}))})),!s.every((function(w){return w})))throw c=o.filter((function(w,S){return!s[S]})),new Error("Could not find weights in manifest with names: "+c.join(", ")+`. 
Manifest JSON has weights with names: `+u.join(", ")+".");return f=a.reduce((function(w,S,E){return S&&w.push(E),w}),[]),h=[],f.forEach((function(w){n[w].paths.forEach((function(S){var E=r+(r.endsWith("/")?"":"/")+S;h.push(E)}))})),[4,e(h)];case 1:return m=x.sent(),v={},y=0,f.forEach((function(w){for(var S=n[w].paths.length,E=0,R=0;R<S;R++)E+=m[y+R].byteLength;for(var D=new ArrayBuffer(E),A=new Uint8Array(D),N=0,k=0;k<S;k++){var M=new Uint8Array(m[y+k]);A.set(M,N),N+=M.byteLength}i[w].forEach((function(I){var O=BI(D.slice(I.groupOffset,I.groupOffset+I.sizeBytes),[I.manifestEntry]);for(var L in O)v[L]=O[L]})),y+=S})),[2,v]}}))}))}}oo.registerSaveRouter((function(e){return ge().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(N0.URL_SCHEME)?(function(t){return t===void 0&&(t="model"),new N0(t)})(e.slice(N0.URL_SCHEME.length)):null}));var VI=(function(){function e(t,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,n.fetchFunc!=null?(q(typeof n.fetchFunc=="function",(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=ge().platform.fetch,q(t!=null&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&q(t.length===2,(function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."})),this.path=t,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return e.prototype.save=function(t){return Ue(this,void 0,void 0,(function(){var n,r,o,a;return Ve(this,(function(i){switch(i.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(o)],{type:"application/json"}),"model.json"),t.weightData!=null&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,n)];case 1:if((a=i.sent()).ok)return[2,{modelArtifactsInfo:Vf(t),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".")}}))}))},e.prototype.load=function(){return Ue(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,u,c,f,h,m;return Ve(this,(function(v){switch(v.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=v.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");v.label=2;case 2:return v.trys.push([2,4,,5]),[4,t.json()];case 3:return n=v.sent(),[3,5];case 4:throw v.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(o=n.modelTopology,a=n.weightsManifest,i=n.generatedBy,s=n.convertedBy,u=n.format,c=n.userDefinedMetadata,o==null&&a==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return a==null?[3,7]:[4,this.loadWeights(a)];case 6:m=v.sent(),f=m[0],h=m[1],v.label=7;case 7:return[2,{modelTopology:o,weightSpecs:f,weightData:h,userDefinedMetadata:c,generatedBy:i,convertedBy:s,format:u}]}}))}))},e.prototype.loadWeights=function(t){return Ue(this,void 0,void 0,(function(){var n,r,o,a,i,s,u,c,f,h,m;return Ve(this,(function(v){switch(v.label){case 0:for(n=Array.isArray(this.path)?this.path[1]:this.path,r=(function(y){var x=y.lastIndexOf("/"),w=y.lastIndexOf("?"),S=y.substring(0,x),E=w>x?y.substring(w):"";return[S+"/",E]})(n),o=r[0],a=r[1],i=this.weightPathPrefix||o,s=[],u=0,c=t;u<c.length;u++)f=c[u],s.push.apply(s,f.weights);return h=[],t.forEach((function(y){y.paths.forEach((function(x){h.push(i+x+a)}))})),[4,UI(h,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return m=v.sent(),[2,[s,x2(m)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e})();function Vx(e){return e.match(VI.URL_SCHEME_REGEX)!=null}var rA=function(e,t){return typeof fetch>"u"?null:(Array.isArray(e)?e.every((function(n){return Vx(n)})):Vx(e))?Hx(e,{onProgress:t}):null};function Hx(e,t){return new VI(e,t)}oo.registerSaveRouter(rA),oo.registerLoadRouter(rA);var k0=(function(){function e(t){this.modelArtifacts=t}return e.prototype.load=function(){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(t){return[2,this.modelArtifacts]}))}))},e})(),Boe=(function(){function e(t){this.saveHandler=t}return e.prototype.save=function(t){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){return[2,this.saveHandler(t)]}))}))},e})(),HI=Object.freeze({browserFiles:function(e){return new joe(e)},browserHTTPRequest:function(e,t){return Hx(e,t)},concatenateArrayBuffers:x2,decodeWeights:BI,encodeWeights:function(e,t){return Ue(this,void 0,void 0,(function(){var n,r,o,a,i,s=this;return Ve(this,(function(u){switch(u.label){case 0:for(n=[],r=[],o=Array.isArray(e)?e.map((function(c){return c.name})):Object.keys(e),a=function(c){var f=o[c],h=Array.isArray(e)?e[c].tensor:e[f];if(h.dtype!=="float32"&&h.dtype!=="int32"&&h.dtype!=="bool"&&h.dtype!=="string")throw new Error("Unsupported dtype in weight '"+f+"': "+h.dtype);var m={name:f,shape:h.shape,dtype:h.dtype};if(h.dtype==="string"){var v=new Promise((function(y){return Ue(s,void 0,void 0,(function(){var x,w,S,E,R,D,A;return Ve(this,(function(N){switch(N.label){case 0:return[4,h.bytes()];case 1:for(x=N.sent(),w=x.reduce((function(k,M){return k+M.length}),0)+Om*x.length,S=new Uint8Array(w),E=0,R=0;R<x.length;R++)D=x[R],A=new Uint8Array(new Uint32Array([D.length]).buffer),S.set(A,E),E+=Om,S.set(D,E),E+=D.length;return y(S),[2]}}))}))}));r.push(v)}else r.push(h.data());t!=null&&(m.group=t),n.push(m)},i=0;i<o.length;++i)a(i);return[4,Promise.all(r)];case 1:return[2,{data:Roe(u.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new k0(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new k0({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new k0({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return oo.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:Vf,getSaveHandlers:function(e){return oo.getSaveHandlers(e)},http:Hx,isHTTPScheme:Vx,loadWeights:function(e,t,n,r){return t===void 0&&(t=""),Ue(this,void 0,void 0,(function(){return Ve(this,(function(o){return[2,nA((function(a){return UI(a,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return oo.registerLoadRouter(e)},registerSaveRouter:function(e){return oo.registerSaveRouter(e)},weightsLoaderFactory:nA,withSaveHandler:function(e){return new Boe(e)},copyModel:function(e,t){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){return[2,QD(e,t,!1)]}))}))},listModels:function(){return Ue(this,void 0,void 0,(function(){var e,t,n,r,o,a,i;return Ve(this,(function(s){switch(s.label){case 0:e=fs.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(o=r[n],[4,fs.getManager(o).listModels()]):[3,4];case 2:for(i in a=s.sent())t[o+Bu+i]=a[i];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){return[2,QD(e,t,!0)]}))}))},removeModel:function(e){return Ue(this,void 0,void 0,(function(){var t;return Ve(this,(function(n){return t=Gp(e),[2,fs.getManager(t.scheme).removeModel(t.path)]}))}))}}),vu;J({confusionMatrix_:function(e,t,n){var r=H(e,"labels","confusionMatrix"),o=H(t,"predictions","confusionMatrix");q(n==null||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),q(r.rank===1,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),q(o.rank===1,(function(){return"Expected the rank of predictions to be 1, but got "+o.rank})),q(r.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."})),q(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var a=Ox(r.asType("int32"),n),i=Ox(o.asType("int32"),n);return a.transpose().matMul(i).asType("int32")}});var Foe=J({fromPixels_:function(e,t){if(t===void 0&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,a=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)o=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)a=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);i=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(h4("FromPixels",ee.backendName)!=null)return ee.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,c=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],f=c[0],h=c[1];if(i?s=e.getContext("2d").getImageData(0,0,f,h).data:r||n?s=e.data:(a||o)&&(vu==null&&(vu=document.createElement("canvas").getContext("2d")),vu.canvas.width=f,vu.canvas.height=h,vu.drawImage(e,0,0,f,h),s=vu.getImageData(0,0,f,h).data),t===4)u=new Int32Array(s);else{var m=f*h;u=new Int32Array(m*t);for(var v=0;v<m;v++)for(var y=0;y<t;++y)u[v*t+y]=s[4*v+y]}return Yw(u,[h,f,t],"int32")}}),w2=Object.freeze({toPixels:function(e,t){return Ue(this,void 0,void 0,(function(){var n,r,o,a,i,s,u,c,f,h,m,v,y,x,w,S,E,R,D,A,N,k,M;return Ve(this,(function(I){switch(I.label){case 0:if(n=H(e,"img","toPixels"),e instanceof rn||(n=n.toInt()),n.rank!==2&&n.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],a=r[1],(i=n.rank===2?1:n.shape[2])>4||i===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return[4,n.data()];case 1:return s=I.sent(),u=n.min(),c=n.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(f=I.sent(),h=f[0],m=f[1],v=h[0],y=m[0],u.dispose(),c.dispose(),n.dtype==="float32"){if(v<0||y>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+v+" - "+y+"].")}else{if(n.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(v<0||y>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+v+" - "+y+"].")}for(x=n.dtype==="float32"?255:1,w=new Uint8ClampedArray(a*o*4),S=0;S<o*a;++S)E=void 0,R=void 0,D=void 0,A=void 0,i===1?(E=s[S]*x,R=s[S]*x,D=s[S]*x,A=255):i===3?(E=s[3*S]*x,R=s[3*S+1]*x,D=s[3*S+2]*x,A=255):i===4&&(E=s[4*S]*x,R=s[4*S+1]*x,D=s[4*S+2]*x,A=s[4*S+3]*x),w[(N=4*S)+0]=Math.round(E),w[N+1]=Math.round(R),w[N+2]=Math.round(D),w[N+3]=Math.round(A);return t!=null&&(t.width=a,t.height=o,k=t.getContext("2d"),M=new ImageData(w,a,o),k.putImageData(M,0,0)),n!==e&&n.dispose(),[2,w]}}))}))},fromPixels:Foe}),Loe=(function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(t,n){return new t(n)},e})(),zoe=(function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e})();function xl(e){q(e.className!=null,(function(){return"Class being registered does not have the static className property defined."})),q(typeof e.className=="string",(function(){return"className is required to be a string, but got type "+typeof e.className})),q(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),zoe.register(e)}var wl=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return oa(t,e),t.prototype.minimize=function(n,r,o){r===void 0&&(r=!1);var a=this.computeGradients(n,o),i=a.value,s=a.grads;if(o!=null){var u=o.map((function(c){return{name:c.name,tensor:s[c.name]}}));this.applyGradients(u)}else this.applyGradients(s);return Lr(s),r?i:(i.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(n,r){return KZ(n,r)},t.prototype.dispose=function(){this.iterations_!=null&&Lr(this.iterations_)},t.prototype.saveIterations=function(){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:Ie(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(n){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(n){return Ue(this,void 0,void 0,(function(){var r;return Ve(this,(function(o){switch(o.label){case 0:return r=this,[4,n[0].tensor.data()];case 1:return r.iterations_=o.sent()[0],[2,n.slice(1)]}}))}))},t})(Loe);Object.defineProperty(wl,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var Uoe=(function(e){function t(n,r,o){o===void 0&&(o=null);var a=e.call(this)||this;return a.learningRate=n,a.rho=r,a.epsilon=o,a.accumulatedGrads=[],a.accumulatedUpdates=[],o==null&&(a.epsilon=ee.backend.epsilon()),a}return oa(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map((function(o){return o.name})):Object.keys(n)).forEach((function(o,a){var i=ee.registeredVariables[o];r.accumulatedGrads[a]==null&&(r.accumulatedGrads[a]={originalName:o+"/accum_grad",variable:Le((function(){return Nt(i).variable(!1)}))}),r.accumulatedUpdates[a]==null&&(r.accumulatedUpdates[a]={originalName:o+"/accum_var",variable:Le((function(){return Nt(i).variable(!1)}))});var s=Array.isArray(n)?n[a].tensor:n[o];if(s!=null){var u=r.accumulatedGrads[a].variable,c=r.accumulatedUpdates[a].variable;Le((function(){var f=u.mul(r.rho).add(s.square().mul(1-r.rho)),h=c.add(r.epsilon).sqrt().div(u.add(r.epsilon).sqrt()).mul(s),m=c.mul(r.rho).add(h.square().mul(1-r.rho));u.assign(f),c.assign(m);var v=h.mul(-r.learningRate).add(i);i.assign(v)}))}})),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedUpdates!=null&&(Lr(this.accumulatedGrads.map((function(n){return n.variable}))),Lr(this.accumulatedUpdates.map((function(n){return n.variable}))))},t.prototype.getWeights=function(){return Ue(this,void 0,void 0,(function(){var n;return Ve(this,(function(r){switch(r.label){case 0:return n=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map((function(o){return{name:o.originalName,tensor:o.variable}})))]}}))}))},t.prototype.setWeights=function(n){return Ue(this,void 0,void 0,(function(){var r;return Ve(this,(function(o){switch(o.label){case 0:return[4,this.extractIterations(n)];case 1:return n=o.sent(),r=n.length/2,this.accumulatedGrads=n.slice(0,r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),this.accumulatedUpdates=n.slice(r,2*r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.rho,r.epsilon)},t.className="Adadelta",t})(wl);xl(Uoe);var Voe=(function(e){function t(n,r){r===void 0&&(r=.1);var o=e.call(this)||this;return o.learningRate=n,o.initialAccumulatorValue=r,o.accumulatedGrads=[],o}return oa(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map((function(o){return o.name})):Object.keys(n)).forEach((function(o,a){var i=ee.registeredVariables[o];r.accumulatedGrads[a]==null&&(r.accumulatedGrads[a]={originalName:o+"/accumulator",variable:Le((function(){return Ta(i.shape,r.initialAccumulatorValue).variable(!1)}))});var s=Array.isArray(n)?n[a].tensor:n[o];if(s!=null){var u=r.accumulatedGrads[a].variable;Le((function(){var c=u.add(s.square());u.assign(c);var f=s.div(c.add(ee.backend.epsilon()).sqrt()).mul(-r.learningRate).add(i);i.assign(f)}))}})),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedGrads!=null&&Lr(this.accumulatedGrads.map((function(n){return n.variable})))},t.prototype.getWeights=function(){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulatedGrads.map((function(r){return{name:r.originalName,tensor:r.variable}})))]}}))}))},t.prototype.setWeights=function(n){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulatedGrads=n.map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(n,r){return new n(r.learningRate,r.initialAccumulatorValue)},t.className="Adagrad",t})(wl);xl(Voe);var Hoe=(function(e){function t(n,r,o,a){a===void 0&&(a=null);var i=e.call(this)||this;return i.learningRate=n,i.beta1=r,i.beta2=o,i.epsilon=a,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],Le((function(){i.accBeta1=Ie(r).variable(),i.accBeta2=Ie(o).variable()})),a==null&&(i.epsilon=ee.backend.epsilon()),i}return oa(t,e),t.prototype.applyGradients=function(n){var r=this,o=Array.isArray(n)?n.map((function(a){return a.name})):Object.keys(n);Le((function(){var a=In(1,r.accBeta1),i=In(1,r.accBeta2);o.forEach((function(s,u){var c=ee.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:Le((function(){return Nt(c).variable(!1)}))}),r.accumulatedSecondMoment[u]==null&&(r.accumulatedSecondMoment[u]={originalName:s+"/v",variable:Le((function(){return Nt(c).variable(!1)}))});var f=Array.isArray(n)?n[u].tensor:n[s];if(f!=null){var h=r.accumulatedFirstMoment[u].variable,m=r.accumulatedSecondMoment[u].variable,v=h.mul(r.beta1).add(f.mul(1-r.beta1)),y=m.mul(r.beta2).add(f.square().mul(1-r.beta2)),x=v.div(a),w=y.div(i);h.assign(v),m.assign(y);var S=x.div(w.sqrt().add(r.epsilon)).mul(-r.learningRate).add(c);c.assign(S)}})),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Lr(this.accumulatedFirstMoment.map((function(n){return n.variable}))),this.accumulatedSecondMoment!=null&&Lr(this.accumulatedSecondMoment.map((function(n){return n.variable})))},t.prototype.getWeights=function(){return Ue(this,void 0,void 0,(function(){var n;return Ve(this,(function(r){switch(r.label){case 0:return n=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map((function(o){return{name:o.originalName,tensor:o.variable}})))]}}))}))},t.prototype.setWeights=function(n){return Ue(this,void 0,void 0,(function(){var r,o=this;return Ve(this,(function(a){switch(a.label){case 0:return[4,this.extractIterations(n)];case 1:return n=a.sent(),Le((function(){o.accBeta1.assign(Mm(o.beta1,o.iterations_+1)),o.accBeta2.assign(Mm(o.beta2,o.iterations_+1))})),r=n.length/2,this.accumulatedFirstMoment=n.slice(0,r).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),this.accumulatedSecondMoment=n.slice(r,2*r).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon)},t.className="Adam",t})(wl);xl(Hoe);var Woe=(function(e){function t(n,r,o,a,i){a===void 0&&(a=null),i===void 0&&(i=0);var s=e.call(this)||this;return s.learningRate=n,s.beta1=r,s.beta2=o,s.epsilon=a,s.decay=i,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],Le((function(){s.iteration=Ie(0).variable(),s.accBeta1=Ie(r).variable()})),a==null&&(s.epsilon=ee.backend.epsilon()),s}return oa(t,e),t.prototype.applyGradients=function(n){var r=this,o=Array.isArray(n)?n.map((function(a){return a.name})):Object.keys(n);Le((function(){var a=In(1,r.accBeta1),i=Ho(-r.learningRate,r.iteration.mul(r.decay).add(1));o.forEach((function(s,u){var c=ee.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:Nt(c).variable(!1)}),r.accumulatedWeightedInfNorm[u]==null&&(r.accumulatedWeightedInfNorm[u]={originalName:s+"/v",variable:Nt(c).variable(!1)});var f=Array.isArray(n)?n[u].tensor:n[s];if(f!=null){var h=r.accumulatedFirstMoment[u].variable,m=r.accumulatedWeightedInfNorm[u].variable,v=h.mul(r.beta1).add(f.mul(1-r.beta1)),y=m.mul(r.beta2),x=f.abs(),w=y.maximum(x);h.assign(v),m.assign(w);var S=i.div(a).mul(v.div(w.add(r.epsilon))).add(c);c.assign(S)}})),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Lr(this.accumulatedFirstMoment.map((function(n){return n.variable}))),this.accumulatedWeightedInfNorm!=null&&Lr(this.accumulatedWeightedInfNorm.map((function(n){return n.variable})))},t.prototype.getWeights=function(){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(n){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(r){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(n,r){return new n(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},t.className="Adamax",t})(wl);xl(Woe);var WI=(function(e){function t(n){var r=e.call(this)||this;return r.learningRate=n,r.setLearningRate(n),r}return oa(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map((function(o){return o.name})):Object.keys(n)).forEach((function(o,a){var i=Array.isArray(n)?n[a].tensor:n[o];if(i!=null){var s=ee.registeredVariables[o];Le((function(){var u=r.c.mul(i).add(s);s.assign(u)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(n){this.learningRate=n,this.c!=null&&this.c.dispose(),this.c=cZ(Ie(-n))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()]]}}))}))},t.prototype.setWeights=function(n){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:if((n=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(n,r){return new n(r.learningRate)},t.className="SGD",t})(wl);xl(WI);var $oe=(function(e){function t(n,r,o){o===void 0&&(o=!1);var a=e.call(this,n)||this;return a.learningRate=n,a.momentum=r,a.useNesterov=o,a.accumulations=[],a.m=Ie(a.momentum),a}return oa(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map((function(o){return o.name})):Object.keys(n)).forEach((function(o,a){var i=ee.registeredVariables[o];r.accumulations[a]==null&&(r.accumulations[a]={originalName:o+"/momentum",variable:Le((function(){return Nt(i).variable(!1)}))});var s=r.accumulations[a].variable,u=Array.isArray(n)?n[a].tensor:n[o];u!=null&&Le((function(){var c,f=r.m.mul(s).add(u);c=r.useNesterov?r.c.mul(u.add(f.mul(r.m))).add(i):r.c.mul(f).add(i),s.assign(f),i.assign(c)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&Lr(this.accumulations.map((function(n){return n.variable})))},t.prototype.setMomentum=function(n){this.momentum=n},t.prototype.getWeights=function(){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(n){switch(n.label){case 0:return[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(this.accumulations.map((function(r){return{name:r.originalName,tensor:r.variable}})))]}}))}))},t.prototype.setWeights=function(n){return Ue(this,void 0,void 0,(function(){return Ve(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(n)];case 1:return n=r.sent(),this.accumulations=n.map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(n,r){return new n(r.learningRate,r.momentum,r.useNesterov)},t.className="Momentum",t})(WI);xl($oe);var Goe=(function(e){function t(n,r,o,a,i){r===void 0&&(r=.9),o===void 0&&(o=0),a===void 0&&(a=null),i===void 0&&(i=!1);var s=e.call(this)||this;if(s.learningRate=n,s.decay=r,s.momentum=o,s.epsilon=a,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=i,a==null&&(s.epsilon=ee.backend.epsilon()),n==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return oa(t,e),t.prototype.applyGradients=function(n){var r=this;(Array.isArray(n)?n.map((function(o){return o.name})):Object.keys(n)).forEach((function(o,a){var i=ee.registeredVariables[o];r.accumulatedMeanSquares[a]==null&&(r.accumulatedMeanSquares[a]={originalName:o+"/rms",variable:Le((function(){return Nt(i).variable(!1)}))}),r.accumulatedMoments[a]==null&&(r.accumulatedMoments[a]={originalName:o+"/momentum",variable:Le((function(){return Nt(i).variable(!1)}))}),r.accumulatedMeanGrads[a]==null&&r.centered&&(r.accumulatedMeanGrads[a]={originalName:o+"/mg",variable:Le((function(){return Nt(i).variable(!1)}))});var s=Array.isArray(n)?n[a].tensor:n[o];if(s!=null){var u=r.accumulatedMeanSquares[a].variable,c=r.accumulatedMoments[a].variable;Le((function(){var f=u.mul(r.decay).add(s.square().mul(1-r.decay));if(r.centered){var h=r.accumulatedMeanGrads[a].variable,m=h.mul(r.decay).add(s.mul(1-r.decay)),v=c.mul(r.momentum).add(s.mul(r.learningRate).div(f.sub(m.square().add(r.epsilon)).sqrt()));u.assign(f),h.assign(m),c.assign(v);var y=i.sub(v);i.assign(y)}else{var x=u.mul(r.decay).add(s.square().mul(1-r.decay));v=c.mul(r.momentum).add(s.mul(r.learningRate).div(x.add(r.epsilon).sqrt())),u.assign(x),c.assign(v),y=i.sub(v),i.assign(y)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&Lr(this.accumulatedMeanSquares.map((function(n){return n.variable}))),this.accumulatedMeanGrads!=null&&this.centered&&Lr(this.accumulatedMeanGrads.map((function(n){return n.variable}))),this.accumulatedMoments!=null&&Lr(this.accumulatedMoments.map((function(n){return n.variable})))},t.prototype.getWeights=function(){return Ue(this,void 0,void 0,(function(){var n;return Ve(this,(function(r){switch(r.label){case 0:return n=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&n.push.apply(n,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(n.map((function(o){return{name:o.originalName,tensor:o.variable}})))]}}))}))},t.prototype.setWeights=function(n){return Ue(this,void 0,void 0,(function(){var r;return Ve(this,(function(o){switch(o.label){case 0:return[4,this.extractIterations(n)];case 1:return n=o.sent(),r=this.centered?n.length/3:n.length/2,this.accumulatedMeanSquares=n.slice(0,r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),this.accumulatedMoments=n.slice(r,2*r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=n.slice(2*r,3*r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(n,r){return new n(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},t.className="RMSProp",t})(wl);xl(Goe);rn.prototype.squaredDifference=function(e){return aI(this,e)},fe=yoe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wx=function(e,t){return Wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},Wx(e,t)};function ct(e,t){Wx(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var lr=function(){return lr=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},lr.apply(this,arguments)};function qe(e,t,n,r){function o(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function s(f){try{c(r.next(f))}catch(h){i(h)}}function u(f){try{c(r.throw(f))}catch(h){i(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,u)}c((r=r.apply(e,[])).next())})}function Xe(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],o=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Fd(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}var al=(function(){function e(t,n){if(!il(t)||!il(n))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:t,height:n}));this._width=t,this._height=n}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e})();function Zv(e,t){return e instanceof rn&&e.shape.length===t}function qoe(e){return Zv(e,2)}function eg(e){return Zv(e,3)}function hs(e){return Zv(e,4)}function Xoe(e){return e%1!==0}function oA(e){return e%2===0}function $I(e,t){t===void 0&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}function aA(e){return e&&e.width&&e.height}function Yoe(e,t){var n=e.width,r=e.height,o=t/Math.max(r,n);return new al(Math.round(n*o),Math.round(r*o))}function S2(e){return e.reduce(function(t,n){return t.add(n)},new Bt(0,0)).div(new Bt(e.length,e.length))}function df(e,t,n){return Array(e).fill(0).map(function(r,o){return t+o*n})}function il(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function iA(e){return il(e)&&0<=e&&e<=1}var Bt=(function(){function e(t,n){this._x=t,this._y=n}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e})(),Ma=(function(){function e(t,n){n===void 0&&(n=!0);var r=t||{},o=[r.left,r.top,r.right,r.bottom].every(il),a=[r.x,r.y,r.width,r.height].every(il);if(!a&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var i=a?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=i[0],u=i[1],c=i[2],f=i[3];e.assertIsValidBox({x:s,y:u,width:c,height:f},"Box.constructor",n),this._x=s,this._y=u,this._width=c,this._height=f}return e.isRect=function(t){return!!t&&[t.x,t.y,t.width,t.height].every(il)},e.assertIsValidBox=function(t,n,r){if(r===void 0&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new Bt(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new Bt(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new Bt(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new Bt(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(i){return Math.round(i)}),n=t[0],r=t[1],o=t[2],a=t[3];return new e({x:n,y:r,width:o,height:a})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(i){return Math.floor(i)}),n=t[0],r=t[1],o=t[2],a=t[3];return new e({x:n,y:r,width:o,height:a})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,o=t.width,a=t.height,i=Math.abs(o-a);return o<a&&(n-=i/2,o+=i),a<o&&(r-=i/2,a+=i),new e({x:n,y:r,width:o,height:a})},e.prototype.rescale=function(t){var n=aA(t)?t.width:t,r=aA(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n],o=r[0],a=r[1],i=r[2],s=r[3];return new e({x:o,y:a,width:i,height:s})},e.prototype.clipAtImageBorders=function(t,n){var r=this,o=r.x,a=r.y,i=r.right,s=r.bottom,u=Math.max(o,0),c=Math.max(a,0),f=i-u,h=s-c,m=Math.min(f,t-u),v=Math.min(h,n-c);return new e({x:u,y:c,width:m,height:v}).floor()},e.prototype.shift=function(t,n){var r=this,o=r.width,a=r.height,i=this.x+t,s=this.y+n;return new e({x:i,y:s,width:o,height:a})},e.prototype.padAtBorders=function(t,n){var r=this.width+1,o=this.height+1,a=1,i=1,s=r,u=o,c=this.left,f=this.top,h=this.right,m=this.bottom;return h>n&&(s=-h+n+r,h=n),m>t&&(u=-m+t+o,m=t),c<1&&(u=2-c,c=1),f<1&&(u=2-f,f=1),{dy:i,edy:u,dx:a,edx:s,y:f,ey:m,x:c,ex:h,w:r,h:o}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e})(),tg=(function(e){ct(t,e);function t(n,r,o,a,i){return i===void 0&&(i=!1),e.call(this,{left:n,top:r,right:o,bottom:a},i)||this}return t})(Ma),GI=(function(){function e(t,n,r,o,a){this._imageDims=new al(a.width,a.height),this._score=t,this._classScore=n,this._className=r,this._box=new Ma(o).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new Ma(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e})(),fo=(function(e){ct(t,e);function t(n,r,o){return e.call(this,n,n,"",r,o)||this}return t.prototype.forSize=function(n,r){var o=e.prototype.forSize.call(this,n,r),a=o.score,i=o.relativeBox,s=o.imageDims;return new t(a,i,s)},t})(GI);function Koe(e,t,n){n===void 0&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),o=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),a=r*o;return n?a/(e.area+t.area-a):a/Math.min(e.area,t.area)}function Qoe(e){var t=e.map(function(s){return s.x}),n=e.map(function(s){return s.y}),r=t.reduce(function(s,u){return u<s?u:s},1/0),o=n.reduce(function(s,u){return u<s?u:s},1/0),a=t.reduce(function(s,u){return s<u?u:s},0),i=n.reduce(function(s,u){return s<u?u:s},0);return new tg(r,o,a,i)}function ff(e,t,n,r){r===void 0&&(r=!0);for(var o=t.map(function(s,u){return{score:s,boxIndex:u}}).sort(function(s,u){return s.score-u.score}).map(function(s){return s.boxIndex}),a=[],i=function(){var s=o.pop();a.push(s);for(var u=o,c=[],f=0;f<u.length;f++){var h=u[f],m=e[s],v=e[h];c.push(Koe(m,v,r))}o=o.filter(function(y,x){return c[x]<=n})};o.length>0;)i();return a}function Hf(e,t){return Le(function(){var n=t[0],r=t[1],o=t[2],a=Ta(Fd(e.shape.slice(0,3),[1]),n),i=Ta(Fd(e.shape.slice(0,3),[1]),r),s=Ta(Fd(e.shape.slice(0,3),[1]),o),u=An([a,i,s],3);return In(e,u)})}function Joe(e,t){return t===void 0&&(t=!1),Le(function(){var n=e.shape.slice(1),r=n[0],o=n[1];if(r===o)return e;var a=Math.abs(r-o),i=Math.round(a*(t?.5:1)),s=r>o?2:1,u=function(v){var y=e.shape.slice();return y[s]=v,Ta(y,0)},c=u(i),f=a-c.shape[s],h=t&&f?u(f):null,m=[h,e,c].filter(function(v){return!!v}).map(function(v){return v.toFloat()});return An(m,s)})}function M0(e){return 1/(1+Math.exp(-e))}var C2=(function(e){ct(t,e);function t(n,r,o,a,i){return i===void 0&&(i=!1),e.call(this,{x:n,y:r,width:o,height:a},i)||this}return t})(Ma),Zoe=.5,eae=.43,tae=.45,hf=(function(){function e(t,n,r){r===void 0&&(r=new Bt(0,0));var o=n.width,a=n.height;this._imgDims=new al(o,a),this._shift=r,this._positions=t.map(function(i){return i.mul(new Bt(o,a)).add(r)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new Bt(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var t=this;return this._positions.map(function(n){return n.sub(t._shift).div(new Bt(t.imageWidth,t.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new this.constructor(this.relativePositions,{width:t,height:n})},e.prototype.shiftBy=function(t,n){return new this.constructor(this.relativePositions,this._imgDims,new Bt(t,n))},e.prototype.shiftByPoint=function(t){return this.shiftBy(t.x,t.y)},e.prototype.align=function(t,n){if(n===void 0&&(n={}),t){var r=t instanceof fo?t.box.floor():new Ma(t);return this.shiftBy(r.x,r.y).align(null,n)}var o=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},n),a=o.useDlibAlignment,i=o.minBoxPadding;return a?this.alignDlib():this.alignMinBbox(i)},e.prototype.alignDlib=function(){var t=this.getRefPointsForAlignment(),n=t[0],r=t[1],o=t[2],a=function(h){return o.sub(h).magnitude()},i=(a(n)+a(r))/2,s=Math.floor(i/tae),u=S2(t),c=Math.floor(Math.max(0,u.x-Zoe*s)),f=Math.floor(Math.max(0,u.y-eae*s));return new C2(c,f,Math.min(s,this.imageWidth+c),Math.min(s,this.imageHeight+f))},e.prototype.alignMinBbox=function(t){var n=Qoe(this.positions);return n.pad(n.width*t,n.height*t)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e})(),nae=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getRefPointsForAlignment=function(){var n=this.positions;return[n[0],n[1],S2([n[3],n[4]])]},t})(hf),rae=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(S2)},t})(hf),sA=(function(){function e(t,n){this._label=t,this._distance=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!0),""+this.label+(t?" ("+$I(this.distance)+")":"")},e})(),lA=(function(e){ct(t,e);function t(n,r){var o=e.call(this,n)||this;return o._label=r,o}return t.assertIsValidLabeledBox=function(n,r){if(Ma.assertIsValidBox(n,r),!il(n.label))throw new Error(r+" - expected property label ("+n.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t})(Ma),Tp=(function(){function e(t,n){if(typeof t!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(n)||n.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=t,this._descriptors=n}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(t){return Array.from(t)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(r){return new Float32Array(r)});return new e(t.label,n)},e})();(function(e){ct(t,e);function t(n,r,o,a){var i=e.call(this,n,r)||this;return i._score=o,i._classScore=a,i}return t.assertIsValidPredictedBox=function(n,r){if(lA.assertIsValidLabeledBox(n,r),!iA(n.score)||!iA(n.classScore))throw new Error(r+" - expected properties score ("+n.score+") and ("+n.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),t})(lA);function Pm(e){return e.detection instanceof fo}function pf(e,t){var n={detection:t};return Object.assign({},e,n)}function qI(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},t=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:t}}function XI(e){var t="";if(!e)try{e=require("fs")}catch(r){t=r.toString()}var n=e?function(r){return new Promise(function(o,a){e.readFile(r,function(i,s){return i?a(i):o(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:n}}function YI(){var e=global.Canvas||global.HTMLCanvasElement,t=global.Image||global.HTMLImageElement,n=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},o=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=XI();return lr({Canvas:e||(function(){function i(){}return i})(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||(function(){function i(){}return i})(),Image:t||(function(){function i(){}return i})(),ImageData:global.ImageData||(function(){function i(){}return i})(),Video:global.HTMLVideoElement||(function(){function i(){}return i})(),createCanvasElement:n,createImageElement:r,fetch:o},a)}function KI(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function QI(){return typeof global=="object"&&typeof require=="function"&&typeof PO<"u"&&typeof process<"u"&&!!process.version}var Tn;function oae(){if(!Tn)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return Tn}function $x(e){Tn=e}function E2(){KI()&&$x(qI()),QI()&&$x(YI())}function aae(e){if(Tn||E2(),!Tn)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=t===void 0?Tn.Canvas:t,r=e.Image,o=r===void 0?Tn.Image:r;Tn.Canvas=n,Tn.Image=o,Tn.createCanvasElement=e.createCanvasElement||(function(){return new n}),Tn.createImageElement=e.createImageElement||(function(){return new o}),Tn.ImageData=e.ImageData||Tn.ImageData,Tn.Video=e.Video||Tn.Video,Tn.fetch=e.fetch||Tn.fetch,Tn.readFile=e.readFile||Tn.readFile}var mr={getEnv:oae,setEnv:$x,initialize:E2,createBrowserEnv:qI,createFileSystem:XI,createNodejsEnv:YI,monkeyPatch:aae,isBrowser:KI,isNodejs:QI};E2();function R2(e){return!mr.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function pi(e){var t=mr.getEnv(),n=t.Canvas,r=t.CanvasRenderingContext2D;if(e instanceof r)return e;var o=R2(e);if(!(o instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var a=o.getContext("2d");if(!a)throw new Error("resolveContext2d - canvas 2d context is null");return a}var is;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(is||(is={}));var JI=(function(){function e(t){t===void 0&&(t={});var n=t.anchorPosition,r=t.backgroundColor,o=t.fontColor,a=t.fontSize,i=t.fontStyle,s=t.padding;this.anchorPosition=n||is.TOP_LEFT,this.backgroundColor=r||"rgba(0, 0, 0, 0.5)",this.fontColor=o||"rgba(255, 255, 255, 1)",this.fontSize=a||14,this.fontStyle=i||"Georgia",this.padding=s||4}return e})(),iae=(function(){function e(t,n,r){r===void 0&&(r={}),this.text=typeof t=="string"?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new JI(r)}return e.prototype.measureWidth=function(t){var n=this.options.padding;return this.text.map(function(r){return t.measureText(r).width}).reduce(function(r,o){return r<o?o:r},0)+2*n},e.prototype.measureHeight=function(){var t=this.options,n=t.fontSize,r=t.padding;return this.text.length*n+2*r},e.prototype.getUpperLeft=function(t,n){var r=this.options.anchorPosition,o=r===is.BOTTOM_RIGHT||r===is.TOP_RIGHT,a=r===is.BOTTOM_LEFT||r===is.BOTTOM_RIGHT,i=this.measureWidth(t),s=this.measureHeight(),u=o?this.anchor.x-i:this.anchor.x,c=a?this.anchor.y-s:this.anchor.y;if(n){var f=n.width,h=n.height,m=Math.max(Math.min(u,f-i),0),v=Math.max(Math.min(c,h-s),0);return{x:m,y:v}}return{x:u,y:c}},e.prototype.draw=function(t){var n=R2(t),r=pi(n),o=this.options,a=o.backgroundColor,i=o.fontColor,s=o.fontSize,u=o.fontStyle,c=o.padding;r.font=s+"px "+u;var f=this.measureWidth(r),h=this.measureHeight();r.fillStyle=a;var m=this.getUpperLeft(r,n);r.fillRect(m.x,m.y,f,h),r.fillStyle=i,this.text.forEach(function(v,y){var x=c+m.x,w=c+m.y+(y+1)*s;r.fillText(v,x,w)})},e})(),sae=(function(){function e(t){t===void 0&&(t={});var n=t.boxColor,r=t.lineWidth,o=t.label,a=t.drawLabelOptions;this.boxColor=n||"rgba(0, 0, 255, 1)",this.lineWidth=r||2,this.label=o;var i={anchorPosition:is.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new JI(Object.assign({},i,a))}return e})(),lae=(function(){function e(t,n){n===void 0&&(n={}),this.box=new Ma(t),this.options=new sae(n)}return e.prototype.draw=function(t){var n=pi(t),r=this.options,o=r.boxColor,a=r.lineWidth,i=this.box,s=i.x,u=i.y,c=i.width,f=i.height;n.strokeStyle=o,n.lineWidth=a,n.strokeRect(s,u,c,f);var h=this.options.label;h&&new iae([h],{x:s-a/2,y:u},this.options.drawLabelOptions).draw(t)},e})();function uae(e,t){var n=Array.isArray(t)?t:[t];n.forEach(function(r){var o=r instanceof fo?r.score:Pm(r)?r.detection.score:void 0,a=r instanceof fo?r.box:Pm(r)?r.detection.box:new Ma(r),i=o?""+$I(o):void 0;new lae(a,{label:i}).draw(e)})}function ZI(e){var t=mr.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function cae(e){return new Promise(function(t,n){if(e instanceof mr.getEnv().Canvas||ZI(e))return t();function r(a){a.currentTarget&&(a.currentTarget.removeEventListener("load",r),a.currentTarget.removeEventListener("error",o),t(a))}function o(a){a.currentTarget&&(a.currentTarget.removeEventListener("load",r),a.currentTarget.removeEventListener("error",o),n(a))}e.addEventListener("load",r),e.addEventListener("error",o)})}function eO(e){var t=mr.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new al(e.naturalWidth,e.naturalHeight):e instanceof r?new al(e.videoWidth,e.videoHeight):new al(e.width,e.height)}function ng(e){var t=e.width,n=e.height,r=mr.getEnv().createCanvasElement,o=r();return o.width=t,o.height=n,o}function _2(e,t){var n=mr.getEnv().ImageData;if(!(e instanceof n)&&!ZI(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=eO(e),o=r.width,a=r.height,i=ng({width:o,height:a});return e instanceof n?pi(i).putImageData(e,0,0):pi(i).drawImage(e,0,0,o,a),i}function dae(e,t){return qe(this,void 0,void 0,function(){var n,r,o,a,i,s;return Xe(this,function(u){switch(u.label){case 0:return n=mr.getEnv().createCanvasElement(),r=e.shape.slice(hs(e)?1:0),o=r[0],a=r[1],i=r[2],s=Le(function(){return e.as3D(o,a,i).toInt()}),[4,w2.toPixels(s,n)];case 1:return u.sent(),s.dispose(),[2,n]}})})}function uA(e){var t=mr.getEnv(),n=t.Image,r=t.Canvas,o=t.Video;return e instanceof n||e instanceof r||e instanceof o}function fae(e,t,n){n===void 0&&(n=!1);var r=mr.getEnv(),o=r.Image,a=r.Canvas;if(!(e instanceof o||e instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var i=eO(e),s=t/Math.max(i.height,i.width),u=s*i.width,c=s*i.height,f=ng({width:t,height:t}),h=e instanceof a?e:_2(e),m=Math.abs(u-c)/2,v=n&&u<c?m:0,y=n&&c<u?m:0;return pi(f).drawImage(h,v,y,u,c),f}var jm=(function(){function e(t,n){var r=this;if(n===void 0&&(n=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(t))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+t);this._treatAsBatchInput=n,this._batchSize=t.length,t.forEach(function(o,a){if(eg(o)){r._imageTensors[a]=o,r._inputDimensions[a]=o.shape;return}if(hs(o)){var i=o.shape[0];if(i!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+i+" passed, but not supported in input array");r._imageTensors[a]=o,r._inputDimensions[a]=o.shape.slice(1);return}var s=o instanceof mr.getEnv().Canvas?o:_2(o);r._canvases[a]=s,r._inputDimensions[a]=[s.height,s.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var t=this;return df(this.batchSize,0,1).map(function(n,r){return t.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(t){return this.canvases[t]||this.imageTensors[t]},e.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},e.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},e.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},e.prototype.getReshapedInputDimensions=function(t){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var n=this.getInputWidth(t),r=this.getInputHeight(t);return Yoe({width:n,height:r},this.inputSize)},e.prototype.toBatchTensor=function(t,n){var r=this;return n===void 0&&(n=!0),this._inputSize=t,Le(function(){var o=df(r.batchSize,0,1).map(function(i){var s=r.getInput(i);if(s instanceof rn){var u=hs(s)?s:s.expandDims();return u=Joe(u,n),(u.shape[1]!==t||u.shape[2]!==t)&&(u=m2.resizeBilinear(u,[t,t])),u.as3D(t,t,3)}if(s instanceof mr.getEnv().Canvas)return w2.fromPixels(fae(s,t,n));throw new Error("toBatchTensor - at batchIdx "+i+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),a=lo(o.map(function(i){return i.toFloat()})).as4D(r.batchSize,t,t,3);return a})},e})();function Gn(e){return qe(this,void 0,void 0,function(){var t,n,r;return Xe(this,function(o){switch(o.label){case 0:if(e instanceof jm)return[2,e];if(t=Array.isArray(e)?e:[e],!t.length)throw new Error("toNetInput - empty array passed as input");return n=function(a){return Array.isArray(e)?" at input index "+a+":":""},r=t.map(R2),r.forEach(function(a,i){if(!uA(a)&&!eg(a)&&!hs(a))throw typeof t[i]=="string"?new Error("toNetInput -"+n(i)+" string passed, but could not resolve HTMLElement for element id "+t[i]):new Error("toNetInput -"+n(i)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(hs(a)){var s=a.shape[0];if(s!==1)throw new Error("toNetInput -"+n(i)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(a){return uA(a)&&cae(a)}))];case 1:return o.sent(),[2,new jm(r,Array.isArray(e))]}})})}function T2(e,t){return qe(this,void 0,void 0,function(){var n,r,o,a,i,s,u;return Xe(this,function(c){switch(c.label){case 0:return n=mr.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,Gn(e)];case 1:if(o=c.sent(),o.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return a=o.getInput(0),a instanceof n?(i=a,[3,4]):[3,2];case 2:return[4,dae(a)];case 3:i=c.sent(),c.label=4;case 4:r=i,c.label=5;case 5:return s=pi(r),u=t.map(function(f){return f instanceof fo?f.forSize(r.width,r.height).box.floor():f}).map(function(f){return f.clipAtImageBorders(r.width,r.height)}),[2,u.map(function(f){var h=f.x,m=f.y,v=f.width,y=f.height,x=ng({width:v,height:y});return pi(x).putImageData(s.getImageData(h,m,v,y),0,0),x})]}})})}function D2(e,t){return qe(this,void 0,void 0,function(){return Xe(this,function(n){if(!eg(e)&&!hs(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(hs(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Le(function(){var r=e.shape.slice(hs(e)?1:0),o=r[0],a=r[1],i=r[2],s=t.map(function(c){return c instanceof fo?c.forSize(a,o).box:c}).map(function(c){return c.clipAtImageBorders(a,o)}),u=s.map(function(c){var f=c.x,h=c.y,m=c.width,v=c.height;return _I(e.as3D(o,a,i),[h,f,0],[v,m,i])});return u})]})})}function hae(e,t){return qe(this,void 0,void 0,function(){var n,r;return Xe(this,function(o){switch(o.label){case 0:return n=mr.getEnv().fetch,[4,n(e,t)];case 1:if(r=o.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function pae(e){return qe(this,void 0,void 0,function(){return Xe(this,function(t){switch(t.label){case 0:return[4,hae(e)];case 1:return[2,t.sent().json()]}})})}function tO(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(r,"");var o=e.split("/").filter(function(s){return s}),a=e.endsWith(".json")?o[o.length-1]:n,i=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return i=e.startsWith("/")?"/"+i:i,{modelBaseUri:i,manifestUri:i==="/"?"/"+a:i+"/"+a}}function mae(e,t){return qe(this,void 0,void 0,function(){var n,r,o,a;return Xe(this,function(i){switch(i.label){case 0:return n=tO(e,t),r=n.manifestUri,o=n.modelBaseUri,[4,pae(r)];case 1:return a=i.sent(),[2,HI.loadWeights(a,o)]}})})}var Ei=(function(){function e(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(t){var n=this.traversePropertyPath(t),r=n.obj,o=n.objProp;return r[o]},e.prototype.reassignParamFromPath=function(t,n){var r=this.traversePropertyPath(t),o=r.obj,a=r.objProp;o[a].dispose(),o[a]=n},e.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(n){var r=n.paramPath;return{path:r,tensor:t.getParamFromPath(r)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof Yu})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof Yu)})},e.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(n){var r=n.path,o=n.tensor;t.reassignParamFromPath(r,o.variable())})},e.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(n){var r=n.path,o=n.tensor,a=er(o.dataSync());o.dispose(),t.reassignParamFromPath(r,a)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.getParamList().forEach(function(n){if(t&&n.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+n.path);n.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(t){var n=t.tensor;return Array.from(n.dataSync())}).reduce(function(t,n){return t.concat(n)}))},e.prototype.load=function(t){return qe(this,void 0,void 0,function(){return Xe(this,function(n){switch(n.label){case 0:return t instanceof Float32Array?(this.extractWeights(t),[2]):[4,this.loadFromUri(t)];case 1:return n.sent(),[2]}})})},e.prototype.loadFromUri=function(t){return qe(this,void 0,void 0,function(){var n;return Xe(this,function(r){switch(r.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,mae(t,this.getDefaultModelName())];case 1:return n=r.sent(),this.loadFromWeightMap(n),[2]}})})},e.prototype.loadFromDisk=function(t){return qe(this,void 0,void 0,function(){var n,r,o,a,i,s,u,c,f,h;return Xe(this,function(m){switch(m.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return n=mr.getEnv().readFile,r=tO(t,this.getDefaultModelName()),o=r.manifestUri,a=r.modelBaseUri,i=function(v){return Promise.all(v.map(function(y){return n(y).then(function(x){return x.buffer})}))},s=HI.weightsLoaderFactory(i),f=(c=JSON).parse,[4,n(o)];case 1:return u=f.apply(c,[m.sent().toString()]),[4,s(u,a)];case 2:return h=m.sent(),this.loadFromWeightMap(h),[2]}})})},e.prototype.loadFromWeightMap=function(t){var n=this.extractParamsFromWeigthMap(t),r=n.paramMappings,o=n.params;this._paramMappings=r,this._params=o},e.prototype.extractWeights=function(t){var n=this.extractParams(t),r=n.paramMappings,o=n.params;this._paramMappings=r,this._params=o},e.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var n=t.split("/").reduce(function(a,i){if(!a.nextObj.hasOwnProperty(i))throw new Error("traversePropertyPath - object does not have property "+i+", for path "+t);return{obj:a.nextObj,objProp:i,nextObj:a.nextObj[i]}},{nextObj:this.params}),r=n.obj,o=n.objProp;if(!r||!o||!(r[o]instanceof rn))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:r,objProp:o}},e})();function ao(e,t,n){return Le(function(){var r=c2(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=xt(r,t.bias),r})}function I0(e,t,n){return n===void 0&&(n=!1),Le(function(){var r=on(n?xt(Lo(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):ao(e,t.conv0,[2,2])),o=ao(r,t.conv1,[1,1]),a=on(xt(r,o)),i=ao(a,t.conv2,[1,1]);return on(xt(r,xt(o,i)))})}function Dp(e,t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!0),Le(function(){var o=on(n?xt(Lo(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):ao(e,t.conv0,r?[2,2]:[1,1])),a=ao(o,t.conv1,[1,1]),i=on(xt(o,a)),s=ao(i,t.conv2,[1,1]),u=on(xt(o,xt(a,s))),c=ao(u,t.conv3,[1,1]);return on(xt(o,xt(a,xt(s,c))))})}function Xo(e,t,n,r){return n===void 0&&(n="same"),r===void 0&&(r=!1),Le(function(){var o=xt(Lo(e,t.filters,[1,1],n),t.bias);return r?on(o):o})}function Ri(e,t){Object.keys(e).forEach(function(n){t.some(function(r){return r.originalPath===n})||e[n].dispose()})}function rg(e,t){return function(n,r,o,a){var i=Mr(e(n*r*o*o),[o,o,n,r]),s=Sn(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:i,bias:s}}}function A2(e,t){return function(n,r,o){var a=ds(e(n*r),[n,r]),i=Sn(e(r));return t.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:a,bias:i}}}var nO=(function(){function e(t,n,r){this.depthwise_filter=t,this.pointwise_filter=n,this.bias=r}return e})();function N2(e,t){return function(n,r,o){var a=Mr(e(9*n),[3,3,n,1]),i=Mr(e(n*r),[1,1,n,r]),s=Sn(e(r));return t.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new nO(a,i,s)}}function k2(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),o=e(t+"/bias",1);return new nO(n,r,o)}}function Ss(e,t){return function(n,r,o){var a=e[n];if(!Zv(a,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+a);return t.push({originalPath:n,paramPath:o||n}),a}}function _i(e){var t=e;function n(o){var a=t.slice(0,o);return t=t.slice(o),a}function r(){return t}return{extractWeights:n,getRemainingWeights:r}}function rO(e,t){var n=rg(e,t),r=N2(e,t);function o(i,s,u,c){c===void 0&&(c=!1);var f=c?n(i,s,3,u+"/conv0"):r(i,s,u+"/conv0"),h=r(s,s,u+"/conv1"),m=r(s,s,u+"/conv2");return{conv0:f,conv1:h,conv2:m}}function a(i,s,u,c){c===void 0&&(c=!1);var f=o(i,s,u,c),h=f.conv0,m=f.conv1,v=f.conv2,y=r(s,s,u+"/conv3");return{conv0:h,conv1:m,conv2:v,conv3:y}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:a}}function vae(e){var t=[],n=_i(e),r=n.extractWeights,o=n.getRemainingWeights,a=rO(r,t).extractDenseBlock4Params,i=a(3,32,"dense0",!0),s=a(32,64,"dense1"),u=a(64,128,"dense2"),c=a(128,256,"dense3");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:i,dense1:s,dense2:u,dense3:c}}}function oO(e){return function(t){var n=e(t+"/filters",4),r=e(t+"/bias",1);return{filters:n,bias:r}}}function aO(e,t){var n=Ss(e,t),r=oO(n),o=k2(n);function a(s,u){u===void 0&&(u=!1);var c=u?r(s+"/conv0"):o(s+"/conv0"),f=o(s+"/conv1"),h=o(s+"/conv2");return{conv0:c,conv1:f,conv2:h}}function i(s,u){u===void 0&&(u=!1);var c=u?r(s+"/conv0"):o(s+"/conv0"),f=o(s+"/conv1"),h=o(s+"/conv2"),m=o(s+"/conv3");return{conv0:c,conv1:f,conv2:h,conv3:m}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:i}}function gae(e){var t=[],n=aO(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return Ri(e,t),{params:r,paramMappings:t}}var iO=(function(e){ct(t,e);function t(){return e.call(this,"FaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return Le(function(){var o=n.toBatchTensor(112,!0),a=[122.782,117.001,104.298],i=Hf(o,a).div(Ie(255)),s=Dp(i,r.dense0,!0);return s=Dp(s,r.dense1),s=Dp(s,r.dense2),s=Dp(s,r.dense3),s=Uf(s,[7,7],[2,2],"valid"),s})},t.prototype.forward=function(n){return qe(this,void 0,void 0,function(){var r;return Xe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Gn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(n){return gae(n)},t.prototype.extractParams=function(n){return vae(n)},t})(Ei);function wa(e,t){return Le(function(){return xt(Kv(e,t.weights),t.bias)})}function yae(e,t,n){var r=[],o=_i(e),a=o.extractWeights,i=o.getRemainingWeights,s=A2(a,r),u=s(t,n,"fc");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:r,params:{fc:u}}}function bae(e){var t=[],n=Ss(e,t);function r(a){var i=n(a+"/weights",2),s=n(a+"/bias",1);return{weights:i,bias:s}}var o={fc:r("fc")};return Ri(e,t),{params:o,paramMappings:t}}function sO(e){var t={},n={};return Object.keys(e).forEach(function(r){var o=r.startsWith("fc")?n:t;o[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var lO=(function(e){ct(t,e);function t(n,r){var o=e.call(this,n)||this;return o._faceFeatureExtractor=r,o}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return Le(function(){var a=n instanceof jm?r.faceFeatureExtractor.forwardInput(n):n;return wa(a.as2D(a.shape[0],-1),o.fc)})},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),o=r.params,a=r.paramMappings;this._params=o,this._paramMappings=a},t.prototype.extractClassifierParams=function(n){return yae(n,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(n){var r=sO(n),o=r.featureExtractorMap,a=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),bae(a)},t.prototype.extractParams=function(n){var r=this.getClassifierChannelsIn(),o=this.getClassifierChannelsOut(),a=o*r+o,i=n.slice(0,n.length-a),s=n.slice(n.length-a);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(s)},t})(Ei),cA=["neutral","happy","sad","angry","fearful","disgusted","surprised"],xae=(function(){function e(t){var n=this;if(t.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+t.length);cA.forEach(function(r,o){n[r]=t[o]})}return e.prototype.asSortedArray=function(){var t=this;return cA.map(function(n){return{expression:n,probability:t[n]}}).sort(function(n,r){return r.probability-n.probability})},e})(),wae=(function(e){ct(t,e);function t(n){return n===void 0&&(n=new iO),e.call(this,"FaceExpressionNet",n)||this}return t.prototype.forwardInput=function(n){var r=this;return Le(function(){return Si(r.runNet(n))})},t.prototype.forward=function(n){return qe(this,void 0,void 0,function(){var r;return Xe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Gn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.predictExpressions=function(n){return qe(this,void 0,void 0,function(){var r,o,a,i,s=this;return Xe(this,function(u){switch(u.label){case 0:return[4,Gn(n)];case 1:return r=u.sent(),[4,this.forwardInput(r)];case 2:return o=u.sent(),[4,Promise.all(Nn(o).map(function(c){return qe(s,void 0,void 0,function(){var f;return Xe(this,function(h){switch(h.label){case 0:return[4,c.data()];case 1:return f=h.sent(),c.dispose(),[2,f]}})})}))];case 3:return a=u.sent(),o.dispose(),i=a.map(function(c){return new xae(c)}),[2,r.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t})(lO);function uO(e,t){var n={expressions:t};return Object.assign({},e,n)}function cO(e){return Pm(e)&&e.landmarks instanceof hf&&e.unshiftedLandmarks instanceof hf&&e.alignedRect instanceof fo}function og(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),o=r.align(),a=e.detection.imageDims,i=new fo(e.detection.score,o.rescale(a.reverse()),a),s={landmarks:r,unshiftedLandmarks:t,alignedRect:i};return Object.assign({},e,s)}function Sae(e,t){var n=rg(e,t),r=N2(e,t);function o(i,s,u){var c=r(i,s,u+"/separable_conv0"),f=r(s,s,u+"/separable_conv1"),h=n(i,s,1,u+"/expansion_conv");return{separable_conv0:c,separable_conv1:f,expansion_conv:h}}function a(i,s){var u=r(i,i,s+"/separable_conv0"),c=r(i,i,s+"/separable_conv1"),f=r(i,i,s+"/separable_conv2");return{separable_conv0:u,separable_conv1:c,separable_conv2:f}}return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:o,extractMainBlockParams:a}}function Cae(e,t){var n=[],r=_i(e),o=r.extractWeights,a=r.getRemainingWeights,i=Sae(o,n),s=i.extractConvParams,u=i.extractSeparableConvParams,c=i.extractReductionBlockParams,f=i.extractMainBlockParams,h=s(3,32,3,"entry_flow/conv_in"),m=c(32,64,"entry_flow/reduction_block_0"),v=c(64,128,"entry_flow/reduction_block_1"),y={conv_in:h,reduction_block_0:m,reduction_block_1:v},x={};df(t,0,1).forEach(function(R){x["main_block_"+R]=f(128,"middle_flow/main_block_"+R)});var w=c(128,256,"exit_flow/reduction_block"),S=u(256,512,"exit_flow/separable_conv"),E={reduction_block:w,separable_conv:S};if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{entry_flow:y,middle_flow:x,exit_flow:E}}}function Eae(e,t){var n=Ss(e,t),r=oO(n),o=k2(n);function a(s){var u=o(s+"/separable_conv0"),c=o(s+"/separable_conv1"),f=r(s+"/expansion_conv");return{separable_conv0:u,separable_conv1:c,expansion_conv:f}}function i(s){var u=o(s+"/separable_conv0"),c=o(s+"/separable_conv1"),f=o(s+"/separable_conv2");return{separable_conv0:u,separable_conv1:c,separable_conv2:f}}return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:a,extractMainBlockParams:i}}function Rae(e,t){var n=[],r=Eae(e,n),o=r.extractConvParams,a=r.extractSeparableConvParams,i=r.extractReductionBlockParams,s=r.extractMainBlockParams,u=o("entry_flow/conv_in"),c=i("entry_flow/reduction_block_0"),f=i("entry_flow/reduction_block_1"),h={conv_in:u,reduction_block_0:c,reduction_block_1:f},m={};df(t,0,1).forEach(function(w){m["main_block_"+w]=s("middle_flow/main_block_"+w)});var v=i("exit_flow/reduction_block"),y=a("exit_flow/separable_conv"),x={reduction_block:v,separable_conv:y};return Ri(e,n),{params:{entry_flow:h,middle_flow:m,exit_flow:x},paramMappings:n}}function dO(e,t,n){return xt(Lo(e,t.filters,n,"same"),t.bias)}function O0(e,t,n){n===void 0&&(n=!0);var r=n?on(e):e;return r=ao(r,t.separable_conv0,[1,1]),r=ao(on(r),t.separable_conv1,[1,1]),r=Un(r,[3,3],[2,2],"same"),r=xt(r,dO(e,t.expansion_conv,[2,2])),r}function _ae(e,t){var n=ao(on(e),t.separable_conv0,[1,1]);return n=ao(on(n),t.separable_conv1,[1,1]),n=ao(on(n),t.separable_conv2,[1,1]),n=xt(n,e),n}var Tae=(function(e){ct(t,e);function t(n){var r=e.call(this,"TinyXception")||this;return r._numMainBlocks=n,r}return t.prototype.forwardInput=function(n){var r=this,o=this.params;if(!o)throw new Error("TinyXception - load model before inference");return Le(function(){var a=n.toBatchTensor(112,!0),i=[122.782,117.001,104.298],s=Hf(a,i).div(Ie(256)),u=on(dO(s,o.entry_flow.conv_in,[2,2]));return u=O0(u,o.entry_flow.reduction_block_0,!1),u=O0(u,o.entry_flow.reduction_block_1),df(r._numMainBlocks,0,1).forEach(function(c){u=_ae(u,o.middle_flow["main_block_"+c])}),u=O0(u,o.exit_flow.reduction_block),u=on(ao(u,o.exit_flow.separable_conv,[1,1])),u})},t.prototype.forward=function(n){return qe(this,void 0,void 0,function(){var r;return Xe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Gn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(n){return Rae(n,this._numMainBlocks)},t.prototype.extractParams=function(n){return Cae(n,this._numMainBlocks)},t})(Ei);function Dae(e){var t=[],n=_i(e),r=n.extractWeights,o=n.getRemainingWeights,a=A2(r,t),i=a(512,1,"fc/age"),s=a(512,2,"fc/gender");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{fc:{age:i,gender:s}}}}function Aae(e){var t=[],n=Ss(e,t);function r(a){var i=n(a+"/weights",2),s=n(a+"/bias",1);return{weights:i,bias:s}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Ri(e,t),{params:o,paramMappings:t}}var Bm;(function(e){e.FEMALE="female",e.MALE="male"})(Bm||(Bm={}));var Nae=(function(e){ct(t,e);function t(n){n===void 0&&(n=new Tae(2));var r=e.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=n,r}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(n){var r=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return Le(function(){var a=n instanceof jm?r.faceFeatureExtractor.forwardInput(n):n,i=Uf(a,[7,7],[2,2],"valid").as2D(a.shape[0],-1),s=wa(i,o.fc.age).as1D(),u=wa(i,o.fc.gender);return{age:s,gender:u}})},t.prototype.forwardInput=function(n){var r=this;return Le(function(){var o=r.runNet(n),a=o.age,i=o.gender;return{age:a,gender:Si(i)}})},t.prototype.forward=function(n){return qe(this,void 0,void 0,function(){var r;return Xe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Gn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.predictAgeAndGender=function(n){return qe(this,void 0,void 0,function(){var r,o,a,i,s,u,c=this;return Xe(this,function(f){switch(f.label){case 0:return[4,Gn(n)];case 1:return r=f.sent(),[4,this.forwardInput(r)];case 2:return o=f.sent(),a=Nn(o.age),i=Nn(o.gender),s=a.map(function(h,m){return{ageTensor:h,genderTensor:i[m]}}),[4,Promise.all(s.map(function(h){var m=h.ageTensor,v=h.genderTensor;return qe(c,void 0,void 0,function(){var y,x,w,S,E;return Xe(this,function(R){switch(R.label){case 0:return[4,m.data()];case 1:return y=R.sent()[0],[4,v.data()];case 2:return x=R.sent()[0],w=x>.5,S=w?Bm.MALE:Bm.FEMALE,E=w?x:1-x,m.dispose(),v.dispose(),[2,{age:y,gender:S,genderProbability:E}]}})})}))];case 3:return u=f.sent(),o.age.dispose(),o.gender.dispose(),[2,r.isBatchInput?u:u[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(n){n===void 0&&(n=!0),this.faceFeatureExtractor.dispose(n),e.prototype.dispose.call(this,n)},t.prototype.loadClassifierParams=function(n){var r=this.extractClassifierParams(n),o=r.params,a=r.paramMappings;this._params=o,this._paramMappings=a},t.prototype.extractClassifierParams=function(n){return Dae(n)},t.prototype.extractParamsFromWeigthMap=function(n){var r=sO(n),o=r.featureExtractorMap,a=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),Aae(a)},t.prototype.extractParams=function(n){var r=1539,o=n.slice(0,n.length-r),a=n.slice(n.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(a)},t})(Ei),fO=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.postProcess=function(n,r,o){var a=o.map(function(s){var u=s.width,c=s.height,f=r/Math.max(c,u);return{width:u*f,height:c*f}}),i=a.length;return Le(function(){var s=function(m,v){return lo([Ta([68],m),Ta([68],v)],1).as2D(1,136).as1D()},u=function(m,v){var y=a[m],x=y.width,w=y.height;return v(x,w)?Math.abs(x-w)/2:0},c=function(m){return u(m,function(v,y){return v<y})},f=function(m){return u(m,function(v,y){return y<v})},h=n.mul(Ta([i,136],r)).sub(lo(Array.from(Array(i),function(m,v){return s(c(v),f(v))}))).div(lo(Array.from(Array(i),function(m,v){return s(a[v].width,a[v].height)})));return h})},t.prototype.forwardInput=function(n){var r=this;return Le(function(){var o=r.runNet(n);return r.postProcess(o,n.inputSize,n.inputDimensions.map(function(a){var i=a[0],s=a[1];return{height:i,width:s}}))})},t.prototype.forward=function(n){return qe(this,void 0,void 0,function(){var r;return Xe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Gn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.detectLandmarks=function(n){return qe(this,void 0,void 0,function(){var r,o,a,i=this;return Xe(this,function(s){switch(s.label){case 0:return[4,Gn(n)];case 1:return r=s.sent(),o=Le(function(){return Nn(i.forwardInput(r))}),[4,Promise.all(o.map(function(u,c){return qe(i,void 0,void 0,function(){var f,h,m,v,y;return Xe(this,function(x){switch(x.label){case 0:return m=(h=Array).from,[4,u.data()];case 1:return f=m.apply(h,[x.sent()]),v=f.filter(function(w,S){return oA(S)}),y=f.filter(function(w,S){return!oA(S)}),[2,new rae(Array(68).fill(0).map(function(w,S){return new Bt(v[S],y[S])}),{height:r.getInputHeight(c),width:r.getInputWidth(c)})]}})})}))];case 2:return a=s.sent(),o.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?a:a[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t})(lO),hO=(function(e){ct(t,e);function t(n){return n===void 0&&(n=new iO),e.call(this,"FaceLandmark68Net",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t})(fO);function kae(e){var t=[],n=aO(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return Ri(e,t),{params:r,paramMappings:t}}function Mae(e){var t=[],n=_i(e),r=n.extractWeights,o=n.getRemainingWeights,a=rO(r,t).extractDenseBlock3Params,i=a(3,32,"dense0",!0),s=a(32,64,"dense1"),u=a(64,128,"dense2");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:i,dense1:s,dense2:u}}}var Iae=(function(e){ct(t,e);function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Le(function(){var o=n.toBatchTensor(112,!0),a=[122.782,117.001,104.298],i=Hf(o,a).div(Ie(255)),s=I0(i,r.dense0,!0);return s=I0(s,r.dense1),s=I0(s,r.dense2),s=Uf(s,[14,14],[2,2],"valid"),s})},t.prototype.forward=function(n){return qe(this,void 0,void 0,function(){var r;return Xe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Gn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(n){return kae(n)},t.prototype.extractParams=function(n){return Mae(n)},t})(Ei),Oae=(function(e){ct(t,e);function t(n){return n===void 0&&(n=new Iae),e.call(this,"FaceLandmark68TinyNet",n)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t})(fO);(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(hO);function Pae(e,t){return xt(hr(e,t.weights),t.biases)}function M2(e,t,n,r,o){o===void 0&&(o="same");var a=t.conv,i=a.filters,s=a.bias,u=Lo(e,i,n,o);return u=xt(u,s),u=Pae(u,t.scale),r?on(u):u}function jae(e,t){return M2(e,t,[1,1],!0)}function pO(e,t){return M2(e,t,[1,1],!1)}function mO(e,t){return M2(e,t,[2,2],!0,"valid")}function Bae(e,t){function n(s,u,c){var f=e(s),h=f.length/(u*c*c);if(Xoe(h))throw new Error("depth has to be an integer: "+h+", weights.length: "+f.length+", numFilters: "+u+", filterSize: "+c);return Le(function(){return gs(Mr(f,[u,h,c,c]),[2,3,1,0])})}function r(s,u,c,f){var h=n(s,u,c),m=Sn(e(u));return t.push({paramPath:f+"/filters"},{paramPath:f+"/bias"}),{filters:h,bias:m}}function o(s,u){var c=Sn(e(s)),f=Sn(e(s));return t.push({paramPath:u+"/weights"},{paramPath:u+"/biases"}),{weights:c,biases:f}}function a(s,u,c,f){var h=r(s,u,c,f+"/conv"),m=o(u,f+"/scale");return{conv:h,scale:m}}function i(s,u,c,f,h){h===void 0&&(h=!1);var m=a((h?.5:1)*s,u,c,f+"/conv1"),v=a(s,u,c,f+"/conv2");return{conv1:m,conv2:v}}return{extractConvLayerParams:a,extractResidualLayerParams:i}}function Fae(e){var t=_i(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],a=Bae(n,o),i=a.extractConvLayerParams,s=a.extractResidualLayerParams,u=i(4704,32,7,"conv32_down"),c=s(9216,32,3,"conv32_1"),f=s(9216,32,3,"conv32_2"),h=s(9216,32,3,"conv32_3"),m=s(36864,64,3,"conv64_down",!0),v=s(36864,64,3,"conv64_1"),y=s(36864,64,3,"conv64_2"),x=s(36864,64,3,"conv64_3"),w=s(147456,128,3,"conv128_down",!0),S=s(147456,128,3,"conv128_1"),E=s(147456,128,3,"conv128_2"),R=s(589824,256,3,"conv256_down",!0),D=s(589824,256,3,"conv256_1"),A=s(589824,256,3,"conv256_2"),N=s(589824,256,3,"conv256_down_out"),k=Le(function(){return gs(ds(n(256*128),[128,256]),[1,0])});if(o.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var M={conv32_down:u,conv32_1:c,conv32_2:f,conv32_3:h,conv64_down:m,conv64_1:v,conv64_2:y,conv64_3:x,conv128_down:w,conv128_1:S,conv128_2:E,conv256_down:R,conv256_1:D,conv256_2:A,conv256_down_out:N,fc:k};return{params:M,paramMappings:o}}function Lae(e,t){var n=Ss(e,t);function r(i){var s=n(i+"/scale/weights",1),u=n(i+"/scale/biases",1);return{weights:s,biases:u}}function o(i){var s=n(i+"/conv/filters",4),u=n(i+"/conv/bias",1),c=r(i);return{conv:{filters:s,bias:u},scale:c}}function a(i){return{conv1:o(i+"/conv1"),conv2:o(i+"/conv2")}}return{extractConvLayerParams:o,extractResidualLayerParams:a}}function zae(e){var t=[],n=Lae(e,t),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,a=r("conv32_down"),i=o("conv32_1"),s=o("conv32_2"),u=o("conv32_3"),c=o("conv64_down"),f=o("conv64_1"),h=o("conv64_2"),m=o("conv64_3"),v=o("conv128_down"),y=o("conv128_1"),x=o("conv128_2"),w=o("conv256_down"),S=o("conv256_1"),E=o("conv256_2"),R=o("conv256_down_out"),D=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!qoe(D))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+D);var A={conv32_down:a,conv32_1:i,conv32_2:s,conv32_3:u,conv64_down:c,conv64_1:f,conv64_2:h,conv64_3:m,conv128_down:v,conv128_1:y,conv128_2:x,conv256_down:w,conv256_1:S,conv256_2:E,conv256_down_out:R,fc:D};return Ri(e,t),{params:A,paramMappings:t}}function ha(e,t){var n=jae(e,t.conv1);return n=pO(n,t.conv2),n=xt(n,e),n=on(n),n}function Ap(e,t){var n=mO(e,t.conv1);n=pO(n,t.conv2);var r=Uf(e,2,2,"valid"),o=Zt(r.shape),a=r.shape[3]!==n.shape[3],i=r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2];if(i){var s=Fd(n.shape);s[1]=1;var u=Zt(s);n=An([n,u],1);var c=Fd(n.shape);c[2]=1;var f=Zt(c);n=An([n,f],2)}return r=a?An([r,o],3):r,n=xt(r,n),n=on(n),n}var Uae=(function(e){ct(t,e);function t(){return e.call(this,"FaceRecognitionNet")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return Le(function(){var o=n.toBatchTensor(150,!0).toFloat(),a=[122.782,117.001,104.298],i=Hf(o,a).div(Ie(256)),s=mO(i,r.conv32_down);s=Un(s,3,2,"valid"),s=ha(s,r.conv32_1),s=ha(s,r.conv32_2),s=ha(s,r.conv32_3),s=Ap(s,r.conv64_down),s=ha(s,r.conv64_1),s=ha(s,r.conv64_2),s=ha(s,r.conv64_3),s=Ap(s,r.conv128_down),s=ha(s,r.conv128_1),s=ha(s,r.conv128_2),s=Ap(s,r.conv256_down),s=ha(s,r.conv256_1),s=ha(s,r.conv256_2),s=Ap(s,r.conv256_down_out);var u=s.mean([1,2]),c=Kv(u,r.fc);return c})},t.prototype.forward=function(n){return qe(this,void 0,void 0,function(){var r;return Xe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Gn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.computeFaceDescriptor=function(n){return qe(this,void 0,void 0,function(){var r,o,a,i=this;return Xe(this,function(s){switch(s.label){case 0:return[4,Gn(n)];case 1:return r=s.sent(),o=Le(function(){return Nn(i.forwardInput(r))}),[4,Promise.all(o.map(function(u){return u.data()}))];case 2:return a=s.sent(),o.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?a:a[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(n){return zae(n)},t.prototype.extractParams=function(n){return Fae(n)},t})(Ei);function vO(e,t){var n={descriptor:t};return Object.assign({},e,n)}function gO(e,t){var n={age:t};return Object.assign({},e,n)}function yO(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var bO=(function(){function e(t){var n=t===void 0?{}:t,r=n.minFaceSize,o=n.scaleFactor,a=n.maxNumScales,i=n.scoreThresholds,s=n.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=o||.709,this._maxNumScales=a||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(u){return typeof u!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(u){return typeof u!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e})();function Vae(e,t){function n(u,c){var f=Mr(e(9*u),[3,3,u,1]),h=Sn(e(u)),m=Sn(e(u)),v=Sn(e(u)),y=Sn(e(u));return t.push({paramPath:c+"/filters"},{paramPath:c+"/batch_norm_scale"},{paramPath:c+"/batch_norm_offset"},{paramPath:c+"/batch_norm_mean"},{paramPath:c+"/batch_norm_variance"}),{filters:f,batch_norm_scale:h,batch_norm_offset:m,batch_norm_mean:v,batch_norm_variance:y}}function r(u,c,f,h,m){var v=Mr(e(u*c*f*f),[f,f,u,c]),y=Sn(e(c));return t.push({paramPath:h+"/filters"},{paramPath:h+"/"+(m?"batch_norm_offset":"bias")}),{filters:v,bias:y}}function o(u,c,f,h){var m=r(u,c,f,h,!0),v=m.filters,y=m.bias;return{filters:v,batch_norm_offset:y}}function a(u,c,f){var h=n(u,f+"/depthwise_conv"),m=o(u,c,1,f+"/pointwise_conv");return{depthwise_conv:h,pointwise_conv:m}}function i(){var u=o(3,32,3,"mobilenetv1/conv_0"),c=a(32,64,"mobilenetv1/conv_1"),f=a(64,128,"mobilenetv1/conv_2"),h=a(128,128,"mobilenetv1/conv_3"),m=a(128,256,"mobilenetv1/conv_4"),v=a(256,256,"mobilenetv1/conv_5"),y=a(256,512,"mobilenetv1/conv_6"),x=a(512,512,"mobilenetv1/conv_7"),w=a(512,512,"mobilenetv1/conv_8"),S=a(512,512,"mobilenetv1/conv_9"),E=a(512,512,"mobilenetv1/conv_10"),R=a(512,512,"mobilenetv1/conv_11"),D=a(512,1024,"mobilenetv1/conv_12"),A=a(1024,1024,"mobilenetv1/conv_13");return{conv_0:u,conv_1:c,conv_2:f,conv_3:h,conv_4:m,conv_5:v,conv_6:y,conv_7:x,conv_8:w,conv_9:S,conv_10:E,conv_11:R,conv_12:D,conv_13:A}}function s(){var u=o(1024,256,1,"prediction_layer/conv_0"),c=o(256,512,3,"prediction_layer/conv_1"),f=o(512,128,1,"prediction_layer/conv_2"),h=o(128,256,3,"prediction_layer/conv_3"),m=o(256,128,1,"prediction_layer/conv_4"),v=o(128,256,3,"prediction_layer/conv_5"),y=o(256,64,1,"prediction_layer/conv_6"),x=o(64,128,3,"prediction_layer/conv_7"),w=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),S=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),E=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),R=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),D=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),A=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),N=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),k=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),M=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),I=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),O=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),L=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),F={box_encoding_predictor:w,class_predictor:S},X={box_encoding_predictor:E,class_predictor:R},W={box_encoding_predictor:D,class_predictor:A},Y={box_encoding_predictor:N,class_predictor:k},B={box_encoding_predictor:M,class_predictor:I},V={box_encoding_predictor:O,class_predictor:L};return{conv_0:u,conv_1:c,conv_2:f,conv_3:h,conv_4:m,conv_5:v,conv_6:y,conv_7:x,box_predictor_0:F,box_predictor_1:X,box_predictor_2:W,box_predictor_3:Y,box_predictor_4:B,box_predictor_5:V}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:s}}function Hae(e){var t=[],n=_i(e),r=n.extractWeights,o=n.getRemainingWeights,a=Vae(r,t),i=a.extractMobilenetV1Params,s=a.extractPredictionLayerParams,u=i(),c=s(),f=Yw(r(5118*4),[1,5118,4]),h={extra_dim:f};if(t.push({paramPath:"output_layer/extra_dim"}),o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:u,prediction_layer:c,output_layer:h},paramMappings:t}}function Wae(e,t){var n=Ss(e,t);function r(c,f,h){var m=n(c+"/Conv2d_"+f+"_pointwise/weights",4,h+"/filters"),v=n(c+"/Conv2d_"+f+"_pointwise/convolution_bn_offset",1,h+"/batch_norm_offset");return{filters:m,batch_norm_offset:v}}function o(c){var f="mobilenetv1/conv_"+c,h="MobilenetV1/Conv2d_"+c+"_depthwise",m=f+"/depthwise_conv",v=f+"/pointwise_conv",y=n(h+"/depthwise_weights",4,m+"/filters"),x=n(h+"/BatchNorm/gamma",1,m+"/batch_norm_scale"),w=n(h+"/BatchNorm/beta",1,m+"/batch_norm_offset"),S=n(h+"/BatchNorm/moving_mean",1,m+"/batch_norm_mean"),E=n(h+"/BatchNorm/moving_variance",1,m+"/batch_norm_variance");return{depthwise_conv:{filters:y,batch_norm_scale:x,batch_norm_offset:w,batch_norm_mean:S,batch_norm_variance:E},pointwise_conv:r("MobilenetV1",c,v)}}function a(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}}function i(c,f){var h=n(c+"/weights",4,f+"/filters"),m=n(c+"/biases",1,f+"/bias");return{filters:h,bias:m}}function s(c){var f=i("Prediction/BoxPredictor_"+c+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+c+"/box_encoding_predictor"),h=i("Prediction/BoxPredictor_"+c+"/ClassPredictor","prediction_layer/box_predictor_"+c+"/class_predictor");return{box_encoding_predictor:f,class_predictor:h}}function u(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:a,extractPredictionLayerParams:u}}function $ae(e){var t=[],n=Wae(e,t),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,a=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!eg(a))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+a);var i={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:a}};return Ri(e,t),{params:i,paramMappings:t}}function va(e,t,n){return Le(function(){var r=Lo(e,t.filters,n,"same");return r=xt(r,t.batch_norm_offset),i2(r,0,6)})}var Gae=.0010000000474974513;function qae(e,t,n){return Le(function(){var r=Yv(e,t.filters,n,"same");return r=dI(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,Gae),i2(r,0,6)})}function Xae(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}function Yae(e,t){return Le(function(){var n=null,r=va(e,t.conv_0,[2,2]),o=[t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13];if(o.forEach(function(a,i){var s=i+1,u=Xae(s);r=qae(r,a.depthwise_conv,u),r=va(r,a.pointwise_conv,[1,1]),s===11&&(n=r)}),n===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function Kae(e,t,n,r,o){var a=e.shape[0],i=Math.min(n,a),s=t.map(function(f,h){return{score:f,boxIndex:h}}).filter(function(f){return f.score>o}).sort(function(f,h){return h.score-f.score}),u=function(f){return f<=r?1:0},c=[];return s.forEach(function(f){if(!(c.length>=i)){for(var h=f.score,m=c.length-1;m>=0;--m){var v=Qae(e,f.boxIndex,c[m]);if(v!==0&&(f.score*=u(v),f.score<=o))break}h===f.score&&c.push(f.boxIndex)}}),c}function Qae(e,t,n){var r=e.arraySync(),o=Math.min(r[t][0],r[t][2]),a=Math.min(r[t][1],r[t][3]),i=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),u=Math.min(r[n][0],r[n][2]),c=Math.min(r[n][1],r[n][3]),f=Math.max(r[n][0],r[n][2]),h=Math.max(r[n][1],r[n][3]),m=(i-o)*(s-a),v=(f-u)*(h-c);if(m<=0||v<=0)return 0;var y=Math.max(o,u),x=Math.max(a,c),w=Math.min(i,f),S=Math.min(s,h),E=Math.max(w-y,0)*Math.max(S-x,0);return E/(m+v-E)}function Jae(e){var t=Nn(gs(e,[1,0])),n=[In(t[2],t[0]),In(t[3],t[1])],r=[xt(t[0],Ho(n[0],Ie(2))),xt(t[1],Ho(n[1],Ie(2)))];return{sizes:n,centers:r}}function Zae(e,t){var n=Jae(e),r=n.sizes,o=n.centers,a=Nn(gs(t,[1,0])),i=Ho(hr(Fx(Ho(a[2],Ie(5))),r[0]),Ie(2)),s=xt(hr(Ho(a[0],Ie(10)),r[0]),o[0]),u=Ho(hr(Fx(Ho(a[3],Ie(5))),r[1]),Ie(2)),c=xt(hr(Ho(a[1],Ie(10)),r[1]),o[1]);return gs(lo([In(s,i),In(c,u),xt(s,i),xt(c,u)]),[1,0])}function eie(e,t,n){return Le(function(){var r=e.shape[0],o=Zae(qo(Pu(n.extra_dim,[r,1,1]),[-1,4]),qo(e,[-1,4]));o=qo(o,[r,o.shape[0]/r,4]);var a=sI(ka(t,[0,0,1],[-1,-1,-1])),i=ka(a,[0,0,0],[-1,-1,1]);i=qo(i,[r,i.shape[1]]);var s=Nn(o),u=Nn(i);return{boxes:s,scores:u}})}function gu(e,t){return Le(function(){var n=e.shape[0],r=qo(Xo(e,t.box_encoding_predictor),[n,-1,1,4]),o=qo(Xo(e,t.class_predictor),[n,-1,3]);return{boxPredictionEncoding:r,classPrediction:o}})}function tie(e,t,n){return Le(function(){var r=va(e,n.conv_0,[1,1]),o=va(r,n.conv_1,[2,2]),a=va(o,n.conv_2,[1,1]),i=va(a,n.conv_3,[2,2]),s=va(i,n.conv_4,[1,1]),u=va(s,n.conv_5,[2,2]),c=va(u,n.conv_6,[1,1]),f=va(c,n.conv_7,[2,2]),h=gu(t,n.box_predictor_0),m=gu(e,n.box_predictor_1),v=gu(o,n.box_predictor_2),y=gu(i,n.box_predictor_3),x=gu(u,n.box_predictor_4),w=gu(f,n.box_predictor_5),S=An([h.boxPredictionEncoding,m.boxPredictionEncoding,v.boxPredictionEncoding,y.boxPredictionEncoding,x.boxPredictionEncoding,w.boxPredictionEncoding],1),E=An([h.classPrediction,m.classPrediction,v.classPrediction,y.classPrediction,x.classPrediction,w.classPrediction],1);return{boxPredictions:S,classPredictions:E}})}var ag=(function(){function e(t){var n=t===void 0?{}:t,r=n.minConfidence,o=n.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=o||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e})(),xO=(function(e){ct(t,e);function t(){return e.call(this,"SsdMobilenetv1")||this}return t.prototype.forwardInput=function(n){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return Le(function(){var o=n.toBatchTensor(512,!1).toFloat(),a=In(hr(o,Ie(.007843137718737125)),Ie(1)),i=Yae(a,r.mobilenetv1),s=tie(i.out,i.conv11,r.prediction_layer),u=s.boxPredictions,c=s.classPredictions;return eie(u,c,r.output_layer)})},t.prototype.forward=function(n){return qe(this,void 0,void 0,function(){var r;return Xe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Gn(n)];case 1:return[2,r.apply(this,[o.sent()])]}})})},t.prototype.locateFaces=function(n,r){return r===void 0&&(r={}),qe(this,void 0,void 0,function(){var o,a,i,s,u,c,f,h,m,v,y,x,w,S,E,R,D,A,N,k,M;return Xe(this,function(I){switch(I.label){case 0:return o=new ag(r),a=o.maxResults,i=o.minConfidence,[4,Gn(n)];case 1:for(s=I.sent(),u=this.forwardInput(s),c=u.boxes,f=u.scores,h=c[0],m=f[0],v=1;v<c.length;v++)c[v].dispose(),f[v].dispose();return w=(x=Array).from,[4,m.data()];case 2:return y=w.apply(x,[I.sent()]),S=.5,E=Kae(h,y,a,S,i),R=s.getReshapedInputDimensions(0),D=s.inputSize,A=D/R.width,N=D/R.height,k=h.arraySync(),M=E.map(function(O){var L=[Math.max(0,k[O][0]),Math.min(1,k[O][2])].map(function(V){return V*N}),F=L[0],X=L[1],W=[Math.max(0,k[O][1]),Math.min(1,k[O][3])].map(function(V){return V*A}),Y=W[0],B=W[1];return new fo(y[O],new C2(Y,F,B-Y,X-F),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),h.dispose(),m.dispose(),[2,M]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(n){return $ae(n)},t.prototype.extractParams=function(n){return Hae(n)},t})(Ei);(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(xO);var nie=.4,rie=[new Bt(.738768,.874946),new Bt(2.42204,2.65704),new Bt(4.30971,7.04493),new Bt(10.246,4.59428),new Bt(12.6868,11.8741)],oie=[new Bt(1.603231,2.094468),new Bt(6.041143,7.080126),new Bt(2.882459,3.518061),new Bt(4.266906,5.178857),new Bt(9.041765,10.66308)],aie=[117.001,114.697,97.404],iie="tiny_yolov2_model",sie="tiny_yolov2_separable_conv_model",Np=function(e){return typeof e=="number"};function lie(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!Np(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(t){return typeof t=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(t){return t||{}}).every(function(t){return Np(t.x)&&Np(t.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(Np)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function I2(e){return Le(function(){var t=hr(e,Ie(.10000000149011612));return xt(on(In(e,t)),t)})}function Zi(e,t){return Le(function(){var n=yl(e,[[0,0],[1,1],[1,1],[0,0]]);return n=Lo(n,t.conv.filters,[1,1],"valid"),n=In(n,t.bn.sub),n=hr(n,t.bn.truediv),n=xt(n,t.conv.bias),I2(n)})}function es(e,t){return Le(function(){var n=yl(e,[[0,0],[1,1],[1,1],[0,0]]);return n=c2(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),n=xt(n,t.bias),I2(n)})}function uie(e,t){var n=rg(e,t);function r(i,s){var u=Sn(e(i)),c=Sn(e(i));return t.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:u,truediv:c}}function o(i,s,u){var c=n(i,s,3,u+"/conv"),f=r(s,u+"/bn");return{conv:c,bn:f}}var a=N2(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:o,extractSeparableConvParams:a}}function cie(e,t,n,r){var o=_i(e),a=o.extractWeights,i=o.getRemainingWeights,s=[],u=uie(a,s),c=u.extractConvParams,f=u.extractConvWithBatchNormParams,h=u.extractSeparableConvParams,m;if(t.withSeparableConvs){var v=r[0],y=r[1],x=r[2],w=r[3],S=r[4],E=r[5],R=r[6],D=r[7],A=r[8],N=t.isFirstLayerConv2d?c(v,y,3,"conv0"):h(v,y,"conv0"),k=h(y,x,"conv1"),M=h(x,w,"conv2"),I=h(w,S,"conv3"),O=h(S,E,"conv4"),L=h(E,R,"conv5"),F=D?h(R,D,"conv6"):void 0,X=A?h(D,A,"conv7"):void 0,W=c(A||D||R,5*n,1,"conv8");m={conv0:N,conv1:k,conv2:M,conv3:I,conv4:O,conv5:L,conv6:F,conv7:X,conv8:W}}else{var v=r[0],y=r[1],x=r[2],w=r[3],S=r[4],E=r[5],R=r[6],D=r[7],A=r[8],N=f(v,y,"conv0"),k=f(y,x,"conv1"),M=f(x,w,"conv2"),I=f(w,S,"conv3"),O=f(S,E,"conv4"),L=f(E,R,"conv5"),F=f(R,D,"conv6"),X=f(D,A,"conv7"),W=c(A,5*n,1,"conv8");m={conv0:N,conv1:k,conv2:M,conv3:I,conv4:O,conv5:L,conv6:F,conv7:X,conv8:W}}if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{params:m,paramMappings:s}}function die(e,t){var n=Ss(e,t);function r(s){var u=n(s+"/sub",1),c=n(s+"/truediv",1);return{sub:u,truediv:c}}function o(s){var u=n(s+"/filters",4),c=n(s+"/bias",1);return{filters:u,bias:c}}function a(s){var u=o(s+"/conv"),c=r(s+"/bn");return{conv:u,bn:c}}var i=k2(n);return{extractConvParams:o,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}}function fie(e,t){var n=[],r=die(e,n),o=r.extractConvParams,a=r.extractConvWithBatchNormParams,i=r.extractSeparableConvParams,s;if(t.withSeparableConvs){var u=t.filterSizes&&t.filterSizes.length||9;s={conv0:t.isFirstLayerConv2d?o("conv0"):i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:u>7?i("conv6"):void 0,conv7:u>8?i("conv7"):void 0,conv8:o("conv8")}}else s={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:o("conv8")};return Ri(e,n),{params:s,paramMappings:n}}var dA;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(dA||(dA={}));var O2=(function(){function e(t){var n=t===void 0?{}:t,r=n.inputSize,o=n.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=o||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e})(),wO=(function(e){ct(t,e);function t(n){var r=e.call(this,"TinyYolov2")||this;return lie(n),r._config=n,r}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(n,r){var o=Zi(n,r.conv0);return o=Un(o,[2,2],[2,2],"same"),o=Zi(o,r.conv1),o=Un(o,[2,2],[2,2],"same"),o=Zi(o,r.conv2),o=Un(o,[2,2],[2,2],"same"),o=Zi(o,r.conv3),o=Un(o,[2,2],[2,2],"same"),o=Zi(o,r.conv4),o=Un(o,[2,2],[2,2],"same"),o=Zi(o,r.conv5),o=Un(o,[2,2],[1,1],"same"),o=Zi(o,r.conv6),o=Zi(o,r.conv7),Xo(o,r.conv8,"valid",!1)},t.prototype.runMobilenet=function(n,r){var o=this.config.isFirstLayerConv2d?I2(Xo(n,r.conv0,"valid",!1)):es(n,r.conv0);return o=Un(o,[2,2],[2,2],"same"),o=es(o,r.conv1),o=Un(o,[2,2],[2,2],"same"),o=es(o,r.conv2),o=Un(o,[2,2],[2,2],"same"),o=es(o,r.conv3),o=Un(o,[2,2],[2,2],"same"),o=es(o,r.conv4),o=Un(o,[2,2],[2,2],"same"),o=es(o,r.conv5),o=Un(o,[2,2],[1,1],"same"),o=r.conv6?es(o,r.conv6):o,o=r.conv7?es(o,r.conv7):o,Xo(o,r.conv8,"valid",!1)},t.prototype.forwardInput=function(n,r){var o=this,a=this.params;if(!a)throw new Error("TinyYolov2 - load model before inference");return Le(function(){var i=n.toBatchTensor(r,!1).toFloat();return i=o.config.meanRgb?Hf(i,o.config.meanRgb):i,i=i.div(Ie(256)),o.config.withSeparableConvs?o.runMobilenet(i,a):o.runTinyYolov2(i,a)})},t.prototype.forward=function(n,r){return qe(this,void 0,void 0,function(){var o;return Xe(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Gn(n)];case 1:return[4,o.apply(this,[a.sent(),r])];case 2:return[2,a.sent()]}})})},t.prototype.detect=function(n,r){return r===void 0&&(r={}),qe(this,void 0,void 0,function(){var o,a,i,s,u,c,f,h,m,v,y,x,w,S,E=this;return Xe(this,function(R){switch(R.label){case 0:return o=new O2(r),a=o.inputSize,i=o.scoreThreshold,[4,Gn(n)];case 1:return s=R.sent(),[4,this.forwardInput(s,a)];case 2:return u=R.sent(),c=Le(function(){return Nn(u)[0].expandDims()}),f={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(c,s.getReshapedInputDimensions(0),i)];case 3:return h=R.sent(),u.dispose(),c.dispose(),m=h.map(function(D){return D.box}),v=h.map(function(D){return D.score}),y=h.map(function(D){return D.classScore}),x=h.map(function(D){return E.config.classes[D.label]}),w=ff(m.map(function(D){return D.rescale(a)}),v,this.config.iouThreshold,!0),S=w.map(function(D){return new GI(v[D],y[D],x[D],m[D],f)}),[2,S]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(n){return fie(n,this.config)},t.prototype.extractParams=function(n){var r=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,o=r?r.length:void 0;if(o!==7&&o!==8&&o!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+o+" filterSizes in config");return cie(n,this.config,this.boxEncodingSize,r)},t.prototype.extractBoxes=function(n,r,o){return qe(this,void 0,void 0,function(){var a,i,s,u,c,f,h,m,v,y,x,w,S,E,R,D,A,N,k,M,I,O,L,F,X,W,Y,B,V,U=this;return Xe(this,function($){switch($.label){case 0:return a=r.width,i=r.height,s=Math.max(a,i),u=s/a,c=s/i,f=n.shape[1],h=this.config.anchors.length,m=Le(function(){var j=n.reshape([f,f,h,U.boxEncodingSize]),G=j.slice([0,0,0,0],[f,f,h,4]),Q=j.slice([0,0,0,4],[f,f,h,1]),te=U.withClassScores?Si(j.slice([0,0,0,5],[f,f,h,U.config.classes.length]),3):Ie(0);return[G,Q,te]}),v=m[0],y=m[1],x=m[2],w=[],[4,y.array()];case 1:return S=$.sent(),[4,v.array()];case 2:E=$.sent(),R=0,$.label=3;case 3:if(!(R<f))return[3,12];D=0,$.label=4;case 4:if(!(D<f))return[3,11];A=0,$.label=5;case 5:return A<h?(N=M0(S[R][D][A][0]),!o||N>o?(k=(D+M0(E[R][D][A][0]))/f*u,M=(R+M0(E[R][D][A][1]))/f*c,I=Math.exp(E[R][D][A][2])*this.config.anchors[A].x/f*u,O=Math.exp(E[R][D][A][3])*this.config.anchors[A].y/f*c,L=k-I/2,F=M-O/2,X={row:R,col:D,anchor:A},this.withClassScores?[4,this.extractPredictedClass(x,X)]:[3,7]):[3,9]):[3,10];case 6:return V=$.sent(),[3,8];case 7:V={classScore:1,label:0},$.label=8;case 8:W=V,Y=W.classScore,B=W.label,w.push(lr({box:new tg(L,F,L+I,F+O),score:N,classScore:N*Y,label:B},X)),$.label=9;case 9:return A++,[3,5];case 10:return D++,[3,4];case 11:return R++,[3,3];case 12:return v.dispose(),y.dispose(),x.dispose(),[2,w]}})})},t.prototype.extractPredictedClass=function(n,r){return qe(this,void 0,void 0,function(){var o,a,i,s;return Xe(this,function(u){switch(u.label){case 0:return o=r.row,a=r.col,i=r.anchor,[4,n.array()];case 1:return s=u.sent(),[2,Array(this.config.classes.length).fill(0).map(function(c,f){return s[o][a][i][f]}).map(function(c,f){return{classScore:c,label:f}}).reduce(function(c,f){return c.classScore>f.classScore?c:f})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t})(Ei),hie=(function(e){ct(t,e);function t(n){n===void 0&&(n=!0);var r=this,o=Object.assign({},{withSeparableConvs:n,iouThreshold:nie,classes:["face"]},n?{anchors:oie,meanRgb:aie}:{anchors:rie,withClassScores:!0});return r=e.call(this,o)||this,r}return Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return qe(this,void 0,void 0,function(){var o;return Xe(this,function(a){switch(a.label){case 0:return[4,this.detect(n,r)];case 1:return o=a.sent(),[2,o.map(function(i){return new fo(i.score,i.relativeBox,{width:i.imageWidth,height:i.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?sie:iie},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t})(wO),SO=(function(e){ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._name="TinyFaceDetectorOptions",n}return t})(O2),Wf=(function(){function e(){}return e.prototype.then=function(t){return qe(this,void 0,void 0,function(){var n;return Xe(this,function(r){switch(r.label){case 0:return n=t,[4,this.run()];case 1:return[2,n.apply(void 0,[r.sent()])]}})})},e.prototype.run=function(){return qe(this,void 0,void 0,function(){return Xe(this,function(t){throw new Error("ComposableTask - run is not implemented")})})},e})();function ig(e,t,n,r,o){return o===void 0&&(o=function(a){var i=a.alignedRect;return i}),qe(this,void 0,void 0,function(){var a,i,s,u,c;return Xe(this,function(f){switch(f.label){case 0:return a=e.map(function(h){return cO(h)?o(h):h.detection}),s=r,s?[3,5]:t instanceof rn?[4,D2(t,a)]:[3,2];case 1:return u=f.sent(),[3,4];case 2:return[4,T2(t,a)];case 3:u=f.sent(),f.label=4;case 4:s=u,f.label=5;case 5:return i=s,[4,n(i)];case 6:return c=f.sent(),i.forEach(function(h){return h instanceof rn&&h.dispose()}),[2,c]}})})}function P2(e,t,n,r,o){return qe(this,void 0,void 0,function(){var a=this;return Xe(this,function(i){return[2,ig([e],t,function(s){return qe(a,void 0,void 0,function(){return Xe(this,function(u){return[2,n(s[0])]})})},r,o)]})})}function pie(e){return Le(function(){return lo(Nn(e,3).reverse(),3)})}var kp=2,Fm=12;function mie(e,t){var n=rg(e,t),r=A2(e,t);function o(c,f){var h=Sn(e(c));return t.push({paramPath:f}),h}function a(c,f,h){h===void 0&&(h=!1);var m=n(c[0],c[1],3,f+"/conv1"),v=o(c[1],f+"/prelu1_alpha"),y=n(c[1],c[2],3,f+"/conv2"),x=o(c[2],f+"/prelu2_alpha"),w=n(c[2],c[3],h?2:3,f+"/conv3"),S=o(c[3],f+"/prelu3_alpha");return{conv1:m,prelu1_alpha:v,conv2:y,prelu2_alpha:x,conv3:w,prelu3_alpha:S}}function i(){var c=a([3,10,16,32],"pnet"),f=n(32,2,1,"pnet/conv4_1"),h=n(32,4,1,"pnet/conv4_2");return lr(lr({},c),{conv4_1:f,conv4_2:h})}function s(){var c=a([3,28,48,64],"rnet",!0),f=r(576,128,"rnet/fc1"),h=o(128,"rnet/prelu4_alpha"),m=r(128,2,"rnet/fc2_1"),v=r(128,4,"rnet/fc2_2");return lr(lr({},c),{fc1:f,prelu4_alpha:h,fc2_1:m,fc2_2:v})}function u(){var c=a([3,32,64,64],"onet"),f=n(64,128,2,"onet/conv4"),h=o(128,"onet/prelu4_alpha"),m=r(1152,256,"onet/fc1"),v=o(256,"onet/prelu5_alpha"),y=r(256,2,"onet/fc2_1"),x=r(256,4,"onet/fc2_2"),w=r(256,10,"onet/fc2_3");return lr(lr({},c),{conv4:f,prelu4_alpha:h,fc1:m,prelu5_alpha:v,fc2_1:y,fc2_2:x,fc2_3:w})}return{extractPNetParams:i,extractRNetParams:s,extractONetParams:u}}function vie(e){var t=_i(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],a=mie(n,o),i=a.extractPNetParams,s=a.extractRNetParams,u=a.extractONetParams,c=i(),f=s(),h=u();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:c,rnet:f,onet:h},paramMappings:o}}function gie(e,t){var n=Ss(e,t);function r(f){var h=n(f+"/weights",4,f+"/filters"),m=n(f+"/bias",1);return{filters:h,bias:m}}function o(f){var h=n(f+"/weights",2),m=n(f+"/bias",1);return{weights:h,bias:m}}function a(f){return n(f,1)}function i(f){var h=r(f+"/conv1"),m=a(f+"/prelu1_alpha"),v=r(f+"/conv2"),y=a(f+"/prelu2_alpha"),x=r(f+"/conv3"),w=a(f+"/prelu3_alpha");return{conv1:h,prelu1_alpha:m,conv2:v,prelu2_alpha:y,conv3:x,prelu3_alpha:w}}function s(){var f=i("pnet"),h=r("pnet/conv4_1"),m=r("pnet/conv4_2");return lr(lr({},f),{conv4_1:h,conv4_2:m})}function u(){var f=i("rnet"),h=o("rnet/fc1"),m=a("rnet/prelu4_alpha"),v=o("rnet/fc2_1"),y=o("rnet/fc2_2");return lr(lr({},f),{fc1:h,prelu4_alpha:m,fc2_1:v,fc2_2:y})}function c(){var f=i("onet"),h=r("onet/conv4"),m=a("onet/prelu4_alpha"),v=o("onet/fc1"),y=a("onet/prelu5_alpha"),x=o("onet/fc2_1"),w=o("onet/fc2_2"),S=o("onet/fc2_3");return lr(lr({},f),{conv4:h,prelu4_alpha:m,fc1:v,prelu5_alpha:y,fc2_1:x,fc2_2:w,fc2_3:S})}return{extractPNetParams:s,extractRNetParams:u,extractONetParams:c}}function yie(e){var t=[],n=gie(e,t),r=n.extractPNetParams,o=n.extractRNetParams,a=n.extractONetParams,i=r(),s=o(),u=a();return Ri(e,t),{params:{pnet:i,rnet:s,onet:u},paramMappings:t}}function Gx(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}function bie(e,t,n){for(var r=n[0],o=n[1],a=Fm/e,i=[],s=Math.min(r,o)*a,u=0;s>=12;)i.push(a*Math.pow(t,u)),s=s*t,u+=1;return i}var j2=(function(e){ct(t,e);function t(n,r,o,a){return e.call(this,{left:n,top:r,right:o,bottom:a},!0)||this}return t})(Ma);function CO(e){return Le(function(){return hr(In(e,Ie(127.5)),Ie(.0078125))})}function zu(e,t){return Le(function(){return xt(on(e),hr(t,km(on(km(e)))))})}function B2(e,t,n){return n===void 0&&(n=!1),Le(function(){var r=Xo(e,t.conv1,"valid");return r=zu(r,t.prelu1_alpha),r=Un(r,n?[2,2]:[3,3],[2,2],"same"),r=Xo(r,t.conv2,"valid"),r=zu(r,t.prelu2_alpha),r=n?r:Un(r,[3,3],[2,2],"valid"),r=Xo(r,t.conv3,"valid"),r=zu(r,t.prelu3_alpha),r})}function xie(e,t){return Le(function(){var n=B2(e,t,!0),r=Xo(n,t.conv4_1,"valid"),o=To(Qv(r,3),3),a=Si(In(r,o),3),i=Xo(n,t.conv4_2,"valid");return{prob:a,regions:i}})}function wie(e,t){return Le(function(){var n=Gx(t,e.shape.slice(1)),r=n.height,o=n.width,a=m2.resizeBilinear(e,[r,o]),i=CO(a);return gs(i,[0,2,1,3])})}function Sie(e,t,n,r){for(var o=[],a=e.arraySync(),i=0;i<e.shape[0];i++)for(var s=0;s<e.shape[1];s++)a[i][s]>=r&&o.push(new Bt(s,i));var u=o.map(function(c){var f=new tg(Math.round((c.y*kp+1)/n),Math.round((c.x*kp+1)/n),Math.round((c.y*kp+Fm)/n),Math.round((c.x*kp+Fm)/n)),h=a[c.y][c.x],m=t.arraySync(),v=new j2(m[c.y][c.x][0],m[c.y][c.x][1],m[c.y][c.x][2],m[c.y][c.x][3]);return{cell:f,score:h,region:v}});return u}function Cie(e,t,n,r,o){o.stage1=[];var a=t.map(function(m){return Le(function(){var v={scale:m},y=wie(e,m),x=Date.now(),w=xie(y,r),S=w.prob,E=w.regions;v.pnet=Date.now()-x;var R=Nn(Nn(S,3)[1])[0],D=Nn(E)[0];return{scoresTensor:R,regionsTensor:D,scale:m,statsForScale:v}})}),i=a.map(function(m){var v=m.scoresTensor,y=m.regionsTensor,x=m.scale,w=m.statsForScale,S=Sie(v,y,x,n);if(v.dispose(),y.dispose(),!S.length)return o.stage1.push(w),[];var E=Date.now(),R=ff(S.map(function(D){return D.cell}),S.map(function(D){return D.score}),.5);return w.nms=Date.now()-E,w.numBoxes=R.length,o.stage1.push(w),R.map(function(D){return S[D]})}),s=i.reduce(function(m,v){return m.concat(v)},[]),u=[],c=[];if(s.length>0){var f=Date.now(),h=ff(s.map(function(m){return m.cell}),s.map(function(m){return m.score}),.7);o.stage1_nms=Date.now()-f,c=h.map(function(m){return s[m].score}),u=h.map(function(m){return s[m]}).map(function(m){var v=m.cell,y=m.region;return new tg(v.left+y.left*v.width,v.top+y.top*v.height,v.right+y.right*v.width,v.bottom+y.bottom*v.height).toSquare().round()})}return{boxes:u,scores:c}}function EO(e,t,n){var r=n.width,o=n.height;return qe(this,void 0,void 0,function(){var a,i,s,u=this;return Xe(this,function(c){switch(c.label){case 0:return a=pi(e),[4,Promise.all(t.map(function(f){return qe(u,void 0,void 0,function(){var h,m,v,y,x,w,S,E;return Xe(this,function(R){return h=f.padAtBorders(e.height,e.width),m=h.y,v=h.ey,y=h.x,x=h.ex,w=y-1,S=m-1,E=a.getImageData(w,S,x-w,v-S),[2,mr.isNodejs()?_2(E):createImageBitmap(E)]})})}))];case 1:return i=c.sent(),s=[],i.forEach(function(f){var h=ng({width:r,height:o}),m=pi(h);m.drawImage(f,0,0,r,o);for(var v=m.getImageData(0,0,r,o).data,y=[],x=0;x<v.length;x+=4)y.push(v[x+2]),y.push(v[x+1]),y.push(v[x]);s.push(y)}),[2,s.map(function(f){var h=Le(function(){var m=gs(Mr(f,[1,r,o,3]),[0,2,1,3]).toFloat();return CO(m)});return h})]}})})}function Eie(e,t){return Le(function(){var n=B2(e,t),r=qo(n,[n.shape[0],t.fc1.weights.shape[0]]),o=wa(r,t.fc1),a=zu(o,t.prelu4_alpha),i=wa(a,t.fc2_1),s=To(Qv(i,1),1),u=Si(In(i,s),1),c=wa(a,t.fc2_2),f=Nn(u,1)[1];return{scores:f,regions:c}})}function Rie(e,t,n,r,o){return qe(this,void 0,void 0,function(){var a,i,s,u,c,f,h,m,v,y,x,w,S,E;return Xe(this,function(R){switch(R.label){case 0:return a=Date.now(),[4,EO(e,t,{width:24,height:24})];case 1:return i=R.sent(),o.stage2_extractImagePatches=Date.now()-a,a=Date.now(),s=i.map(function(D){var A=Eie(D,r);return D.dispose(),A}),o.stage2_rnet=Date.now()-a,u=s.length>1?An(s.map(function(D){return D.scores})):s[0].scores,h=(f=Array).from,[4,u.data()];case 2:return c=h.apply(f,[R.sent()]),u.dispose(),m=c.map(function(D,A){return{score:D,idx:A}}).filter(function(D){return D.score>n}).map(function(D){var A=D.idx;return A}),v=m.map(function(D){return t[D]}),y=m.map(function(D){return c[D]}),x=[],w=[],v.length>0&&(a=Date.now(),S=ff(v,y,.7),o.stage2_nms=Date.now()-a,E=S.map(function(D){var A=s[m[D]].regions.arraySync();return new j2(A[0][0],A[0][1],A[0][2],A[0][3])}),w=S.map(function(D){return y[D]}),x=S.map(function(D,A){return v[D].calibrate(E[A])})),s.forEach(function(D){D.regions.dispose(),D.scores.dispose()}),[2,{boxes:x,scores:w}]}})})}function _ie(e,t){return Le(function(){var n=B2(e,t);n=Un(n,[2,2],[2,2],"same"),n=Xo(n,t.conv4,"valid"),n=zu(n,t.prelu4_alpha);var r=qo(n,[n.shape[0],t.fc1.weights.shape[0]]),o=wa(r,t.fc1),a=zu(o,t.prelu5_alpha),i=wa(a,t.fc2_1),s=To(Qv(i,1),1),u=Si(In(i,s),1),c=wa(a,t.fc2_2),f=wa(a,t.fc2_3),h=Nn(u,1)[1];return{scores:h,regions:c,points:f}})}function Tie(e,t,n,r,o){return qe(this,void 0,void 0,function(){var a,i,s,u,c,f,h,m,v,y,x,w,S,E,R;return Xe(this,function(D){switch(D.label){case 0:return a=Date.now(),[4,EO(e,t,{width:48,height:48})];case 1:return i=D.sent(),o.stage3_extractImagePatches=Date.now()-a,a=Date.now(),s=i.map(function(A){var N=_ie(A,r);return A.dispose(),N}),o.stage3_onet=Date.now()-a,u=s.length>1?An(s.map(function(A){return A.scores})):s[0].scores,h=(f=Array).from,[4,u.data()];case 2:return c=h.apply(f,[D.sent()]),u.dispose(),m=c.map(function(A,N){return{score:A,idx:N}}).filter(function(A){return A.score>n}).map(function(A){var N=A.idx;return N}),v=m.map(function(A){var N=s[A].regions.arraySync();return new j2(N[0][0],N[0][1],N[0][2],N[0][3])}),y=m.map(function(A,N){return t[A].calibrate(v[N])}),x=m.map(function(A){return c[A]}),w=[],S=[],E=[],y.length>0&&(a=Date.now(),R=ff(y,x,.7,!1),o.stage3_nms=Date.now()-a,w=R.map(function(A){return y[A]}),S=R.map(function(A){return x[A]}),E=R.map(function(A,N){return Array(5).fill(0).map(function(k,M){var I=s[A].points.arraySync();return new Bt(I[0][M]*(w[N].width+1)+w[N].left,I[0][M+5]*(w[N].height+1)+w[N].top)})})),s.forEach(function(A){A.regions.dispose(),A.scores.dispose(),A.points.dispose()}),[2,{boxes:w,scores:S,points:E}]}})})}var Die=(function(e){ct(t,e);function t(){return e.call(this,"Mtcnn")||this}return t.prototype.load=function(n){return qe(this,void 0,void 0,function(){return Xe(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,n)]})})},t.prototype.loadFromDisk=function(n){return qe(this,void 0,void 0,function(){return Xe(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,n)]})})},t.prototype.forwardInput=function(n,r){return r===void 0&&(r={}),qe(this,void 0,void 0,function(){var o,a,i,s,u,c,f,h,m,v,y,x,w,S,E,R,D,A,N,k,M;return Xe(this,function(I){switch(I.label){case 0:if(o=this.params,!o)throw new Error("Mtcnn - load model before inference");if(a=n.canvases[0],!a)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return i={},s=Date.now(),u=Le(function(){return pie(To(w2.fromPixels(a)).toFloat())}),c=function(O){return u.dispose(),i.total=Date.now()-s,O},f=u.shape.slice(1),h=f[0],m=f[1],v=new bO(r),y=v.minFaceSize,x=v.scaleFactor,w=v.maxNumScales,S=v.scoreThresholds,E=v.scaleSteps,R=(E||bie(y,x,[h,m])).filter(function(O){var L=Gx(O,[h,m]);return Math.min(L.width,L.height)>Fm}).slice(0,w),i.scales=R,i.pyramid=R.map(function(O){return Gx(O,[h,m])}),D=Date.now(),[4,Cie(u,R,S[0],o.pnet,i)];case 1:return A=I.sent(),i.total_stage1=Date.now()-D,A.boxes.length?(i.stage2_numInputBoxes=A.boxes.length,D=Date.now(),[4,Rie(a,A.boxes,S[1],o.rnet,i)]):[2,c({results:[],stats:i})];case 2:return N=I.sent(),i.total_stage2=Date.now()-D,N.boxes.length?(i.stage3_numInputBoxes=N.boxes.length,D=Date.now(),[4,Tie(a,N.boxes,S[2],o.onet,i)]):[2,c({results:[],stats:i})];case 3:return k=I.sent(),i.total_stage3=Date.now()-D,M=k.boxes.map(function(O,L){return og(pf({},new fo(k.scores[L],new C2(O.left/m,O.top/h,O.width/m,O.height/h),{height:h,width:m})),new nae(k.points[L].map(function(F){return F.sub(new Bt(O.left,O.top)).div(new Bt(O.width,O.height))}),{width:O.width,height:O.height}))}),[2,c({results:M,stats:i})]}})})},t.prototype.forward=function(n,r){return r===void 0&&(r={}),qe(this,void 0,void 0,function(){var o;return Xe(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Gn(n)];case 1:return[4,o.apply(this,[a.sent(),r])];case 2:return[2,a.sent().results]}})})},t.prototype.forwardWithStats=function(n,r){return r===void 0&&(r={}),qe(this,void 0,void 0,function(){var o;return Xe(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Gn(n)];case 1:return[2,o.apply(this,[a.sent(),r])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(n){return yie(n)},t.prototype.extractParams=function(n){return vie(n)},t})(Ei),Aie=.4,Nie=[new Bt(1.603231,2.094468),new Bt(6.041143,7.080126),new Bt(2.882459,3.518061),new Bt(4.266906,5.178857),new Bt(9.041765,10.66308)],kie=[117.001,114.697,97.404],Mie=(function(e){ct(t,e);function t(){var n=this,r={withSeparableConvs:!0,iouThreshold:Aie,classes:["face"],anchors:Nie,meanRgb:kie,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return n=e.call(this,r)||this,n}return Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(n,r){return qe(this,void 0,void 0,function(){var o;return Xe(this,function(a){switch(a.label){case 0:return[4,this.detect(n,r)];case 1:return o=a.sent(),[2,o.map(function(i){return new fo(i.score,i.relativeBox,{width:i.imageWidth,height:i.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(n){return e.prototype.extractParamsFromWeigthMap.call(this,n)},t})(wO),Cr={ssdMobilenetv1:new xO,tinyFaceDetector:new Mie,tinyYolov2:new hie,mtcnn:new Die,faceLandmark68Net:new hO,faceLandmark68TinyNet:new Oae,faceRecognitionNet:new Uae,faceExpressionNet:new wae,ageGenderNet:new Nae},RO=(function(e){ct(t,e);function t(n,r,o){var a=e.call(this)||this;return a.parentTask=n,a.input=r,a.extractedFaces=o,a}return t})(Wf),F2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r,o=this;return Xe(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,ig(n,this.input,function(i){return qe(o,void 0,void 0,function(){return Xe(this,function(s){switch(s.label){case 0:return[4,Promise.all(i.map(function(u){return Cr.faceExpressionNet.predictExpressions(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=a.sent(),[2,n.map(function(i,s){return uO(i,r[s])})]}})})},t.prototype.withAgeAndGender=function(){return new V2(this,this.input)},t})(RO),L2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r;return Xe(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),n?[4,P2(n,this.input,function(a){return Cr.faceExpressionNet.predictExpressions(a)},this.extractedFaces)]:[2];case 2:return r=o.sent(),[2,uO(n,r)]}})})},t.prototype.withAgeAndGender=function(){return new H2(this,this.input)},t})(RO),z2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new W2(this,this.input)},t.prototype.withFaceDescriptors=function(){return new G2(this,this.input)},t})(F2),U2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new $2(this,this.input)},t.prototype.withFaceDescriptor=function(){return new q2(this,this.input)},t})(L2),_O=(function(e){ct(t,e);function t(n,r,o){var a=e.call(this)||this;return a.parentTask=n,a.input=r,a.extractedFaces=o,a}return t})(Wf),V2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r,o=this;return Xe(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return n=a.sent(),[4,ig(n,this.input,function(i){return qe(o,void 0,void 0,function(){return Xe(this,function(s){switch(s.label){case 0:return[4,Promise.all(i.map(function(u){return Cr.ageGenderNet.predictAgeAndGender(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=a.sent(),[2,n.map(function(i,s){var u=r[s],c=u.age,f=u.gender,h=u.genderProbability;return gO(yO(i,f,h),c)})]}})})},t.prototype.withFaceExpressions=function(){return new F2(this,this.input)},t})(_O),H2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r,o,a,i;return Xe(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?[4,P2(n,this.input,function(u){return Cr.ageGenderNet.predictAgeAndGender(u)},this.extractedFaces)]:[2];case 2:return r=s.sent(),o=r.age,a=r.gender,i=r.genderProbability,[2,gO(yO(n,a,i),o)]}})})},t.prototype.withFaceExpressions=function(){return new L2(this,this.input)},t})(_O),W2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new z2(this,this.input)},t.prototype.withFaceDescriptors=function(){return new G2(this,this.input)},t})(V2),$2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new U2(this,this.input)},t.prototype.withFaceDescriptor=function(){return new q2(this,this.input)},t})(H2),TO=(function(e){ct(t,e);function t(n,r){var o=e.call(this)||this;return o.parentTask=n,o.input=r,o}return t})(Wf),G2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r;return Xe(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),[4,ig(n,this.input,function(a){return Promise.all(a.map(function(i){return Cr.faceRecognitionNet.computeFaceDescriptor(i)}))},null,function(a){return a.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=o.sent(),[2,r.map(function(a,i){return vO(n[i],a)})]}})})},t.prototype.withFaceExpressions=function(){return new z2(this,this.input)},t.prototype.withAgeAndGender=function(){return new W2(this,this.input)},t})(TO),q2=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r;return Xe(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return n=o.sent(),n?[4,P2(n,this.input,function(a){return Cr.faceRecognitionNet.computeFaceDescriptor(a)},null,function(a){return a.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=o.sent(),[2,vO(n,r)]}})})},t.prototype.withFaceExpressions=function(){return new U2(this,this.input)},t.prototype.withAgeAndGender=function(){return new $2(this,this.input)},t})(TO),DO=(function(e){ct(t,e);function t(n,r,o){var a=e.call(this)||this;return a.parentTask=n,a.input=r,a.useTinyLandmarkNet=o,a}return Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Cr.faceLandmark68TinyNet:Cr.faceLandmark68Net},enumerable:!0,configurable:!0}),t})(Wf),Iie=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r,o,a,i,s=this;return Xe(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return n=u.sent(),r=n.map(function(c){return c.detection}),this.input instanceof rn?[4,D2(this.input,r)]:[3,3];case 2:return a=u.sent(),[3,5];case 3:return[4,T2(this.input,r)];case 4:a=u.sent(),u.label=5;case 5:return o=a,[4,Promise.all(o.map(function(c){return s.landmarkNet.detectLandmarks(c)}))];case 6:return i=u.sent(),o.forEach(function(c){return c instanceof rn&&c.dispose()}),[2,n.map(function(c,f){return og(c,i[f])})]}})})},t.prototype.withFaceExpressions=function(){return new z2(this,this.input)},t.prototype.withAgeAndGender=function(){return new W2(this,this.input)},t.prototype.withFaceDescriptors=function(){return new G2(this,this.input)},t})(DO),Oie=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r,o,a,i;return Xe(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return n=s.sent(),n?(r=n.detection,this.input instanceof rn?[4,D2(this.input,[r])]:[3,3]):[2];case 2:return a=s.sent(),[3,5];case 3:return[4,T2(this.input,[r])];case 4:a=s.sent(),s.label=5;case 5:return o=a,[4,this.landmarkNet.detectLandmarks(o[0])];case 6:return i=s.sent(),o.forEach(function(u){return u instanceof rn&&u.dispose()}),[2,og(n,i)]}})})},t.prototype.withFaceExpressions=function(){return new U2(this,this.input)},t.prototype.withAgeAndGender=function(){return new $2(this,this.input)},t.prototype.withFaceDescriptor=function(){return new q2(this,this.input)},t})(DO),AO=(function(e){ct(t,e);function t(n,r){r===void 0&&(r=new ag);var o=e.call(this)||this;return o.input=n,o.options=r,o}return t})(Wf),NO=(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r,o,a;return Xe(this,function(i){switch(i.label){case 0:return n=this,r=n.input,o=n.options,o instanceof bO?[4,Cr.mtcnn.forward(r,o)]:[3,2];case 1:return[2,i.sent().map(function(s){return s.detection})];case 2:if(a=o instanceof SO?function(s){return Cr.tinyFaceDetector.locateFaces(s,o)}:o instanceof ag?function(s){return Cr.ssdMobilenetv1.locateFaces(s,o)}:o instanceof O2?function(s){return Cr.tinyYolov2.locateFaces(s,o)}:null,!a)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,a(r)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var n=this;return new Promise(function(r){return qe(n,void 0,void 0,function(){var o;return Xe(this,function(a){switch(a.label){case 0:return[4,this.run()];case 1:return o=a.sent(),[2,r(o.map(function(i){return pf({},i)}))]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new Iie(this.runAndExtendWithFaceDetections(),this.input,n)},t.prototype.withFaceExpressions=function(){return new F2(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new V2(this.runAndExtendWithFaceDetections(),this.input)},t})(AO);(function(e){ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return qe(this,void 0,void 0,function(){var n,r;return Xe(this,function(o){switch(o.label){case 0:return[4,new NO(this.input,this.options)];case 1:return n=o.sent(),r=n[0],n.forEach(function(a){a.score>r.score&&(r=a)}),[2,r]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var n=this;return new Promise(function(r){return qe(n,void 0,void 0,function(){var o;return Xe(this,function(a){switch(a.label){case 0:return[4,this.run()];case 1:return o=a.sent(),[2,r(o?pf({},o):void 0)]}})})})},t.prototype.withFaceLandmarks=function(n){return n===void 0&&(n=!1),new Oie(this.runAndExtendWithFaceDetection(),this.input,n)},t.prototype.withFaceExpressions=function(){return new L2(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new H2(this.runAndExtendWithFaceDetection(),this.input)},t})(AO);function Pie(e,t){return t===void 0&&(t=new ag),new NO(e,t)}function jie(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(o,a){return o-r[a]}).reduce(function(o,a){return o+Math.pow(a,2)},0))}(function(){function e(t,n){n===void 0&&(n=.6),this._distanceThreshold=n;var r=Array.isArray(t)?t:[t];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var o=1,a=function(){return"person "+o++};this._labeledDescriptors=r.map(function(i){if(i instanceof Tp)return i;if(i instanceof Float32Array)return new Tp(a(),[i]);if(i.descriptor&&i.descriptor instanceof Float32Array)return new Tp(a(),[i.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(t,n){return n.map(function(r){return jie(r,t)}).reduce(function(r,o){return r+o},0)/(n.length||1)},e.prototype.matchDescriptor=function(t){var n=this;return this.labeledDescriptors.map(function(r){var o=r.descriptors,a=r.label;return new sA(a,n.computeMeanDistance(t,o))}).reduce(function(r,o){return r.distance<o.distance?r:o})},e.prototype.findBestMatch=function(t){var n=this.matchDescriptor(t);return n.distance<this.distanceThreshold?n:new sA("unknown",n.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(t){return t.toJSON()})}},e.fromJSON=function(t){var n=t.labeledDescriptors.map(function(r){return Tp.fromJSON(r)});return new e(n,t.distanceThreshold)},e})();function kO(e,t){var n=new al(t.width,t.height),r=n.width,o=n.height;if(r<=0||o<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:o}));if(Array.isArray(e))return e.map(function(s){return kO(s,{width:r,height:o})});if(cO(e)){var a=e.detection.forSize(r,o),i=e.unshiftedLandmarks.forSize(a.box.width,a.box.height);return og(pf(e,a),i)}return Pm(e)?pf(e,e.detection.forSize(r,o)):e instanceof hf||e instanceof fo?e.forSize(r,o):e}function fA(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(c){n(c);return}s.done?t(u):Promise.resolve(u).then(r,o)}function nl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(u){fA(a,r,o,i,s,"next",u)}function s(u){fA(a,r,o,i,s,"throw",u)}i(void 0)})}}var P0,hA;function Bie(){if(hA)return P0;hA=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt,u=typeof tp=="object"&&tp&&tp.Object===Object&&tp,c=typeof self=="object"&&self&&self.Object===Object&&self,f=u||c||Function("return this")(),h=Object.prototype,m=h.toString,v=Math.max,y=Math.min,x=function(){return f.Date.now()};function w(A,N,k){var M,I,O,L,F,X,W=0,Y=!1,B=!1,V=!0;if(typeof A!="function")throw new TypeError(e);N=D(N)||0,S(k)&&(Y=!!k.leading,B="maxWait"in k,O=B?v(D(k.maxWait)||0,N):O,V="trailing"in k?!!k.trailing:V);function U(oe){var ve=M,pe=I;return M=I=void 0,W=oe,L=A.apply(pe,ve),L}function $(oe){return W=oe,F=setTimeout(Q,N),Y?U(oe):L}function j(oe){var ve=oe-X,pe=oe-W,Oe=N-ve;return B?y(Oe,O-pe):Oe}function G(oe){var ve=oe-X,pe=oe-W;return X===void 0||ve>=N||ve<0||B&&pe>=O}function Q(){var oe=x();if(G(oe))return te(oe);F=setTimeout(Q,j(oe))}function te(oe){return F=void 0,V&&M?U(oe):(M=I=void 0,L)}function de(){F!==void 0&&clearTimeout(F),W=0,M=X=I=F=void 0}function we(){return F===void 0?L:te(x())}function ie(){var oe=x(),ve=G(oe);if(M=arguments,I=this,X=oe,ve){if(F===void 0)return $(X);if(B)return F=setTimeout(Q,N),U(X)}return F===void 0&&(F=setTimeout(Q,N)),L}return ie.cancel=de,ie.flush=we,ie}function S(A){var N=typeof A;return!!A&&(N=="object"||N=="function")}function E(A){return!!A&&typeof A=="object"}function R(A){return typeof A=="symbol"||E(A)&&m.call(A)==n}function D(A){if(typeof A=="number")return A;if(R(A))return t;if(S(A)){var N=typeof A.valueOf=="function"?A.valueOf():A;A=S(N)?N+"":N}if(typeof A!="string")return A===0?A:+A;A=A.replace(r,"");var k=a.test(A);return k||i.test(A)?s(A.slice(2),k?2:8):o.test(A)?t:+A}return P0=w,P0}var Fie=Bie();const Lie=Ju(Fie),Tu=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),zie=e=>e===Tu;var Lm=(()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:""));const zm=(...e)=>e.map(t=>t.trim()).join(" ").trim(),Uie=/\s*\((.*?)\)\s*/g,Vie=/(\(\?:[^)]+\))\?/g,Hie=/(\(\?)?:\w+/g,Wie=/\*/g,$ie=/[-{}[\]+?.,\\^$|#]/g,Gie=e=>e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace($ie,"\\$&").replace(Uie,"(?:$1)?").replace(Hie,(t,n)=>n?t:"([^\\s]+)").replace(Wie,"(.*?)").replace(Vie,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i")),qie=(e,t)=>{if(e=e.replace(/\s+/g,"").toLowerCase(),t=t.replace(/\s+/g,"").toLowerCase(),!e.length&&!t.length)return 1;if(!e.length||!t.length)return 0;if(e===t)return 1;if(e.length===1&&t.length===1||e.length<2||t.length<2)return 0;const n=new Map;for(let o=0;o<e.length-1;o++){const a=e.substring(o,o+2),i=n.has(a)?n.get(a)+1:1;n.set(a,i)}let r=0;for(let o=0;o<t.length-1;o++){const a=t.substring(o,o+2),i=n.has(a)?n.get(a):0;i>0&&(n.set(a,i-1),r++)}return 2*r/(e.length+t.length-2)},MO=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);class j0{setSpeechRecognition(t){const n=!!t&&(zie(t)||MO());n&&(this.disableRecognition(),this.recognition=new t,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(n)}subscribe(t,n){this.subscribers[t]=n}unsubscribe(t){delete this.subscribers[t]}emitListeningChange(t){this.listening=t,Object.keys(this.subscribers).forEach(n=>{const{onListeningChange:r}=this.subscribers[n];r(t)})}emitMicrophoneAvailabilityChange(t){this.isMicrophoneAvailable=t,Object.keys(this.subscribers).forEach(n=>{const{onMicrophoneAvailabilityChange:r}=this.subscribers[n];r(t)})}emitTranscriptChange(t,n){Object.keys(this.subscribers).forEach(r=>{const{onTranscriptChange:o}=this.subscribers[r];o(t,n)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(t=>{const{onClearTranscript:n}=this.subscribers[t];n()})}emitBrowserSupportsSpeechRecognitionChange(t){Object.keys(this.subscribers).forEach(n=>{const{onBrowserSupportsSpeechRecognitionChange:r,onBrowserSupportsContinuousListeningChange:o}=this.subscribers[n];r(t),o(t)})}disconnect(t){if(this.recognition&&this.listening)switch(t){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(t){t&&t.error&&t.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:t,resultIndex:n}){const r=n===void 0?t.length-1:n;this.interimTranscript="",this.finalTranscript="";for(let a=r;a<t.length;++a)t[a].isFinal&&(!Lm()||t[a][0].confidence>0)?this.updateFinalTranscript(t[a][0].transcript):this.interimTranscript=zm(this.interimTranscript,t[a][0].transcript);let o=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(o=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,o||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(t){this.finalTranscript=zm(this.finalTranscript,t)}resetTranscript(){this.disconnect("RESET")}startListening(){return nl(function*({continuous:t=!1,language:n}={}){if(!this.recognition)return;const r=t!==this.recognition.continuous,o=n&&n!==this.recognition.lang;if((r||o)&&(this.listening&&(yield this.stopListening()),this.recognition.continuous=r?t:this.recognition.continuous,this.recognition.lang=o?n:this.recognition.lang),!this.listening){this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript());try{yield this.start(),this.emitListeningChange(!0)}catch(a){a instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1)}}}).apply(this,arguments)}abortListening(){return nl(function*(){this.disconnect("ABORT"),this.emitListeningChange(!1),yield new Promise(t=>{this.onStopListening=t})}).call(this)}stopListening(){return nl(function*(){this.disconnect("STOP"),this.emitListeningChange(!1),yield new Promise(t=>{this.onStopListening=t})}).call(this)}getRecognition(){return this.recognition}start(){return nl(function*(){this.recognition&&!this.listening&&(yield this.recognition.start(),this.listening=!0)}).call(this)}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(t){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(t),Lm()&&(this.updateFinalTranscript=Lie(this.updateFinalTranscript,250,{leading:!0}))}}const IO="CLEAR_TRANSCRIPT",OO="APPEND_TRANSCRIPT",Xie=()=>({type:IO}),Yie=(e,t)=>({type:OO,payload:{interimTranscript:e,finalTranscript:t}}),Kie=(e,t)=>{switch(t.type){case IO:return{interimTranscript:"",finalTranscript:""};case OO:return{interimTranscript:t.payload.interimTranscript,finalTranscript:zm(e.finalTranscript,t.payload.finalTranscript)};default:throw new Error}};let Du=!!Tu,qp=Du&&!Lm(),ni;const Qie=({transcribing:e=!0,clearTranscriptOnListen:t=!0,commands:n=[]}={})=>{const[r]=_.useState(li.getRecognitionManager()),[o,a]=_.useState(Du),[i,s]=_.useState(qp),[{interimTranscript:u,finalTranscript:c},f]=_.useReducer(Kie,{interimTranscript:r.interimTranscript,finalTranscript:""}),[h,m]=_.useState(r.listening),[v,y]=_.useState(r.isMicrophoneAvailable),x=_.useRef(n);x.current=n;const w=()=>{f(Xie())},S=_.useCallback(()=>{r.resetTranscript(),w()},[r]),E=(M,I,O)=>{const F=(typeof M=="object"?M.toString():M).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),X=qie(F,I);return X>=O?{command:M,commandWithoutSpecials:F,howSimilar:X,isFuzzyMatch:!0}:null},R=(M,I)=>{const L=Gie(M).exec(I);return L?{command:M,parameters:L.slice(1)}:null},D=_.useCallback((M,I)=>{x.current.forEach(({command:O,callback:L,matchInterim:F=!1,isFuzzyMatch:X=!1,fuzzyMatchingThreshold:W=.8,bestMatchOnly:Y=!1})=>{const B=!I&&F?M.trim():I.trim(),U=(Array.isArray(O)?O:[O]).map($=>X?E($,B,W):R($,B)).filter($=>$);if(X&&Y&&U.length>=2){U.sort((Q,te)=>te.howSimilar-Q.howSimilar);const{command:$,commandWithoutSpecials:j,howSimilar:G}=U[0];L(j,B,G,{command:$,resetTranscript:S})}else U.forEach($=>{if($.isFuzzyMatch){const{command:j,commandWithoutSpecials:G,howSimilar:Q}=$;L(G,B,Q,{command:j,resetTranscript:S})}else{const{command:j,parameters:G}=$;L(...G,{command:j,resetTranscript:S})}})})},[S]),A=_.useCallback((M,I)=>{e&&f(Yie(M,I)),D(M,I)},[D,e]),N=_.useCallback(()=>{t&&w()},[t]);return _.useEffect(()=>{const M=li.counter;li.counter+=1;const I={onListeningChange:m,onMicrophoneAvailabilityChange:y,onTranscriptChange:A,onClearTranscript:N,onBrowserSupportsSpeechRecognitionChange:a,onBrowserSupportsContinuousListeningChange:s};return r.subscribe(M,I),()=>{r.unsubscribe(M)}},[e,t,r,A,N]),{transcript:zm(c,u),interimTranscript:u,finalTranscript:c,listening:h,isMicrophoneAvailable:v,resetTranscript:S,browserSupportsSpeechRecognition:o,browserSupportsContinuousListening:i}},li={counter:0,applyPolyfill:e=>{ni?ni.setSpeechRecognition(e):ni=new j0(e);const t=!!e&&MO();Du=t,qp=t},removePolyfill:()=>{ni?ni.setSpeechRecognition(Tu):ni=new j0(Tu),Du=!!Tu,qp=Du&&!Lm()},getRecognitionManager:()=>(ni||(ni=new j0(Tu)),ni),getRecognition:()=>li.getRecognitionManager().getRecognition(),startListening:({continuous:e,language:t}={})=>nl(function*(){yield li.getRecognitionManager().startListening({continuous:e,language:t})})(),stopListening:()=>nl(function*(){yield li.getRecognitionManager().stopListening()})(),abortListening:()=>nl(function*(){yield li.getRecognitionManager().abortListening()})(),browserSupportsSpeechRecognition:()=>Du,browserSupportsContinuousListening:()=>qp};function Jie(){const{jotformId:e}=hw(),[t]=S9(),n=xi(),r=t.get("course"),[o,a]=_.useState("setup"),[i,s]=_.useState(0),[u,c]=_.useState(!1),[f,h]=_.useState(null),[m,v]=_.useState(!1),[y,x]=_.useState(null),[w,S]=_.useState(null),[E,R]=_.useState(null),[D,A]=_.useState(!1),[N,k]=_.useState(null),[M,I]=_.useState(null),[O,L]=_.useState(null),[F,X]=_.useState([]),[W,Y]=_.useState(null),[B,V]=_.useState([]),[U,$]=_.useState(!1),[j,G]=_.useState(!1),[Q,te]=_.useState(!0),[de,we]=_.useState(!1),[ie,oe]=_.useState(!1),[ve,pe]=_.useState(!1),[Oe,je]=_.useState(!1),{transcript:Pe,listening:Te,resetTranscript:Je,browserSupportsSpeechRecognition:it}=Qie(),nt=_.useRef(null),_e=_.useRef(null),De=_.useRef(null),ke=_.useRef(null),Ze=_.useRef(null),st=_.useRef("");_.useEffect(()=>{st.current=Pe},[Pe]);const Ye={width:640,height:480,facingMode:"user"},He={width:220,height:165,facingMode:"user",frameRate:30};_.useEffect(()=>((async()=>{try{const _t="/models";await Promise.all([Cr.tinyFaceDetector.loadFromUri(_t),Cr.faceLandmark68Net.loadFromUri(_t),Cr.faceRecognitionNet.loadFromUri(_t)]),we(!0),console.log("Face recognition models loaded")}catch(_t){console.error("Error loading face models:",_t)}})(),()=>{Ze.current&&Ze.current.getTracks().forEach(_t=>_t.stop()),document.removeEventListener("fullscreenchange",_r)}),[]),_.useEffect(()=>{if(de&&o==="exam"){const _t=setInterval(async()=>{if(_e.current&&_e.current.video&&_e.current.video.readyState===4){const Tt=_e.current.video,Mt=De.current;if(Mt){const It=await Pie(Tt,new SO({inputSize:224,scoreThreshold:.5}));Mt.getContext("2d").clearRect(0,0,Mt.width,Mt.height);const yr=await qt(Tt);je(yr<50),It.length===0?(oe(!1),pe(!1)):It.length>1?(oe(!0),pe(!0)):(oe(!0),pe(!1));const Cs=kO(It,{width:Tt.videoWidth,height:Tt.videoHeight});Mt.width=Tt.videoWidth,Mt.height=Tt.videoHeight,uae(Mt,Cs)}}},2e3);return()=>clearInterval(_t)}},[de,o,Oe]);const qt=async ft=>{const _t=document.createElement("canvas"),Tt=_t.getContext("2d");_t.width=ft.videoWidth,_t.height=ft.videoHeight,Tt.drawImage(ft,0,0);const It=Tt.getImageData(0,0,_t.width,_t.height).data;let En=0;for(let yr=0;yr<It.length;yr+=4)En+=(It[yr]+It[yr+1]+It[yr+2])/3;return En/(It.length/4)},Ae=ft=>{c(!0),Ze.current=ft,h(null)},Be=ft=>{h(ft.message),c(!1)},rt=()=>{if(nt.current){const ft=nt.current.getScreenshot();ft&&(x(ft),v(!0))}},kt=()=>{x(null),v(!1)},Rt=async()=>{try{A(!0),k(null);const _t=(await yt.get("http://localhost:8081/api/jotforms")).data.find(Tt=>Tt.jotformName===e);if(_t){S(_t);let Tt=null;for(const Mt of _t.pages){for(const It of Mt.elements)if(It.tagName==="randominteger"){Tt=parseInt(It.content);break}if(Tt)break}if(Tt){I(Tt);const Mt=Math.floor(Math.random()*Tt)+1;L(Mt);const It=_t.pages.map(En=>{const yr=En.elements.filter(Di=>Di.tagName==="paragraph").sort((Di,sg)=>Di.sequence-sg.sequence),Cs=En.elements.find(Di=>Di.tagName==="videorecording"),wc=yr[Mt-1];return{pageNumber:En.page,selectedParagraph:wc||null,hasVideoRecording:!!Cs,totalParagraphs:yr.length}});X(It),s(0),R({title:_t.title||`Assignment - ${r}`,pages:It,randomNumber:Mt,..._t})}else throw new Error("No randominteger element found in the form")}else throw new Error(`No jotform found with name: ${e}`);A(!1)}catch(ft){k(ft.message),A(!1)}},jn=()=>{i<F.length-1&&s(i+1)},zt=()=>te(!Q),Jt=()=>{document.documentElement.requestFullscreen&&(document.documentElement.requestFullscreen(),$(!0),G(!0),document.addEventListener("fullscreenchange",_r))},_r=()=>{document.fullscreenElement||($(!1),eo.show({title:"Warning: Fullscreen Exited",message:"Exiting fullscreen mode may be flagged.",color:"orange"}))},Hr=async()=>{if(Ze.current&&!W)try{Je(),li.startListening({continuous:!0,language:"en-US"});const ft=new MediaRecorder(Ze.current,{mimeType:"video/webm; codecs=vp9,opus",audioBitsPerSecond:128e3,videoBitsPerSecond:25e5}),_t=[];ft.ondataavailable=Tt=>{Tt.data&&Tt.data.size>0&&_t.push(Tt.data)},ft.onstop=()=>{li.stopListening();const Tt=new Blob(_t,{type:"video/webm"}),Mt=URL.createObjectURL(Tt),It=F[i],En={id:Date.now(),blob:Tt,url:Mt,pageNumber:i+1,questionText:It.selectedParagraph?.content||"No question text",transcript:st.current,timestamp:new Date().toISOString(),randomQuestionNumber:O};V(yr=>[...yr,En]),Y(null),eo.show({title:"Recording Saved",message:`Answer for page ${i+1} recorded.`,color:"green"})},ke.current=ft,ft.start(),Y({startTime:Date.now(),pageNumber:i+1}),eo.show({title:"Recording Started",message:"Speak your answer now...",color:"blue"})}catch{eo.show({title:"Recording Failed",message:"Could not start recording.",color:"red"})}},gr=()=>{ke.current&&W&&ke.current.stop()},La=ft=>{const _t=ft.split(","),Tt=_t[0].match(/:(.*?);/)[1],Mt=atob(_t[1]);let It=Mt.length;const En=new Uint8Array(It);for(;It--;)En[It]=Mt.charCodeAt(It);return new Blob([En],{type:Tt})},ln=async()=>{try{const Tt={jotformId:e,username:"rahul",userId:"user101",warnings:[`MultipleFaces Detected: ${ve}`,`Lighting Issue: ${Oe}`],answers:B.map(It=>({questionText:It.questionText,transcript:It.transcript}))},Mt=new FormData;if(Mt.append("submission",JSON.stringify(Tt)),y){const It=La(y);Mt.append("photo",It,"identity-photo.jpg")}B.forEach((It,En)=>{Mt.append("videos",It.blob,`answer-video-${En+1}.webm`)}),console.log("--- Sending Data to Backend ---");for(let[It,En]of Mt.entries())console.log(`${It}:`,En);console.log("-------------------------------"),await yt.post("http://localhost:8081/submit-answer",Mt,{headers:{}}),a("completed")}catch(ft){console.error(" SUBMISSION ERROR:",ft.response?ft.response.data:ft.message),eo.show({title:"Submission Failed",message:ft.response?`Server Error: ${ft.response.statusText}`:"An unexpected error occurred.",color:"red"})}},Ti=()=>{window.confirm("Exit assignment? Progress will be lost.")&&n(-1)};if(o==="setup")return b.jsxs(Kt,{size:"md",py:"xl",children:[b.jsxs(jt,{order:2,ta:"center",mb:"xl",children:["Assignment Setup - ",r]}),b.jsxs(Zn,{shadow:"sm",padding:"lg",radius:"md",mb:"xl",children:[b.jsx(jt,{order:4,mb:"md",children:"Camera & Proctoring Setup"}),b.jsx(me,{size:"sm",color:"dimmed",mb:"md",children:"Please allow camera and microphone access."}),b.jsxs(to,{children:[b.jsx($e,{justify:"space-between",children:b.jsxs($e,{children:[b.jsx(H9,{size:20}),b.jsx(me,{children:"Camera & Microphone"}),u&&b.jsx(ma,{color:"green",children:"Ready"}),f&&b.jsx(ma,{color:"red",children:"Error"})]})}),f&&b.jsxs(ai,{color:"red",size:"sm",children:[b.jsx("strong",{children:"Error:"})," ",f]}),b.jsx(Qr,{children:b.jsx(gp,{audio:!0,ref:nt,screenshotFormat:"image/jpeg",width:300,height:200,videoConstraints:Ye,onUserMedia:Ae,onUserMediaError:Be,style:{borderRadius:8,backgroundColor:"#000",border:u?"2px solid #51cf66":"2px solid #868e96"}})})]})]}),b.jsxs($e,{justify:"space-between",children:[b.jsx(Fe,{variant:"outline",onClick:Ti,leftSection:b.jsx(zp,{size:16}),children:"Back"}),u&&b.jsx(Fe,{onClick:()=>a("photo"),size:"lg",children:"Continue"})]})]});if(o==="photo")return b.jsxs(Kt,{size:"md",py:"xl",children:[b.jsx(jt,{order:2,ta:"center",mb:"xl",children:"Identity Photo Capture"}),b.jsxs(Zn,{shadow:"sm",padding:"lg",radius:"md",mb:"xl",children:[b.jsx(jt,{order:4,mb:"md",children:"Take Your Photo"}),b.jsx(Qr,{mb:"lg",children:m?b.jsxs(re,{ta:"center",children:[b.jsx($d,{src:y,alt:"Identity",style:{width:400,height:300,borderRadius:8,marginBottom:16}}),b.jsxs($e,{justify:"center",children:[b.jsx(Fe,{variant:"outline",onClick:kt,children:"Retake"}),b.jsx(Fe,{onClick:()=>a("verification"),color:"green",children:"Use Photo"})]})]}):b.jsxs(re,{ta:"center",children:[b.jsx(gp,{audio:!1,ref:nt,screenshotFormat:"image/jpeg",width:400,height:300,videoConstraints:Ye,style:{borderRadius:8,marginBottom:16,backgroundColor:"#000"}}),b.jsx(Fe,{leftSection:b.jsx(am,{size:16}),onClick:rt,size:"lg",disabled:!u,children:"Take Photo"})]})})]}),b.jsx($e,{justify:"space-between",children:b.jsx(Fe,{variant:"outline",onClick:()=>a("setup"),leftSection:b.jsx(zp,{size:16}),children:"Back"})})]});if(o==="verification")return b.jsxs(Kt,{size:"md",py:"xl",children:[b.jsx(jt,{order:2,ta:"center",mb:"xl",children:"Identity Verification"}),b.jsxs(to,{children:[b.jsxs(Zn,{shadow:"sm",padding:"lg",radius:"md",children:[b.jsxs($e,{justify:"space-between",mb:"md",children:[b.jsxs($e,{children:[b.jsx(am,{size:20}),b.jsx(me,{children:"Identity Photo"}),m&&b.jsx(ma,{color:"green",children:"Captured"})]}),b.jsx(Fe,{size:"sm",variant:"outline",onClick:()=>a("photo"),children:"Change"})]}),y&&b.jsx(Qr,{children:b.jsx($d,{src:y,alt:"Identity",style:{width:200,height:150,borderRadius:8}})})]}),m&&b.jsxs(Zn,{shadow:"sm",padding:"lg",radius:"md",children:[b.jsx(ai,{color:"orange",mb:"md",children:"The exam will start in fullscreen with live monitoring. You cannot go back."}),b.jsx(Qr,{children:b.jsx(Fe,{onClick:()=>{Rt(),a("exam"),setTimeout(Jt,1e3)},size:"lg",color:"green",children:"Start Assignment"})})]})]}),b.jsx($e,{justify:"space-between",mt:"md",children:b.jsx(Fe,{variant:"outline",onClick:()=>a("photo"),leftSection:b.jsx(zp,{size:16}),children:"Back"})})]});if(o==="exam"){if(!it)return b.jsx(Kt,{size:"md",py:"xl",children:b.jsx(ai,{color:"red",children:"Speech recognition not supported. Please use Chrome."})});if(D)return b.jsx(Kt,{size:"xl",py:"xl",children:b.jsx(Qr,{children:b.jsxs(to,{align:"center",children:[b.jsx(ea,{}),b.jsx(me,{children:"Loading..."})]})})});if(N)return b.jsx(Kt,{size:"md",py:"xl",children:b.jsxs(ai,{color:"red",children:["Error: ",N,b.jsx(Fe,{mt:"md",onClick:Rt,children:"Retry"})]})});if(!F.length)return b.jsx(Kt,{size:"md",py:"xl",children:b.jsx(Qr,{children:b.jsx(me,{children:"No pages to display."})})});const ft=F[i],_t=i===F.length-1,Tt=(i+1)/F.length*100;return b.jsxs(re,{children:[b.jsx("style",{children:"@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }"}),b.jsxs(re,{style:{position:"fixed",top:0,left:0,right:0,background:"#1a1a1a",color:"white",padding:"8px 16px",zIndex:1001,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsxs($e,{children:[b.jsx(ma,{color:"red",variant:"dot",children:"MONITORING"}),b.jsx(ma,{color:Te?"orange":"blue",variant:"dot",children:Te?"LISTENING":"READY"})]}),b.jsxs($e,{children:[b.jsx(ma,{color:ie?"green":"red",children:ie?"Face OK":"No Face"}),b.jsxs(Fe,{size:"xs",variant:"subtle",onClick:zt,children:[b.jsx(bk,{size:14})," ",Q?"Hide":"Show"]}),!U&&b.jsx(Fe,{size:"xs",onClick:Jt,children:"Go Fullscreen"})]})]}),Q&&b.jsxs(re,{style:{position:"fixed",top:60,right:20,width:220,height:165,zIndex:1e3,border:`3px solid ${ie?"#51cf66":"#ff6b6b"}`,borderRadius:12,overflow:"hidden",background:"#000"},children:[b.jsx(gp,{audio:!1,ref:_e,mirrored:!0,muted:!0,videoConstraints:He,style:{width:"100%",height:"100%",objectFit:"cover"}}),b.jsx("canvas",{ref:De,style:{position:"absolute",inset:0,width:"100%",height:"100%"}}),b.jsxs(re,{style:{position:"absolute",top:8,left:8,background:"#ff4757",color:"white",padding:"4px 8px",borderRadius:4,fontSize:"11px",display:"flex",alignItems:"center",gap:4},children:[b.jsx("div",{style:{width:8,height:8,background:"white",borderRadius:"50%",animation:"pulse 2s infinite"}}),"LIVE"]}),W&&b.jsxs(re,{style:{position:"absolute",top:8,right:8,background:"#ff4757",color:"white",padding:"4px 8px",borderRadius:4,fontSize:"11px"},children:["REC ",Math.floor((Date.now()-W.startTime)/1e3),"s"]})]}),b.jsx(re,{style:{position:"fixed",top:-1e3,left:-1e3},children:b.jsx(gp,{audio:!0,muted:!0,ref:nt,onUserMedia:Ae,videoConstraints:Ye})}),b.jsxs(Kt,{size:"xl",py:"md",pt:60,style:{paddingRight:Q?260:20},children:[b.jsxs(jt,{order:3,mb:"md",ta:"center",children:["Assignment: ",E.title]}),b.jsxs(Zn,{shadow:"sm",p:"sm",radius:"md",mb:"lg",children:[b.jsxs($e,{justify:"space-between",mb:"xs",children:[b.jsx(me,{size:"sm",weight:500,children:"Progress"}),b.jsxs(me,{size:"sm",color:"dimmed",children:["Page ",i+1,"/",F.length]})]}),b.jsx(lc,{value:Tt,color:"blue"})]}),b.jsxs(Zn,{shadow:"lg",p:"xl",radius:"md",mb:"lg",children:[b.jsxs($e,{justify:"space-between",mb:"md",children:[b.jsxs(jt,{order:4,children:["Page ",ft.pageNumber]}),b.jsxs(ma,{color:"blue",size:"lg",children:["Q",O,"/",ft.totalParagraphs]})]}),ft.selectedParagraph?b.jsx(me,{size:"lg",mb:"md",style:{lineHeight:1.8},children:ft.selectedParagraph.content}):b.jsx(ai,{color:"orange",children:"No question available."}),ft.hasVideoRecording&&b.jsxs(re,{children:[b.jsx(jr,{my:"lg"}),b.jsx(me,{weight:600,size:"md",mb:"md",children:"Record your answer:"}),b.jsxs(re,{p:"xl",style:{border:"2px dashed #dee2e6",borderRadius:12,textAlign:"center",background:"#f8f9fa"},children:[b.jsx(Ck,{size:56,color:"#868e96",style:{marginBottom:16}}),B.some(Mt=>Mt.pageNumber===i+1)&&b.jsxs(ma,{color:"green",size:"lg",children:[b.jsx(ax,{size:14})," Answer Recorded"]})]}),Te&&b.jsxs(re,{mt:"lg",p:"md",style:{border:"1px solid #ced4da",borderRadius:8,background:"#f1f3f5"},children:[b.jsxs($e,{mb:"xs",children:[b.jsx(bw,{size:16}),b.jsx(me,{size:"sm",weight:500,children:"Live Transcript..."})]}),b.jsx(me,{color:"dimmed",children:Pe||"Start speaking..."})]}),b.jsx(Qr,{mt:"xl",children:W?b.jsxs(Fe,{onClick:gr,color:"green",size:"xl",children:["Stop Recording (",Math.floor((Date.now()-W.startTime)/1e3),"s)"]}):b.jsx(Fe,{onClick:Hr,color:"red",size:"xl",children:"Record Answer"})})]})]}),b.jsx(Zn,{shadow:"sm",p:"lg",radius:"md",style:{background:"#f8f9fa"},children:b.jsxs($e,{justify:"space-between",children:[b.jsxs(me,{size:"sm",color:"dimmed",children:["Page ",i+1," of ",F.length]}),_t?b.jsx(Fe,{onClick:ln,size:"lg",color:"green",children:"Submit Assignment"}):b.jsx(Fe,{onClick:jn,size:"lg",color:"blue",children:"Next Page"})]})})]})]})}return o==="completed"?b.jsx(Kt,{size:"md",py:"xl",children:b.jsx(Qr,{children:b.jsxs(to,{align:"center",children:[b.jsx(ax,{size:64,color:"green"}),b.jsx(jt,{order:2,children:"Assignment Completed"}),b.jsx(me,{color:"dimmed",children:"Your assignment has been submitted successfully."}),b.jsx(Fe,{onClick:()=>n("/dashboard"),mt:"lg",size:"lg",children:"Return to Dashboard"})]})})}):null}function qx(){const[e,t]=_.useState(!1),[n,r]=_.useState(""),[o,a]=_.useState([]),[i,s]=_.useState(!1),[u,c]=_.useState(""),f=_.useRef(null),h=()=>{f.current?.scrollTo({top:f.current.scrollHeight,behavior:"smooth"})};_.useEffect(()=>{h()},[o]);const m=async()=>{if(!n.trim())return;const y={sender:"user",text:n};a(x=>[...x,y]),r(""),s(!0),c("");try{const x=await fetch(" http://localhost:8081/api/gemini/ask",{method:"POST",headers:{"Content-Type":"text/plain"},body:n}),w=await x.text();if(!x.ok)throw new Error(`API Error: ${x.status} - ${w}`);const S={sender:"bot",text:w};a(E=>[...E,S])}catch(x){c(x.message);const w={sender:"bot",text:"Sorry, I ran into an error. Please try again."};a(S=>[...S,w])}finally{s(!1)}},v=(y,x)=>b.jsx(Zo,{p:"sm",radius:"lg",withBorder:!0,mb:"sm",style:{backgroundColor:y.sender==="user"?"#e7f5ff":"#f8f9fa",alignSelf:y.sender==="user"?"flex-end":"flex-start",maxWidth:"80%"},children:b.jsx(me,{size:"sm",style:{whiteSpace:"pre-wrap"},children:y.text})},x);return b.jsxs(b.Fragment,{children:[b.jsx(Cn,{variant:"filled",color:"blue",size:"xl",radius:"xl",style:{position:"fixed",bottom:20,right:20,zIndex:1e3},onClick:()=>t(!0),children:b.jsx(xH,{size:24})}),b.jsx(pr,{opened:e,onClose:()=>t(!1),title:b.jsx(jt,{order:4,children:"Chat with AI Assistant"}),size:"lg",children:b.jsxs(re,{style:{display:"flex",flexDirection:"column",height:"60vh"},children:[b.jsx(ho,{viewportRef:f,style:{flex:1,marginBottom:"1rem"},children:b.jsxs(re,{style:{display:"flex",flexDirection:"column",padding:"0 1rem"},children:[o.map(v),i&&b.jsx(ea,{size:"sm",style:{alignSelf:"flex-start"}})]})}),b.jsxs(re,{children:[u&&b.jsx(me,{c:"red",size:"xs",mb:"xs",children:u}),b.jsx(Gd,{placeholder:"Ask me anything...",value:n,onChange:y=>r(y.currentTarget.value),onKeyDown:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),m())},autosize:!0,minRows:2,rightSection:b.jsx(Cn,{onClick:m,loading:i,size:32,radius:"xl",variant:"filled",children:b.jsx(kH,{size:18})})})]})]})})]})}function Zie(){const[e,t]=_.useState(null),[n,r]=_.useState(""),[o,a]=_.useState(""),[i,s]=_.useState(!1),[u,c]=_.useState(""),f=async()=>{if(!e){a("Please select a file first.");return}s(!0),a(`Uploading ${e.name}...`);const m=new FormData;m.append("file",e);try{const v=await fetch(" http://localhost:8081/upload",{method:"POST",body:m}),y=await v.text();if(v.ok)a(`Upload successful! File key: ${y}`),r(y);else throw new Error(`Upload failed: ${v.status} - ${y}`)}catch(v){a(`Error: ${v.message}`)}finally{s(!1)}},h=async()=>{if(!n){a("Please upload a file or enter a key first.");return}a(`Generating URL for key: ${n}...`);try{const m=await fetch(` http://localhost:8081/generate-presigned-url/${n}`),v=await m.text();if(m.ok)c(v),a("URL generated successfully!");else throw new Error(`Failed to generate URL: ${m.status} - ${v}`)}catch(m){a(`Error: ${m.message}`)}};return b.jsxs(Zo,{shadow:"md",p:"xl",withBorder:!0,children:[b.jsxs(re,{maw:600,mx:"auto",children:[b.jsx(jt,{order:2,ta:"center",mb:"lg",children:"S3 File URL Generator"}),b.jsxs(re,{mb:"xl",children:[b.jsx(jt,{order:4,mb:"sm",children:"1. Upload a File"}),b.jsxs($e,{children:[b.jsx(nm,{placeholder:"Select a file (video, PDF, etc.)",value:e,onChange:t,style:{flex:1},clearable:!0}),b.jsx(Fe,{onClick:f,leftSection:b.jsx(wk,{size:14}),loading:i,disabled:!e,children:"Upload"})]})]}),b.jsxs(re,{children:[b.jsx(jt,{order:4,mb:"sm",children:"2. Generate URL"}),b.jsxs($e,{children:[b.jsx(Na,{placeholder:"File key will appear here after upload",value:n,onChange:m=>r(m.currentTarget.value),style:{flex:1}}),b.jsx(Fe,{onClick:h,leftSection:b.jsx(xk,{size:14}),disabled:!n,children:"Get URL"})]})]}),b.jsxs(re,{mt:"lg",children:[o&&b.jsx(me,{c:"dimmed",ta:"center",children:o}),u&&b.jsxs(re,{mt:"sm",children:[b.jsx(me,{fw:500,children:"Shareable URL (valid for 10 minutes):"}),b.jsx(me,{c:"blue",component:"a",href:u,target:"_blank",rel:"noopener noreferrer",style:{wordBreak:"break-all"},children:u})]})]})]}),b.jsx(qx,{})]})}function ese(){const[e,t]=_.useState(0);return b.jsx("div",{children:b.jsxs(g9,{children:[b.jsx(YH,{}),b.jsxs(q7,{children:[b.jsx(vn,{path:"/",element:b.jsx($W,{})}),b.jsx(vn,{path:"/login",element:b.jsx(NW,{})}),b.jsx(vn,{path:"/mapuser",element:b.jsx(Rk,{})}),b.jsx(vn,{path:"/lmsdashboard",element:b.jsx(GW,{})}),b.jsx(vn,{path:"/createjotform",element:b.jsx(_k,{})}),b.jsx(vn,{path:"/jotformbuilder",element:b.jsx(UQ,{})}),b.jsx(vn,{path:"/jotformmapping",element:b.jsx(l4,{})}),b.jsx(vn,{path:"/coursemanagment",element:b.jsx(VQ,{})}),b.jsx(vn,{path:"/analyticdashboard",element:b.jsx(WQ,{})}),b.jsx(vn,{path:"/course",element:b.jsx(iJ,{})}),b.jsx(vn,{path:"/jotformviewer",element:b.jsx(u4,{})}),b.jsx(vn,{path:"/jotformmanagment",element:b.jsx(sJ,{})}),b.jsx(vn,{path:"/usermanagment",element:b.jsx(lJ,{})}),b.jsx(vn,{path:"/resultmanagement",element:b.jsx(uJ,{})}),b.jsx(vn,{path:"/user-results/:courseId",element:b.jsx(cJ,{})}),b.jsx(vn,{path:"/assignment-review/:courseId/:userId",element:b.jsx(dJ,{})}),b.jsx(vn,{path:"/course/:courseId/assignment",element:b.jsx(c4,{})}),b.jsx(vn,{path:"/assignment/:jotformId",element:b.jsx(Jie,{})}),b.jsx(vn,{path:"/fileupload",element:b.jsx(Zie,{})}),b.jsx(vn,{path:"/chatmodal",element:b.jsx(qx,{})})]}),b.jsx(sW,{}),b.jsx(qx,{})]})})}oB.createRoot(document.getElementById("root")).render(b.jsx(ut.StrictMode,{children:b.jsx(jA,{children:b.jsxs(OV,{children:[b.jsx(bi,{}),b.jsx(ese,{})]})})}))});export default tse();

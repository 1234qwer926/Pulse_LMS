var Aj=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var _ie=Aj((Gie,yO)=>{function Nj(e,n){for(var t=0;t<n.length;t++){const r=n[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l0={exports:{}},fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CR;function kj(){if(CR)return fd;CR=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,o,a){var i=null;if(a!==void 0&&(i=""+a),o.key!==void 0&&(i=""+o.key),"key"in o){a={};for(var s in o)s!=="key"&&(a[s]=o[s])}else a=o;return o=a.ref,{$$typeof:e,type:r,key:i,ref:o!==void 0?o:null,props:a}}return fd.Fragment=n,fd.jsx=t,fd.jsxs=t,fd}var ER;function Mj(){return ER||(ER=1,l0.exports=kj()),l0.exports}var y=Mj(),u0={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR;function Ij(){if(RR)return gt;RR=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),i=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(B,G,J){this.props=B,this.context=G,this.refs=x,this.updater=J||v}w.prototype.isReactComponent={},w.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function S(){}S.prototype=w.prototype;function E(B,G,J){this.props=B,this.context=G,this.refs=x,this.updater=J||v}var R=E.prototype=new S;R.constructor=E,b(R,w.prototype),R.isPureReactComponent=!0;var D=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(B,G,J,ne,he,Se){return J=Se.ref,{$$typeof:e,type:B,key:G,ref:J!==void 0?J:null,props:Se}}function M(B,G){return k(B.type,G,void 0,void 0,void 0,B.props)}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function P(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(J){return G[J]})}var L=/\/+/g;function F(B,G){return typeof B=="object"&&B!==null&&B.key!=null?P(""+B.key):G.toString(36)}function Y(){}function W(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Y,Y):(B.status="pending",B.then(function(G){B.status==="pending"&&(B.status="fulfilled",B.value=G)},function(G){B.status==="pending"&&(B.status="rejected",B.reason=G)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function X(B,G,J,ne,he){var Se=typeof B;(Se==="undefined"||Se==="boolean")&&(B=null);var ae=!1;if(B===null)ae=!0;else switch(Se){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(B.$$typeof){case e:case n:ae=!0;break;case f:return ae=B._init,X(ae(B._payload),G,J,ne,he)}}if(ae)return he=he(B),ae=ne===""?"."+F(B,0):ne,D(he)?(J="",ae!=null&&(J=ae.replace(L,"$&/")+"/"),X(he,G,J,"",function(me){return me})):he!=null&&(I(he)&&(he=M(he,J+(he.key==null||B&&B.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+ae)),G.push(he)),1;ae=0;var le=ne===""?".":ne+":";if(D(B))for(var ge=0;ge<B.length;ge++)ne=B[ge],Se=le+F(ne,ge),ae+=X(ne,G,J,Se,he);else if(ge=m(B),typeof ge=="function")for(B=ge.call(B),ge=0;!(ne=B.next()).done;)ne=ne.value,Se=le+F(ne,ge++),ae+=X(ne,G,J,Se,he);else if(Se==="object"){if(typeof B.then=="function")return X(W(B),G,J,ne,he);throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ae}function j(B,G,J){if(B==null)return B;var ne=[],he=0;return X(B,ne,"","",function(Se){return G.call(J,Se,he++)}),ne}function U(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(J){(B._status===0||B._status===-1)&&(B._status=1,B._result=J)},function(J){(B._status===0||B._status===-1)&&(B._status=2,B._result=J)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var V=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function q(){}return gt.Children={map:j,forEach:function(B,G,J){j(B,function(){G.apply(this,arguments)},J)},count:function(B){var G=0;return j(B,function(){G++}),G},toArray:function(B){return j(B,function(G){return G})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},gt.Component=w,gt.Fragment=t,gt.Profiler=o,gt.PureComponent=E,gt.StrictMode=r,gt.Suspense=u,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,gt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return A.H.useMemoCache(B)}},gt.cache=function(B){return function(){return B.apply(null,arguments)}},gt.cloneElement=function(B,G,J){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ne=b({},B.props),he=B.key,Se=void 0;if(G!=null)for(ae in G.ref!==void 0&&(Se=void 0),G.key!==void 0&&(he=""+G.key),G)!N.call(G,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&G.ref===void 0||(ne[ae]=G[ae]);var ae=arguments.length-2;if(ae===1)ne.children=J;else if(1<ae){for(var le=Array(ae),ge=0;ge<ae;ge++)le[ge]=arguments[ge+2];ne.children=le}return k(B.type,he,void 0,void 0,Se,ne)},gt.createContext=function(B){return B={$$typeof:i,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},gt.createElement=function(B,G,J){var ne,he={},Se=null;if(G!=null)for(ne in G.key!==void 0&&(Se=""+G.key),G)N.call(G,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(he[ne]=G[ne]);var ae=arguments.length-2;if(ae===1)he.children=J;else if(1<ae){for(var le=Array(ae),ge=0;ge<ae;ge++)le[ge]=arguments[ge+2];he.children=le}if(B&&B.defaultProps)for(ne in ae=B.defaultProps,ae)he[ne]===void 0&&(he[ne]=ae[ne]);return k(B,Se,void 0,void 0,null,he)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(B){return{$$typeof:s,render:B}},gt.isValidElement=I,gt.lazy=function(B){return{$$typeof:f,_payload:{_status:-1,_result:B},_init:U}},gt.memo=function(B,G){return{$$typeof:c,type:B,compare:G===void 0?null:G}},gt.startTransition=function(B){var G=A.T,J={};A.T=J;try{var ne=B(),he=A.S;he!==null&&he(J,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(q,V)}catch(Se){V(Se)}finally{A.T=G}},gt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},gt.use=function(B){return A.H.use(B)},gt.useActionState=function(B,G,J){return A.H.useActionState(B,G,J)},gt.useCallback=function(B,G){return A.H.useCallback(B,G)},gt.useContext=function(B){return A.H.useContext(B)},gt.useDebugValue=function(){},gt.useDeferredValue=function(B,G){return A.H.useDeferredValue(B,G)},gt.useEffect=function(B,G,J){var ne=A.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(B,G)},gt.useId=function(){return A.H.useId()},gt.useImperativeHandle=function(B,G,J){return A.H.useImperativeHandle(B,G,J)},gt.useInsertionEffect=function(B,G){return A.H.useInsertionEffect(B,G)},gt.useLayoutEffect=function(B,G){return A.H.useLayoutEffect(B,G)},gt.useMemo=function(B,G){return A.H.useMemo(B,G)},gt.useOptimistic=function(B,G){return A.H.useOptimistic(B,G)},gt.useReducer=function(B,G,J){return A.H.useReducer(B,G,J)},gt.useRef=function(B){return A.H.useRef(B)},gt.useState=function(B){return A.H.useState(B)},gt.useSyncExternalStore=function(B,G,J){return A.H.useSyncExternalStore(B,G,J)},gt.useTransition=function(){return A.H.useTransition()},gt.version="19.1.1",gt}var _R;function df(){return _R||(_R=1,u0.exports=Ij()),u0.exports}var T=df();const ft=cf(T),Oj=Nj({__proto__:null,default:ft},[T]);var c0={exports:{}},hd={},d0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function Pj(){return TR||(TR=1,(function(e){function n(j,U){var V=j.length;j.push(U);e:for(;0<V;){var q=V-1>>>1,B=j[q];if(0<o(B,U))j[q]=U,j[V]=B,V=q;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],V=j.pop();if(V!==U){j[0]=V;e:for(var q=0,B=j.length,G=B>>>1;q<G;){var J=2*(q+1)-1,ne=j[J],he=J+1,Se=j[he];if(0>o(ne,V))he<B&&0>o(Se,ne)?(j[q]=Se,j[he]=V,q=he):(j[q]=ne,j[J]=V,q=J);else if(he<B&&0>o(Se,V))j[q]=Se,j[he]=V,q=he;else break e}}return U}function o(j,U){var V=j.sortIndex-U.sortIndex;return V!==0?V:j.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var u=[],c=[],f=1,h=null,m=3,v=!1,b=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(j){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,n(u,U);else break;U=t(c)}}function A(j){if(x=!1,D(j),!b)if(t(u)!==null)b=!0,N||(N=!0,F());else{var U=t(c);U!==null&&X(A,U.startTime-j)}}var N=!1,k=-1,M=5,I=-1;function P(){return w?!0:!(e.unstable_now()-I<M)}function L(){if(w=!1,N){var j=e.unstable_now();I=j;var U=!0;try{e:{b=!1,x&&(x=!1,E(k),k=-1),v=!0;var V=m;try{t:{for(D(j),h=t(u);h!==null&&!(h.expirationTime>j&&P());){var q=h.callback;if(typeof q=="function"){h.callback=null,m=h.priorityLevel;var B=q(h.expirationTime<=j);if(j=e.unstable_now(),typeof B=="function"){h.callback=B,D(j),U=!0;break t}h===t(u)&&r(u),D(j)}else r(u);h=t(u)}if(h!==null)U=!0;else{var G=t(c);G!==null&&X(A,G.startTime-j),U=!1}}break e}finally{h=null,m=V,v=!1}U=void 0}}finally{U?F():N=!1}}}var F;if(typeof R=="function")F=function(){R(L)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,W=Y.port2;Y.port1.onmessage=L,F=function(){W.postMessage(null)}}else F=function(){S(L,0)};function X(j,U){k=S(function(){j(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var V=m;m=U;try{return j()}finally{m=V}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=m;m=j;try{return U()}finally{m=V}},e.unstable_scheduleCallback=function(j,U,V){var q=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=V+B,j={id:f++,callback:U,priorityLevel:j,startTime:V,expirationTime:B,sortIndex:-1},V>q?(j.sortIndex=V,n(c,j),t(u)===null&&j===t(c)&&(x?(E(k),k=-1):x=!0,X(A,V-q))):(j.sortIndex=B,n(u,j),b||v||(b=!0,N||(N=!0,F()))),j},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(j){var U=m;return function(){var V=m;m=U;try{return j.apply(this,arguments)}finally{m=V}}}})(f0)),f0}var DR;function jj(){return DR||(DR=1,d0.exports=Pj()),d0.exports}var h0={exports:{}},ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR;function Bj(){if(AR)return ar;AR=1;var e=df();function n(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(n(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(u,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:h==null?null:""+h,children:u,containerInfo:c,implementation:f}}var i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ar.createPortal=function(u,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(n(299));return a(u,c,null,f)},ar.flushSync=function(u){var c=i.T,f=r.p;try{if(i.T=null,r.p=2,u)return u()}finally{i.T=c,r.p=f,r.d.f()}},ar.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},ar.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},ar.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var f=c.as,h=s(f,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:h,integrity:m,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ar.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=s(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},ar.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=s(f,c.crossOrigin);r.d.L(u,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ar.preloadModule=function(u,c){if(typeof u=="string")if(c){var f=s(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},ar.requestFormReset=function(u){r.d.r(u)},ar.unstable_batchedUpdates=function(u,c){return u(c)},ar.useFormState=function(u,c,f){return i.H.useFormState(u,c,f)},ar.useFormStatus=function(){return i.H.useHostTransitionStatus()},ar.version="19.1.1",ar}var NR;function rA(){if(NR)return h0.exports;NR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),h0.exports=Bj(),h0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kR;function Fj(){if(kR)return hd;kR=1;var e=jj(),n=df(),t=rA();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function i(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function s(l){if(a(l)!==l)throw Error(r(188))}function u(l){var d=l.alternate;if(!d){if(d=a(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,g=d;;){var C=p.return;if(C===null)break;var _=C.alternate;if(_===null){if(g=C.return,g!==null){p=g;continue}break}if(C.child===_.child){for(_=C.child;_;){if(_===p)return s(C),l;if(_===g)return s(C),d;_=_.sibling}throw Error(r(188))}if(p.return!==g.return)p=C,g=_;else{for(var O=!1,z=C.child;z;){if(z===p){O=!0,p=C,g=_;break}if(z===g){O=!0,g=C,p=_;break}z=z.sibling}if(!O){for(z=_.child;z;){if(z===p){O=!0,p=_,g=C;break}if(z===g){O=!0,g=_,p=C;break}z=z.sibling}if(!O)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function c(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=c(l),d!==null)return d;l=l.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=L&&l[L]||l["@@iterator"],typeof l=="function"?l:null)}var Y=Symbol.for("react.client.reference");function W(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Y?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList";case I:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case R:return(l.displayName||"Context")+".Provider";case E:return(l._context.displayName||"Context")+".Consumer";case D:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return d=l.displayName||null,d!==null?d:W(l.type)||"Memo";case M:d=l._payload,l=l._init;try{return W(l(d))}catch{}}return null}var X=Array.isArray,j=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},q=[],B=-1;function G(l){return{current:l}}function J(l){0>B||(l.current=q[B],q[B]=null,B--)}function ne(l,d){B++,q[B]=l.current,l.current=d}var he=G(null),Se=G(null),ae=G(null),le=G(null);function ge(l,d){switch(ne(ae,d),ne(Se,l),ne(he,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?QE(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=QE(d),l=JE(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}J(he),ne(he,l)}function me(){J(he),J(Se),J(ae)}function Pe(l){l.memoizedState!==null&&ne(le,l);var d=he.current,p=JE(d,l.type);d!==p&&(ne(Se,l),ne(he,p))}function je(l){Se.current===l&&(J(he),J(Se)),le.current===l&&(J(le),sd._currentValue=V)}var Be=Object.prototype.hasOwnProperty,Te=e.unstable_scheduleCallback,We=e.unstable_cancelCallback,ct=e.unstable_shouldYield,at=e.unstable_requestPaint,_e=e.unstable_now,De=e.unstable_getCurrentPriorityLevel,ke=e.unstable_ImmediatePriority,tt=e.unstable_UserBlockingPriority,lt=e.unstable_NormalPriority,nt=e.unstable_LowPriority,$e=e.unstable_IdlePriority,qt=e.log,Ae=e.unstable_setDisableYieldValue,Fe=null,it=null;function Mt(l){if(typeof qt=="function"&&Ae(l),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Fe,l)}catch{}}var Dt=Math.clz32?Math.clz32:Qt,Pn=Math.log,Ft=Math.LN2;function Qt(l){return l>>>=0,l===0?32:31-(Pn(l)/Ft|0)|0}var Tr=256,$r=4194304;function vr(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Fa(l,d,p){var g=l.pendingLanes;if(g===0)return 0;var C=0,_=l.suspendedLanes,O=l.pingedLanes;l=l.warmLanes;var z=g&134217727;return z!==0?(g=z&~_,g!==0?C=vr(g):(O&=z,O!==0?C=vr(O):p||(p=z&~l,p!==0&&(C=vr(p))))):(z=g&~_,z!==0?C=vr(z):O!==0?C=vr(O):p||(p=g&~l,p!==0&&(C=vr(p)))),C===0?0:d!==0&&d!==C&&(d&_)===0&&(_=C&-C,p=d&-d,_>=p||_===32&&(p&4194048)!==0)?d:C}function rn(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function Ei(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var l=Tr;return Tr<<=1,(Tr&4194048)===0&&(Tr=256),l}function Ge(){var l=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),l}function Je(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function bt(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Lt(l,d,p,g,C,_){var O=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var z=l.entanglements,K=l.expirationTimes,ie=l.hiddenUpdates;for(p=O&~p;0<p;){var ye=31-Dt(p),we=1<<ye;z[ye]=0,K[ye]=-1;var se=ie[ye];if(se!==null)for(ie[ye]=null,ye=0;ye<se.length;ye++){var ue=se[ye];ue!==null&&(ue.lane&=-536870913)}p&=~we}g!==0&&Gr(l,g,0),_!==0&&C===0&&l.tag!==0&&(l.suspendedLanes|=_&~(O&~d))}function Gr(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var g=31-Dt(d);l.entangledLanes|=d,l.entanglements[g]=l.entanglements[g]|1073741824|p&4194090}function gr(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var g=31-Dt(p),C=1<<g;C&d|l[g]&d&&(l[g]|=d),p&=~C}}function Ri(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function gc(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function _i(){var l=U.p;return l!==0?l:(l=window.event,l===void 0?32:gR(l.type))}function Zv(l,d){var p=U.p;try{return U.p=l,d()}finally{U.p=p}}var Ti=Math.random().toString(36).slice(2),rr="__reactFiber$"+Ti,Dr="__reactProps$"+Ti,xl="__reactContainer$"+Ti,eg="__reactEvents$"+Ti,bO="__reactListeners$"+Ti,xO="__reactHandles$"+Ti,L2="__reactResources$"+Ti,yc="__reactMarker$"+Ti;function tg(l){delete l[rr],delete l[Dr],delete l[eg],delete l[bO],delete l[xO]}function wl(l){var d=l[rr];if(d)return d;for(var p=l.parentNode;p;){if(d=p[xl]||p[rr]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=nR(l);l!==null;){if(p=l[rr])return p;l=nR(l)}return d}l=p,p=l.parentNode}return null}function Sl(l){if(l=l[rr]||l[xl]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function bc(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Cl(l){var d=l[L2];return d||(d=l[L2]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function jn(l){l[yc]=!0}var z2=new Set,U2={};function Cs(l,d){El(l,d),El(l+"Capture",d)}function El(l,d){for(U2[l]=d,l=0;l<d.length;l++)z2.add(d[l])}var wO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),V2={},H2={};function SO(l){return Be.call(H2,l)?!0:Be.call(V2,l)?!1:wO.test(l)?H2[l]=!0:(V2[l]=!0,!1)}function Uf(l,d,p){if(SO(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var g=d.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function Vf(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function La(l,d,p,g){if(g===null)l.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+g)}}var ng,W2;function Rl(l){if(ng===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);ng=d&&d[1]||"",W2=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ng+l+W2}var rg=!1;function og(l,d){if(!l||rg)return"";rg=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(d){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(ue){var se=ue}Reflect.construct(l,[],we)}else{try{we.call()}catch(ue){se=ue}l.call(we.prototype)}}else{try{throw Error()}catch(ue){se=ue}(we=l())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(ue){if(ue&&se&&typeof ue.stack=="string")return[ue.stack,se.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),O=_[0],z=_[1];if(O&&z){var K=O.split(`
`),ie=z.split(`
`);for(C=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;C<ie.length&&!ie[C].includes("DetermineComponentFrameRoot");)C++;if(g===K.length||C===ie.length)for(g=K.length-1,C=ie.length-1;1<=g&&0<=C&&K[g]!==ie[C];)C--;for(;1<=g&&0<=C;g--,C--)if(K[g]!==ie[C]){if(g!==1||C!==1)do if(g--,C--,0>C||K[g]!==ie[C]){var ye=`
`+K[g].replace(" at new "," at ");return l.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",l.displayName)),ye}while(1<=g&&0<=C);break}}}finally{rg=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Rl(p):""}function CO(l){switch(l.tag){case 26:case 27:case 5:return Rl(l.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 15:return og(l.type,!1);case 11:return og(l.type.render,!1);case 1:return og(l.type,!0);case 31:return Rl("Activity");default:return""}}function $2(l){try{var d="";do d+=CO(l),l=l.return;while(l);return d}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function po(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function G2(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function EO(l){var d=G2(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),g=""+l[d];if(!l.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,_=p.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return C.call(this)},set:function(O){g=""+O,_.call(this,O)}}),Object.defineProperty(l,d,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Hf(l){l._valueTracker||(l._valueTracker=EO(l))}function q2(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),g="";return l&&(g=G2(l)?l.checked?"true":"false":l.value),l=g,l!==p?(d.setValue(l),!0):!1}function Wf(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var RO=/[\n"\\]/g;function mo(l){return l.replace(RO,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function ag(l,d,p,g,C,_,O,z){l.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?l.type=O:l.removeAttribute("type"),d!=null?O==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+po(d)):l.value!==""+po(d)&&(l.value=""+po(d)):O!=="submit"&&O!=="reset"||l.removeAttribute("value"),d!=null?ig(l,O,po(d)):p!=null?ig(l,O,po(p)):g!=null&&l.removeAttribute("value"),C==null&&_!=null&&(l.defaultChecked=!!_),C!=null&&(l.checked=C&&typeof C!="function"&&typeof C!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.name=""+po(z):l.removeAttribute("name")}function X2(l,d,p,g,C,_,O,z){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(l.type=_),d!=null||p!=null){if(!(_!=="submit"&&_!=="reset"||d!=null))return;p=p!=null?""+po(p):"",d=d!=null?""+po(d):p,z||d===l.value||(l.value=d),l.defaultValue=d}g=g??C,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=z?l.checked:!!g,l.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.name=O)}function ig(l,d,p){d==="number"&&Wf(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function _l(l,d,p,g){if(l=l.options,d){d={};for(var C=0;C<p.length;C++)d["$"+p[C]]=!0;for(p=0;p<l.length;p++)C=d.hasOwnProperty("$"+l[p].value),l[p].selected!==C&&(l[p].selected=C),C&&g&&(l[p].defaultSelected=!0)}else{for(p=""+po(p),d=null,C=0;C<l.length;C++){if(l[C].value===p){l[C].selected=!0,g&&(l[C].defaultSelected=!0);return}d!==null||l[C].disabled||(d=l[C])}d!==null&&(d.selected=!0)}}function Y2(l,d,p){if(d!=null&&(d=""+po(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+po(p):""}function K2(l,d,p,g){if(d==null){if(g!=null){if(p!=null)throw Error(r(92));if(X(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),d=p}p=po(d),l.defaultValue=p,g=l.textContent,g===p&&g!==""&&g!==null&&(l.value=g)}function Tl(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var _O=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Q2(l,d,p){var g=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":g?l.setProperty(d,p):typeof p!="number"||p===0||_O.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function J2(l,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||d!=null&&d.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var C in d)g=d[C],d.hasOwnProperty(C)&&p[C]!==g&&Q2(l,C,g)}else for(var _ in d)d.hasOwnProperty(_)&&Q2(l,_,d[_])}function sg(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $f(l){return DO.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var lg=null;function ug(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Dl=null,Al=null;function Z2(l){var d=Sl(l);if(d&&(l=d.stateNode)){var p=l[Dr]||null;e:switch(l=d.stateNode,d.type){case"input":if(ag(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+mo(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var g=p[d];if(g!==l&&g.form===l.form){var C=g[Dr]||null;if(!C)throw Error(r(90));ag(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(d=0;d<p.length;d++)g=p[d],g.form===l.form&&q2(g)}break e;case"textarea":Y2(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&_l(l,!!p.multiple,d,!1)}}}var cg=!1;function eS(l,d,p){if(cg)return l(d,p);cg=!0;try{var g=l(d);return g}finally{if(cg=!1,(Dl!==null||Al!==null)&&(Nh(),Dl&&(d=Dl,l=Al,Al=Dl=null,Z2(d),l)))for(d=0;d<l.length;d++)Z2(l[d])}}function xc(l,d){var p=l.stateNode;if(p===null)return null;var g=p[Dr]||null;if(g===null)return null;p=g[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dg=!1;if(za)try{var wc={};Object.defineProperty(wc,"passive",{get:function(){dg=!0}}),window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{dg=!1}var Di=null,fg=null,Gf=null;function tS(){if(Gf)return Gf;var l,d=fg,p=d.length,g,C="value"in Di?Di.value:Di.textContent,_=C.length;for(l=0;l<p&&d[l]===C[l];l++);var O=p-l;for(g=1;g<=O&&d[p-g]===C[_-g];g++);return Gf=C.slice(l,1<g?1-g:void 0)}function qf(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Xf(){return!0}function nS(){return!1}function Ar(l){function d(p,g,C,_,O){this._reactName=p,this._targetInst=C,this.type=g,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var z in l)l.hasOwnProperty(z)&&(p=l[z],this[z]=p?p(_):_[z]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Xf:nS,this.isPropagationStopped=nS,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),d}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=Ar(Es),Sc=f({},Es,{view:0,detail:0}),AO=Ar(Sc),hg,pg,Cc,Kf=f({},Sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vg,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Cc&&(Cc&&l.type==="mousemove"?(hg=l.screenX-Cc.screenX,pg=l.screenY-Cc.screenY):pg=hg=0,Cc=l),hg)},movementY:function(l){return"movementY"in l?l.movementY:pg}}),rS=Ar(Kf),NO=f({},Kf,{dataTransfer:0}),kO=Ar(NO),MO=f({},Sc,{relatedTarget:0}),mg=Ar(MO),IO=f({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),OO=Ar(IO),PO=f({},Es,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),jO=Ar(PO),BO=f({},Es,{data:0}),oS=Ar(BO),FO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UO(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=zO[l])?!!d[l]:!1}function vg(){return UO}var VO=f({},Sc,{key:function(l){if(l.key){var d=FO[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=qf(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?LO[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vg,charCode:function(l){return l.type==="keypress"?qf(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?qf(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),HO=Ar(VO),WO=f({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aS=Ar(WO),$O=f({},Sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vg}),GO=Ar($O),qO=f({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),XO=Ar(qO),YO=f({},Kf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),KO=Ar(YO),QO=f({},Es,{newState:0,oldState:0}),JO=Ar(QO),ZO=[9,13,27,32],gg=za&&"CompositionEvent"in window,Ec=null;za&&"documentMode"in document&&(Ec=document.documentMode);var eP=za&&"TextEvent"in window&&!Ec,iS=za&&(!gg||Ec&&8<Ec&&11>=Ec),sS=" ",lS=!1;function uS(l,d){switch(l){case"keyup":return ZO.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Nl=!1;function tP(l,d){switch(l){case"compositionend":return cS(d);case"keypress":return d.which!==32?null:(lS=!0,sS);case"textInput":return l=d.data,l===sS&&lS?null:l;default:return null}}function nP(l,d){if(Nl)return l==="compositionend"||!gg&&uS(l,d)?(l=tS(),Gf=fg=Di=null,Nl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return iS&&d.locale!=="ko"?null:d.data;default:return null}}var rP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dS(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!rP[l.type]:d==="textarea"}function fS(l,d,p,g){Dl?Al?Al.push(g):Al=[g]:Dl=g,d=jh(d,"onChange"),0<d.length&&(p=new Yf("onChange","change",null,p,g),l.push({event:p,listeners:d}))}var Rc=null,_c=null;function oP(l){GE(l,0)}function Qf(l){var d=bc(l);if(q2(d))return l}function hS(l,d){if(l==="change")return d}var pS=!1;if(za){var yg;if(za){var bg="oninput"in document;if(!bg){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),bg=typeof mS.oninput=="function"}yg=bg}else yg=!1;pS=yg&&(!document.documentMode||9<document.documentMode)}function vS(){Rc&&(Rc.detachEvent("onpropertychange",gS),_c=Rc=null)}function gS(l){if(l.propertyName==="value"&&Qf(_c)){var d=[];fS(d,_c,l,ug(l)),eS(oP,d)}}function aP(l,d,p){l==="focusin"?(vS(),Rc=d,_c=p,Rc.attachEvent("onpropertychange",gS)):l==="focusout"&&vS()}function iP(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Qf(_c)}function sP(l,d){if(l==="click")return Qf(d)}function lP(l,d){if(l==="input"||l==="change")return Qf(d)}function uP(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var qr=typeof Object.is=="function"?Object.is:uP;function Tc(l,d){if(qr(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),g=Object.keys(d);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var C=p[g];if(!Be.call(d,C)||!qr(l[C],d[C]))return!1}return!0}function yS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function bS(l,d){var p=yS(l);l=0;for(var g;p;){if(p.nodeType===3){if(g=l+p.textContent.length,l<=d&&g>=d)return{node:p,offset:d-l};l=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=yS(p)}}function xS(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?xS(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function wS(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=Wf(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=Wf(l.document)}return d}function xg(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var cP=za&&"documentMode"in document&&11>=document.documentMode,kl=null,wg=null,Dc=null,Sg=!1;function SS(l,d,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Sg||kl==null||kl!==Wf(g)||(g=kl,"selectionStart"in g&&xg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Dc&&Tc(Dc,g)||(Dc=g,g=jh(wg,"onSelect"),0<g.length&&(d=new Yf("onSelect","select",null,d,p),l.push({event:d,listeners:g}),d.target=kl)))}function Rs(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var Ml={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Cg={},CS={};za&&(CS=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function _s(l){if(Cg[l])return Cg[l];if(!Ml[l])return l;var d=Ml[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in CS)return Cg[l]=d[p];return l}var ES=_s("animationend"),RS=_s("animationiteration"),_S=_s("animationstart"),dP=_s("transitionrun"),fP=_s("transitionstart"),hP=_s("transitioncancel"),TS=_s("transitionend"),DS=new Map,Eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eg.push("scrollEnd");function zo(l,d){DS.set(l,d),Cs(d,[l])}var AS=new WeakMap;function vo(l,d){if(typeof l=="object"&&l!==null){var p=AS.get(l);return p!==void 0?p:(d={value:l,source:d,stack:$2(d)},AS.set(l,d),d)}return{value:l,source:d,stack:$2(d)}}var go=[],Il=0,Rg=0;function Jf(){for(var l=Il,d=Rg=Il=0;d<l;){var p=go[d];go[d++]=null;var g=go[d];go[d++]=null;var C=go[d];go[d++]=null;var _=go[d];if(go[d++]=null,g!==null&&C!==null){var O=g.pending;O===null?C.next=C:(C.next=O.next,O.next=C),g.pending=C}_!==0&&NS(p,C,_)}}function Zf(l,d,p,g){go[Il++]=l,go[Il++]=d,go[Il++]=p,go[Il++]=g,Rg|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function _g(l,d,p,g){return Zf(l,d,p,g),eh(l)}function Ol(l,d){return Zf(l,null,null,d),eh(l)}function NS(l,d,p){l.lanes|=p;var g=l.alternate;g!==null&&(g.lanes|=p);for(var C=!1,_=l.return;_!==null;)_.childLanes|=p,g=_.alternate,g!==null&&(g.childLanes|=p),_.tag===22&&(l=_.stateNode,l===null||l._visibility&1||(C=!0)),l=_,_=_.return;return l.tag===3?(_=l.stateNode,C&&d!==null&&(C=31-Dt(p),l=_.hiddenUpdates,g=l[C],g===null?l[C]=[d]:g.push(d),d.lane=p|536870912),_):null}function eh(l){if(50<Zc)throw Zc=0,My=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var Pl={};function pP(l,d,p,g){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(l,d,p,g){return new pP(l,d,p,g)}function Tg(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ua(l,d){var p=l.alternate;return p===null?(p=Xr(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function kS(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function th(l,d,p,g,C,_){var O=0;if(g=l,typeof l=="function")Tg(l)&&(O=1);else if(typeof l=="string")O=vj(l,p,he.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case I:return l=Xr(31,p,d,C),l.elementType=I,l.lanes=_,l;case b:return Ts(p.children,C,_,d);case x:O=8,C|=24;break;case w:return l=Xr(12,p,d,C|2),l.elementType=w,l.lanes=_,l;case A:return l=Xr(13,p,d,C),l.elementType=A,l.lanes=_,l;case N:return l=Xr(19,p,d,C),l.elementType=N,l.lanes=_,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:case R:O=10;break e;case E:O=9;break e;case D:O=11;break e;case k:O=14;break e;case M:O=16,g=null;break e}O=29,p=Error(r(130,l===null?"null":typeof l,"")),g=null}return d=Xr(O,p,d,C),d.elementType=l,d.type=g,d.lanes=_,d}function Ts(l,d,p,g){return l=Xr(7,l,g,d),l.lanes=p,l}function Dg(l,d,p){return l=Xr(6,l,null,d),l.lanes=p,l}function Ag(l,d,p){return d=Xr(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var jl=[],Bl=0,nh=null,rh=0,yo=[],bo=0,Ds=null,Va=1,Ha="";function As(l,d){jl[Bl++]=rh,jl[Bl++]=nh,nh=l,rh=d}function MS(l,d,p){yo[bo++]=Va,yo[bo++]=Ha,yo[bo++]=Ds,Ds=l;var g=Va;l=Ha;var C=32-Dt(g)-1;g&=~(1<<C),p+=1;var _=32-Dt(d)+C;if(30<_){var O=C-C%5;_=(g&(1<<O)-1).toString(32),g>>=O,C-=O,Va=1<<32-Dt(d)+C|p<<C|g,Ha=_+l}else Va=1<<_|p<<C|g,Ha=l}function Ng(l){l.return!==null&&(As(l,1),MS(l,1,0))}function kg(l){for(;l===nh;)nh=jl[--Bl],jl[Bl]=null,rh=jl[--Bl],jl[Bl]=null;for(;l===Ds;)Ds=yo[--bo],yo[bo]=null,Ha=yo[--bo],yo[bo]=null,Va=yo[--bo],yo[bo]=null}var yr=null,cn=null,Ot=!1,Ns=null,ia=!1,Mg=Error(r(519));function ks(l){var d=Error(r(418,""));throw kc(vo(d,l)),Mg}function IS(l){var d=l.stateNode,p=l.type,g=l.memoizedProps;switch(d[rr]=l,d[Dr]=g,p){case"dialog":Rt("cancel",d),Rt("close",d);break;case"iframe":case"object":case"embed":Rt("load",d);break;case"video":case"audio":for(p=0;p<td.length;p++)Rt(td[p],d);break;case"source":Rt("error",d);break;case"img":case"image":case"link":Rt("error",d),Rt("load",d);break;case"details":Rt("toggle",d);break;case"input":Rt("invalid",d),X2(d,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Hf(d);break;case"select":Rt("invalid",d);break;case"textarea":Rt("invalid",d),K2(d,g.value,g.defaultValue,g.children),Hf(d)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||g.suppressHydrationWarning===!0||KE(d.textContent,p)?(g.popover!=null&&(Rt("beforetoggle",d),Rt("toggle",d)),g.onScroll!=null&&Rt("scroll",d),g.onScrollEnd!=null&&Rt("scrollend",d),g.onClick!=null&&(d.onclick=Bh),d=!0):d=!1,d||ks(l)}function OS(l){for(yr=l.return;yr;)switch(yr.tag){case 5:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:yr=yr.return}}function Ac(l){if(l!==yr)return!1;if(!Ot)return OS(l),Ot=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||Xy(l.type,l.memoizedProps)),p=!p),p&&cn&&ks(l),OS(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(p=l.data,p==="/$"){if(d===0){cn=Vo(l.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++;l=l.nextSibling}cn=null}}else d===27?(d=cn,Wi(l.type)?(l=Jy,Jy=null,cn=l):cn=d):cn=yr?Vo(l.stateNode.nextSibling):null;return!0}function Nc(){cn=yr=null,Ot=!1}function PS(){var l=Ns;return l!==null&&(Mr===null?Mr=l:Mr.push.apply(Mr,l),Ns=null),l}function kc(l){Ns===null?Ns=[l]:Ns.push(l)}var Ig=G(null),Ms=null,Wa=null;function Ai(l,d,p){ne(Ig,d._currentValue),d._currentValue=p}function $a(l){l._currentValue=Ig.current,J(Ig)}function Og(l,d,p){for(;l!==null;){var g=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,g!==null&&(g.childLanes|=d)):g!==null&&(g.childLanes&d)!==d&&(g.childLanes|=d),l===p)break;l=l.return}}function Pg(l,d,p,g){var C=l.child;for(C!==null&&(C.return=l);C!==null;){var _=C.dependencies;if(_!==null){var O=C.child;_=_.firstContext;e:for(;_!==null;){var z=_;_=C;for(var K=0;K<d.length;K++)if(z.context===d[K]){_.lanes|=p,z=_.alternate,z!==null&&(z.lanes|=p),Og(_.return,p,l),g||(O=null);break e}_=z.next}}else if(C.tag===18){if(O=C.return,O===null)throw Error(r(341));O.lanes|=p,_=O.alternate,_!==null&&(_.lanes|=p),Og(O,p,l),O=null}else O=C.child;if(O!==null)O.return=C;else for(O=C;O!==null;){if(O===l){O=null;break}if(C=O.sibling,C!==null){C.return=O.return,O=C;break}O=O.return}C=O}}function Mc(l,d,p,g){l=null;for(var C=d,_=!1;C!==null;){if(!_){if((C.flags&524288)!==0)_=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var O=C.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var z=C.type;qr(C.pendingProps.value,O.value)||(l!==null?l.push(z):l=[z])}}else if(C===le.current){if(O=C.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(l!==null?l.push(sd):l=[sd])}C=C.return}l!==null&&Pg(d,l,p,g),d.flags|=262144}function oh(l){for(l=l.firstContext;l!==null;){if(!qr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Is(l){Ms=l,Wa=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function or(l){return jS(Ms,l)}function ah(l,d){return Ms===null&&Is(l),jS(l,d)}function jS(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},Wa===null){if(l===null)throw Error(r(308));Wa=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else Wa=Wa.next=d;return p}var mP=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,g){l.push(g)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},vP=e.unstable_scheduleCallback,gP=e.unstable_NormalPriority,Cn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jg(){return{controller:new mP,data:new Map,refCount:0}}function Ic(l){l.refCount--,l.refCount===0&&vP(gP,function(){l.controller.abort()})}var Oc=null,Bg=0,Fl=0,Ll=null;function yP(l,d){if(Oc===null){var p=Oc=[];Bg=0,Fl=Ly(),Ll={status:"pending",value:void 0,then:function(g){p.push(g)}}}return Bg++,d.then(BS,BS),d}function BS(){if(--Bg===0&&Oc!==null){Ll!==null&&(Ll.status="fulfilled");var l=Oc;Oc=null,Fl=0,Ll=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function bP(l,d){var p=[],g={status:"pending",value:null,reason:null,then:function(C){p.push(C)}};return l.then(function(){g.status="fulfilled",g.value=d;for(var C=0;C<p.length;C++)(0,p[C])(d)},function(C){for(g.status="rejected",g.reason=C,C=0;C<p.length;C++)(0,p[C])(void 0)}),g}var FS=j.S;j.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&yP(l,d),FS!==null&&FS(l,d)};var Os=G(null);function Fg(){var l=Os.current;return l!==null?l:Yt.pooledCache}function ih(l,d){d===null?ne(Os,Os.current):ne(Os,d.pool)}function LS(){var l=Fg();return l===null?null:{parent:Cn._currentValue,pool:l}}var Pc=Error(r(460)),zS=Error(r(474)),sh=Error(r(542)),Lg={then:function(){}};function US(l){return l=l.status,l==="fulfilled"||l==="rejected"}function lh(){}function VS(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(lh,lh),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,WS(l),l;default:if(typeof d.status=="string")d.then(lh,lh);else{if(l=Yt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(g){if(d.status==="pending"){var C=d;C.status="fulfilled",C.value=g}},function(g){if(d.status==="pending"){var C=d;C.status="rejected",C.reason=g}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,WS(l),l}throw jc=d,Pc}}var jc=null;function HS(){if(jc===null)throw Error(r(459));var l=jc;return jc=null,l}function WS(l){if(l===Pc||l===sh)throw Error(r(483))}var Ni=!1;function zg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ug(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ki(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Mi(l,d,p){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(zt&2)!==0){var C=g.pending;return C===null?d.next=d:(d.next=C.next,C.next=d),g.pending=d,d=eh(l),NS(l,null,p),d}return Zf(l,g,d,p),eh(l)}function Bc(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var g=d.lanes;g&=l.pendingLanes,p|=g,d.lanes=p,gr(l,p)}}function Vg(l,d){var p=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var C=null,_=null;if(p=p.firstBaseUpdate,p!==null){do{var O={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};_===null?C=_=O:_=_.next=O,p=p.next}while(p!==null);_===null?C=_=d:_=_.next=d}else C=_=d;p={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var Hg=!1;function Fc(){if(Hg){var l=Ll;if(l!==null)throw l}}function Lc(l,d,p,g){Hg=!1;var C=l.updateQueue;Ni=!1;var _=C.firstBaseUpdate,O=C.lastBaseUpdate,z=C.shared.pending;if(z!==null){C.shared.pending=null;var K=z,ie=K.next;K.next=null,O===null?_=ie:O.next=ie,O=K;var ye=l.alternate;ye!==null&&(ye=ye.updateQueue,z=ye.lastBaseUpdate,z!==O&&(z===null?ye.firstBaseUpdate=ie:z.next=ie,ye.lastBaseUpdate=K))}if(_!==null){var we=C.baseState;O=0,ye=ie=K=null,z=_;do{var se=z.lane&-536870913,ue=se!==z.lane;if(ue?(At&se)===se:(g&se)===se){se!==0&&se===Fl&&(Hg=!0),ye!==null&&(ye=ye.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var ut=l,ot=z;se=d;var Wt=p;switch(ot.tag){case 1:if(ut=ot.payload,typeof ut=="function"){we=ut.call(Wt,we,se);break e}we=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ot.payload,se=typeof ut=="function"?ut.call(Wt,we,se):ut,se==null)break e;we=f({},we,se);break e;case 2:Ni=!0}}se=z.callback,se!==null&&(l.flags|=64,ue&&(l.flags|=8192),ue=C.callbacks,ue===null?C.callbacks=[se]:ue.push(se))}else ue={lane:se,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ye===null?(ie=ye=ue,K=we):ye=ye.next=ue,O|=se;if(z=z.next,z===null){if(z=C.shared.pending,z===null)break;ue=z,z=ue.next,ue.next=null,C.lastBaseUpdate=ue,C.shared.pending=null}}while(!0);ye===null&&(K=we),C.baseState=K,C.firstBaseUpdate=ie,C.lastBaseUpdate=ye,_===null&&(C.shared.lanes=0),zi|=O,l.lanes=O,l.memoizedState=we}}function $S(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function GS(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)$S(p[l],d)}var zl=G(null),uh=G(0);function qS(l,d){l=Ja,ne(uh,l),ne(zl,d),Ja=l|d.baseLanes}function Wg(){ne(uh,Ja),ne(zl,zl.current)}function $g(){Ja=uh.current,J(zl),J(uh)}var Ii=0,xt=null,Vt=null,bn=null,ch=!1,Ul=!1,Ps=!1,dh=0,zc=0,Vl=null,xP=0;function mn(){throw Error(r(321))}function Gg(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!qr(l[p],d[p]))return!1;return!0}function qg(l,d,p,g,C,_){return Ii=_,xt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,j.H=l===null||l.memoizedState===null?NC:kC,Ps=!1,_=p(g,C),Ps=!1,Ul&&(_=YS(d,p,g,C)),XS(l),_}function XS(l){j.H=gh;var d=Vt!==null&&Vt.next!==null;if(Ii=0,bn=Vt=xt=null,ch=!1,zc=0,Vl=null,d)throw Error(r(300));l===null||Bn||(l=l.dependencies,l!==null&&oh(l)&&(Bn=!0))}function YS(l,d,p,g){xt=l;var C=0;do{if(Ul&&(Vl=null),zc=0,Ul=!1,25<=C)throw Error(r(301));if(C+=1,bn=Vt=null,l.updateQueue!=null){var _=l.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}j.H=TP,_=d(p,g)}while(Ul);return _}function wP(){var l=j.H,d=l.useState()[0];return d=typeof d.then=="function"?Uc(d):d,l=l.useState()[0],(Vt!==null?Vt.memoizedState:null)!==l&&(xt.flags|=1024),d}function Xg(){var l=dh!==0;return dh=0,l}function Yg(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function Kg(l){if(ch){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}ch=!1}Ii=0,bn=Vt=xt=null,Ul=!1,zc=dh=0,Vl=null}function Nr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?xt.memoizedState=bn=l:bn=bn.next=l,bn}function xn(){if(Vt===null){var l=xt.alternate;l=l!==null?l.memoizedState:null}else l=Vt.next;var d=bn===null?xt.memoizedState:bn.next;if(d!==null)bn=d,Vt=l;else{if(l===null)throw xt.alternate===null?Error(r(467)):Error(r(310));Vt=l,l={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},bn===null?xt.memoizedState=bn=l:bn=bn.next=l}return bn}function Qg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uc(l){var d=zc;return zc+=1,Vl===null&&(Vl=[]),l=VS(Vl,l,d),d=xt,(bn===null?d.memoizedState:bn.next)===null&&(d=d.alternate,j.H=d===null||d.memoizedState===null?NC:kC),l}function fh(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Uc(l);if(l.$$typeof===R)return or(l)}throw Error(r(438,String(l)))}function Jg(l){var d=null,p=xt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var g=xt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(d={data:g.data.map(function(C){return C.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=Qg(),xt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),g=0;g<l;g++)p[g]=P;return d.index++,p}function Ga(l,d){return typeof d=="function"?d(l):d}function hh(l){var d=xn();return Zg(d,Vt,l)}function Zg(l,d,p){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var C=l.baseQueue,_=g.pending;if(_!==null){if(C!==null){var O=C.next;C.next=_.next,_.next=O}d.baseQueue=C=_,g.pending=null}if(_=l.baseState,C===null)l.memoizedState=_;else{d=C.next;var z=O=null,K=null,ie=d,ye=!1;do{var we=ie.lane&-536870913;if(we!==ie.lane?(At&we)===we:(Ii&we)===we){var se=ie.revertLane;if(se===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),we===Fl&&(ye=!0);else if((Ii&se)===se){ie=ie.next,se===Fl&&(ye=!0);continue}else we={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},K===null?(z=K=we,O=_):K=K.next=we,xt.lanes|=se,zi|=se;we=ie.action,Ps&&p(_,we),_=ie.hasEagerState?ie.eagerState:p(_,we)}else se={lane:we,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},K===null?(z=K=se,O=_):K=K.next=se,xt.lanes|=we,zi|=we;ie=ie.next}while(ie!==null&&ie!==d);if(K===null?O=_:K.next=z,!qr(_,l.memoizedState)&&(Bn=!0,ye&&(p=Ll,p!==null)))throw p;l.memoizedState=_,l.baseState=O,l.baseQueue=K,g.lastRenderedState=_}return C===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function ey(l){var d=xn(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var g=p.dispatch,C=p.pending,_=d.memoizedState;if(C!==null){p.pending=null;var O=C=C.next;do _=l(_,O.action),O=O.next;while(O!==C);qr(_,d.memoizedState)||(Bn=!0),d.memoizedState=_,d.baseQueue===null&&(d.baseState=_),p.lastRenderedState=_}return[_,g]}function KS(l,d,p){var g=xt,C=xn(),_=Ot;if(_){if(p===void 0)throw Error(r(407));p=p()}else p=d();var O=!qr((Vt||C).memoizedState,p);O&&(C.memoizedState=p,Bn=!0),C=C.queue;var z=ZS.bind(null,g,C,l);if(Vc(2048,8,z,[l]),C.getSnapshot!==d||O||bn!==null&&bn.memoizedState.tag&1){if(g.flags|=2048,Hl(9,ph(),JS.bind(null,g,C,p,d),null),Yt===null)throw Error(r(349));_||(Ii&124)!==0||QS(g,d,p)}return p}function QS(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=xt.updateQueue,d===null?(d=Qg(),xt.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function JS(l,d,p,g){d.value=p,d.getSnapshot=g,eC(d)&&tC(l)}function ZS(l,d,p){return p(function(){eC(d)&&tC(l)})}function eC(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!qr(l,p)}catch{return!0}}function tC(l){var d=Ol(l,2);d!==null&&Zr(d,l,2)}function ty(l){var d=Nr();if(typeof l=="function"){var p=l;if(l=p(),Ps){Mt(!0);try{p()}finally{Mt(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:l},d}function nC(l,d,p,g){return l.baseState=p,Zg(l,Vt,typeof g=="function"?g:Ga)}function SP(l,d,p,g,C){if(vh(l))throw Error(r(485));if(l=d.action,l!==null){var _={payload:C,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};j.T!==null?p(!0):_.isTransition=!1,g(_),p=d.pending,p===null?(_.next=d.pending=_,rC(d,_)):(_.next=p.next,d.pending=p.next=_)}}function rC(l,d){var p=d.action,g=d.payload,C=l.state;if(d.isTransition){var _=j.T,O={};j.T=O;try{var z=p(C,g),K=j.S;K!==null&&K(O,z),oC(l,d,z)}catch(ie){ny(l,d,ie)}finally{j.T=_}}else try{_=p(C,g),oC(l,d,_)}catch(ie){ny(l,d,ie)}}function oC(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){aC(l,d,g)},function(g){return ny(l,d,g)}):aC(l,d,p)}function aC(l,d,p){d.status="fulfilled",d.value=p,iC(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,rC(l,p)))}function ny(l,d,p){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do d.status="rejected",d.reason=p,iC(d),d=d.next;while(d!==g)}l.action=null}function iC(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function sC(l,d){return d}function lC(l,d){if(Ot){var p=Yt.formState;if(p!==null){e:{var g=xt;if(Ot){if(cn){t:{for(var C=cn,_=ia;C.nodeType!==8;){if(!_){C=null;break t}if(C=Vo(C.nextSibling),C===null){C=null;break t}}_=C.data,C=_==="F!"||_==="F"?C:null}if(C){cn=Vo(C.nextSibling),g=C.data==="F!";break e}}ks(g)}g=!1}g&&(d=p[0])}}return p=Nr(),p.memoizedState=p.baseState=d,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sC,lastRenderedState:d},p.queue=g,p=TC.bind(null,xt,g),g.dispatch=p,g=ty(!1),_=sy.bind(null,xt,!1,g.queue),g=Nr(),C={state:d,dispatch:null,action:l,pending:null},g.queue=C,p=SP.bind(null,xt,C,_,p),C.dispatch=p,g.memoizedState=l,[d,p,!1]}function uC(l){var d=xn();return cC(d,Vt,l)}function cC(l,d,p){if(d=Zg(l,d,sC)[0],l=hh(Ga)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var g=Uc(d)}catch(O){throw O===Pc?sh:O}else g=d;d=xn();var C=d.queue,_=C.dispatch;return p!==d.memoizedState&&(xt.flags|=2048,Hl(9,ph(),CP.bind(null,C,p),null)),[g,_,l]}function CP(l,d){l.action=d}function dC(l){var d=xn(),p=Vt;if(p!==null)return cC(d,p,l);xn(),d=d.memoizedState,p=xn();var g=p.queue.dispatch;return p.memoizedState=l,[d,g,!1]}function Hl(l,d,p,g){return l={tag:l,create:p,deps:g,inst:d,next:null},d=xt.updateQueue,d===null&&(d=Qg(),xt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(g=p.next,p.next=l,l.next=g,d.lastEffect=l),l}function ph(){return{destroy:void 0,resource:void 0}}function fC(){return xn().memoizedState}function mh(l,d,p,g){var C=Nr();g=g===void 0?null:g,xt.flags|=l,C.memoizedState=Hl(1|d,ph(),p,g)}function Vc(l,d,p,g){var C=xn();g=g===void 0?null:g;var _=C.memoizedState.inst;Vt!==null&&g!==null&&Gg(g,Vt.memoizedState.deps)?C.memoizedState=Hl(d,_,p,g):(xt.flags|=l,C.memoizedState=Hl(1|d,_,p,g))}function hC(l,d){mh(8390656,8,l,d)}function pC(l,d){Vc(2048,8,l,d)}function mC(l,d){return Vc(4,2,l,d)}function vC(l,d){return Vc(4,4,l,d)}function gC(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function yC(l,d,p){p=p!=null?p.concat([l]):null,Vc(4,4,gC.bind(null,d,l),p)}function ry(){}function bC(l,d){var p=xn();d=d===void 0?null:d;var g=p.memoizedState;return d!==null&&Gg(d,g[1])?g[0]:(p.memoizedState=[l,d],l)}function xC(l,d){var p=xn();d=d===void 0?null:d;var g=p.memoizedState;if(d!==null&&Gg(d,g[1]))return g[0];if(g=l(),Ps){Mt(!0);try{l()}finally{Mt(!1)}}return p.memoizedState=[g,d],g}function oy(l,d,p){return p===void 0||(Ii&1073741824)!==0?l.memoizedState=d:(l.memoizedState=p,l=CE(),xt.lanes|=l,zi|=l,p)}function wC(l,d,p,g){return qr(p,d)?p:zl.current!==null?(l=oy(l,p,g),qr(l,d)||(Bn=!0),l):(Ii&42)===0?(Bn=!0,l.memoizedState=p):(l=CE(),xt.lanes|=l,zi|=l,d)}function SC(l,d,p,g,C){var _=U.p;U.p=_!==0&&8>_?_:8;var O=j.T,z={};j.T=z,sy(l,!1,d,p);try{var K=C(),ie=j.S;if(ie!==null&&ie(z,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ye=bP(K,g);Hc(l,d,ye,Jr(l))}else Hc(l,d,g,Jr(l))}catch(we){Hc(l,d,{then:function(){},status:"rejected",reason:we},Jr())}finally{U.p=_,j.T=O}}function EP(){}function ay(l,d,p,g){if(l.tag!==5)throw Error(r(476));var C=CC(l).queue;SC(l,C,d,V,p===null?EP:function(){return EC(l),p(g)})}function CC(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:V},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function EC(l){var d=CC(l).next.queue;Hc(l,d,{},Jr())}function iy(){return or(sd)}function RC(){return xn().memoizedState}function _C(){return xn().memoizedState}function RP(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=Jr();l=ki(p);var g=Mi(d,l,p);g!==null&&(Zr(g,d,p),Bc(g,d,p)),d={cache:jg()},l.payload=d;return}d=d.return}}function _P(l,d,p){var g=Jr();p={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},vh(l)?DC(d,p):(p=_g(l,d,p,g),p!==null&&(Zr(p,l,g),AC(p,d,g)))}function TC(l,d,p){var g=Jr();Hc(l,d,p,g)}function Hc(l,d,p,g){var C={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(vh(l))DC(d,C);else{var _=l.alternate;if(l.lanes===0&&(_===null||_.lanes===0)&&(_=d.lastRenderedReducer,_!==null))try{var O=d.lastRenderedState,z=_(O,p);if(C.hasEagerState=!0,C.eagerState=z,qr(z,O))return Zf(l,d,C,0),Yt===null&&Jf(),!1}catch{}finally{}if(p=_g(l,d,C,g),p!==null)return Zr(p,l,g),AC(p,d,g),!0}return!1}function sy(l,d,p,g){if(g={lane:2,revertLane:Ly(),action:g,hasEagerState:!1,eagerState:null,next:null},vh(l)){if(d)throw Error(r(479))}else d=_g(l,p,g,2),d!==null&&Zr(d,l,2)}function vh(l){var d=l.alternate;return l===xt||d!==null&&d===xt}function DC(l,d){Ul=ch=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function AC(l,d,p){if((p&4194048)!==0){var g=d.lanes;g&=l.pendingLanes,p|=g,d.lanes=p,gr(l,p)}}var gh={readContext:or,use:fh,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn},NC={readContext:or,use:fh,useCallback:function(l,d){return Nr().memoizedState=[l,d===void 0?null:d],l},useContext:or,useEffect:hC,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,mh(4194308,4,gC.bind(null,d,l),p)},useLayoutEffect:function(l,d){return mh(4194308,4,l,d)},useInsertionEffect:function(l,d){mh(4,2,l,d)},useMemo:function(l,d){var p=Nr();d=d===void 0?null:d;var g=l();if(Ps){Mt(!0);try{l()}finally{Mt(!1)}}return p.memoizedState=[g,d],g},useReducer:function(l,d,p){var g=Nr();if(p!==void 0){var C=p(d);if(Ps){Mt(!0);try{p(d)}finally{Mt(!1)}}}else C=d;return g.memoizedState=g.baseState=C,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:C},g.queue=l,l=l.dispatch=_P.bind(null,xt,l),[g.memoizedState,l]},useRef:function(l){var d=Nr();return l={current:l},d.memoizedState=l},useState:function(l){l=ty(l);var d=l.queue,p=TC.bind(null,xt,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:ry,useDeferredValue:function(l,d){var p=Nr();return oy(p,l,d)},useTransition:function(){var l=ty(!1);return l=SC.bind(null,xt,l.queue,!0,!1),Nr().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var g=xt,C=Nr();if(Ot){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),Yt===null)throw Error(r(349));(At&124)!==0||QS(g,d,p)}C.memoizedState=p;var _={value:p,getSnapshot:d};return C.queue=_,hC(ZS.bind(null,g,_,l),[l]),g.flags|=2048,Hl(9,ph(),JS.bind(null,g,_,p,d),null),p},useId:function(){var l=Nr(),d=Yt.identifierPrefix;if(Ot){var p=Ha,g=Va;p=(g&~(1<<32-Dt(g)-1)).toString(32)+p,d=""+d+"R"+p,p=dh++,0<p&&(d+="H"+p.toString(32)),d+=""}else p=xP++,d=""+d+"r"+p.toString(32)+"";return l.memoizedState=d},useHostTransitionStatus:iy,useFormState:lC,useActionState:lC,useOptimistic:function(l){var d=Nr();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=sy.bind(null,xt,!0,p),p.dispatch=d,[l,d]},useMemoCache:Jg,useCacheRefresh:function(){return Nr().memoizedState=RP.bind(null,xt)}},kC={readContext:or,use:fh,useCallback:bC,useContext:or,useEffect:pC,useImperativeHandle:yC,useInsertionEffect:mC,useLayoutEffect:vC,useMemo:xC,useReducer:hh,useRef:fC,useState:function(){return hh(Ga)},useDebugValue:ry,useDeferredValue:function(l,d){var p=xn();return wC(p,Vt.memoizedState,l,d)},useTransition:function(){var l=hh(Ga)[0],d=xn().memoizedState;return[typeof l=="boolean"?l:Uc(l),d]},useSyncExternalStore:KS,useId:RC,useHostTransitionStatus:iy,useFormState:uC,useActionState:uC,useOptimistic:function(l,d){var p=xn();return nC(p,Vt,l,d)},useMemoCache:Jg,useCacheRefresh:_C},TP={readContext:or,use:fh,useCallback:bC,useContext:or,useEffect:pC,useImperativeHandle:yC,useInsertionEffect:mC,useLayoutEffect:vC,useMemo:xC,useReducer:ey,useRef:fC,useState:function(){return ey(Ga)},useDebugValue:ry,useDeferredValue:function(l,d){var p=xn();return Vt===null?oy(p,l,d):wC(p,Vt.memoizedState,l,d)},useTransition:function(){var l=ey(Ga)[0],d=xn().memoizedState;return[typeof l=="boolean"?l:Uc(l),d]},useSyncExternalStore:KS,useId:RC,useHostTransitionStatus:iy,useFormState:dC,useActionState:dC,useOptimistic:function(l,d){var p=xn();return Vt!==null?nC(p,Vt,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:Jg,useCacheRefresh:_C},Wl=null,Wc=0;function yh(l){var d=Wc;return Wc+=1,Wl===null&&(Wl=[]),VS(Wl,l,d)}function $c(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function bh(l,d){throw d.$$typeof===h?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function MC(l){var d=l._init;return d(l._payload)}function IC(l){function d(te,Z){if(l){var oe=te.deletions;oe===null?(te.deletions=[Z],te.flags|=16):oe.push(Z)}}function p(te,Z){if(!l)return null;for(;Z!==null;)d(te,Z),Z=Z.sibling;return null}function g(te){for(var Z=new Map;te!==null;)te.key!==null?Z.set(te.key,te):Z.set(te.index,te),te=te.sibling;return Z}function C(te,Z){return te=Ua(te,Z),te.index=0,te.sibling=null,te}function _(te,Z,oe){return te.index=oe,l?(oe=te.alternate,oe!==null?(oe=oe.index,oe<Z?(te.flags|=67108866,Z):oe):(te.flags|=67108866,Z)):(te.flags|=1048576,Z)}function O(te){return l&&te.alternate===null&&(te.flags|=67108866),te}function z(te,Z,oe,be){return Z===null||Z.tag!==6?(Z=Dg(oe,te.mode,be),Z.return=te,Z):(Z=C(Z,oe),Z.return=te,Z)}function K(te,Z,oe,be){var Ue=oe.type;return Ue===b?ye(te,Z,oe.props.children,be,oe.key):Z!==null&&(Z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===M&&MC(Ue)===Z.type)?(Z=C(Z,oe.props),$c(Z,oe),Z.return=te,Z):(Z=th(oe.type,oe.key,oe.props,null,te.mode,be),$c(Z,oe),Z.return=te,Z)}function ie(te,Z,oe,be){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=Ag(oe,te.mode,be),Z.return=te,Z):(Z=C(Z,oe.children||[]),Z.return=te,Z)}function ye(te,Z,oe,be,Ue){return Z===null||Z.tag!==7?(Z=Ts(oe,te.mode,be,Ue),Z.return=te,Z):(Z=C(Z,oe),Z.return=te,Z)}function we(te,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Dg(""+Z,te.mode,oe),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return oe=th(Z.type,Z.key,Z.props,null,te.mode,oe),$c(oe,Z),oe.return=te,oe;case v:return Z=Ag(Z,te.mode,oe),Z.return=te,Z;case M:var be=Z._init;return Z=be(Z._payload),we(te,Z,oe)}if(X(Z)||F(Z))return Z=Ts(Z,te.mode,oe,null),Z.return=te,Z;if(typeof Z.then=="function")return we(te,yh(Z),oe);if(Z.$$typeof===R)return we(te,ah(te,Z),oe);bh(te,Z)}return null}function se(te,Z,oe,be){var Ue=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ue!==null?null:z(te,Z,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case m:return oe.key===Ue?K(te,Z,oe,be):null;case v:return oe.key===Ue?ie(te,Z,oe,be):null;case M:return Ue=oe._init,oe=Ue(oe._payload),se(te,Z,oe,be)}if(X(oe)||F(oe))return Ue!==null?null:ye(te,Z,oe,be,null);if(typeof oe.then=="function")return se(te,Z,yh(oe),be);if(oe.$$typeof===R)return se(te,Z,ah(te,oe),be);bh(te,oe)}return null}function ue(te,Z,oe,be,Ue){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return te=te.get(oe)||null,z(Z,te,""+be,Ue);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case m:return te=te.get(be.key===null?oe:be.key)||null,K(Z,te,be,Ue);case v:return te=te.get(be.key===null?oe:be.key)||null,ie(Z,te,be,Ue);case M:var St=be._init;return be=St(be._payload),ue(te,Z,oe,be,Ue)}if(X(be)||F(be))return te=te.get(oe)||null,ye(Z,te,be,Ue,null);if(typeof be.then=="function")return ue(te,Z,oe,yh(be),Ue);if(be.$$typeof===R)return ue(te,Z,oe,ah(Z,be),Ue);bh(Z,be)}return null}function ut(te,Z,oe,be){for(var Ue=null,St=null,Ze=Z,st=Z=0,Ln=null;Ze!==null&&st<oe.length;st++){Ze.index>st?(Ln=Ze,Ze=null):Ln=Ze.sibling;var It=se(te,Ze,oe[st],be);if(It===null){Ze===null&&(Ze=Ln);break}l&&Ze&&It.alternate===null&&d(te,Ze),Z=_(It,Z,st),St===null?Ue=It:St.sibling=It,St=It,Ze=Ln}if(st===oe.length)return p(te,Ze),Ot&&As(te,st),Ue;if(Ze===null){for(;st<oe.length;st++)Ze=we(te,oe[st],be),Ze!==null&&(Z=_(Ze,Z,st),St===null?Ue=Ze:St.sibling=Ze,St=Ze);return Ot&&As(te,st),Ue}for(Ze=g(Ze);st<oe.length;st++)Ln=ue(Ze,te,st,oe[st],be),Ln!==null&&(l&&Ln.alternate!==null&&Ze.delete(Ln.key===null?st:Ln.key),Z=_(Ln,Z,st),St===null?Ue=Ln:St.sibling=Ln,St=Ln);return l&&Ze.forEach(function(Yi){return d(te,Yi)}),Ot&&As(te,st),Ue}function ot(te,Z,oe,be){if(oe==null)throw Error(r(151));for(var Ue=null,St=null,Ze=Z,st=Z=0,Ln=null,It=oe.next();Ze!==null&&!It.done;st++,It=oe.next()){Ze.index>st?(Ln=Ze,Ze=null):Ln=Ze.sibling;var Yi=se(te,Ze,It.value,be);if(Yi===null){Ze===null&&(Ze=Ln);break}l&&Ze&&Yi.alternate===null&&d(te,Ze),Z=_(Yi,Z,st),St===null?Ue=Yi:St.sibling=Yi,St=Yi,Ze=Ln}if(It.done)return p(te,Ze),Ot&&As(te,st),Ue;if(Ze===null){for(;!It.done;st++,It=oe.next())It=we(te,It.value,be),It!==null&&(Z=_(It,Z,st),St===null?Ue=It:St.sibling=It,St=It);return Ot&&As(te,st),Ue}for(Ze=g(Ze);!It.done;st++,It=oe.next())It=ue(Ze,te,st,It.value,be),It!==null&&(l&&It.alternate!==null&&Ze.delete(It.key===null?st:It.key),Z=_(It,Z,st),St===null?Ue=It:St.sibling=It,St=It);return l&&Ze.forEach(function(Dj){return d(te,Dj)}),Ot&&As(te,st),Ue}function Wt(te,Z,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===b&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case m:e:{for(var Ue=oe.key;Z!==null;){if(Z.key===Ue){if(Ue=oe.type,Ue===b){if(Z.tag===7){p(te,Z.sibling),be=C(Z,oe.props.children),be.return=te,te=be;break e}}else if(Z.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===M&&MC(Ue)===Z.type){p(te,Z.sibling),be=C(Z,oe.props),$c(be,oe),be.return=te,te=be;break e}p(te,Z);break}else d(te,Z);Z=Z.sibling}oe.type===b?(be=Ts(oe.props.children,te.mode,be,oe.key),be.return=te,te=be):(be=th(oe.type,oe.key,oe.props,null,te.mode,be),$c(be,oe),be.return=te,te=be)}return O(te);case v:e:{for(Ue=oe.key;Z!==null;){if(Z.key===Ue)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){p(te,Z.sibling),be=C(Z,oe.children||[]),be.return=te,te=be;break e}else{p(te,Z);break}else d(te,Z);Z=Z.sibling}be=Ag(oe,te.mode,be),be.return=te,te=be}return O(te);case M:return Ue=oe._init,oe=Ue(oe._payload),Wt(te,Z,oe,be)}if(X(oe))return ut(te,Z,oe,be);if(F(oe)){if(Ue=F(oe),typeof Ue!="function")throw Error(r(150));return oe=Ue.call(oe),ot(te,Z,oe,be)}if(typeof oe.then=="function")return Wt(te,Z,yh(oe),be);if(oe.$$typeof===R)return Wt(te,Z,ah(te,oe),be);bh(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,Z!==null&&Z.tag===6?(p(te,Z.sibling),be=C(Z,oe),be.return=te,te=be):(p(te,Z),be=Dg(oe,te.mode,be),be.return=te,te=be),O(te)):p(te,Z)}return function(te,Z,oe,be){try{Wc=0;var Ue=Wt(te,Z,oe,be);return Wl=null,Ue}catch(Ze){if(Ze===Pc||Ze===sh)throw Ze;var St=Xr(29,Ze,null,te.mode);return St.lanes=be,St.return=te,St}finally{}}}var $l=IC(!0),OC=IC(!1),xo=G(null),sa=null;function Oi(l){var d=l.alternate;ne(En,En.current&1),ne(xo,l),sa===null&&(d===null||zl.current!==null||d.memoizedState!==null)&&(sa=l)}function PC(l){if(l.tag===22){if(ne(En,En.current),ne(xo,l),sa===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(sa=l)}}else Pi()}function Pi(){ne(En,En.current),ne(xo,xo.current)}function qa(l){J(xo),sa===l&&(sa=null),J(En)}var En=G(0);function xh(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||Qy(p)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function ly(l,d,p,g){d=l.memoizedState,p=p(g,d),p=p==null?d:f({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var uy={enqueueSetState:function(l,d,p){l=l._reactInternals;var g=Jr(),C=ki(g);C.payload=d,p!=null&&(C.callback=p),d=Mi(l,C,g),d!==null&&(Zr(d,l,g),Bc(d,l,g))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var g=Jr(),C=ki(g);C.tag=1,C.payload=d,p!=null&&(C.callback=p),d=Mi(l,C,g),d!==null&&(Zr(d,l,g),Bc(d,l,g))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=Jr(),g=ki(p);g.tag=2,d!=null&&(g.callback=d),d=Mi(l,g,p),d!==null&&(Zr(d,l,p),Bc(d,l,p))}};function jC(l,d,p,g,C,_,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,_,O):d.prototype&&d.prototype.isPureReactComponent?!Tc(p,g)||!Tc(C,_):!0}function BC(l,d,p,g){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,g),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,g),d.state!==l&&uy.enqueueReplaceState(d,d.state,null)}function js(l,d){var p=d;if("ref"in d){p={};for(var g in d)g!=="ref"&&(p[g]=d[g])}if(l=l.defaultProps){p===d&&(p=f({},p));for(var C in l)p[C]===void 0&&(p[C]=l[C])}return p}var wh=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function FC(l){wh(l)}function LC(l){console.error(l)}function zC(l){wh(l)}function Sh(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(g){setTimeout(function(){throw g})}}function UC(l,d,p){try{var g=l.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function cy(l,d,p){return p=ki(p),p.tag=3,p.payload={element:null},p.callback=function(){Sh(l,d)},p}function VC(l){return l=ki(l),l.tag=3,l}function HC(l,d,p,g){var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var _=g.value;l.payload=function(){return C(_)},l.callback=function(){UC(d,p,g)}}var O=p.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){UC(d,p,g),typeof C!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})})}function DP(l,d,p,g,C){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(d=p.alternate,d!==null&&Mc(d,p,C,!0),p=xo.current,p!==null){switch(p.tag){case 13:return sa===null?Oy():p.alternate===null&&dn===0&&(dn=3),p.flags&=-257,p.flags|=65536,p.lanes=C,g===Lg?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([g]):d.add(g),jy(l,g,C)),!1;case 22:return p.flags|=65536,g===Lg?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([g]):p.add(g)),jy(l,g,C)),!1}throw Error(r(435,p.tag))}return jy(l,g,C),Oy(),!1}if(Ot)return d=xo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=C,g!==Mg&&(l=Error(r(422),{cause:g}),kc(vo(l,p)))):(g!==Mg&&(d=Error(r(423),{cause:g}),kc(vo(d,p))),l=l.current.alternate,l.flags|=65536,C&=-C,l.lanes|=C,g=vo(g,p),C=cy(l.stateNode,g,C),Vg(l,C),dn!==4&&(dn=2)),!1;var _=Error(r(520),{cause:g});if(_=vo(_,p),Jc===null?Jc=[_]:Jc.push(_),dn!==4&&(dn=2),d===null)return!0;g=vo(g,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=C&-C,p.lanes|=l,l=cy(p.stateNode,g,l),Vg(p,l),!1;case 1:if(d=p.type,_=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ui===null||!Ui.has(_))))return p.flags|=65536,C&=-C,p.lanes|=C,C=VC(C),HC(C,l,p,g),Vg(p,C),!1}p=p.return}while(p!==null);return!1}var WC=Error(r(461)),Bn=!1;function Yn(l,d,p,g){d.child=l===null?OC(d,null,p,g):$l(d,l.child,p,g)}function $C(l,d,p,g,C){p=p.render;var _=d.ref;if("ref"in g){var O={};for(var z in g)z!=="ref"&&(O[z]=g[z])}else O=g;return Is(d),g=qg(l,d,p,O,_,C),z=Xg(),l!==null&&!Bn?(Yg(l,d,C),Xa(l,d,C)):(Ot&&z&&Ng(d),d.flags|=1,Yn(l,d,g,C),d.child)}function GC(l,d,p,g,C){if(l===null){var _=p.type;return typeof _=="function"&&!Tg(_)&&_.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=_,qC(l,d,_,g,C)):(l=th(p.type,null,g,d,d.mode,C),l.ref=d.ref,l.return=d,d.child=l)}if(_=l.child,!yy(l,C)){var O=_.memoizedProps;if(p=p.compare,p=p!==null?p:Tc,p(O,g)&&l.ref===d.ref)return Xa(l,d,C)}return d.flags|=1,l=Ua(_,g),l.ref=d.ref,l.return=d,d.child=l}function qC(l,d,p,g,C){if(l!==null){var _=l.memoizedProps;if(Tc(_,g)&&l.ref===d.ref)if(Bn=!1,d.pendingProps=g=_,yy(l,C))(l.flags&131072)!==0&&(Bn=!0);else return d.lanes=l.lanes,Xa(l,d,C)}return dy(l,d,p,g,C)}function XC(l,d,p){var g=d.pendingProps,C=g.children,_=l!==null?l.memoizedState:null;if(g.mode==="hidden"){if((d.flags&128)!==0){if(g=_!==null?_.baseLanes|p:p,l!==null){for(C=d.child=l.child,_=0;C!==null;)_=_|C.lanes|C.childLanes,C=C.sibling;d.childLanes=_&~g}else d.childLanes=0,d.child=null;return YC(l,d,g,p)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&ih(d,_!==null?_.cachePool:null),_!==null?qS(d,_):Wg(),PC(d);else return d.lanes=d.childLanes=536870912,YC(l,d,_!==null?_.baseLanes|p:p,p)}else _!==null?(ih(d,_.cachePool),qS(d,_),Pi(),d.memoizedState=null):(l!==null&&ih(d,null),Wg(),Pi());return Yn(l,d,C,p),d.child}function YC(l,d,p,g){var C=Fg();return C=C===null?null:{parent:Cn._currentValue,pool:C},d.memoizedState={baseLanes:p,cachePool:C},l!==null&&ih(d,null),Wg(),PC(d),l!==null&&Mc(l,d,g,!0),null}function Ch(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function dy(l,d,p,g,C){return Is(d),p=qg(l,d,p,g,void 0,C),g=Xg(),l!==null&&!Bn?(Yg(l,d,C),Xa(l,d,C)):(Ot&&g&&Ng(d),d.flags|=1,Yn(l,d,p,C),d.child)}function KC(l,d,p,g,C,_){return Is(d),d.updateQueue=null,p=YS(d,g,p,C),XS(l),g=Xg(),l!==null&&!Bn?(Yg(l,d,_),Xa(l,d,_)):(Ot&&g&&Ng(d),d.flags|=1,Yn(l,d,p,_),d.child)}function QC(l,d,p,g,C){if(Is(d),d.stateNode===null){var _=Pl,O=p.contextType;typeof O=="object"&&O!==null&&(_=or(O)),_=new p(g,_),d.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=uy,d.stateNode=_,_._reactInternals=d,_=d.stateNode,_.props=g,_.state=d.memoizedState,_.refs={},zg(d),O=p.contextType,_.context=typeof O=="object"&&O!==null?or(O):Pl,_.state=d.memoizedState,O=p.getDerivedStateFromProps,typeof O=="function"&&(ly(d,p,O,g),_.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&uy.enqueueReplaceState(_,_.state,null),Lc(d,g,_,C),Fc(),_.state=d.memoizedState),typeof _.componentDidMount=="function"&&(d.flags|=4194308),g=!0}else if(l===null){_=d.stateNode;var z=d.memoizedProps,K=js(p,z);_.props=K;var ie=_.context,ye=p.contextType;O=Pl,typeof ye=="object"&&ye!==null&&(O=or(ye));var we=p.getDerivedStateFromProps;ye=typeof we=="function"||typeof _.getSnapshotBeforeUpdate=="function",z=d.pendingProps!==z,ye||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(z||ie!==O)&&BC(d,_,g,O),Ni=!1;var se=d.memoizedState;_.state=se,Lc(d,g,_,C),Fc(),ie=d.memoizedState,z||se!==ie||Ni?(typeof we=="function"&&(ly(d,p,we,g),ie=d.memoizedState),(K=Ni||jC(d,p,K,g,se,ie,O))?(ye||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(d.flags|=4194308)):(typeof _.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=g,d.memoizedState=ie),_.props=g,_.state=ie,_.context=O,g=K):(typeof _.componentDidMount=="function"&&(d.flags|=4194308),g=!1)}else{_=d.stateNode,Ug(l,d),O=d.memoizedProps,ye=js(p,O),_.props=ye,we=d.pendingProps,se=_.context,ie=p.contextType,K=Pl,typeof ie=="object"&&ie!==null&&(K=or(ie)),z=p.getDerivedStateFromProps,(ie=typeof z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==we||se!==K)&&BC(d,_,g,K),Ni=!1,se=d.memoizedState,_.state=se,Lc(d,g,_,C),Fc();var ue=d.memoizedState;O!==we||se!==ue||Ni||l!==null&&l.dependencies!==null&&oh(l.dependencies)?(typeof z=="function"&&(ly(d,p,z,g),ue=d.memoizedState),(ye=Ni||jC(d,p,ye,g,se,ue,K)||l!==null&&l.dependencies!==null&&oh(l.dependencies))?(ie||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,ue,K),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,ue,K)),typeof _.componentDidUpdate=="function"&&(d.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===l.memoizedProps&&se===l.memoizedState||(d.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&se===l.memoizedState||(d.flags|=1024),d.memoizedProps=g,d.memoizedState=ue),_.props=g,_.state=ue,_.context=K,g=ye):(typeof _.componentDidUpdate!="function"||O===l.memoizedProps&&se===l.memoizedState||(d.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&se===l.memoizedState||(d.flags|=1024),g=!1)}return _=g,Ch(l,d),g=(d.flags&128)!==0,_||g?(_=d.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:_.render(),d.flags|=1,l!==null&&g?(d.child=$l(d,l.child,null,C),d.child=$l(d,null,p,C)):Yn(l,d,p,C),d.memoizedState=_.state,l=d.child):l=Xa(l,d,C),l}function JC(l,d,p,g){return Nc(),d.flags|=256,Yn(l,d,p,g),d.child}var fy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hy(l){return{baseLanes:l,cachePool:LS()}}function py(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=wo),l}function ZC(l,d,p){var g=d.pendingProps,C=!1,_=(d.flags&128)!==0,O;if((O=_)||(O=l!==null&&l.memoizedState===null?!1:(En.current&2)!==0),O&&(C=!0,d.flags&=-129),O=(d.flags&32)!==0,d.flags&=-33,l===null){if(Ot){if(C?Oi(d):Pi(),Ot){var z=cn,K;if(K=z){e:{for(K=z,z=ia;K.nodeType!==8;){if(!z){z=null;break e}if(K=Vo(K.nextSibling),K===null){z=null;break e}}z=K}z!==null?(d.memoizedState={dehydrated:z,treeContext:Ds!==null?{id:Va,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},K=Xr(18,null,null,0),K.stateNode=z,K.return=d,d.child=K,yr=d,cn=null,K=!0):K=!1}K||ks(d)}if(z=d.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Qy(z)?d.lanes=32:d.lanes=536870912,null;qa(d)}return z=g.children,g=g.fallback,C?(Pi(),C=d.mode,z=Eh({mode:"hidden",children:z},C),g=Ts(g,C,p,null),z.return=d,g.return=d,z.sibling=g,d.child=z,C=d.child,C.memoizedState=hy(p),C.childLanes=py(l,O,p),d.memoizedState=fy,g):(Oi(d),my(d,z))}if(K=l.memoizedState,K!==null&&(z=K.dehydrated,z!==null)){if(_)d.flags&256?(Oi(d),d.flags&=-257,d=vy(l,d,p)):d.memoizedState!==null?(Pi(),d.child=l.child,d.flags|=128,d=null):(Pi(),C=g.fallback,z=d.mode,g=Eh({mode:"visible",children:g.children},z),C=Ts(C,z,p,null),C.flags|=2,g.return=d,C.return=d,g.sibling=C,d.child=g,$l(d,l.child,null,p),g=d.child,g.memoizedState=hy(p),g.childLanes=py(l,O,p),d.memoizedState=fy,d=C);else if(Oi(d),Qy(z)){if(O=z.nextSibling&&z.nextSibling.dataset,O)var ie=O.dgst;O=ie,g=Error(r(419)),g.stack="",g.digest=O,kc({value:g,source:null,stack:null}),d=vy(l,d,p)}else if(Bn||Mc(l,d,p,!1),O=(p&l.childLanes)!==0,Bn||O){if(O=Yt,O!==null&&(g=p&-p,g=(g&42)!==0?1:Ri(g),g=(g&(O.suspendedLanes|p))!==0?0:g,g!==0&&g!==K.retryLane))throw K.retryLane=g,Ol(l,g),Zr(O,l,g),WC;z.data==="$?"||Oy(),d=vy(l,d,p)}else z.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=K.treeContext,cn=Vo(z.nextSibling),yr=d,Ot=!0,Ns=null,ia=!1,l!==null&&(yo[bo++]=Va,yo[bo++]=Ha,yo[bo++]=Ds,Va=l.id,Ha=l.overflow,Ds=d),d=my(d,g.children),d.flags|=4096);return d}return C?(Pi(),C=g.fallback,z=d.mode,K=l.child,ie=K.sibling,g=Ua(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,ie!==null?C=Ua(ie,C):(C=Ts(C,z,p,null),C.flags|=2),C.return=d,g.return=d,g.sibling=C,d.child=g,g=C,C=d.child,z=l.child.memoizedState,z===null?z=hy(p):(K=z.cachePool,K!==null?(ie=Cn._currentValue,K=K.parent!==ie?{parent:ie,pool:ie}:K):K=LS(),z={baseLanes:z.baseLanes|p,cachePool:K}),C.memoizedState=z,C.childLanes=py(l,O,p),d.memoizedState=fy,g):(Oi(d),p=l.child,l=p.sibling,p=Ua(p,{mode:"visible",children:g.children}),p.return=d,p.sibling=null,l!==null&&(O=d.deletions,O===null?(d.deletions=[l],d.flags|=16):O.push(l)),d.child=p,d.memoizedState=null,p)}function my(l,d){return d=Eh({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function Eh(l,d){return l=Xr(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function vy(l,d,p){return $l(d,l.child,null,p),l=my(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function eE(l,d,p){l.lanes|=d;var g=l.alternate;g!==null&&(g.lanes|=d),Og(l.return,d,p)}function gy(l,d,p,g,C){var _=l.memoizedState;_===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:C}:(_.isBackwards=d,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=p,_.tailMode=C)}function tE(l,d,p){var g=d.pendingProps,C=g.revealOrder,_=g.tail;if(Yn(l,d,g.children,p),g=En.current,(g&2)!==0)g=g&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&eE(l,p,d);else if(l.tag===19)eE(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}g&=1}switch(ne(En,g),C){case"forwards":for(p=d.child,C=null;p!==null;)l=p.alternate,l!==null&&xh(l)===null&&(C=p),p=p.sibling;p=C,p===null?(C=d.child,d.child=null):(C=p.sibling,p.sibling=null),gy(d,!1,C,p,_);break;case"backwards":for(p=null,C=d.child,d.child=null;C!==null;){if(l=C.alternate,l!==null&&xh(l)===null){d.child=C;break}l=C.sibling,C.sibling=p,p=C,C=l}gy(d,!0,p,null,_);break;case"together":gy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Xa(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),zi|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(Mc(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=Ua(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=Ua(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function yy(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&oh(l)))}function AP(l,d,p){switch(d.tag){case 3:ge(d,d.stateNode.containerInfo),Ai(d,Cn,l.memoizedState.cache),Nc();break;case 27:case 5:Pe(d);break;case 4:ge(d,d.stateNode.containerInfo);break;case 10:Ai(d,d.type,d.memoizedProps.value);break;case 13:var g=d.memoizedState;if(g!==null)return g.dehydrated!==null?(Oi(d),d.flags|=128,null):(p&d.child.childLanes)!==0?ZC(l,d,p):(Oi(d),l=Xa(l,d,p),l!==null?l.sibling:null);Oi(d);break;case 19:var C=(l.flags&128)!==0;if(g=(p&d.childLanes)!==0,g||(Mc(l,d,p,!1),g=(p&d.childLanes)!==0),C){if(g)return tE(l,d,p);d.flags|=128}if(C=d.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),ne(En,En.current),g)break;return null;case 22:case 23:return d.lanes=0,XC(l,d,p);case 24:Ai(d,Cn,l.memoizedState.cache)}return Xa(l,d,p)}function nE(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)Bn=!0;else{if(!yy(l,p)&&(d.flags&128)===0)return Bn=!1,AP(l,d,p);Bn=(l.flags&131072)!==0}else Bn=!1,Ot&&(d.flags&1048576)!==0&&MS(d,rh,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var g=d.elementType,C=g._init;if(g=C(g._payload),d.type=g,typeof g=="function")Tg(g)?(l=js(g,l),d.tag=1,d=QC(null,d,g,l,p)):(d.tag=0,d=dy(null,d,g,l,p));else{if(g!=null){if(C=g.$$typeof,C===D){d.tag=11,d=$C(null,d,g,l,p);break e}else if(C===k){d.tag=14,d=GC(null,d,g,l,p);break e}}throw d=W(g)||g,Error(r(306,d,""))}}return d;case 0:return dy(l,d,d.type,d.pendingProps,p);case 1:return g=d.type,C=js(g,d.pendingProps),QC(l,d,g,C,p);case 3:e:{if(ge(d,d.stateNode.containerInfo),l===null)throw Error(r(387));g=d.pendingProps;var _=d.memoizedState;C=_.element,Ug(l,d),Lc(d,g,null,p);var O=d.memoizedState;if(g=O.cache,Ai(d,Cn,g),g!==_.cache&&Pg(d,[Cn],p,!0),Fc(),g=O.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:O.cache},d.updateQueue.baseState=_,d.memoizedState=_,d.flags&256){d=JC(l,d,g,p);break e}else if(g!==C){C=vo(Error(r(424)),d),kc(C),d=JC(l,d,g,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(cn=Vo(l.firstChild),yr=d,Ot=!0,Ns=null,ia=!0,p=OC(d,null,g,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Nc(),g===C){d=Xa(l,d,p);break e}Yn(l,d,g,p)}d=d.child}return d;case 26:return Ch(l,d),l===null?(p=iR(d.type,null,d.pendingProps,null))?d.memoizedState=p:Ot||(p=d.type,l=d.pendingProps,g=Fh(ae.current).createElement(p),g[rr]=d,g[Dr]=l,Qn(g,p,l),jn(g),d.stateNode=g):d.memoizedState=iR(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Pe(d),l===null&&Ot&&(g=d.stateNode=rR(d.type,d.pendingProps,ae.current),yr=d,ia=!0,C=cn,Wi(d.type)?(Jy=C,cn=Vo(g.firstChild)):cn=C),Yn(l,d,d.pendingProps.children,p),Ch(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Ot&&((C=g=cn)&&(g=rj(g,d.type,d.pendingProps,ia),g!==null?(d.stateNode=g,yr=d,cn=Vo(g.firstChild),ia=!1,C=!0):C=!1),C||ks(d)),Pe(d),C=d.type,_=d.pendingProps,O=l!==null?l.memoizedProps:null,g=_.children,Xy(C,_)?g=null:O!==null&&Xy(C,O)&&(d.flags|=32),d.memoizedState!==null&&(C=qg(l,d,wP,null,null,p),sd._currentValue=C),Ch(l,d),Yn(l,d,g,p),d.child;case 6:return l===null&&Ot&&((l=p=cn)&&(p=oj(p,d.pendingProps,ia),p!==null?(d.stateNode=p,yr=d,cn=null,l=!0):l=!1),l||ks(d)),null;case 13:return ZC(l,d,p);case 4:return ge(d,d.stateNode.containerInfo),g=d.pendingProps,l===null?d.child=$l(d,null,g,p):Yn(l,d,g,p),d.child;case 11:return $C(l,d,d.type,d.pendingProps,p);case 7:return Yn(l,d,d.pendingProps,p),d.child;case 8:return Yn(l,d,d.pendingProps.children,p),d.child;case 12:return Yn(l,d,d.pendingProps.children,p),d.child;case 10:return g=d.pendingProps,Ai(d,d.type,g.value),Yn(l,d,g.children,p),d.child;case 9:return C=d.type._context,g=d.pendingProps.children,Is(d),C=or(C),g=g(C),d.flags|=1,Yn(l,d,g,p),d.child;case 14:return GC(l,d,d.type,d.pendingProps,p);case 15:return qC(l,d,d.type,d.pendingProps,p);case 19:return tE(l,d,p);case 31:return g=d.pendingProps,p=d.mode,g={mode:g.mode,children:g.children},l===null?(p=Eh(g,p),p.ref=d.ref,d.child=p,p.return=d,d=p):(p=Ua(l.child,g),p.ref=d.ref,d.child=p,p.return=d,d=p),d;case 22:return XC(l,d,p);case 24:return Is(d),g=or(Cn),l===null?(C=Fg(),C===null&&(C=Yt,_=jg(),C.pooledCache=_,_.refCount++,_!==null&&(C.pooledCacheLanes|=p),C=_),d.memoizedState={parent:g,cache:C},zg(d),Ai(d,Cn,C)):((l.lanes&p)!==0&&(Ug(l,d),Lc(d,null,null,p),Fc()),C=l.memoizedState,_=d.memoizedState,C.parent!==g?(C={parent:g,cache:g},d.memoizedState=C,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=C),Ai(d,Cn,g)):(g=_.cache,Ai(d,Cn,g),g!==C.cache&&Pg(d,[Cn],p,!0))),Yn(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ya(l){l.flags|=4}function rE(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!dR(d)){if(d=xo.current,d!==null&&((At&4194048)===At?sa!==null:(At&62914560)!==At&&(At&536870912)===0||d!==sa))throw jc=Lg,zS;l.flags|=8192}}function Rh(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?Ge():536870912,l.lanes|=d,Yl|=d)}function Gc(l,d){if(!Ot)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function on(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,g=0;if(d)for(var C=l.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags&65011712,g|=C.flags&65011712,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=g,l.childLanes=p,d}function NP(l,d,p){var g=d.pendingProps;switch(kg(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(d),null;case 1:return on(d),null;case 3:return p=d.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),$a(Cn),me(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Ac(d)?Ya(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,PS())),on(d),null;case 26:return p=d.memoizedState,l===null?(Ya(d),p!==null?(on(d),rE(d,p)):(on(d),d.flags&=-16777217)):p?p!==l.memoizedState?(Ya(d),on(d),rE(d,p)):(on(d),d.flags&=-16777217):(l.memoizedProps!==g&&Ya(d),on(d),d.flags&=-16777217),null;case 27:je(d),p=ae.current;var C=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==g&&Ya(d);else{if(!g){if(d.stateNode===null)throw Error(r(166));return on(d),null}l=he.current,Ac(d)?IS(d):(l=rR(C,g,p),d.stateNode=l,Ya(d))}return on(d),null;case 5:if(je(d),p=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==g&&Ya(d);else{if(!g){if(d.stateNode===null)throw Error(r(166));return on(d),null}if(l=he.current,Ac(d))IS(d);else{switch(C=Fh(ae.current),l){case 1:l=C.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:l=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":l=C.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":l=C.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":l=C.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof g.is=="string"?C.createElement("select",{is:g.is}):C.createElement("select"),g.multiple?l.multiple=!0:g.size&&(l.size=g.size);break;default:l=typeof g.is=="string"?C.createElement(p,{is:g.is}):C.createElement(p)}}l[rr]=d,l[Dr]=g;e:for(C=d.child;C!==null;){if(C.tag===5||C.tag===6)l.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===d)break e;for(;C.sibling===null;){if(C.return===null||C.return===d)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}d.stateNode=l;e:switch(Qn(l,p,g),p){case"button":case"input":case"select":case"textarea":l=!!g.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ya(d)}}return on(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==g&&Ya(d);else{if(typeof g!="string"&&d.stateNode===null)throw Error(r(166));if(l=ae.current,Ac(d)){if(l=d.stateNode,p=d.memoizedProps,g=null,C=yr,C!==null)switch(C.tag){case 27:case 5:g=C.memoizedProps}l[rr]=d,l=!!(l.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||KE(l.nodeValue,p)),l||ks(d)}else l=Fh(l).createTextNode(g),l[rr]=d,d.stateNode=l}return on(d),null;case 13:if(g=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(C=Ac(d),g!==null&&g.dehydrated!==null){if(l===null){if(!C)throw Error(r(318));if(C=d.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[rr]=d}else Nc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;on(d),C=!1}else C=PS(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=C),C=!0;if(!C)return d.flags&256?(qa(d),d):(qa(d),null)}if(qa(d),(d.flags&128)!==0)return d.lanes=p,d;if(p=g!==null,l=l!==null&&l.memoizedState!==null,p){g=d.child,C=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(C=g.alternate.memoizedState.cachePool.pool);var _=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==C&&(g.flags|=2048)}return p!==l&&p&&(d.child.flags|=8192),Rh(d,d.updateQueue),on(d),null;case 4:return me(),l===null&&Hy(d.stateNode.containerInfo),on(d),null;case 10:return $a(d.type),on(d),null;case 19:if(J(En),C=d.memoizedState,C===null)return on(d),null;if(g=(d.flags&128)!==0,_=C.rendering,_===null)if(g)Gc(C,!1);else{if(dn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(_=xh(l),_!==null){for(d.flags|=128,Gc(C,!1),l=_.updateQueue,d.updateQueue=l,Rh(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)kS(p,l),p=p.sibling;return ne(En,En.current&1|2),d.child}l=l.sibling}C.tail!==null&&_e()>Dh&&(d.flags|=128,g=!0,Gc(C,!1),d.lanes=4194304)}else{if(!g)if(l=xh(_),l!==null){if(d.flags|=128,g=!0,l=l.updateQueue,d.updateQueue=l,Rh(d,l),Gc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!_.alternate&&!Ot)return on(d),null}else 2*_e()-C.renderingStartTime>Dh&&p!==536870912&&(d.flags|=128,g=!0,Gc(C,!1),d.lanes=4194304);C.isBackwards?(_.sibling=d.child,d.child=_):(l=C.last,l!==null?l.sibling=_:d.child=_,C.last=_)}return C.tail!==null?(d=C.tail,C.rendering=d,C.tail=d.sibling,C.renderingStartTime=_e(),d.sibling=null,l=En.current,ne(En,g?l&1|2:l&1),d):(on(d),null);case 22:case 23:return qa(d),$g(),g=d.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(d.flags|=8192):g&&(d.flags|=8192),g?(p&536870912)!==0&&(d.flags&128)===0&&(on(d),d.subtreeFlags&6&&(d.flags|=8192)):on(d),p=d.updateQueue,p!==null&&Rh(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),g=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==p&&(d.flags|=2048),l!==null&&J(Os),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),$a(Cn),on(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function kP(l,d){switch(kg(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return $a(Cn),me(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return je(d),null;case 13:if(qa(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Nc()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return J(En),null;case 4:return me(),null;case 10:return $a(d.type),null;case 22:case 23:return qa(d),$g(),l!==null&&J(Os),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return $a(Cn),null;case 25:return null;default:return null}}function oE(l,d){switch(kg(d),d.tag){case 3:$a(Cn),me();break;case 26:case 27:case 5:je(d);break;case 4:me();break;case 13:qa(d);break;case 19:J(En);break;case 10:$a(d.type);break;case 22:case 23:qa(d),$g(),l!==null&&J(Os);break;case 24:$a(Cn)}}function qc(l,d){try{var p=d.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var C=g.next;p=C;do{if((p.tag&l)===l){g=void 0;var _=p.create,O=p.inst;g=_(),O.destroy=g}p=p.next}while(p!==C)}}catch(z){Xt(d,d.return,z)}}function ji(l,d,p){try{var g=d.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var _=C.next;g=_;do{if((g.tag&l)===l){var O=g.inst,z=O.destroy;if(z!==void 0){O.destroy=void 0,C=d;var K=p,ie=z;try{ie()}catch(ye){Xt(C,K,ye)}}}g=g.next}while(g!==_)}}catch(ye){Xt(d,d.return,ye)}}function aE(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{GS(d,p)}catch(g){Xt(l,l.return,g)}}}function iE(l,d,p){p.props=js(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(g){Xt(l,d,g)}}function Xc(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof p=="function"?l.refCleanup=p(g):p.current=g}}catch(C){Xt(l,d,C)}}function la(l,d){var p=l.ref,g=l.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(C){Xt(l,d,C)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(C){Xt(l,d,C)}else p.current=null}function sE(l){var d=l.type,p=l.memoizedProps,g=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break e;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(C){Xt(l,l.return,C)}}function by(l,d,p){try{var g=l.stateNode;JP(g,l.type,p,d),g[Dr]=d}catch(C){Xt(l,l.return,C)}}function lE(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Wi(l.type)||l.tag===4}function xy(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||lE(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Wi(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function wy(l,d,p){var g=l.tag;if(g===5||g===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Bh));else if(g!==4&&(g===27&&Wi(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(wy(l,d,p),l=l.sibling;l!==null;)wy(l,d,p),l=l.sibling}function _h(l,d,p){var g=l.tag;if(g===5||g===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(g!==4&&(g===27&&Wi(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(_h(l,d,p),l=l.sibling;l!==null;)_h(l,d,p),l=l.sibling}function uE(l){var d=l.stateNode,p=l.memoizedProps;try{for(var g=l.type,C=d.attributes;C.length;)d.removeAttributeNode(C[0]);Qn(d,g,p),d[rr]=l,d[Dr]=p}catch(_){Xt(l,l.return,_)}}var Ka=!1,vn=!1,Sy=!1,cE=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function MP(l,d){if(l=l.containerInfo,Gy=Wh,l=wS(l),xg(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var C=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{p.nodeType,_.nodeType}catch{p=null;break e}var O=0,z=-1,K=-1,ie=0,ye=0,we=l,se=null;t:for(;;){for(var ue;we!==p||C!==0&&we.nodeType!==3||(z=O+C),we!==_||g!==0&&we.nodeType!==3||(K=O+g),we.nodeType===3&&(O+=we.nodeValue.length),(ue=we.firstChild)!==null;)se=we,we=ue;for(;;){if(we===l)break t;if(se===p&&++ie===C&&(z=O),se===_&&++ye===g&&(K=O),(ue=we.nextSibling)!==null)break;we=se,se=we.parentNode}we=ue}p=z===-1||K===-1?null:{start:z,end:K}}else p=null}p=p||{start:0,end:0}}else p=null;for(qy={focusedElem:l,selectionRange:p},Wh=!1,Fn=d;Fn!==null;)if(d=Fn,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,Fn=l;else for(;Fn!==null;){switch(d=Fn,_=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&_!==null){l=void 0,p=d,C=_.memoizedProps,_=_.memoizedState,g=p.stateNode;try{var ut=js(p.type,C,p.elementType===p.type);l=g.getSnapshotBeforeUpdate(ut,_),g.__reactInternalSnapshotBeforeUpdate=l}catch(ot){Xt(p,p.return,ot)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)Ky(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Ky(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Fn=l;break}Fn=d.return}}function dE(l,d,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:Bi(l,p),g&4&&qc(5,p);break;case 1:if(Bi(l,p),g&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(O){Xt(p,p.return,O)}else{var C=js(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(C,d,l.__reactInternalSnapshotBeforeUpdate)}catch(O){Xt(p,p.return,O)}}g&64&&aE(p),g&512&&Xc(p,p.return);break;case 3:if(Bi(l,p),g&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{GS(l,d)}catch(O){Xt(p,p.return,O)}}break;case 27:d===null&&g&4&&uE(p);case 26:case 5:Bi(l,p),d===null&&g&4&&sE(p),g&512&&Xc(p,p.return);break;case 12:Bi(l,p);break;case 13:Bi(l,p),g&4&&pE(l,p),g&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=UP.bind(null,p),aj(l,p))));break;case 22:if(g=p.memoizedState!==null||Ka,!g){d=d!==null&&d.memoizedState!==null||vn,C=Ka;var _=vn;Ka=g,(vn=d)&&!_?Fi(l,p,(p.subtreeFlags&8772)!==0):Bi(l,p),Ka=C,vn=_}break;case 30:break;default:Bi(l,p)}}function fE(l){var d=l.alternate;d!==null&&(l.alternate=null,fE(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&tg(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var tn=null,kr=!1;function Qa(l,d,p){for(p=p.child;p!==null;)hE(l,d,p),p=p.sibling}function hE(l,d,p){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Fe,p)}catch{}switch(p.tag){case 26:vn||la(p,d),Qa(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:vn||la(p,d);var g=tn,C=kr;Wi(p.type)&&(tn=p.stateNode,kr=!1),Qa(l,d,p),rd(p.stateNode),tn=g,kr=C;break;case 5:vn||la(p,d);case 6:if(g=tn,C=kr,tn=null,Qa(l,d,p),tn=g,kr=C,tn!==null)if(kr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(p.stateNode)}catch(_){Xt(p,d,_)}else try{tn.removeChild(p.stateNode)}catch(_){Xt(p,d,_)}break;case 18:tn!==null&&(kr?(l=tn,tR(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),dd(l)):tR(tn,p.stateNode));break;case 4:g=tn,C=kr,tn=p.stateNode.containerInfo,kr=!0,Qa(l,d,p),tn=g,kr=C;break;case 0:case 11:case 14:case 15:vn||ji(2,p,d),vn||ji(4,p,d),Qa(l,d,p);break;case 1:vn||(la(p,d),g=p.stateNode,typeof g.componentWillUnmount=="function"&&iE(p,d,g)),Qa(l,d,p);break;case 21:Qa(l,d,p);break;case 22:vn=(g=vn)||p.memoizedState!==null,Qa(l,d,p),vn=g;break;default:Qa(l,d,p)}}function pE(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{dd(l)}catch(p){Xt(d,d.return,p)}}function IP(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new cE),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new cE),d;default:throw Error(r(435,l.tag))}}function Cy(l,d){var p=IP(l);d.forEach(function(g){var C=VP.bind(null,l,g);p.has(g)||(p.add(g),g.then(C,C))})}function Yr(l,d){var p=d.deletions;if(p!==null)for(var g=0;g<p.length;g++){var C=p[g],_=l,O=d,z=O;e:for(;z!==null;){switch(z.tag){case 27:if(Wi(z.type)){tn=z.stateNode,kr=!1;break e}break;case 5:tn=z.stateNode,kr=!1;break e;case 3:case 4:tn=z.stateNode.containerInfo,kr=!0;break e}z=z.return}if(tn===null)throw Error(r(160));hE(_,O,C),tn=null,kr=!1,_=C.alternate,_!==null&&(_.return=null),C.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)mE(d,l),d=d.sibling}var Uo=null;function mE(l,d){var p=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Yr(d,l),Kr(l),g&4&&(ji(3,l,l.return),qc(3,l),ji(5,l,l.return));break;case 1:Yr(d,l),Kr(l),g&512&&(vn||p===null||la(p,p.return)),g&64&&Ka&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var C=Uo;if(Yr(d,l),Kr(l),g&512&&(vn||p===null||la(p,p.return)),g&4){var _=p!==null?p.memoizedState:null;if(g=l.memoizedState,p===null)if(g===null)if(l.stateNode===null){e:{g=l.type,p=l.memoizedProps,C=C.ownerDocument||C;t:switch(g){case"title":_=C.getElementsByTagName("title")[0],(!_||_[yc]||_[rr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=C.createElement(g),C.head.insertBefore(_,C.querySelector("head > title"))),Qn(_,g,p),_[rr]=l,jn(_),g=_;break e;case"link":var O=uR("link","href",C).get(g+(p.href||""));if(O){for(var z=0;z<O.length;z++)if(_=O[z],_.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&_.getAttribute("rel")===(p.rel==null?null:p.rel)&&_.getAttribute("title")===(p.title==null?null:p.title)&&_.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){O.splice(z,1);break t}}_=C.createElement(g),Qn(_,g,p),C.head.appendChild(_);break;case"meta":if(O=uR("meta","content",C).get(g+(p.content||""))){for(z=0;z<O.length;z++)if(_=O[z],_.getAttribute("content")===(p.content==null?null:""+p.content)&&_.getAttribute("name")===(p.name==null?null:p.name)&&_.getAttribute("property")===(p.property==null?null:p.property)&&_.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&_.getAttribute("charset")===(p.charSet==null?null:p.charSet)){O.splice(z,1);break t}}_=C.createElement(g),Qn(_,g,p),C.head.appendChild(_);break;default:throw Error(r(468,g))}_[rr]=l,jn(_),g=_}l.stateNode=g}else cR(C,l.type,l.stateNode);else l.stateNode=lR(C,g,l.memoizedProps);else _!==g?(_===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):_.count--,g===null?cR(C,l.type,l.stateNode):lR(C,g,l.memoizedProps)):g===null&&l.stateNode!==null&&by(l,l.memoizedProps,p.memoizedProps)}break;case 27:Yr(d,l),Kr(l),g&512&&(vn||p===null||la(p,p.return)),p!==null&&g&4&&by(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Yr(d,l),Kr(l),g&512&&(vn||p===null||la(p,p.return)),l.flags&32){C=l.stateNode;try{Tl(C,"")}catch(ue){Xt(l,l.return,ue)}}g&4&&l.stateNode!=null&&(C=l.memoizedProps,by(l,C,p!==null?p.memoizedProps:C)),g&1024&&(Sy=!0);break;case 6:if(Yr(d,l),Kr(l),g&4){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,p=l.stateNode;try{p.nodeValue=g}catch(ue){Xt(l,l.return,ue)}}break;case 3:if(Uh=null,C=Uo,Uo=Lh(d.containerInfo),Yr(d,l),Uo=C,Kr(l),g&4&&p!==null&&p.memoizedState.isDehydrated)try{dd(d.containerInfo)}catch(ue){Xt(l,l.return,ue)}Sy&&(Sy=!1,vE(l));break;case 4:g=Uo,Uo=Lh(l.stateNode.containerInfo),Yr(d,l),Kr(l),Uo=g;break;case 12:Yr(d,l),Kr(l);break;case 13:Yr(d,l),Kr(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Ay=_e()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Cy(l,g)));break;case 22:C=l.memoizedState!==null;var K=p!==null&&p.memoizedState!==null,ie=Ka,ye=vn;if(Ka=ie||C,vn=ye||K,Yr(d,l),vn=ye,Ka=ie,Kr(l),g&8192)e:for(d=l.stateNode,d._visibility=C?d._visibility&-2:d._visibility|1,C&&(p===null||K||Ka||vn||Bs(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){K=p=d;try{if(_=K.stateNode,C)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{z=K.stateNode;var we=K.memoizedProps.style,se=we!=null&&we.hasOwnProperty("display")?we.display:null;z.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ue){Xt(K,K.return,ue)}}}else if(d.tag===6){if(p===null){K=d;try{K.stateNode.nodeValue=C?"":K.memoizedProps}catch(ue){Xt(K,K.return,ue)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}g&4&&(g=l.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,Cy(l,p))));break;case 19:Yr(d,l),Kr(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Cy(l,g)));break;case 30:break;case 21:break;default:Yr(d,l),Kr(l)}}function Kr(l){var d=l.flags;if(d&2){try{for(var p,g=l.return;g!==null;){if(lE(g)){p=g;break}g=g.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var C=p.stateNode,_=xy(l);_h(l,_,C);break;case 5:var O=p.stateNode;p.flags&32&&(Tl(O,""),p.flags&=-33);var z=xy(l);_h(l,z,O);break;case 3:case 4:var K=p.stateNode.containerInfo,ie=xy(l);wy(l,ie,K);break;default:throw Error(r(161))}}catch(ye){Xt(l,l.return,ye)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function vE(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;vE(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Bi(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)dE(l,d.alternate,d),d=d.sibling}function Bs(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:ji(4,d,d.return),Bs(d);break;case 1:la(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&iE(d,d.return,p),Bs(d);break;case 27:rd(d.stateNode);case 26:case 5:la(d,d.return),Bs(d);break;case 22:d.memoizedState===null&&Bs(d);break;case 30:Bs(d);break;default:Bs(d)}l=l.sibling}}function Fi(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var g=d.alternate,C=l,_=d,O=_.flags;switch(_.tag){case 0:case 11:case 15:Fi(C,_,p),qc(4,_);break;case 1:if(Fi(C,_,p),g=_,C=g.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ie){Xt(g,g.return,ie)}if(g=_,C=g.updateQueue,C!==null){var z=g.stateNode;try{var K=C.shared.hiddenCallbacks;if(K!==null)for(C.shared.hiddenCallbacks=null,C=0;C<K.length;C++)$S(K[C],z)}catch(ie){Xt(g,g.return,ie)}}p&&O&64&&aE(_),Xc(_,_.return);break;case 27:uE(_);case 26:case 5:Fi(C,_,p),p&&g===null&&O&4&&sE(_),Xc(_,_.return);break;case 12:Fi(C,_,p);break;case 13:Fi(C,_,p),p&&O&4&&pE(C,_);break;case 22:_.memoizedState===null&&Fi(C,_,p),Xc(_,_.return);break;case 30:break;default:Fi(C,_,p)}d=d.sibling}}function Ey(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Ic(p))}function Ry(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Ic(l))}function ua(l,d,p,g){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)gE(l,d,p,g),d=d.sibling}function gE(l,d,p,g){var C=d.flags;switch(d.tag){case 0:case 11:case 15:ua(l,d,p,g),C&2048&&qc(9,d);break;case 1:ua(l,d,p,g);break;case 3:ua(l,d,p,g),C&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Ic(l)));break;case 12:if(C&2048){ua(l,d,p,g),l=d.stateNode;try{var _=d.memoizedProps,O=_.id,z=_.onPostCommit;typeof z=="function"&&z(O,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(K){Xt(d,d.return,K)}}else ua(l,d,p,g);break;case 13:ua(l,d,p,g);break;case 23:break;case 22:_=d.stateNode,O=d.alternate,d.memoizedState!==null?_._visibility&2?ua(l,d,p,g):Yc(l,d):_._visibility&2?ua(l,d,p,g):(_._visibility|=2,Gl(l,d,p,g,(d.subtreeFlags&10256)!==0)),C&2048&&Ey(O,d);break;case 24:ua(l,d,p,g),C&2048&&Ry(d.alternate,d);break;default:ua(l,d,p,g)}}function Gl(l,d,p,g,C){for(C=C&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var _=l,O=d,z=p,K=g,ie=O.flags;switch(O.tag){case 0:case 11:case 15:Gl(_,O,z,K,C),qc(8,O);break;case 23:break;case 22:var ye=O.stateNode;O.memoizedState!==null?ye._visibility&2?Gl(_,O,z,K,C):Yc(_,O):(ye._visibility|=2,Gl(_,O,z,K,C)),C&&ie&2048&&Ey(O.alternate,O);break;case 24:Gl(_,O,z,K,C),C&&ie&2048&&Ry(O.alternate,O);break;default:Gl(_,O,z,K,C)}d=d.sibling}}function Yc(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,g=d,C=g.flags;switch(g.tag){case 22:Yc(p,g),C&2048&&Ey(g.alternate,g);break;case 24:Yc(p,g),C&2048&&Ry(g.alternate,g);break;default:Yc(p,g)}d=d.sibling}}var Kc=8192;function ql(l){if(l.subtreeFlags&Kc)for(l=l.child;l!==null;)yE(l),l=l.sibling}function yE(l){switch(l.tag){case 26:ql(l),l.flags&Kc&&l.memoizedState!==null&&yj(Uo,l.memoizedState,l.memoizedProps);break;case 5:ql(l);break;case 3:case 4:var d=Uo;Uo=Lh(l.stateNode.containerInfo),ql(l),Uo=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Kc,Kc=16777216,ql(l),Kc=d):ql(l));break;default:ql(l)}}function bE(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function Qc(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var g=d[p];Fn=g,wE(g,l)}bE(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)xE(l),l=l.sibling}function xE(l){switch(l.tag){case 0:case 11:case 15:Qc(l),l.flags&2048&&ji(9,l,l.return);break;case 3:Qc(l);break;case 12:Qc(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,Th(l)):Qc(l);break;default:Qc(l)}}function Th(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var g=d[p];Fn=g,wE(g,l)}bE(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:ji(8,d,d.return),Th(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,Th(d));break;default:Th(d)}l=l.sibling}}function wE(l,d){for(;Fn!==null;){var p=Fn;switch(p.tag){case 0:case 11:case 15:ji(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ic(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,Fn=g;else e:for(p=l;Fn!==null;){g=Fn;var C=g.sibling,_=g.return;if(fE(g),g===p){Fn=null;break e}if(C!==null){C.return=_,Fn=C;break e}Fn=_}}}var OP={getCacheForType:function(l){var d=or(Cn),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p}},PP=typeof WeakMap=="function"?WeakMap:Map,zt=0,Yt=null,Et=null,At=0,Ut=0,Qr=null,Li=!1,Xl=!1,_y=!1,Ja=0,dn=0,zi=0,Fs=0,Ty=0,wo=0,Yl=0,Jc=null,Mr=null,Dy=!1,Ay=0,Dh=1/0,Ah=null,Ui=null,Kn=0,Vi=null,Kl=null,Ql=0,Ny=0,ky=null,SE=null,Zc=0,My=null;function Jr(){if((zt&2)!==0&&At!==0)return At&-At;if(j.T!==null){var l=Fl;return l!==0?l:Ly()}return _i()}function CE(){wo===0&&(wo=(At&536870912)===0||Ot?Xe():536870912);var l=xo.current;return l!==null&&(l.flags|=32),wo}function Zr(l,d,p){(l===Yt&&(Ut===2||Ut===9)||l.cancelPendingCommit!==null)&&(Jl(l,0),Hi(l,At,wo,!1)),bt(l,p),((zt&2)===0||l!==Yt)&&(l===Yt&&((zt&2)===0&&(Fs|=p),dn===4&&Hi(l,At,wo,!1)),ca(l))}function EE(l,d,p){if((zt&6)!==0)throw Error(r(327));var g=!p&&(d&124)===0&&(d&l.expiredLanes)===0||rn(l,d),C=g?FP(l,d):Py(l,d,!0),_=g;do{if(C===0){Xl&&!g&&Hi(l,d,0,!1);break}else{if(p=l.current.alternate,_&&!jP(p)){C=Py(l,d,!1),_=!1;continue}if(C===2){if(_=d,l.errorRecoveryDisabledLanes&_)var O=0;else O=l.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){d=O;e:{var z=l;C=Jc;var K=z.current.memoizedState.isDehydrated;if(K&&(Jl(z,O).flags|=256),O=Py(z,O,!1),O!==2){if(_y&&!K){z.errorRecoveryDisabledLanes|=_,Fs|=_,C=4;break e}_=Mr,Mr=C,_!==null&&(Mr===null?Mr=_:Mr.push.apply(Mr,_))}C=O}if(_=!1,C!==2)continue}}if(C===1){Jl(l,0),Hi(l,d,0,!0);break}e:{switch(g=l,_=C,_){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Hi(g,d,wo,!Li);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(C=Ay+300-_e(),10<C)){if(Hi(g,d,wo,!Li),Fa(g,0,!0)!==0)break e;g.timeoutHandle=ZE(RE.bind(null,g,p,Mr,Ah,Dy,d,wo,Fs,Yl,Li,_,2,-0,0),C);break e}RE(g,p,Mr,Ah,Dy,d,wo,Fs,Yl,Li,_,0,-0,0)}}break}while(!0);ca(l)}function RE(l,d,p,g,C,_,O,z,K,ie,ye,we,se,ue){if(l.timeoutHandle=-1,we=d.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(id={stylesheets:null,count:0,unsuspend:gj},yE(d),we=bj(),we!==null)){l.cancelPendingCommit=we(ME.bind(null,l,d,_,p,g,C,O,z,K,ye,1,se,ue)),Hi(l,_,O,!ie);return}ME(l,d,_,p,g,C,O,z,K)}function jP(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var C=p[g],_=C.getSnapshot;C=C.value;try{if(!qr(_(),C))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Hi(l,d,p,g){d&=~Ty,d&=~Fs,l.suspendedLanes|=d,l.pingedLanes&=~d,g&&(l.warmLanes|=d),g=l.expirationTimes;for(var C=d;0<C;){var _=31-Dt(C),O=1<<_;g[_]=-1,C&=~O}p!==0&&Gr(l,p,d)}function Nh(){return(zt&6)===0?(ed(0),!1):!0}function Iy(){if(Et!==null){if(Ut===0)var l=Et.return;else l=Et,Wa=Ms=null,Kg(l),Wl=null,Wc=0,l=Et;for(;l!==null;)oE(l.alternate,l),l=l.return;Et=null}}function Jl(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,ej(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Iy(),Yt=l,Et=p=Ua(l.current,null),At=d,Ut=0,Qr=null,Li=!1,Xl=rn(l,d),_y=!1,Yl=wo=Ty=Fs=zi=dn=0,Mr=Jc=null,Dy=!1,(d&8)!==0&&(d|=d&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=d;0<g;){var C=31-Dt(g),_=1<<C;d|=l[C],g&=~_}return Ja=d,Jf(),p}function _E(l,d){xt=null,j.H=gh,d===Pc||d===sh?(d=HS(),Ut=3):d===zS?(d=HS(),Ut=4):Ut=d===WC?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Qr=d,Et===null&&(dn=1,Sh(l,vo(d,l.current)))}function TE(){var l=j.H;return j.H=gh,l===null?gh:l}function DE(){var l=j.A;return j.A=OP,l}function Oy(){dn=4,Li||(At&4194048)!==At&&xo.current!==null||(Xl=!0),(zi&134217727)===0&&(Fs&134217727)===0||Yt===null||Hi(Yt,At,wo,!1)}function Py(l,d,p){var g=zt;zt|=2;var C=TE(),_=DE();(Yt!==l||At!==d)&&(Ah=null,Jl(l,d)),d=!1;var O=dn;e:do try{if(Ut!==0&&Et!==null){var z=Et,K=Qr;switch(Ut){case 8:Iy(),O=6;break e;case 3:case 2:case 9:case 6:xo.current===null&&(d=!0);var ie=Ut;if(Ut=0,Qr=null,Zl(l,z,K,ie),p&&Xl){O=0;break e}break;default:ie=Ut,Ut=0,Qr=null,Zl(l,z,K,ie)}}BP(),O=dn;break}catch(ye){_E(l,ye)}while(!0);return d&&l.shellSuspendCounter++,Wa=Ms=null,zt=g,j.H=C,j.A=_,Et===null&&(Yt=null,At=0,Jf()),O}function BP(){for(;Et!==null;)AE(Et)}function FP(l,d){var p=zt;zt|=2;var g=TE(),C=DE();Yt!==l||At!==d?(Ah=null,Dh=_e()+500,Jl(l,d)):Xl=rn(l,d);e:do try{if(Ut!==0&&Et!==null){d=Et;var _=Qr;t:switch(Ut){case 1:Ut=0,Qr=null,Zl(l,d,_,1);break;case 2:case 9:if(US(_)){Ut=0,Qr=null,NE(d);break}d=function(){Ut!==2&&Ut!==9||Yt!==l||(Ut=7),ca(l)},_.then(d,d);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:US(_)?(Ut=0,Qr=null,NE(d)):(Ut=0,Qr=null,Zl(l,d,_,7));break;case 5:var O=null;switch(Et.tag){case 26:O=Et.memoizedState;case 5:case 27:var z=Et;if(!O||dR(O)){Ut=0,Qr=null;var K=z.sibling;if(K!==null)Et=K;else{var ie=z.return;ie!==null?(Et=ie,kh(ie)):Et=null}break t}}Ut=0,Qr=null,Zl(l,d,_,5);break;case 6:Ut=0,Qr=null,Zl(l,d,_,6);break;case 8:Iy(),dn=6;break e;default:throw Error(r(462))}}LP();break}catch(ye){_E(l,ye)}while(!0);return Wa=Ms=null,j.H=g,j.A=C,zt=p,Et!==null?0:(Yt=null,At=0,Jf(),dn)}function LP(){for(;Et!==null&&!ct();)AE(Et)}function AE(l){var d=nE(l.alternate,l,Ja);l.memoizedProps=l.pendingProps,d===null?kh(l):Et=d}function NE(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=KC(p,d,d.pendingProps,d.type,void 0,At);break;case 11:d=KC(p,d,d.pendingProps,d.type.render,d.ref,At);break;case 5:Kg(d);default:oE(p,d),d=Et=kS(d,Ja),d=nE(p,d,Ja)}l.memoizedProps=l.pendingProps,d===null?kh(l):Et=d}function Zl(l,d,p,g){Wa=Ms=null,Kg(d),Wl=null,Wc=0;var C=d.return;try{if(DP(l,C,d,p,At)){dn=1,Sh(l,vo(p,l.current)),Et=null;return}}catch(_){if(C!==null)throw Et=C,_;dn=1,Sh(l,vo(p,l.current)),Et=null;return}d.flags&32768?(Ot||g===1?l=!0:Xl||(At&536870912)!==0?l=!1:(Li=l=!0,(g===2||g===9||g===3||g===6)&&(g=xo.current,g!==null&&g.tag===13&&(g.flags|=16384))),kE(d,l)):kh(d)}function kh(l){var d=l;do{if((d.flags&32768)!==0){kE(d,Li);return}l=d.return;var p=NP(d.alternate,d,Ja);if(p!==null){Et=p;return}if(d=d.sibling,d!==null){Et=d;return}Et=d=l}while(d!==null);dn===0&&(dn=5)}function kE(l,d){do{var p=kP(l.alternate,l);if(p!==null){p.flags&=32767,Et=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){Et=l;return}Et=l=p}while(l!==null);dn=6,Et=null}function ME(l,d,p,g,C,_,O,z,K){l.cancelPendingCommit=null;do Mh();while(Kn!==0);if((zt&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(_=d.lanes|d.childLanes,_|=Rg,Lt(l,p,_,O,z,K),l===Yt&&(Et=Yt=null,At=0),Kl=d,Vi=l,Ql=p,Ny=_,ky=C,SE=g,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,HP(lt,function(){return BE(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||g){g=j.T,j.T=null,C=U.p,U.p=2,O=zt,zt|=4;try{MP(l,d,p)}finally{zt=O,U.p=C,j.T=g}}Kn=1,IE(),OE(),PE()}}function IE(){if(Kn===1){Kn=0;var l=Vi,d=Kl,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=j.T,j.T=null;var g=U.p;U.p=2;var C=zt;zt|=4;try{mE(d,l);var _=qy,O=wS(l.containerInfo),z=_.focusedElem,K=_.selectionRange;if(O!==z&&z&&z.ownerDocument&&xS(z.ownerDocument.documentElement,z)){if(K!==null&&xg(z)){var ie=K.start,ye=K.end;if(ye===void 0&&(ye=ie),"selectionStart"in z)z.selectionStart=ie,z.selectionEnd=Math.min(ye,z.value.length);else{var we=z.ownerDocument||document,se=we&&we.defaultView||window;if(se.getSelection){var ue=se.getSelection(),ut=z.textContent.length,ot=Math.min(K.start,ut),Wt=K.end===void 0?ot:Math.min(K.end,ut);!ue.extend&&ot>Wt&&(O=Wt,Wt=ot,ot=O);var te=bS(z,ot),Z=bS(z,Wt);if(te&&Z&&(ue.rangeCount!==1||ue.anchorNode!==te.node||ue.anchorOffset!==te.offset||ue.focusNode!==Z.node||ue.focusOffset!==Z.offset)){var oe=we.createRange();oe.setStart(te.node,te.offset),ue.removeAllRanges(),ot>Wt?(ue.addRange(oe),ue.extend(Z.node,Z.offset)):(oe.setEnd(Z.node,Z.offset),ue.addRange(oe))}}}}for(we=[],ue=z;ue=ue.parentNode;)ue.nodeType===1&&we.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<we.length;z++){var be=we[z];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Wh=!!Gy,qy=Gy=null}finally{zt=C,U.p=g,j.T=p}}l.current=d,Kn=2}}function OE(){if(Kn===2){Kn=0;var l=Vi,d=Kl,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=j.T,j.T=null;var g=U.p;U.p=2;var C=zt;zt|=4;try{dE(l,d.alternate,d)}finally{zt=C,U.p=g,j.T=p}}Kn=3}}function PE(){if(Kn===4||Kn===3){Kn=0,at();var l=Vi,d=Kl,p=Ql,g=SE;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Kn=5:(Kn=0,Kl=Vi=null,jE(l,l.pendingLanes));var C=l.pendingLanes;if(C===0&&(Ui=null),gc(p),d=d.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Fe,d,void 0,(d.current.flags&128)===128)}catch{}if(g!==null){d=j.T,C=U.p,U.p=2,j.T=null;try{for(var _=l.onRecoverableError,O=0;O<g.length;O++){var z=g[O];_(z.value,{componentStack:z.stack})}}finally{j.T=d,U.p=C}}(Ql&3)!==0&&Mh(),ca(l),C=l.pendingLanes,(p&4194090)!==0&&(C&42)!==0?l===My?Zc++:(Zc=0,My=l):Zc=0,ed(0)}}function jE(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Ic(d)))}function Mh(l){return IE(),OE(),PE(),BE()}function BE(){if(Kn!==5)return!1;var l=Vi,d=Ny;Ny=0;var p=gc(Ql),g=j.T,C=U.p;try{U.p=32>p?32:p,j.T=null,p=ky,ky=null;var _=Vi,O=Ql;if(Kn=0,Kl=Vi=null,Ql=0,(zt&6)!==0)throw Error(r(331));var z=zt;if(zt|=4,xE(_.current),gE(_,_.current,O,p),zt=z,ed(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Fe,_)}catch{}return!0}finally{U.p=C,j.T=g,jE(l,d)}}function FE(l,d,p){d=vo(p,d),d=cy(l.stateNode,d,2),l=Mi(l,d,2),l!==null&&(bt(l,2),ca(l))}function Xt(l,d,p){if(l.tag===3)FE(l,l,p);else for(;d!==null;){if(d.tag===3){FE(d,l,p);break}else if(d.tag===1){var g=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ui===null||!Ui.has(g))){l=vo(p,l),p=VC(2),g=Mi(d,p,2),g!==null&&(HC(p,g,d,l),bt(g,2),ca(g));break}}d=d.return}}function jy(l,d,p){var g=l.pingCache;if(g===null){g=l.pingCache=new PP;var C=new Set;g.set(d,C)}else C=g.get(d),C===void 0&&(C=new Set,g.set(d,C));C.has(p)||(_y=!0,C.add(p),l=zP.bind(null,l,d,p),d.then(l,l))}function zP(l,d,p){var g=l.pingCache;g!==null&&g.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Yt===l&&(At&p)===p&&(dn===4||dn===3&&(At&62914560)===At&&300>_e()-Ay?(zt&2)===0&&Jl(l,0):Ty|=p,Yl===At&&(Yl=0)),ca(l)}function LE(l,d){d===0&&(d=Ge()),l=Ol(l,d),l!==null&&(bt(l,d),ca(l))}function UP(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),LE(l,p)}function VP(l,d){var p=0;switch(l.tag){case 13:var g=l.stateNode,C=l.memoizedState;C!==null&&(p=C.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(d),LE(l,p)}function HP(l,d){return Te(l,d)}var Ih=null,eu=null,By=!1,Oh=!1,Fy=!1,Ls=0;function ca(l){l!==eu&&l.next===null&&(eu===null?Ih=eu=l:eu=eu.next=l),Oh=!0,By||(By=!0,$P())}function ed(l,d){if(!Fy&&Oh){Fy=!0;do for(var p=!1,g=Ih;g!==null;){if(l!==0){var C=g.pendingLanes;if(C===0)var _=0;else{var O=g.suspendedLanes,z=g.pingedLanes;_=(1<<31-Dt(42|l)+1)-1,_&=C&~(O&~z),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(p=!0,HE(g,_))}else _=At,_=Fa(g,g===Yt?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||rn(g,_)||(p=!0,HE(g,_));g=g.next}while(p);Fy=!1}}function WP(){zE()}function zE(){Oh=By=!1;var l=0;Ls!==0&&(ZP()&&(l=Ls),Ls=0);for(var d=_e(),p=null,g=Ih;g!==null;){var C=g.next,_=UE(g,d);_===0?(g.next=null,p===null?Ih=C:p.next=C,C===null&&(eu=p)):(p=g,(l!==0||(_&3)!==0)&&(Oh=!0)),g=C}ed(l)}function UE(l,d){for(var p=l.suspendedLanes,g=l.pingedLanes,C=l.expirationTimes,_=l.pendingLanes&-62914561;0<_;){var O=31-Dt(_),z=1<<O,K=C[O];K===-1?((z&p)===0||(z&g)!==0)&&(C[O]=Ei(z,d)):K<=d&&(l.expiredLanes|=z),_&=~z}if(d=Yt,p=At,p=Fa(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,p===0||l===d&&(Ut===2||Ut===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&We(g),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||rn(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(g!==null&&We(g),gc(p)){case 2:case 8:p=tt;break;case 32:p=lt;break;case 268435456:p=$e;break;default:p=lt}return g=VE.bind(null,l),p=Te(p,g),l.callbackPriority=d,l.callbackNode=p,d}return g!==null&&g!==null&&We(g),l.callbackPriority=2,l.callbackNode=null,2}function VE(l,d){if(Kn!==0&&Kn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(Mh()&&l.callbackNode!==p)return null;var g=At;return g=Fa(l,l===Yt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(EE(l,g,d),UE(l,_e()),l.callbackNode!=null&&l.callbackNode===p?VE.bind(null,l):null)}function HE(l,d){if(Mh())return null;EE(l,d,!0)}function $P(){tj(function(){(zt&6)!==0?Te(ke,WP):zE()})}function Ly(){return Ls===0&&(Ls=Xe()),Ls}function WE(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:$f(""+l)}function $E(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function GP(l,d,p,g,C){if(d==="submit"&&p&&p.stateNode===C){var _=WE((C[Dr]||null).action),O=g.submitter;O&&(d=(d=O[Dr]||null)?WE(d.formAction):O.getAttribute("formAction"),d!==null&&(_=d,O=null));var z=new Yf("action","action",null,g,C);l.push({event:z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ls!==0){var K=O?$E(C,O):new FormData(C);ay(p,{pending:!0,data:K,method:C.method,action:_},null,K)}}else typeof _=="function"&&(z.preventDefault(),K=O?$E(C,O):new FormData(C),ay(p,{pending:!0,data:K,method:C.method,action:_},_,K))},currentTarget:C}]})}}for(var zy=0;zy<Eg.length;zy++){var Uy=Eg[zy],qP=Uy.toLowerCase(),XP=Uy[0].toUpperCase()+Uy.slice(1);zo(qP,"on"+XP)}zo(ES,"onAnimationEnd"),zo(RS,"onAnimationIteration"),zo(_S,"onAnimationStart"),zo("dblclick","onDoubleClick"),zo("focusin","onFocus"),zo("focusout","onBlur"),zo(dP,"onTransitionRun"),zo(fP,"onTransitionStart"),zo(hP,"onTransitionCancel"),zo(TS,"onTransitionEnd"),El("onMouseEnter",["mouseout","mouseover"]),El("onMouseLeave",["mouseout","mouseover"]),El("onPointerEnter",["pointerout","pointerover"]),El("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(td));function GE(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var g=l[p],C=g.event;g=g.listeners;e:{var _=void 0;if(d)for(var O=g.length-1;0<=O;O--){var z=g[O],K=z.instance,ie=z.currentTarget;if(z=z.listener,K!==_&&C.isPropagationStopped())break e;_=z,C.currentTarget=ie;try{_(C)}catch(ye){wh(ye)}C.currentTarget=null,_=K}else for(O=0;O<g.length;O++){if(z=g[O],K=z.instance,ie=z.currentTarget,z=z.listener,K!==_&&C.isPropagationStopped())break e;_=z,C.currentTarget=ie;try{_(C)}catch(ye){wh(ye)}C.currentTarget=null,_=K}}}}function Rt(l,d){var p=d[eg];p===void 0&&(p=d[eg]=new Set);var g=l+"__bubble";p.has(g)||(qE(d,l,2,!1),p.add(g))}function Vy(l,d,p){var g=0;d&&(g|=4),qE(p,l,g,d)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function Hy(l){if(!l[Ph]){l[Ph]=!0,z2.forEach(function(p){p!=="selectionchange"&&(YP.has(p)||Vy(p,!1,l),Vy(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Ph]||(d[Ph]=!0,Vy("selectionchange",!1,d))}}function qE(l,d,p,g){switch(gR(d)){case 2:var C=Sj;break;case 8:C=Cj;break;default:C=r0}p=C.bind(null,d,p,l),C=void 0,!dg||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(C=!0),g?C!==void 0?l.addEventListener(d,p,{capture:!0,passive:C}):l.addEventListener(d,p,!0):C!==void 0?l.addEventListener(d,p,{passive:C}):l.addEventListener(d,p,!1)}function Wy(l,d,p,g,C){var _=g;if((d&1)===0&&(d&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var z=g.stateNode.containerInfo;if(z===C)break;if(O===4)for(O=g.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===C)return;O=O.return}for(;z!==null;){if(O=wl(z),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){g=_=O;continue e}z=z.parentNode}}g=g.return}eS(function(){var ie=_,ye=ug(p),we=[];e:{var se=DS.get(l);if(se!==void 0){var ue=Yf,ut=l;switch(l){case"keypress":if(qf(p)===0)break e;case"keydown":case"keyup":ue=HO;break;case"focusin":ut="focus",ue=mg;break;case"focusout":ut="blur",ue=mg;break;case"beforeblur":case"afterblur":ue=mg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=rS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=kO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=GO;break;case ES:case RS:case _S:ue=OO;break;case TS:ue=XO;break;case"scroll":case"scrollend":ue=AO;break;case"wheel":ue=KO;break;case"copy":case"cut":case"paste":ue=jO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=aS;break;case"toggle":case"beforetoggle":ue=JO}var ot=(d&4)!==0,Wt=!ot&&(l==="scroll"||l==="scrollend"),te=ot?se!==null?se+"Capture":null:se;ot=[];for(var Z=ie,oe;Z!==null;){var be=Z;if(oe=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||oe===null||te===null||(be=xc(Z,te),be!=null&&ot.push(nd(Z,be,oe))),Wt)break;Z=Z.return}0<ot.length&&(se=new ue(se,ut,null,p,ye),we.push({event:se,listeners:ot}))}}if((d&7)===0){e:{if(se=l==="mouseover"||l==="pointerover",ue=l==="mouseout"||l==="pointerout",se&&p!==lg&&(ut=p.relatedTarget||p.fromElement)&&(wl(ut)||ut[xl]))break e;if((ue||se)&&(se=ye.window===ye?ye:(se=ye.ownerDocument)?se.defaultView||se.parentWindow:window,ue?(ut=p.relatedTarget||p.toElement,ue=ie,ut=ut?wl(ut):null,ut!==null&&(Wt=a(ut),ot=ut.tag,ut!==Wt||ot!==5&&ot!==27&&ot!==6)&&(ut=null)):(ue=null,ut=ie),ue!==ut)){if(ot=rS,be="onMouseLeave",te="onMouseEnter",Z="mouse",(l==="pointerout"||l==="pointerover")&&(ot=aS,be="onPointerLeave",te="onPointerEnter",Z="pointer"),Wt=ue==null?se:bc(ue),oe=ut==null?se:bc(ut),se=new ot(be,Z+"leave",ue,p,ye),se.target=Wt,se.relatedTarget=oe,be=null,wl(ye)===ie&&(ot=new ot(te,Z+"enter",ut,p,ye),ot.target=oe,ot.relatedTarget=Wt,be=ot),Wt=be,ue&&ut)t:{for(ot=ue,te=ut,Z=0,oe=ot;oe;oe=tu(oe))Z++;for(oe=0,be=te;be;be=tu(be))oe++;for(;0<Z-oe;)ot=tu(ot),Z--;for(;0<oe-Z;)te=tu(te),oe--;for(;Z--;){if(ot===te||te!==null&&ot===te.alternate)break t;ot=tu(ot),te=tu(te)}ot=null}else ot=null;ue!==null&&XE(we,se,ue,ot,!1),ut!==null&&Wt!==null&&XE(we,Wt,ut,ot,!0)}}e:{if(se=ie?bc(ie):window,ue=se.nodeName&&se.nodeName.toLowerCase(),ue==="select"||ue==="input"&&se.type==="file")var Ue=hS;else if(dS(se))if(pS)Ue=lP;else{Ue=iP;var St=aP}else ue=se.nodeName,!ue||ue.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&sg(ie.elementType)&&(Ue=hS):Ue=sP;if(Ue&&(Ue=Ue(l,ie))){fS(we,Ue,p,ye);break e}St&&St(l,se,ie),l==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&ig(se,"number",se.value)}switch(St=ie?bc(ie):window,l){case"focusin":(dS(St)||St.contentEditable==="true")&&(kl=St,wg=ie,Dc=null);break;case"focusout":Dc=wg=kl=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,SS(we,p,ye);break;case"selectionchange":if(cP)break;case"keydown":case"keyup":SS(we,p,ye)}var Ze;if(gg)e:{switch(l){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Nl?uS(l,p)&&(st="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(st="onCompositionStart");st&&(iS&&p.locale!=="ko"&&(Nl||st!=="onCompositionStart"?st==="onCompositionEnd"&&Nl&&(Ze=tS()):(Di=ye,fg="value"in Di?Di.value:Di.textContent,Nl=!0)),St=jh(ie,st),0<St.length&&(st=new oS(st,l,null,p,ye),we.push({event:st,listeners:St}),Ze?st.data=Ze:(Ze=cS(p),Ze!==null&&(st.data=Ze)))),(Ze=eP?tP(l,p):nP(l,p))&&(st=jh(ie,"onBeforeInput"),0<st.length&&(St=new oS("onBeforeInput","beforeinput",null,p,ye),we.push({event:St,listeners:st}),St.data=Ze)),GP(we,l,ie,p,ye)}GE(we,d)})}function nd(l,d,p){return{instance:l,listener:d,currentTarget:p}}function jh(l,d){for(var p=d+"Capture",g=[];l!==null;){var C=l,_=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||_===null||(C=xc(l,p),C!=null&&g.unshift(nd(l,C,_)),C=xc(l,d),C!=null&&g.push(nd(l,C,_))),l.tag===3)return g;l=l.return}return[]}function tu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function XE(l,d,p,g,C){for(var _=d._reactName,O=[];p!==null&&p!==g;){var z=p,K=z.alternate,ie=z.stateNode;if(z=z.tag,K!==null&&K===g)break;z!==5&&z!==26&&z!==27||ie===null||(K=ie,C?(ie=xc(p,_),ie!=null&&O.unshift(nd(p,ie,K))):C||(ie=xc(p,_),ie!=null&&O.push(nd(p,ie,K)))),p=p.return}O.length!==0&&l.push({event:d,listeners:O})}var KP=/\r\n?/g,QP=/\u0000|\uFFFD/g;function YE(l){return(typeof l=="string"?l:""+l).replace(KP,`
`).replace(QP,"")}function KE(l,d){return d=YE(d),YE(l)===d}function Bh(){}function Ht(l,d,p,g,C,_){switch(p){case"children":typeof g=="string"?d==="body"||d==="textarea"&&g===""||Tl(l,g):(typeof g=="number"||typeof g=="bigint")&&d!=="body"&&Tl(l,""+g);break;case"className":Vf(l,"class",g);break;case"tabIndex":Vf(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Vf(l,p,g);break;case"style":J2(l,g,_);break;case"data":if(d!=="object"){Vf(l,"data",g);break}case"src":case"href":if(g===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(p);break}g=$f(""+g),l.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(p==="formAction"?(d!=="input"&&Ht(l,d,"name",C.name,C,null),Ht(l,d,"formEncType",C.formEncType,C,null),Ht(l,d,"formMethod",C.formMethod,C,null),Ht(l,d,"formTarget",C.formTarget,C,null)):(Ht(l,d,"encType",C.encType,C,null),Ht(l,d,"method",C.method,C,null),Ht(l,d,"target",C.target,C,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(p);break}g=$f(""+g),l.setAttribute(p,g);break;case"onClick":g!=null&&(l.onclick=Bh);break;case"onScroll":g!=null&&Rt("scroll",l);break;case"onScrollEnd":g!=null&&Rt("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}p=$f(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,""+g):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":g===!0?l.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(p,g):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(p,g):l.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(p):l.setAttribute(p,g);break;case"popover":Rt("beforetoggle",l),Rt("toggle",l),Uf(l,"popover",g);break;case"xlinkActuate":La(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":La(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":La(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":La(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":La(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":La(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":La(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":La(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":La(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Uf(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=TO.get(p)||p,Uf(l,p,g))}}function $y(l,d,p,g,C,_){switch(p){case"style":J2(l,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof g=="string"?Tl(l,g):(typeof g=="number"||typeof g=="bigint")&&Tl(l,""+g);break;case"onScroll":g!=null&&Rt("scroll",l);break;case"onScrollEnd":g!=null&&Rt("scrollend",l);break;case"onClick":g!=null&&(l.onclick=Bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!U2.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(C=p.endsWith("Capture"),d=p.slice(2,C?p.length-7:void 0),_=l[Dr]||null,_=_!=null?_[p]:null,typeof _=="function"&&l.removeEventListener(d,_,C),typeof g=="function")){typeof _!="function"&&_!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,g,C);break e}p in l?l[p]=g:g===!0?l.setAttribute(p,""):Uf(l,p,g)}}}function Qn(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",l),Rt("load",l);var g=!1,C=!1,_;for(_ in p)if(p.hasOwnProperty(_)){var O=p[_];if(O!=null)switch(_){case"src":g=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Ht(l,d,_,O,p,null)}}C&&Ht(l,d,"srcSet",p.srcSet,p,null),g&&Ht(l,d,"src",p.src,p,null);return;case"input":Rt("invalid",l);var z=_=O=C=null,K=null,ie=null;for(g in p)if(p.hasOwnProperty(g)){var ye=p[g];if(ye!=null)switch(g){case"name":C=ye;break;case"type":O=ye;break;case"checked":K=ye;break;case"defaultChecked":ie=ye;break;case"value":_=ye;break;case"defaultValue":z=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,d));break;default:Ht(l,d,g,ye,p,null)}}X2(l,_,z,K,ie,O,C,!1),Hf(l);return;case"select":Rt("invalid",l),g=O=_=null;for(C in p)if(p.hasOwnProperty(C)&&(z=p[C],z!=null))switch(C){case"value":_=z;break;case"defaultValue":O=z;break;case"multiple":g=z;default:Ht(l,d,C,z,p,null)}d=_,p=O,l.multiple=!!g,d!=null?_l(l,!!g,d,!1):p!=null&&_l(l,!!g,p,!0);return;case"textarea":Rt("invalid",l),_=C=g=null;for(O in p)if(p.hasOwnProperty(O)&&(z=p[O],z!=null))switch(O){case"value":g=z;break;case"defaultValue":C=z;break;case"children":_=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Ht(l,d,O,z,p,null)}K2(l,g,C,_),Hf(l);return;case"option":for(K in p)if(p.hasOwnProperty(K)&&(g=p[K],g!=null))switch(K){case"selected":l.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ht(l,d,K,g,p,null)}return;case"dialog":Rt("beforetoggle",l),Rt("toggle",l),Rt("cancel",l),Rt("close",l);break;case"iframe":case"object":Rt("load",l);break;case"video":case"audio":for(g=0;g<td.length;g++)Rt(td[g],l);break;case"image":Rt("error",l),Rt("load",l);break;case"details":Rt("toggle",l);break;case"embed":case"source":case"link":Rt("error",l),Rt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in p)if(p.hasOwnProperty(ie)&&(g=p[ie],g!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Ht(l,d,ie,g,p,null)}return;default:if(sg(d)){for(ye in p)p.hasOwnProperty(ye)&&(g=p[ye],g!==void 0&&$y(l,d,ye,g,p,void 0));return}}for(z in p)p.hasOwnProperty(z)&&(g=p[z],g!=null&&Ht(l,d,z,g,p,null))}function JP(l,d,p,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,_=null,O=null,z=null,K=null,ie=null,ye=null;for(ue in p){var we=p[ue];if(p.hasOwnProperty(ue)&&we!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":K=we;default:g.hasOwnProperty(ue)||Ht(l,d,ue,null,g,we)}}for(var se in g){var ue=g[se];if(we=p[se],g.hasOwnProperty(se)&&(ue!=null||we!=null))switch(se){case"type":_=ue;break;case"name":C=ue;break;case"checked":ie=ue;break;case"defaultChecked":ye=ue;break;case"value":O=ue;break;case"defaultValue":z=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,d));break;default:ue!==we&&Ht(l,d,se,ue,g,we)}}ag(l,O,z,K,ie,ye,_,C);return;case"select":ue=O=z=se=null;for(_ in p)if(K=p[_],p.hasOwnProperty(_)&&K!=null)switch(_){case"value":break;case"multiple":ue=K;default:g.hasOwnProperty(_)||Ht(l,d,_,null,g,K)}for(C in g)if(_=g[C],K=p[C],g.hasOwnProperty(C)&&(_!=null||K!=null))switch(C){case"value":se=_;break;case"defaultValue":z=_;break;case"multiple":O=_;default:_!==K&&Ht(l,d,C,_,g,K)}d=z,p=O,g=ue,se!=null?_l(l,!!p,se,!1):!!g!=!!p&&(d!=null?_l(l,!!p,d,!0):_l(l,!!p,p?[]:"",!1));return;case"textarea":ue=se=null;for(z in p)if(C=p[z],p.hasOwnProperty(z)&&C!=null&&!g.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Ht(l,d,z,null,g,C)}for(O in g)if(C=g[O],_=p[O],g.hasOwnProperty(O)&&(C!=null||_!=null))switch(O){case"value":se=C;break;case"defaultValue":ue=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==_&&Ht(l,d,O,C,g,_)}Y2(l,se,ue);return;case"option":for(var ut in p)if(se=p[ut],p.hasOwnProperty(ut)&&se!=null&&!g.hasOwnProperty(ut))switch(ut){case"selected":l.selected=!1;break;default:Ht(l,d,ut,null,g,se)}for(K in g)if(se=g[K],ue=p[K],g.hasOwnProperty(K)&&se!==ue&&(se!=null||ue!=null))switch(K){case"selected":l.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Ht(l,d,K,se,g,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in p)se=p[ot],p.hasOwnProperty(ot)&&se!=null&&!g.hasOwnProperty(ot)&&Ht(l,d,ot,null,g,se);for(ie in g)if(se=g[ie],ue=p[ie],g.hasOwnProperty(ie)&&se!==ue&&(se!=null||ue!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,d));break;default:Ht(l,d,ie,se,g,ue)}return;default:if(sg(d)){for(var Wt in p)se=p[Wt],p.hasOwnProperty(Wt)&&se!==void 0&&!g.hasOwnProperty(Wt)&&$y(l,d,Wt,void 0,g,se);for(ye in g)se=g[ye],ue=p[ye],!g.hasOwnProperty(ye)||se===ue||se===void 0&&ue===void 0||$y(l,d,ye,se,g,ue);return}}for(var te in p)se=p[te],p.hasOwnProperty(te)&&se!=null&&!g.hasOwnProperty(te)&&Ht(l,d,te,null,g,se);for(we in g)se=g[we],ue=p[we],!g.hasOwnProperty(we)||se===ue||se==null&&ue==null||Ht(l,d,we,se,g,ue)}var Gy=null,qy=null;function Fh(l){return l.nodeType===9?l:l.ownerDocument}function QE(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function Xy(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Yy=null;function ZP(){var l=window.event;return l&&l.type==="popstate"?l===Yy?!1:(Yy=l,!0):(Yy=null,!1)}var ZE=typeof setTimeout=="function"?setTimeout:void 0,ej=typeof clearTimeout=="function"?clearTimeout:void 0,eR=typeof Promise=="function"?Promise:void 0,tj=typeof queueMicrotask=="function"?queueMicrotask:typeof eR<"u"?function(l){return eR.resolve(null).then(l).catch(nj)}:ZE;function nj(l){setTimeout(function(){throw l})}function Wi(l){return l==="head"}function tR(l,d){var p=d,g=0,C=0;do{var _=p.nextSibling;if(l.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"){if(0<g&&8>g){p=g;var O=l.ownerDocument;if(p&1&&rd(O.documentElement),p&2&&rd(O.body),p&4)for(p=O.head,rd(p),O=p.firstChild;O;){var z=O.nextSibling,K=O.nodeName;O[yc]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&O.rel.toLowerCase()==="stylesheet"||p.removeChild(O),O=z}}if(C===0){l.removeChild(_),dd(d);return}C--}else p==="$"||p==="$?"||p==="$!"?C++:g=p.charCodeAt(0)-48;else g=0;p=_}while(p);dd(d)}function Ky(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Ky(p),tg(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function rj(l,d,p,g){for(;l.nodeType===1;){var C=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[yc])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(_=l.getAttribute("rel"),_==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(_!==C.rel||l.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||l.getAttribute("title")!==(C.title==null?null:C.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(_=l.getAttribute("src"),(_!==(C.src==null?null:C.src)||l.getAttribute("type")!==(C.type==null?null:C.type)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&_&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var _=C.name==null?null:""+C.name;if(C.type==="hidden"&&l.getAttribute("name")===_)return l}else return l;if(l=Vo(l.nextSibling),l===null)break}return null}function oj(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Vo(l.nextSibling),l===null))return null;return l}function Qy(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function aj(l,d){var p=l.ownerDocument;if(l.data!=="$?"||p.readyState==="complete")d();else{var g=function(){d(),p.removeEventListener("DOMContentLoaded",g)};p.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function Vo(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var Jy=null;function nR(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return l;d--}else p==="/$"&&d++}l=l.previousSibling}return null}function rR(l,d,p){switch(d=Fh(p),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function rd(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);tg(l)}var So=new Map,oR=new Set;function Lh(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Za=U.d;U.d={f:ij,r:sj,D:lj,C:uj,L:cj,m:dj,X:hj,S:fj,M:pj};function ij(){var l=Za.f(),d=Nh();return l||d}function sj(l){var d=Sl(l);d!==null&&d.tag===5&&d.type==="form"?EC(d):Za.r(l)}var nu=typeof document>"u"?null:document;function aR(l,d,p){var g=nu;if(g&&typeof d=="string"&&d){var C=mo(d);C='link[rel="'+l+'"][href="'+C+'"]',typeof p=="string"&&(C+='[crossorigin="'+p+'"]'),oR.has(C)||(oR.add(C),l={rel:l,crossOrigin:p,href:d},g.querySelector(C)===null&&(d=g.createElement("link"),Qn(d,"link",l),jn(d),g.head.appendChild(d)))}}function lj(l){Za.D(l),aR("dns-prefetch",l,null)}function uj(l,d){Za.C(l,d),aR("preconnect",l,d)}function cj(l,d,p){Za.L(l,d,p);var g=nu;if(g&&l&&d){var C='link[rel="preload"][as="'+mo(d)+'"]';d==="image"&&p&&p.imageSrcSet?(C+='[imagesrcset="'+mo(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(C+='[imagesizes="'+mo(p.imageSizes)+'"]')):C+='[href="'+mo(l)+'"]';var _=C;switch(d){case"style":_=ru(l);break;case"script":_=ou(l)}So.has(_)||(l=f({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),So.set(_,l),g.querySelector(C)!==null||d==="style"&&g.querySelector(od(_))||d==="script"&&g.querySelector(ad(_))||(d=g.createElement("link"),Qn(d,"link",l),jn(d),g.head.appendChild(d)))}}function dj(l,d){Za.m(l,d);var p=nu;if(p&&l){var g=d&&typeof d.as=="string"?d.as:"script",C='link[rel="modulepreload"][as="'+mo(g)+'"][href="'+mo(l)+'"]',_=C;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ou(l)}if(!So.has(_)&&(l=f({rel:"modulepreload",href:l},d),So.set(_,l),p.querySelector(C)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ad(_)))return}g=p.createElement("link"),Qn(g,"link",l),jn(g),p.head.appendChild(g)}}}function fj(l,d,p){Za.S(l,d,p);var g=nu;if(g&&l){var C=Cl(g).hoistableStyles,_=ru(l);d=d||"default";var O=C.get(_);if(!O){var z={loading:0,preload:null};if(O=g.querySelector(od(_)))z.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":d},p),(p=So.get(_))&&Zy(l,p);var K=O=g.createElement("link");jn(K),Qn(K,"link",l),K._p=new Promise(function(ie,ye){K.onload=ie,K.onerror=ye}),K.addEventListener("load",function(){z.loading|=1}),K.addEventListener("error",function(){z.loading|=2}),z.loading|=4,zh(O,d,g)}O={type:"stylesheet",instance:O,count:1,state:z},C.set(_,O)}}}function hj(l,d){Za.X(l,d);var p=nu;if(p&&l){var g=Cl(p).hoistableScripts,C=ou(l),_=g.get(C);_||(_=p.querySelector(ad(C)),_||(l=f({src:l,async:!0},d),(d=So.get(C))&&e0(l,d),_=p.createElement("script"),jn(_),Qn(_,"link",l),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(C,_))}}function pj(l,d){Za.M(l,d);var p=nu;if(p&&l){var g=Cl(p).hoistableScripts,C=ou(l),_=g.get(C);_||(_=p.querySelector(ad(C)),_||(l=f({src:l,async:!0,type:"module"},d),(d=So.get(C))&&e0(l,d),_=p.createElement("script"),jn(_),Qn(_,"link",l),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(C,_))}}function iR(l,d,p,g){var C=(C=ae.current)?Lh(C):null;if(!C)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=ru(p.href),p=Cl(C).hoistableStyles,g=p.get(d),g||(g={type:"style",instance:null,count:0,state:null},p.set(d,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=ru(p.href);var _=Cl(C).hoistableStyles,O=_.get(l);if(O||(C=C.ownerDocument||C,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(l,O),(_=C.querySelector(od(l)))&&!_._p&&(O.instance=_,O.state.loading=5),So.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},So.set(l,p),_||mj(C,l,p,O.state))),d&&g===null)throw Error(r(528,""));return O}if(d&&g!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=ou(p),p=Cl(C).hoistableScripts,g=p.get(d),g||(g={type:"script",instance:null,count:0,state:null},p.set(d,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function ru(l){return'href="'+mo(l)+'"'}function od(l){return'link[rel="stylesheet"]['+l+"]"}function sR(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function mj(l,d,p,g){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?g.loading=1:(d=l.createElement("link"),g.preload=d,d.addEventListener("load",function(){return g.loading|=1}),d.addEventListener("error",function(){return g.loading|=2}),Qn(d,"link",p),jn(d),l.head.appendChild(d))}function ou(l){return'[src="'+mo(l)+'"]'}function ad(l){return"script[async]"+l}function lR(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var g=l.querySelector('style[data-href~="'+mo(p.href)+'"]');if(g)return d.instance=g,jn(g),g;var C=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),jn(g),Qn(g,"style",C),zh(g,p.precedence,l),d.instance=g;case"stylesheet":C=ru(p.href);var _=l.querySelector(od(C));if(_)return d.state.loading|=4,d.instance=_,jn(_),_;g=sR(p),(C=So.get(C))&&Zy(g,C),_=(l.ownerDocument||l).createElement("link"),jn(_);var O=_;return O._p=new Promise(function(z,K){O.onload=z,O.onerror=K}),Qn(_,"link",g),d.state.loading|=4,zh(_,p.precedence,l),d.instance=_;case"script":return _=ou(p.src),(C=l.querySelector(ad(_)))?(d.instance=C,jn(C),C):(g=p,(C=So.get(_))&&(g=f({},p),e0(g,C)),l=l.ownerDocument||l,C=l.createElement("script"),jn(C),Qn(C,"link",g),l.head.appendChild(C),d.instance=C);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(g=d.instance,d.state.loading|=4,zh(g,p.precedence,l));return d.instance}function zh(l,d,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=g.length?g[g.length-1]:null,_=C,O=0;O<g.length;O++){var z=g[O];if(z.dataset.precedence===d)_=z;else if(_!==C)break}_?_.parentNode.insertBefore(l,_.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function Zy(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function e0(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var Uh=null;function uR(l,d,p){if(Uh===null){var g=new Map,C=Uh=new Map;C.set(p,g)}else C=Uh,g=C.get(p),g||(g=new Map,C.set(p,g));if(g.has(l))return g;for(g.set(l,null),p=p.getElementsByTagName(l),C=0;C<p.length;C++){var _=p[C];if(!(_[yc]||_[rr]||l==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(d)||"";O=l+O;var z=g.get(O);z?z.push(_):g.set(O,[_])}}return g}function cR(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function vj(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function dR(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var id=null;function gj(){}function yj(l,d,p){if(id===null)throw Error(r(475));var g=id;if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=ru(p.href),_=l.querySelector(od(C));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(g.count++,g=Vh.bind(g),l.then(g,g)),d.state.loading|=4,d.instance=_,jn(_);return}_=l.ownerDocument||l,p=sR(p),(C=So.get(C))&&Zy(p,C),_=_.createElement("link"),jn(_);var O=_;O._p=new Promise(function(z,K){O.onload=z,O.onerror=K}),Qn(_,"link",p),d.instance=_}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(g.count++,d=Vh.bind(g),l.addEventListener("load",d),l.addEventListener("error",d))}}function bj(){if(id===null)throw Error(r(475));var l=id;return l.stylesheets&&l.count===0&&t0(l,l.stylesheets),0<l.count?function(d){var p=setTimeout(function(){if(l.stylesheets&&t0(l,l.stylesheets),l.unsuspend){var g=l.unsuspend;l.unsuspend=null,g()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(p)}}:null}function Vh(){if(this.count--,this.count===0){if(this.stylesheets)t0(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Hh=null;function t0(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Hh=new Map,d.forEach(xj,l),Hh=null,Vh.call(l))}function xj(l,d){if(!(d.state.loading&4)){var p=Hh.get(l);if(p)var g=p.get(null);else{p=new Map,Hh.set(l,p);for(var C=l.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<C.length;_++){var O=C[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(p.set(O.dataset.precedence,O),g=O)}g&&p.set(null,g)}C=d.instance,O=C.getAttribute("data-precedence"),_=p.get(O)||g,_===g&&p.set(null,C),p.set(O,C),this.count++,g=Vh.bind(this),C.addEventListener("load",g),C.addEventListener("error",g),_?_.parentNode.insertBefore(C,_.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(C,l.firstChild)),d.state.loading|=4}}var sd={$$typeof:R,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function wj(l,d,p,g,C,_,O,z){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=g,this.onUncaughtError=C,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function fR(l,d,p,g,C,_,O,z,K,ie,ye,we){return l=new wj(l,d,p,O,z,K,ie,we),d=1,_===!0&&(d|=24),_=Xr(3,null,null,d),l.current=_,_.stateNode=l,d=jg(),d.refCount++,l.pooledCache=d,d.refCount++,_.memoizedState={element:g,isDehydrated:p,cache:d},zg(_),l}function hR(l){return l?(l=Pl,l):Pl}function pR(l,d,p,g,C,_){C=hR(C),g.context===null?g.context=C:g.pendingContext=C,g=ki(d),g.payload={element:p},_=_===void 0?null:_,_!==null&&(g.callback=_),p=Mi(l,g,d),p!==null&&(Zr(p,l,d),Bc(p,l,d))}function mR(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function n0(l,d){mR(l,d),(l=l.alternate)&&mR(l,d)}function vR(l){if(l.tag===13){var d=Ol(l,67108864);d!==null&&Zr(d,l,67108864),n0(l,67108864)}}var Wh=!0;function Sj(l,d,p,g){var C=j.T;j.T=null;var _=U.p;try{U.p=2,r0(l,d,p,g)}finally{U.p=_,j.T=C}}function Cj(l,d,p,g){var C=j.T;j.T=null;var _=U.p;try{U.p=8,r0(l,d,p,g)}finally{U.p=_,j.T=C}}function r0(l,d,p,g){if(Wh){var C=o0(g);if(C===null)Wy(l,d,g,$h,p),yR(l,g);else if(Rj(C,l,d,p,g))g.stopPropagation();else if(yR(l,g),d&4&&-1<Ej.indexOf(l)){for(;C!==null;){var _=Sl(C);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=vr(_.pendingLanes);if(O!==0){var z=_;for(z.pendingLanes|=2,z.entangledLanes|=2;O;){var K=1<<31-Dt(O);z.entanglements[1]|=K,O&=~K}ca(_),(zt&6)===0&&(Dh=_e()+500,ed(0))}}break;case 13:z=Ol(_,2),z!==null&&Zr(z,_,2),Nh(),n0(_,2)}if(_=o0(g),_===null&&Wy(l,d,g,$h,p),_===C)break;C=_}C!==null&&g.stopPropagation()}else Wy(l,d,g,null,p)}}function o0(l){return l=ug(l),a0(l)}var $h=null;function a0(l){if($h=null,l=wl(l),l!==null){var d=a(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=i(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return $h=l,null}function gR(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case ke:return 2;case tt:return 8;case lt:case nt:return 32;case $e:return 268435456;default:return 32}default:return 32}}var i0=!1,$i=null,Gi=null,qi=null,ld=new Map,ud=new Map,Xi=[],Ej="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yR(l,d){switch(l){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":ld.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(d.pointerId)}}function cd(l,d,p,g,C,_){return l===null||l.nativeEvent!==_?(l={blockedOn:d,domEventName:p,eventSystemFlags:g,nativeEvent:_,targetContainers:[C]},d!==null&&(d=Sl(d),d!==null&&vR(d)),l):(l.eventSystemFlags|=g,d=l.targetContainers,C!==null&&d.indexOf(C)===-1&&d.push(C),l)}function Rj(l,d,p,g,C){switch(d){case"focusin":return $i=cd($i,l,d,p,g,C),!0;case"dragenter":return Gi=cd(Gi,l,d,p,g,C),!0;case"mouseover":return qi=cd(qi,l,d,p,g,C),!0;case"pointerover":var _=C.pointerId;return ld.set(_,cd(ld.get(_)||null,l,d,p,g,C)),!0;case"gotpointercapture":return _=C.pointerId,ud.set(_,cd(ud.get(_)||null,l,d,p,g,C)),!0}return!1}function bR(l){var d=wl(l.target);if(d!==null){var p=a(d);if(p!==null){if(d=p.tag,d===13){if(d=i(p),d!==null){l.blockedOn=d,Zv(l.priority,function(){if(p.tag===13){var g=Jr();g=Ri(g);var C=Ol(p,g);C!==null&&Zr(C,p,g),n0(p,g)}});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Gh(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=o0(l.nativeEvent);if(p===null){p=l.nativeEvent;var g=new p.constructor(p.type,p);lg=g,p.target.dispatchEvent(g),lg=null}else return d=Sl(p),d!==null&&vR(d),l.blockedOn=p,!1;d.shift()}return!0}function xR(l,d,p){Gh(l)&&p.delete(d)}function _j(){i0=!1,$i!==null&&Gh($i)&&($i=null),Gi!==null&&Gh(Gi)&&(Gi=null),qi!==null&&Gh(qi)&&(qi=null),ld.forEach(xR),ud.forEach(xR)}function qh(l,d){l.blockedOn===d&&(l.blockedOn=null,i0||(i0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_j)))}var Xh=null;function wR(l){Xh!==l&&(Xh=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Xh===l&&(Xh=null);for(var d=0;d<l.length;d+=3){var p=l[d],g=l[d+1],C=l[d+2];if(typeof g!="function"){if(a0(g||p)===null)continue;break}var _=Sl(p);_!==null&&(l.splice(d,3),d-=3,ay(_,{pending:!0,data:C,method:p.method,action:g},g,C))}}))}function dd(l){function d(K){return qh(K,l)}$i!==null&&qh($i,l),Gi!==null&&qh(Gi,l),qi!==null&&qh(qi,l),ld.forEach(d),ud.forEach(d);for(var p=0;p<Xi.length;p++){var g=Xi[p];g.blockedOn===l&&(g.blockedOn=null)}for(;0<Xi.length&&(p=Xi[0],p.blockedOn===null);)bR(p),p.blockedOn===null&&Xi.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var C=p[g],_=p[g+1],O=C[Dr]||null;if(typeof _=="function")O||wR(p);else if(O){var z=null;if(_&&_.hasAttribute("formAction")){if(C=_,O=_[Dr]||null)z=O.formAction;else if(a0(C)!==null)continue}else z=O.action;typeof z=="function"?p[g+1]=z:(p.splice(g,3),g-=3),wR(p)}}}function s0(l){this._internalRoot=l}Yh.prototype.render=s0.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,g=Jr();pR(p,g,l,d,null,null)},Yh.prototype.unmount=s0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;pR(l.current,2,null,l,null,null),Nh(),d[xl]=null}};function Yh(l){this._internalRoot=l}Yh.prototype.unstable_scheduleHydration=function(l){if(l){var d=_i();l={blockedOn:null,target:l,priority:d};for(var p=0;p<Xi.length&&d!==0&&d<Xi[p].priority;p++);Xi.splice(p,0,l),p===0&&bR(l)}};var SR=n.version;if(SR!=="19.1.1")throw Error(r(527,SR,"19.1.1"));U.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=u(d),l=l!==null?c(l):null,l=l===null?null:l.stateNode,l};var Tj={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{Fe=Kh.inject(Tj),it=Kh}catch{}}return hd.createRoot=function(l,d){if(!o(l))throw Error(r(299));var p=!1,g="",C=FC,_=LC,O=zC,z=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(z=d.unstable_transitionCallbacks)),d=fR(l,1,!1,null,null,p,g,C,_,O,z,null),l[xl]=d.current,Hy(l),new s0(d)},hd.hydrateRoot=function(l,d,p){if(!o(l))throw Error(r(299));var g=!1,C="",_=FC,O=LC,z=zC,K=null,ie=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onUncaughtError!==void 0&&(_=p.onUncaughtError),p.onCaughtError!==void 0&&(O=p.onCaughtError),p.onRecoverableError!==void 0&&(z=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(K=p.unstable_transitionCallbacks),p.formState!==void 0&&(ie=p.formState)),d=fR(l,1,!0,d,p??null,g,C,_,O,z,K,ie),d.context=hR(null),p=d.current,g=Jr(),g=Ri(g),C=ki(g),C.callback=null,Mi(p,C,g),p=g,d.current.lanes=p,bt(d,p),ca(d),l[xl]=d.current,Hy(l),new Yh(d)},hd.version="19.1.1",hd}var MR;function Lj(){if(MR)return c0.exports;MR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),c0.exports=Fj(),c0.exports}var zj=Lj();const Uj=cf(zj);var ga=function(){return ga=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},ga.apply(this,arguments)};function oA(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function Vj(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,a;r<o;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var Tp="right-scroll-bar-position",Dp="width-before-scroll-bar",Hj="with-scroll-bars-hidden",Wj="--removed-body-scroll-bar-size";function p0(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function $j(e,n){var t=T.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}var Gj=typeof window<"u"?T.useLayoutEffect:T.useEffect,IR=new WeakMap;function qj(e,n){var t=$j(null,function(r){return e.forEach(function(o){return p0(o,r)})});return Gj(function(){var r=IR.get(t);if(r){var o=new Set(r),a=new Set(e),i=t.current;o.forEach(function(s){a.has(s)||p0(s,null)}),a.forEach(function(s){o.has(s)||p0(s,i)})}IR.set(t,e)},[e]),t}function Xj(e){return e}function Yj(e,n){n===void 0&&(n=Xj);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(a){var i=n(a,r);return t.push(i),function(){t=t.filter(function(s){return s!==i})}},assignSyncMedium:function(a){for(r=!0;t.length;){var i=t;t=[],i.forEach(a)}t={push:function(s){return a(s)},filter:function(){return t}}},assignMedium:function(a){r=!0;var i=[];if(t.length){var s=t;t=[],s.forEach(a),i=t}var u=function(){var f=i;i=[],f.forEach(a)},c=function(){return Promise.resolve().then(u)};c(),t={push:function(f){i.push(f),c()},filter:function(f){return i=i.filter(f),t}}}};return o}function Kj(e){e===void 0&&(e={});var n=Yj(null);return n.options=ga({async:!0,ssr:!1},e),n}var aA=function(e){var n=e.sideCar,t=oA(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,ga({},t))};aA.isSideCarExport=!0;function Qj(e,n){return e.useMedium(n),aA}var iA=Kj(),m0=function(){},Im=T.forwardRef(function(e,n){var t=T.useRef(null),r=T.useState({onScrollCapture:m0,onWheelCapture:m0,onTouchMoveCapture:m0}),o=r[0],a=r[1],i=e.forwardProps,s=e.children,u=e.className,c=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,v=e.noRelative,b=e.noIsolation,x=e.inert,w=e.allowPinchZoom,S=e.as,E=S===void 0?"div":S,R=e.gapMode,D=oA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,N=qj([t,n]),k=ga(ga({},D),o);return T.createElement(T.Fragment,null,f&&T.createElement(A,{sideCar:iA,removeScrollBar:c,shards:h,noRelative:v,noIsolation:b,inert:x,setCallbacks:a,allowPinchZoom:!!w,lockRef:t,gapMode:R}),i?T.cloneElement(T.Children.only(s),ga(ga({},k),{ref:N})):T.createElement(E,ga({},k,{className:u,ref:N}),s))});Im.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Im.classNames={fullWidth:Dp,zeroRight:Tp};var Jj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zj(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=Jj();return n&&e.setAttribute("nonce",n),e}function eB(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function tB(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var nB=function(){var e=0,n=null;return{add:function(t){e==0&&(n=Zj())&&(eB(n,t),tB(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},rB=function(){var e=nB();return function(n,t){T.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},sA=function(){var e=rB(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},oB={left:0,top:0,right:0,gap:0},v0=function(e){return parseInt(e||"",10)||0},aB=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[v0(t),v0(r),v0(o)]},iB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oB;var n=aB(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},sB=sA(),_u="data-scroll-locked",lB=function(e,n,t,r){var o=e.left,a=e.top,i=e.right,s=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(Hj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(_u,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tp,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Dp,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Tp," .").concat(Tp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dp," .").concat(Dp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_u,`] {
    `).concat(Wj,": ").concat(s,`px;
  }
`)},OR=function(){var e=parseInt(document.body.getAttribute(_u)||"0",10);return isFinite(e)?e:0},uB=function(){T.useEffect(function(){return document.body.setAttribute(_u,(OR()+1).toString()),function(){var e=OR()-1;e<=0?document.body.removeAttribute(_u):document.body.setAttribute(_u,e.toString())}},[])},cB=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;uB();var a=T.useMemo(function(){return iB(o)},[o]);return T.createElement(sB,{styles:lB(a,!n,o,t?"":"!important")})},Tb=!1;if(typeof window<"u")try{var Qh=Object.defineProperty({},"passive",{get:function(){return Tb=!0,!0}});window.addEventListener("test",Qh,Qh),window.removeEventListener("test",Qh,Qh)}catch{Tb=!1}var au=Tb?{passive:!1}:!1,dB=function(e){return e.tagName==="TEXTAREA"},lA=function(e,n){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!dB(e)&&t[n]==="visible")},fB=function(e){return lA(e,"overflowY")},hB=function(e){return lA(e,"overflowX")},PR=function(e,n){var t=n.ownerDocument,r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=uA(e,r);if(o){var a=cA(e,r),i=a[1],s=a[2];if(i>s)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},pB=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},mB=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},uA=function(e,n){return e==="v"?fB(n):hB(n)},cA=function(e,n){return e==="v"?pB(n):mB(n)},vB=function(e,n){return e==="h"&&n==="rtl"?-1:1},gB=function(e,n,t,r,o){var a=vB(e,window.getComputedStyle(n).direction),i=a*r,s=t.target,u=n.contains(s),c=!1,f=i>0,h=0,m=0;do{if(!s)break;var v=cA(e,s),b=v[0],x=v[1],w=v[2],S=x-w-a*b;(b||S)&&uA(e,s)&&(h+=S,m+=b);var E=s.parentNode;s=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!u&&s!==document.body||u&&(n.contains(s)||n===s));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(c=!0),c},Jh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jR=function(e){return[e.deltaX,e.deltaY]},BR=function(e){return e&&"current"in e?e.current:e},yB=function(e,n){return e[0]===n[0]&&e[1]===n[1]},bB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xB=0,iu=[];function wB(e){var n=T.useRef([]),t=T.useRef([0,0]),r=T.useRef(),o=T.useState(xB++)[0],a=T.useState(sA)[0],i=T.useRef(e);T.useEffect(function(){i.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=Vj([e.lockRef.current],(e.shards||[]).map(BR),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var s=T.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var S=Jh(x),E=t.current,R="deltaX"in x?x.deltaX:E[0]-S[0],D="deltaY"in x?x.deltaY:E[1]-S[1],A,N=x.target,k=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in x&&k==="h"&&N.type==="range")return!1;var M=PR(k,N);if(!M)return!0;if(M?A=k:(A=k==="v"?"h":"v",M=PR(k,N)),!M)return!1;if(!r.current&&"changedTouches"in x&&(R||D)&&(r.current=A),!A)return!0;var I=r.current||A;return gB(I,w,x,I==="h"?R:D)},[]),u=T.useCallback(function(x){var w=x;if(!(!iu.length||iu[iu.length-1]!==a)){var S="deltaY"in w?jR(w):Jh(w),E=n.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&yB(A.delta,S)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var R=(i.current.shards||[]).map(BR).filter(Boolean).filter(function(A){return A.contains(w.target)}),D=R.length>0?s(w,R[0]):!i.current.noIsolation;D&&w.cancelable&&w.preventDefault()}}},[]),c=T.useCallback(function(x,w,S,E){var R={name:x,delta:w,target:S,should:E,shadowParent:SB(S)};n.current.push(R),setTimeout(function(){n.current=n.current.filter(function(D){return D!==R})},1)},[]),f=T.useCallback(function(x){t.current=Jh(x),r.current=void 0},[]),h=T.useCallback(function(x){c(x.type,jR(x),x.target,s(x,e.lockRef.current))},[]),m=T.useCallback(function(x){c(x.type,Jh(x),x.target,s(x,e.lockRef.current))},[]);T.useEffect(function(){return iu.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",u,au),document.addEventListener("touchmove",u,au),document.addEventListener("touchstart",f,au),function(){iu=iu.filter(function(x){return x!==a}),document.removeEventListener("wheel",u,au),document.removeEventListener("touchmove",u,au),document.removeEventListener("touchstart",f,au)}},[]);var v=e.removeScrollBar,b=e.inert;return T.createElement(T.Fragment,null,b?T.createElement(a,{styles:bB(o)}):null,v?T.createElement(cB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function SB(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const CB=Qj(iA,wB);var Vp=T.forwardRef(function(e,n){return T.createElement(Im,ga({},e,{ref:n,sideCar:CB}))});Vp.classNames=Im.classNames;function jr(e){return Object.keys(e)}function g0(e){return e&&typeof e=="object"&&!Array.isArray(e)}function zx(e,n){const t={...e},r=n;return g0(e)&&g0(n)&&Object.keys(n).forEach(o=>{g0(r[o])&&o in e?t[o]=zx(t[o],r[o]):t[o]=r[o]}),t}function EB(e){return e.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}function RB(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function Pd(e){const n=RB(e);return typeof n=="number"?n:typeof n=="string"?n.includes("calc")||n.includes("var")?n:n.includes("px")?Number(n.replace("px","")):n.includes("rem")?Number(n.replace("rem",""))*16:n.includes("em")?Number(n.replace("em",""))*16:Number(n):NaN}function FR(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function dA(e,{shouldScale:n=!1}={}){function t(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const o=`${r/16}${e}`;return n?FR(o):o}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(a=>t(a)).join(",");if(r.includes(" "))return r.split(" ").map(a=>t(a)).join(" ");const o=r.replace("px","");if(!Number.isNaN(Number(o))){const a=`${Number(o)/16}${e}`;return n?FR(a):a}}return r}return t}const xe=dA("rem",{shouldScale:!0}),LR=dA("em");function ff(e){return Object.keys(e).reduce((n,t)=>(e[t]!==void 0&&(n[t]=e[t]),n),{})}function fA(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const n=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>n.test(r))}return!1}function gs(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==T.Fragment:!1}function Io(e){const n=T.createContext(null);return[({children:o,value:a})=>y.jsx(n.Provider,{value:a,children:o}),()=>{const o=T.useContext(n);if(o===null)throw new Error(e);return o}]}function hf(e=null){const n=T.createContext(e);return[({children:o,value:a})=>y.jsx(n.Provider,{value:a,children:o}),()=>T.useContext(n)]}const _B={app:100,modal:200,popover:300,overlay:400,max:9999};function Rr(e){return _B[e]}const Hp=()=>{};function TB(e,n={active:!0}){return typeof e!="function"||!n.active?n.onKeyDown||Hp:t=>{t.key==="Escape"&&(e(t),n.onTrigger?.())}}function Tt(e,n="size",t=!0){if(e!==void 0)return fA(e)?t?xe(e):e:`var(--${n}-${e})`}function fr(e){return Tt(e,"mantine-spacing")}function pn(e){return e===void 0?"var(--mantine-radius-default)":Tt(e,"mantine-radius")}function Hn(e){return Tt(e,"mantine-font-size")}function hA(e){return Tt(e,"mantine-line-height",!1)}function Ux(e){if(e)return Tt(e,"mantine-shadow",!1)}function Su(e,n){return t=>{e?.(t),n?.(t)}}function DB(e,n){return e in n?Pd(n[e]):Pd(e)}function AB(e,n){const t=e.map(r=>({value:r,px:DB(r,n)}));return t.sort((r,o)=>r.px-o.px),t}function Tu(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function Ap(e,n,t){return n===void 0&&t===void 0?e:n!==void 0&&t===void 0?Math.max(e,n):Math.min(n===void 0&&t!==void 0?e:Math.max(e,n),t)}function wa(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function NB(e,n){if(e===n||Number.isNaN(e)&&Number.isNaN(n))return!0;if(!(e instanceof Object)||!(n instanceof Object))return!1;const t=Object.keys(e),{length:r}=t;if(r!==Object.keys(n).length)return!1;for(let o=0;o<r;o+=1){const a=t[o];if(!(a in n)||e[a]!==n[a]&&!(Number.isNaN(e[a])&&Number.isNaN(n[a])))return!1}return!0}function kB(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}function qs(e){const n=T.useRef(e);return T.useEffect(()=>{n.current=e}),T.useMemo(()=>(...t)=>n.current?.(...t),[])}function Om(e,n){const{delay:t,flushOnUnmount:r,leading:o}=typeof n=="number"?{delay:n,flushOnUnmount:!1,leading:!1}:n,a=qs(e),i=T.useRef(0),s=T.useMemo(()=>{const u=Object.assign((...c)=>{window.clearTimeout(i.current);const f=u._isFirstCall;u._isFirstCall=!1;function h(){window.clearTimeout(i.current),i.current=0,u._isFirstCall=!0}if(o&&f){a(...c);const b=()=>{h()},x=()=>{i.current!==0&&(h(),a(...c))},w=()=>{h()};u.flush=x,u.cancel=w,i.current=window.setTimeout(b,t);return}if(o&&!f){const b=()=>{i.current!==0&&(h(),a(...c))},x=()=>{h()};u.flush=b,u.cancel=x;const w=()=>{h()};i.current=window.setTimeout(w,t);return}const m=()=>{i.current!==0&&(h(),a(...c))},v=()=>{h()};u.flush=m,u.cancel=v,i.current=window.setTimeout(m,t)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return u},[a,t,o]);return T.useEffect(()=>()=>{r?s.flush():s.cancel()},[s,r]),s}const MB=["mousedown","touchstart"];function IB(e,n,t){const r=T.useRef(null),o=n||MB;return T.useEffect(()=>{const a=i=>{const{target:s}=i??{};if(Array.isArray(t)){const u=!document.body.contains(s)&&s.tagName!=="HTML";t.every(f=>!!f&&!i.composedPath().includes(f))&&!u&&e()}else r.current&&!r.current.contains(s)&&e()};return o.forEach(i=>document.addEventListener(i,a)),()=>{o.forEach(i=>document.removeEventListener(i,a))}},[r,e,t]),r}function OB(e,n){try{return e.addEventListener("change",n),()=>e.removeEventListener("change",n)}catch{return e.addListener(n),()=>e.removeListener(n)}}function PB(e,n){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function pA(e,n,{getInitialValueInEffect:t}={getInitialValueInEffect:!0}){const[r,o]=T.useState(t?n:PB(e));return T.useEffect(()=>{try{const a=window.matchMedia(e);return o(a.matches),OB(a,i=>o(i.matches))}catch{return}},[e]),r||!1}function jB(e,n){return pA("(prefers-color-scheme: dark)",e==="dark",n)?"dark":"light"}const Yu=typeof document<"u"?T.useLayoutEffect:T.useEffect;function is(e,n){const t=T.useRef(!1);T.useEffect(()=>()=>{t.current=!1},[]),T.useEffect(()=>{if(t.current)return e();t.current=!0},n)}function mA({opened:e,shouldReturnFocus:n=!0}){const t=T.useRef(null),r=()=>{t.current&&"focus"in t.current&&typeof t.current.focus=="function"&&t.current?.focus({preventScroll:!0})};return is(()=>{let o=-1;const a=i=>{i.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",a),e?t.current=document.activeElement:n&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",a)}},[e,n]),r}const BB=/input|select|textarea|button|object/,vA="a, input, select, textarea, button, object, [tabindex]";function FB(e){return e.style.display==="none"}function LB(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let t=e;for(;t&&!(t===document.body||t.nodeType===11);){if(FB(t))return!1;t=t.parentNode}return!0}function gA(e){let n=e.getAttribute("tabindex");return n===null&&(n=void 0),parseInt(n,10)}function Db(e){const n=e.nodeName.toLowerCase(),t=!Number.isNaN(gA(e));return(BB.test(n)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||t)&&LB(e)}function yA(e){const n=gA(e);return(Number.isNaN(n)||n>=0)&&Db(e)}function zB(e){return Array.from(e.querySelectorAll(vA)).filter(yA)}function UB(e,n){const t=zB(e);if(!t.length){n.preventDefault();return}const r=t[n.shiftKey?0:t.length-1],o=e.getRootNode();let a=r===o.activeElement||e===o.activeElement;const i=o.activeElement;if(i.tagName==="INPUT"&&i.getAttribute("type")==="radio"&&(a=t.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===i.getAttribute("name")).includes(r)),!a)return;n.preventDefault();const u=t[n.shiftKey?t.length-1:0];u&&u.focus()}function VB(e=!0){const n=T.useRef(null),t=o=>{let a=o.querySelector("[data-autofocus]");if(!a){const i=Array.from(o.querySelectorAll(vA));a=i.find(yA)||i.find(Db)||null,!a&&Db(o)&&(a=o)}a&&a.focus({preventScroll:!0})},r=T.useCallback(o=>{e&&o!==null&&n.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&t(o)}),n.current=o):n.current=null)},[e]);return T.useEffect(()=>{if(!e)return;n.current&&setTimeout(()=>t(n.current));const o=a=>{a.key==="Tab"&&n.current&&UB(n.current,a)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),r}const HB=e=>(e+1)%1e6;function WB(){const[,e]=T.useReducer(HB,0);return e}const $B=ft.useId||(()=>{});function GB(){const e=$B();return e?`mantine-${e.replace(/:/g,"")}`:""}function Oo(e){const n=GB(),[t,r]=T.useState(n);return Yu(()=>{r(wa())},[]),typeof e=="string"?e:typeof window>"u"?n:t}function qB(e,n,t){T.useEffect(()=>(window.addEventListener(e,n,t),()=>window.removeEventListener(e,n,t)),[e,n])}function jd(e,n){if(typeof e=="function")return e(n);typeof e=="object"&&e!==null&&"current"in e&&(e.current=n)}function bA(...e){const n=new Map;return t=>{if(e.forEach(r=>{const o=jd(r,t);o&&n.set(r,o)}),n.size>0)return()=>{e.forEach(r=>{const o=n.get(r);o&&typeof o=="function"?o():jd(r,null)}),n.clear()}}}function In(...e){return T.useCallback(bA(...e),e)}function Ta({value:e,defaultValue:n,finalValue:t,onChange:r=()=>{}}){const[o,a]=T.useState(n!==void 0?n:t),i=(s,...u)=>{a(s),r?.(s,...u)};return e!==void 0?[e,r,!0]:[o,i,!1]}function Pm(e,n){return pA("(prefers-reduced-motion: reduce)",e,n)}function XB(e,n){if(!e||!n)return!1;if(e===n)return!0;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t+=1)if(!NB(e[t],n[t]))return!1;return!0}function YB(e){const n=T.useRef([]),t=T.useRef(0);return XB(n.current,e)||(n.current=e,t.current+=1),[t.current]}function KB(e,n){T.useEffect(e,YB(n))}function QB(e=[!1,!0]){const[[n],t]=T.useReducer((r,o)=>{const a=o instanceof Function?o(r[0]):o,i=Math.abs(r.indexOf(a));return r.slice(i).concat(r.slice(0,i))},e);return[n,t]}function zR(e=!1,n={}){const[t,r]=T.useState(e),o=T.useCallback(()=>{r(s=>s||(n.onOpen?.(),!0))},[n.onOpen]),a=T.useCallback(()=>{r(s=>s&&(n.onClose?.(),!1))},[n.onClose]),i=T.useCallback(()=>{t?a():o()},[a,o,t]);return[t,{open:o,close:a,toggle:i}]}function JB(e,n,t={autoInvoke:!1}){const r=T.useRef(null),o=T.useCallback((...i)=>{r.current||(r.current=window.setTimeout(()=>{e(i),r.current=null},n))},[n]),a=T.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return T.useEffect(()=>(t.autoInvoke&&o(),a),[a,o]),{start:o,clear:a}}function ZB(e){const n=T.useRef(void 0);return T.useEffect(()=>{n.current=e},[e]),n.current}function eF(e,n,t){const r=T.useRef(null),o=T.useRef(null);return T.useEffect(()=>{const a=typeof t=="function"?t():t;return(a||o.current)&&(r.current=new MutationObserver(e),r.current.observe(a||o.current,n)),()=>{r.current?.disconnect()}},[e,n]),o}function tF(){const[e,n]=T.useState(!1);return T.useEffect(()=>n(!0),[]),e}function nF(e,n){window.dispatchEvent(new CustomEvent(e,{detail:n}))}function rF(e){function n(r){const o=Object.keys(r).reduce((a,i)=>(a[`${e}:${i}`]=s=>r[i](s.detail),a),{});Yu(()=>(Object.keys(o).forEach(a=>{window.removeEventListener(a,o[a]),window.addEventListener(a,o[a])}),()=>Object.keys(o).forEach(a=>{window.removeEventListener(a,o[a])})),[o])}function t(r){return(...o)=>nF(`${e}:${String(r)}`,o[0])}return[n,t]}var oF={};function xA(){return typeof process<"u"&&oF?"production":"development"}function jm(e){const n=ft.version;return typeof ft.version!="string"||n.startsWith("18.")?e?.ref:e?.props?.ref}function wA(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(t=wA(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Nn(){for(var e,n,t=0,r="",o=arguments.length;t<o;t++)(e=arguments[t])&&(n=wA(e))&&(r&&(r+=" "),r+=n);return r}const aF={};function iF(e){const n={};return e.forEach(t=>{Object.entries(t).forEach(([r,o])=>{n[r]?n[r]=Nn(n[r],o):n[r]=o})}),n}function Bm({theme:e,classNames:n,props:t,stylesCtx:r}){const a=(Array.isArray(n)?n:[n]).map(i=>typeof i=="function"?i(e,t,r):i||aF);return iF(a)}function Wp({theme:e,styles:n,props:t,stylesCtx:r}){return(Array.isArray(n)?n:[n]).reduce((a,i)=>typeof i=="function"?{...a,...i(e,t,r)}:{...a,...i},{})}const Vx=T.createContext(null);function ys(){const e=T.useContext(Vx);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function sF(){return ys().cssVariablesResolver}function lF(){return ys().classNamesPrefix}function Fm(){return ys().getStyleNonce}function uF(){return ys().withStaticClasses}function cF(){return ys().headless}function dF(){return ys().stylesTransform?.sx}function fF(){return ys().stylesTransform?.styles}function Lm(){return ys().env||"default"}function hF(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function pF(e){let n=e.replace("#","");if(n.length===3){const i=n.split("");n=[i[0],i[0],i[1],i[1],i[2],i[2]].join("")}if(n.length===8){const i=parseInt(n.slice(6,8),16)/255;return{r:parseInt(n.slice(0,2),16),g:parseInt(n.slice(2,4),16),b:parseInt(n.slice(4,6),16),a:i}}const t=parseInt(n,16),r=t>>16&255,o=t>>8&255,a=t&255;return{r,g:o,b:a,a:1}}function mF(e){const[n,t,r,o]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:n,g:t,b:r,a:o===void 0?1:o}}function vF(e){const n=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,t=e.match(n);if(!t)return{r:0,g:0,b:0,a:1};const r=parseInt(t[1],10),o=parseInt(t[2],10)/100,a=parseInt(t[3],10)/100,i=t[5]?parseFloat(t[5]):void 0,s=(1-Math.abs(2*a-1))*o,u=r/60,c=s*(1-Math.abs(u%2-1)),f=a-s/2;let h,m,v;return u>=0&&u<1?(h=s,m=c,v=0):u>=1&&u<2?(h=c,m=s,v=0):u>=2&&u<3?(h=0,m=s,v=c):u>=3&&u<4?(h=0,m=c,v=s):u>=4&&u<5?(h=c,m=0,v=s):(h=s,m=0,v=c),{r:Math.round((h+f)*255),g:Math.round((m+f)*255),b:Math.round((v+f)*255),a:i||1}}function Hx(e){return hF(e)?pF(e):e.startsWith("rgb")?mF(e):e.startsWith("hsl")?vF(e):{r:0,g:0,b:0,a:1}}function Zh(e,n){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${n*100}%)`;const{r:t,g:r,b:o,a}=Hx(e),i=1-n,s=u=>Math.round(u*i);return`rgba(${s(t)}, ${s(r)}, ${s(o)}, ${a})`}function Bd(e,n){return typeof e.primaryShade=="number"?e.primaryShade:n==="dark"?e.primaryShade.dark:e.primaryShade.light}function y0(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function gF(e){const n=e.match(/oklch\((.*?)%\s/);return n?parseFloat(n[1]):null}function yF(e){if(e.startsWith("oklch("))return(gF(e)||0)/100;const{r:n,g:t,b:r}=Hx(e),o=n/255,a=t/255,i=r/255,s=y0(o),u=y0(a),c=y0(i);return .2126*s+.7152*u+.0722*c}function pd(e,n=.179){return e.startsWith("var(")?!1:yF(e)>n}function ul({color:e,theme:n,colorScheme:t}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:t==="dark"?n.white:n.black,shade:void 0,isThemeColor:!1,isLight:pd(t==="dark"?n.white:n.black,n.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:t==="dark"?n.colors.dark[2]:n.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:pd(t==="dark"?n.colors.dark[2]:n.colors.gray[6],n.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?n.white:n.black,shade:void 0,isThemeColor:!1,isLight:pd(e==="white"?n.white:n.black,n.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,o]=e.split("."),a=o?Number(o):void 0,i=r in n.colors;if(i){const s=a!==void 0?n.colors[r][a]:n.colors[r][Bd(n,t||"light")];return{color:r,value:s,shade:a,isThemeColor:i,isLight:pd(s,n.luminanceThreshold),variable:o?`--mantine-color-${r}-${a}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:i,isLight:pd(e,n.luminanceThreshold),shade:a,variable:void 0}}function Tn(e,n){const t=ul({color:e||n.primaryColor,theme:n});return t.variable?`var(${t.variable})`:e}function Ab(e,n){const t={from:e?.from||n.defaultGradient.from,to:e?.to||n.defaultGradient.to,deg:e?.deg??n.defaultGradient.deg??0},r=Tn(t.from,n),o=Tn(t.to,n);return`linear-gradient(${t.deg}deg, ${r} 0%, ${o} 100%)`}function pa(e,n){if(typeof e!="string"||n>1||n<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const a=(1-n)*100;return`color-mix(in srgb, ${e}, transparent ${a}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${n})`):e.replace(")",` / ${n})`);const{r:t,g:r,b:o}=Hx(e);return`rgba(${t}, ${r}, ${o}, ${n})`}const su=pa,bF=({color:e,theme:n,variant:t,gradient:r,autoContrast:o})=>{const a=ul({color:e,theme:n}),i=typeof o=="boolean"?o:n.autoContrast;if(t==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(t==="filled"){const s=i&&a.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return a.isThemeColor?a.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:s,border:`${xe(1)} solid transparent`}:{background:`var(--mantine-color-${a.color}-${a.shade})`,hover:`var(--mantine-color-${a.color}-${a.shade===9?8:a.shade+1})`,color:s,border:`${xe(1)} solid transparent`}:{background:e,hover:Zh(e,.1),color:s,border:`${xe(1)} solid transparent`}}if(t==="light"){if(a.isThemeColor){if(a.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${xe(1)} solid transparent`};const s=n.colors[a.color][a.shade];return{background:pa(s,.1),hover:pa(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${xe(1)} solid transparent`}}return{background:pa(e,.1),hover:pa(e,.12),color:e,border:`${xe(1)} solid transparent`}}if(t==="outline")return a.isThemeColor?a.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${xe(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:pa(n.colors[a.color][a.shade],.05),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${xe(1)} solid var(--mantine-color-${a.color}-${a.shade})`}:{background:"transparent",hover:pa(e,.05),color:e,border:`${xe(1)} solid ${e}`};if(t==="subtle"){if(a.isThemeColor){if(a.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${xe(1)} solid transparent`};const s=n.colors[a.color][a.shade];return{background:"transparent",hover:pa(s,.12),color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${xe(1)} solid transparent`}}return{background:"transparent",hover:pa(e,.12),color:e,border:`${xe(1)} solid transparent`}}return t==="transparent"?a.isThemeColor?a.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${xe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${a.color}-${Math.min(a.shade,6)})`,border:`${xe(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${xe(1)} solid transparent`}:t==="white"?a.isThemeColor?a.shade===void 0?{background:"var(--mantine-color-white)",hover:Zh(n.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${xe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Zh(n.white,.01),color:`var(--mantine-color-${a.color}-${a.shade})`,border:`${xe(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Zh(n.white,.01),color:e,border:`${xe(1)} solid transparent`}:t==="gradient"?{background:Ab(r,n),hover:Ab(r,n),color:"var(--mantine-color-white)",border:"none"}:t==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${xe(1)} solid var(--mantine-color-default-border)`}:{}},xF={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},UR="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Wx={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:xF,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:bF,autoContrast:!1,luminanceThreshold:.3,fontFamily:UR,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:UR,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:xe(34),lineHeight:"1.3"},h2:{fontSize:xe(26),lineHeight:"1.35"},h3:{fontSize:xe(22),lineHeight:"1.4"},h4:{fontSize:xe(18),lineHeight:"1.45"},h5:{fontSize:xe(16),lineHeight:"1.5"},h6:{fontSize:xe(14),lineHeight:"1.5"}}},fontSizes:{xs:xe(12),sm:xe(14),md:xe(16),lg:xe(18),xl:xe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:xe(2),sm:xe(4),md:xe(8),lg:xe(16),xl:xe(32)},spacing:{xs:xe(10),sm:xe(12),md:xe(16),lg:xe(20),xl:xe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), 0 ${xe(1)} ${xe(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${xe(10)} ${xe(15)} ${xe(-5)}, rgba(0, 0, 0, 0.04) 0 ${xe(7)} ${xe(7)} ${xe(-5)}`,md:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${xe(20)} ${xe(25)} ${xe(-5)}, rgba(0, 0, 0, 0.04) 0 ${xe(10)} ${xe(10)} ${xe(-5)}`,lg:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${xe(28)} ${xe(23)} ${xe(-7)}, rgba(0, 0, 0, 0.04) 0 ${xe(12)} ${xe(12)} ${xe(-7)}`,xl:`0 ${xe(1)} ${xe(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${xe(36)} ${xe(28)} ${xe(-7)}, rgba(0, 0, 0, 0.04) 0 ${xe(17)} ${xe(17)} ${xe(-7)}`},other:{},components:{}};function VR(e){return e==="auto"||e==="dark"||e==="light"}function wF({key:e="mantine-color-scheme-value"}={}){let n;return{get:t=>{if(typeof window>"u")return t;try{const r=window.localStorage.getItem(e);return VR(r)?r:t}catch{return t}},set:t=>{try{window.localStorage.setItem(e,t)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:t=>{n=r=>{r.storageArea===window.localStorage&&r.key===e&&VR(r.newValue)&&t(r.newValue)},window.addEventListener("storage",n)},unsubscribe:()=>{window.removeEventListener("storage",n)},clear:()=>{window.localStorage.removeItem(e)}}}const SF="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",HR="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function b0(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function WR(e){if(!(e.primaryColor in e.colors))throw new Error(SF);if(typeof e.primaryShade=="object"&&(!b0(e.primaryShade.dark)||!b0(e.primaryShade.light)))throw new Error(HR);if(typeof e.primaryShade=="number"&&!b0(e.primaryShade))throw new Error(HR)}function CF(e,n){if(!n)return WR(e),e;const t=zx(e,n);return n.fontFamily&&!n.headings?.fontFamily&&(t.headings.fontFamily=n.fontFamily),WR(t),t}const $x=T.createContext(null),EF=()=>T.useContext($x)||Wx;function mr(){const e=T.useContext($x);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function SA({theme:e,children:n,inherit:t=!0}){const r=EF(),o=T.useMemo(()=>CF(t?r:Wx,e),[e,r,t]);return y.jsx($x.Provider,{value:o,children:n})}SA.displayName="@mantine/core/MantineThemeProvider";function RF(){const e=mr(),n=Fm(),t=jr(e.breakpoints).reduce((r,o)=>{const a=e.breakpoints[o].includes("px"),i=Pd(e.breakpoints[o]),s=a?`${i-.1}px`:LR(i-.1),u=a?`${i}px`:LR(i);return`${r}@media (max-width: ${s}) {.mantine-visible-from-${o} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${o} {display: none !important;}}`},"");return y.jsx("style",{"data-mantine-styles":"classes",nonce:n?.(),dangerouslySetInnerHTML:{__html:t}})}function x0(e){return Object.entries(e).map(([n,t])=>`${n}: ${t};`).join("")}function md(e,n){return(Array.isArray(e)?e:[e]).reduce((r,o)=>`${o}{${r}}`,n)}function _F(e,n){const t=x0(e.variables),r=t?md(n,t):"",o=x0(e.dark),a=x0(e.light),i=o?md(n===":host"?`${n}([data-mantine-color-scheme="dark"])`:`${n}[data-mantine-color-scheme="dark"]`,o):"",s=a?md(n===":host"?`${n}([data-mantine-color-scheme="light"])`:`${n}[data-mantine-color-scheme="light"]`,a):"";return`${r}

${i}

${s}`}function pf({color:e,theme:n,autoContrast:t}){return(typeof t=="boolean"?t:n.autoContrast)&&ul({color:e||n.primaryColor,theme:n}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function $R(e,n){return pf({color:e.colors[e.primaryColor][Bd(e,n)],theme:e,autoContrast:null})}function ep({theme:e,color:n,colorScheme:t,name:r=n,withColorValues:o=!0}){if(!e.colors[n])return{};if(t==="light"){const s=Bd(e,"light"),u={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${s===9?8:s+1})`,[`--mantine-color-${r}-light`]:su(e.colors[n][s],.1),[`--mantine-color-${r}-light-hover`]:su(e.colors[n][s],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${s})`,[`--mantine-color-${r}-outline-hover`]:su(e.colors[n][s],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[n][0],[`--mantine-color-${r}-1`]:e.colors[n][1],[`--mantine-color-${r}-2`]:e.colors[n][2],[`--mantine-color-${r}-3`]:e.colors[n][3],[`--mantine-color-${r}-4`]:e.colors[n][4],[`--mantine-color-${r}-5`]:e.colors[n][5],[`--mantine-color-${r}-6`]:e.colors[n][6],[`--mantine-color-${r}-7`]:e.colors[n][7],[`--mantine-color-${r}-8`]:e.colors[n][8],[`--mantine-color-${r}-9`]:e.colors[n][9],...u}:u}const a=Bd(e,"dark"),i={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:su(e.colors[n][Math.max(0,a-2)],.15),[`--mantine-color-${r}-light-hover`]:su(e.colors[n][Math.max(0,a-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(a-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(a-4,0)})`,[`--mantine-color-${r}-outline-hover`]:su(e.colors[n][Math.max(a-4,0)],.05)};return o?{[`--mantine-color-${r}-0`]:e.colors[n][0],[`--mantine-color-${r}-1`]:e.colors[n][1],[`--mantine-color-${r}-2`]:e.colors[n][2],[`--mantine-color-${r}-3`]:e.colors[n][3],[`--mantine-color-${r}-4`]:e.colors[n][4],[`--mantine-color-${r}-5`]:e.colors[n][5],[`--mantine-color-${r}-6`]:e.colors[n][6],[`--mantine-color-${r}-7`]:e.colors[n][7],[`--mantine-color-${r}-8`]:e.colors[n][8],[`--mantine-color-${r}-9`]:e.colors[n][9],...i}:i}function TF(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function lu(e,n,t){jr(n).forEach(r=>Object.assign(e,{[`--mantine-${t}-${r}`]:n[r]}))}const CA=e=>{const n=Bd(e,"light"),t=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:xe(e.defaultRadius),r={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":t,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":$R(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${n})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":$R(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};lu(r.variables,e.breakpoints,"breakpoint"),lu(r.variables,e.spacing,"spacing"),lu(r.variables,e.fontSizes,"font-size"),lu(r.variables,e.lineHeights,"line-height"),lu(r.variables,e.shadows,"shadow"),lu(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((a,i)=>{r.variables[`--mantine-primary-color-${i}`]=`var(--mantine-color-${e.primaryColor}-${i})`}),jr(e.colors).forEach(a=>{const i=e.colors[a];if(TF(i)){Object.assign(r.light,ep({theme:e,name:i.name,color:i.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,ep({theme:e,name:i.name,color:i.dark,colorScheme:"dark",withColorValues:!0}));return}i.forEach((s,u)=>{r.variables[`--mantine-color-${a}-${u}`]=s}),Object.assign(r.light,ep({theme:e,color:a,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,ep({theme:e,color:a,colorScheme:"dark",withColorValues:!1}))});const o=e.headings.sizes;return jr(o).forEach(a=>{r.variables[`--mantine-${a}-font-size`]=o[a].fontSize,r.variables[`--mantine-${a}-line-height`]=o[a].lineHeight,r.variables[`--mantine-${a}-font-weight`]=o[a].fontWeight||e.headings.fontWeight}),r};function DF({theme:e,generator:n}){const t=CA(e),r=n?.(e);return r?zx(t,r):t}const w0=CA(Wx);function AF(e){const n={variables:{},light:{},dark:{}};return jr(e.variables).forEach(t=>{w0.variables[t]!==e.variables[t]&&(n.variables[t]=e.variables[t])}),jr(e.light).forEach(t=>{w0.light[t]!==e.light[t]&&(n.light[t]=e.light[t])}),jr(e.dark).forEach(t=>{w0.dark[t]!==e.dark[t]&&(n.dark[t]=e.dark[t])}),n}function NF(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function EA({cssVariablesSelector:e,deduplicateCssVariables:n}){const t=mr(),r=Fm(),o=sF(),a=DF({theme:t,generator:o}),i=e===":root"&&n,s=i?AF(a):a,u=_F(s,e);return u?y.jsx("style",{"data-mantine-styles":!0,nonce:r?.(),dangerouslySetInnerHTML:{__html:`${u}${i?"":NF(e)}`}}):null}EA.displayName="@mantine/CssVariables";function uu(e,n){const t=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,r=e!=="auto"?e:t?"dark":"light";n()?.setAttribute("data-mantine-color-scheme",r)}function kF({manager:e,defaultColorScheme:n,getRootElement:t,forceColorScheme:r}){const o=T.useRef(null),[a,i]=T.useState(()=>e.get(n)),s=r||a,u=T.useCallback(f=>{r||(uu(f,t),i(f),e.set(f))},[e.set,s,r]),c=T.useCallback(()=>{i(n),uu(n,t),e.clear()},[e.clear,n]);return T.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),Yu(()=>{uu(e.get(n),t)},[]),T.useEffect(()=>{if(r)return uu(r,t),()=>{};r===void 0&&uu(a,t),typeof window<"u"&&"matchMedia"in window&&(o.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=h=>{a==="auto"&&uu(h.matches?"dark":"light",t)};return o.current?.addEventListener("change",f),()=>o.current?.removeEventListener("change",f)},[a,r]),{colorScheme:s,setColorScheme:u,clearColorScheme:c}}function MF({respectReducedMotion:e,getRootElement:n}){Yu(()=>{e&&n()?.setAttribute("data-respect-reduced-motion","true")},[e])}function RA({theme:e,children:n,getStyleNonce:t,withStaticClasses:r=!0,withGlobalClasses:o=!0,deduplicateCssVariables:a=!0,withCssVariables:i=!0,cssVariablesSelector:s=":root",classNamesPrefix:u="mantine",colorSchemeManager:c=wF(),defaultColorScheme:f="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:v,stylesTransform:b,env:x}){const{colorScheme:w,setColorScheme:S,clearColorScheme:E}=kF({defaultColorScheme:f,forceColorScheme:v,manager:c,getRootElement:h});return MF({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:h}),y.jsx(Vx.Provider,{value:{colorScheme:w,setColorScheme:S,clearColorScheme:E,getRootElement:h,classNamesPrefix:u,getStyleNonce:t,cssVariablesResolver:m,cssVariablesSelector:s,withStaticClasses:r,stylesTransform:b,env:x},children:y.jsxs(SA,{theme:e,children:[i&&y.jsx(EA,{cssVariablesSelector:s,deduplicateCssVariables:a}),o&&y.jsx(RF,{}),n]})})}RA.displayName="@mantine/core/MantineProvider";function cl({classNames:e,styles:n,props:t,stylesCtx:r}){const o=mr();return{resolvedClassNames:Bm({theme:o,classNames:e,props:t,stylesCtx:r||void 0}),resolvedStyles:Wp({theme:o,styles:n,props:t,stylesCtx:r||void 0})}}const IF={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function OF({theme:e,options:n,unstyled:t}){return Nn(n?.focusable&&!t&&(e.focusClassName||IF[e.focusRing]),n?.active&&!t&&e.activeClassName)}function PF({selector:e,stylesCtx:n,options:t,props:r,theme:o}){return Bm({theme:o,classNames:t?.classNames,props:t?.props||r,stylesCtx:n})[e]}function GR({selector:e,stylesCtx:n,theme:t,classNames:r,props:o}){return Bm({theme:t,classNames:r,props:o,stylesCtx:n})[e]}function jF({rootSelector:e,selector:n,className:t}){return e===n?t:void 0}function BF({selector:e,classes:n,unstyled:t}){return t?void 0:n[e]}function FF({themeName:e,classNamesPrefix:n,selector:t,withStaticClass:r}){return r===!1?[]:e.map(o=>`${n}-${o}-${t}`)}function LF({themeName:e,theme:n,selector:t,props:r,stylesCtx:o}){return e.map(a=>Bm({theme:n,classNames:n.components[a]?.classNames,props:r,stylesCtx:o})?.[t])}function zF({options:e,classes:n,selector:t,unstyled:r}){return e?.variant&&!r?n[`${t}--${e.variant}`]:void 0}function UF({theme:e,options:n,themeName:t,selector:r,classNamesPrefix:o,classNames:a,classes:i,unstyled:s,className:u,rootSelector:c,props:f,stylesCtx:h,withStaticClasses:m,headless:v,transformedStyles:b}){return Nn(OF({theme:e,options:n,unstyled:s||v}),LF({theme:e,themeName:t,selector:r,props:f,stylesCtx:h}),zF({options:n,classes:i,selector:r,unstyled:s}),GR({selector:r,stylesCtx:h,theme:e,classNames:a,props:f}),GR({selector:r,stylesCtx:h,theme:e,classNames:b,props:f}),PF({selector:r,stylesCtx:h,options:n,props:f,theme:e}),jF({rootSelector:c,selector:r,className:u}),BF({selector:r,classes:i,unstyled:s||v}),m&&!v&&FF({themeName:t,classNamesPrefix:o,selector:r,withStaticClass:n?.withStaticClass}),n?.className)}function VF({theme:e,themeName:n,props:t,stylesCtx:r,selector:o}){return n.map(a=>Wp({theme:e,styles:e.components[a]?.styles,props:t,stylesCtx:r})[o]).reduce((a,i)=>({...a,...i}),{})}function Nb({style:e,theme:n}){return Array.isArray(e)?[...e].reduce((t,r)=>({...t,...Nb({style:r,theme:n})}),{}):typeof e=="function"?e(n):e??{}}function HF(e){return e.reduce((n,t)=>(t&&Object.keys(t).forEach(r=>{n[r]={...n[r],...ff(t[r])}}),n),{})}function WF({vars:e,varsResolver:n,theme:t,props:r,stylesCtx:o,selector:a,themeName:i,headless:s}){return HF([s?{}:n?.(t,r,o),...i.map(u=>t.components?.[u]?.vars?.(t,r,o)),e?.(t,r,o)])?.[a]}function $F({theme:e,themeName:n,selector:t,options:r,props:o,stylesCtx:a,rootSelector:i,styles:s,style:u,vars:c,varsResolver:f,headless:h,withStylesTransform:m}){return{...!m&&VF({theme:e,themeName:n,props:o,stylesCtx:a,selector:t}),...!m&&Wp({theme:e,styles:s,props:o,stylesCtx:a})[t],...!m&&Wp({theme:e,styles:r?.styles,props:r?.props||o,stylesCtx:a})[t],...WF({theme:e,props:o,stylesCtx:a,vars:c,varsResolver:f,selector:t,themeName:n,headless:h}),...i===t?Nb({style:u,theme:e}):null,...Nb({style:r?.style,theme:e})}}function GF({props:e,stylesCtx:n,themeName:t}){const r=mr(),o=fF()?.();return{getTransformedStyles:i=>o?[...i.map(u=>o(u,{props:e,theme:r,ctx:n})),...t.map(u=>o(r.components[u]?.styles,{props:e,theme:r,ctx:n}))].filter(Boolean):[],withStylesTransform:!!o}}function rt({name:e,classes:n,props:t,stylesCtx:r,className:o,style:a,rootSelector:i="root",unstyled:s,classNames:u,styles:c,vars:f,varsResolver:h,attributes:m}){const v=mr(),b=lF(),x=uF(),w=cF(),S=(Array.isArray(e)?e:[e]).filter(D=>D),{withStylesTransform:E,getTransformedStyles:R}=GF({props:t,stylesCtx:r,themeName:S});return(D,A)=>({className:UF({theme:v,options:A,themeName:S,selector:D,classNamesPrefix:b,classNames:u,classes:n,unstyled:s,className:o,rootSelector:i,props:t,stylesCtx:r,withStaticClasses:x,headless:w,transformedStyles:R([A?.styles,c])}),style:$F({theme:v,themeName:S,selector:D,options:A,props:t,stylesCtx:r,rootSelector:i,styles:c,style:a,vars:f,varsResolver:h,headless:w,withStylesTransform:E}),...m?.[D]})}function Gx(e,n){return typeof e=="boolean"?e:n.autoContrast}function qR(e){const n=document.createElement("style");return n.setAttribute("data-mantine-styles","inline"),n.innerHTML="*, *::before, *::after {transition: none !important;}",n.setAttribute("data-mantine-disable-transition","true"),e&&n.setAttribute("nonce",e),document.head.appendChild(n),()=>document.querySelectorAll("[data-mantine-disable-transition]").forEach(r=>r.remove())}function _A({keepTransitions:e}={}){const n=T.useRef(Hp),t=T.useRef(-1),r=T.useContext(Vx),o=Fm(),a=T.useRef(o?.());if(!r)throw new Error("[@mantine/core] MantineProvider was not found in tree");const i=h=>{r.setColorScheme(h),n.current=e?()=>{}:qR(a.current),window.clearTimeout(t.current),t.current=window.setTimeout(()=>{n.current?.()},10)},s=()=>{r.clearColorScheme(),n.current=e?()=>{}:qR(a.current),window.clearTimeout(t.current),t.current=window.setTimeout(()=>{n.current?.()},10)},u=jB("light",{getInitialValueInEffect:!1}),c=r.colorScheme==="auto"?u:r.colorScheme,f=T.useCallback(()=>i(c==="light"?"dark":"light"),[i,c]);return T.useEffect(()=>()=>{n.current?.(),window.clearTimeout(t.current)},[]),{colorScheme:r.colorScheme,setColorScheme:i,clearColorScheme:s,toggleColorScheme:f}}function Ce(e,n,t){const r=mr(),o=r.components[e]?.defaultProps,a=typeof o=="function"?o(r):o;return{...n,...a,...ff(t)}}function S0(e){return jr(e).reduce((n,t)=>e[t]!==void 0?`${n}${EB(t)}:${e[t]};`:n,"").trim()}function qF({selector:e,styles:n,media:t,container:r}){const o=n?S0(n):"",a=Array.isArray(t)?t.map(s=>`@media${s.query}{${e}{${S0(s.styles)}}}`):[],i=Array.isArray(r)?r.map(s=>`@container ${s.query}{${e}{${S0(s.styles)}}}`):[];return`${o?`${e}{${o}}`:""}${a.join("")}${i.join("")}`.trim()}function qx(e){const n=Fm();return y.jsx("style",{"data-mantine-styles":"inline",nonce:n?.(),dangerouslySetInnerHTML:{__html:qF(e)}})}function mf(e){const{m:n,mx:t,my:r,mt:o,mb:a,ml:i,mr:s,me:u,ms:c,p:f,px:h,py:m,pt:v,pb:b,pl:x,pr:w,pe:S,ps:E,bd:R,bdrs:D,bg:A,c:N,opacity:k,ff:M,fz:I,fw:P,lts:L,ta:F,lh:Y,fs:W,tt:X,td:j,w:U,miw:V,maw:q,h:B,mih:G,mah:J,bgsz:ne,bgp:he,bgr:Se,bga:ae,pos:le,top:ge,left:me,bottom:Pe,right:je,inset:Be,display:Te,flex:We,hiddenFrom:ct,visibleFrom:at,lightHidden:_e,darkHidden:De,sx:ke,...tt}=e;return{styleProps:ff({m:n,mx:t,my:r,mt:o,mb:a,ml:i,mr:s,me:u,ms:c,p:f,px:h,py:m,pt:v,pb:b,pl:x,pr:w,pe:S,ps:E,bd:R,bg:A,c:N,opacity:k,ff:M,fz:I,fw:P,lts:L,ta:F,lh:Y,fs:W,tt:X,td:j,w:U,miw:V,maw:q,h:B,mih:G,mah:J,bgsz:ne,bgp:he,bgr:Se,bga:ae,pos:le,top:ge,left:me,bottom:Pe,right:je,inset:Be,display:Te,flex:We,bdrs:D,hiddenFrom:ct,visibleFrom:at,lightHidden:_e,darkHidden:De,sx:ke}),rest:tt}}const XF={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Xx(e,n){const t=ul({color:e,theme:n});return t.color==="dimmed"?"var(--mantine-color-dimmed)":t.color==="bright"?"var(--mantine-color-bright)":t.variable?`var(${t.variable})`:t.color}function YF(e,n){const t=ul({color:e,theme:n});return t.isThemeColor&&t.shade===void 0?`var(--mantine-color-${t.color}-text)`:Xx(e,n)}function KF(e,n){if(typeof e=="number")return xe(e);if(typeof e=="string"){const[t,r,...o]=e.split(" ").filter(i=>i.trim()!=="");let a=`${xe(t)}`;return r&&(a+=` ${r}`),o.length>0&&(a+=` ${Xx(o.join(" "),n)}`),a.trim()}return e}const XR={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function QF(e){return typeof e=="string"&&e in XR?XR[e]:e}const JF=["h1","h2","h3","h4","h5","h6"];function ZF(e,n){return typeof e=="string"&&e in n.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&JF.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?xe(e):e}function e5(e){return e}const t5=["h1","h2","h3","h4","h5","h6"];function n5(e,n){return typeof e=="string"&&e in n.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&t5.includes(e)?`var(--mantine-${e}-line-height)`:e}function r5(e,n){return typeof e=="string"&&e in n.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?xe(e):e}function o5(e){return typeof e=="number"?xe(e):e}function a5(e,n){if(typeof e=="number")return xe(e);if(typeof e=="string"){const t=e.replace("-","");if(!(t in n.spacing))return xe(e);const r=`--mantine-spacing-${t}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const C0={color:Xx,textColor:YF,fontSize:ZF,spacing:a5,radius:r5,identity:e5,size:o5,lineHeight:n5,fontFamily:QF,border:KF};function YR(e){return e.replace("(min-width: ","").replace("em)","")}function i5({media:e,...n}){const r=Object.keys(e).sort((o,a)=>Number(YR(o))-Number(YR(a))).map(o=>({query:o,styles:e[o]}));return{...n,media:r}}function s5(e){if(typeof e!="object"||e===null)return!1;const n=Object.keys(e);return!(n.length===1&&n[0]==="base")}function l5(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function u5(e){return typeof e=="object"&&e!==null?jr(e).filter(n=>n!=="base"):[]}function c5(e,n){return typeof e=="object"&&e!==null&&n in e?e[n]:e}function d5({styleProps:e,data:n,theme:t}){return i5(jr(e).reduce((r,o)=>{if(o==="hiddenFrom"||o==="visibleFrom"||o==="sx")return r;const a=n[o],i=Array.isArray(a.property)?a.property:[a.property],s=l5(e[o]);if(!s5(e[o]))return i.forEach(c=>{r.inlineStyles[c]=C0[a.type](s,t)}),r;r.hasResponsiveStyles=!0;const u=u5(e[o]);return i.forEach(c=>{s!=null&&(r.styles[c]=C0[a.type](s,t)),u.forEach(f=>{const h=`(min-width: ${t.breakpoints[f]})`;r.media[h]={...r.media[h],[c]:C0[a.type](c5(e[o],f),t)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function TA(){return`__m__-${T.useId().replace(/:/g,"")}`}function Yx(e,n){return Array.isArray(e)?[...e].reduce((t,r)=>({...t,...Yx(r,n)}),{}):typeof e=="function"?e(n):e??{}}function DA(e){return e.startsWith("data-")?e:`data-${e}`}function f5(e){return Object.keys(e).reduce((n,t)=>{const r=e[t];return r===void 0||r===""||r===!1||r===null||(n[DA(t)]=e[t]),n},{})}function AA(e){return e?typeof e=="string"?{[DA(e)]:!0}:Array.isArray(e)?[...e].reduce((n,t)=>({...n,...AA(t)}),{}):f5(e):null}function kb(e,n){return Array.isArray(e)?[...e].reduce((t,r)=>({...t,...kb(r,n)}),{}):typeof e=="function"?e(n):e??{}}function h5({theme:e,style:n,vars:t,styleProps:r}){const o=kb(n,e),a=kb(t,e);return{...o,...a,...r}}const NA=T.forwardRef(({component:e,style:n,__vars:t,className:r,variant:o,mod:a,size:i,hiddenFrom:s,visibleFrom:u,lightHidden:c,darkHidden:f,renderRoot:h,__size:m,...v},b)=>{const x=mr(),w=e||"div",{styleProps:S,rest:E}=mf(v),D=dF()?.()?.(S.sx),A=TA(),N=d5({styleProps:S,theme:x,data:XF}),k={ref:b,style:h5({theme:x,style:n,vars:t,styleProps:N.inlineStyles}),className:Nn(r,D,{[A]:N.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":f,[`mantine-hidden-from-${s}`]:s,[`mantine-visible-from-${u}`]:u}),"data-variant":o,"data-size":fA(i)?void 0:i||void 0,size:m,...AA(a),...E};return y.jsxs(y.Fragment,{children:[N.hasResponsiveStyles&&y.jsx(qx,{selector:`.${A}`,styles:N.styles,media:N.media}),typeof h=="function"?h(k):y.jsx(w,{...k})]})});NA.displayName="@mantine/core/Box";const re=NA;function kA(e){return e}function Me(e){const n=T.forwardRef(e);return n.extend=kA,n.withProps=t=>{const r=T.forwardRef((o,a)=>y.jsx(n,{...t,...o,ref:a}));return r.extend=n.extend,r.displayName=`WithProps(${n.displayName})`,r},n}function _r(e){const n=T.forwardRef(e);return n.withProps=t=>{const r=T.forwardRef((o,a)=>y.jsx(n,{...t,...o,ref:a}));return r.extend=n.extend,r.displayName=`WithProps(${n.displayName})`,r},n.extend=kA,n}const p5=T.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function vf(){return T.useContext(p5)}var Ku=rA();const Cu=cf(Ku);function m5(e){if(!e||typeof e=="string")return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function E0(e){return e?.current?e.current.scrollHeight:"auto"}const vd=typeof window<"u"&&window.requestAnimationFrame,KR=0,v5=e=>({height:0,overflow:"hidden",...e?{}:{display:"none"}});function g5({transitionDuration:e,transitionTimingFunction:n="ease",onTransitionEnd:t=()=>{},opened:r,keepMounted:o=!1}){const a=T.useRef(null),i=v5(o),[s,u]=T.useState(r?{}:i),c=b=>{Ku.flushSync(()=>u(b))},f=b=>{c(x=>({...x,...b}))};function h(b){const x=e||m5(b);return{transition:`height ${x}ms ${n}, opacity ${x}ms ${n}`}}is(()=>{typeof vd=="function"&&vd(r?()=>{f({willChange:"height",display:"block",overflow:"hidden"}),vd(()=>{const b=E0(a);f({...h(b),height:b})})}:()=>{const b=E0(a);f({...h(b),willChange:"height",height:b}),vd(()=>f({height:KR,overflow:"hidden"}))})},[r]);const m=b=>{if(!(b.target!==a.current||b.propertyName!=="height"))if(r){const x=E0(a);x===s.height?c({}):f({height:x}),t()}else s.height===KR&&(c(i),t())};function v({style:b={},refKey:x="ref",...w}={}){const S=w[x],E={"aria-hidden":!r,...w,[x]:bA(a,S),onTransitionEnd:m,style:{boxSizing:"border-box",...b,...s}};return ft.version.startsWith("18")?r||(E.inert=""):E.inert=!r,E}return v}const y5={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},MA=Me((e,n)=>{const{children:t,in:r,transitionDuration:o,transitionTimingFunction:a,style:i,onTransitionEnd:s,animateOpacity:u,keepMounted:c,...f}=Ce("Collapse",y5,e),h=mr(),m=Pm(),b=(h.respectReducedMotion?m:!1)?0:o,x=g5({opened:r,transitionDuration:b,transitionTimingFunction:a,onTransitionEnd:s,keepMounted:c});return b===0?r?y.jsx(re,{...f,children:t}):null:y.jsx(re,{...x({style:{opacity:r||!u?1:0,transition:u?`opacity ${b}ms ${a}`:"none",...Yx(i,h)},ref:n,...f}),children:t})});MA.displayName="@mantine/core/Collapse";function zm(){return typeof window<"u"}function Qu(e){return IA(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function ka(e){var n;return(n=(IA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function IA(e){return zm()?e instanceof Node||e instanceof Br(e).Node:!1}function en(e){return zm()?e instanceof Element||e instanceof Br(e).Element:!1}function uo(e){return zm()?e instanceof HTMLElement||e instanceof Br(e).HTMLElement:!1}function Mb(e){return!zm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot}const b5=new Set(["inline","contents"]);function gf(e){const{overflow:n,overflowX:t,overflowY:r,display:o}=ko(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!b5.has(o)}const x5=new Set(["table","td","th"]);function w5(e){return x5.has(Qu(e))}const S5=[":popover-open",":modal"];function Um(e){return S5.some(n=>{try{return e.matches(n)}catch{return!1}})}const C5=["transform","translate","scale","rotate","perspective"],E5=["transform","translate","scale","rotate","perspective","filter"],R5=["paint","layout","strict","content"];function Kx(e){const n=Vm(),t=en(e)?ko(e):e;return C5.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||E5.some(r=>(t.willChange||"").includes(r))||R5.some(r=>(t.contain||"").includes(r))}function _5(e){let n=si(e);for(;uo(n)&&!hs(n);){if(Kx(n))return n;if(Um(n))return null;n=si(n)}return null}function Vm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const T5=new Set(["html","body","#document"]);function hs(e){return T5.has(Qu(e))}function ko(e){return Br(e).getComputedStyle(e)}function Hm(e){return en(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function si(e){if(Qu(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Mb(e)&&e.host||ka(e);return Mb(n)?n.host:n}function OA(e){const n=si(e);return hs(n)?e.ownerDocument?e.ownerDocument.body:e.body:uo(n)&&gf(n)?n:OA(n)}function ai(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const o=OA(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=Br(o);if(a){const s=Ib(i);return n.concat(i,i.visualViewport||[],gf(o)?o:[],s&&t?ai(s):[])}return n.concat(o,ai(o,[],t))}function Ib(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QR(e){let n=e.activeElement;for(;((t=n)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;n=n.shadowRoot.activeElement}return n}function Fd(e,n){if(!e||!n)return!1;const t=n.getRootNode==null?void 0:n.getRootNode();if(e.contains(n))return!0;if(t&&Mb(t)){let r=n;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function PA(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function jA(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(n=>{let{brand:t,version:r}=n;return t+"/"+r}).join(" "):navigator.userAgent}function D5(e){return k5()?!1:!JR()&&e.width===0&&e.height===0||JR()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function A5(){return/apple/i.test(navigator.vendor)}function JR(){const e=/android/i;return e.test(PA())||e.test(jA())}function N5(){return PA().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function k5(){return jA().includes("jsdom/")}function Ob(e,n){const t=["mouse","pen"];return t.push("",void 0),t.includes(e)}function M5(e){return"nativeEvent"in e}function I5(e){return e.matches("html,body")}function Ks(e){return e?.ownerDocument||document}function R0(e,n){if(n==null)return!1;if("composedPath"in e)return e.composedPath().includes(n);const t=e;return t.target!=null&&n.contains(t.target)}function vu(e){return"composedPath"in e?e.composedPath()[0]:e.target}const O5="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function P5(e){return uo(e)&&e.matches(O5)}const j5=["top","right","bottom","left"],Qo=Math.min,sr=Math.max,$p=Math.round,tp=Math.floor,Sa=e=>({x:e,y:e}),B5={left:"right",right:"left",bottom:"top",top:"bottom"},F5={start:"end",end:"start"};function Pb(e,n,t){return sr(e,Qo(n,t))}function Da(e,n){return typeof e=="function"?e(n):e}function Jo(e){return e.split("-")[0]}function Ju(e){return e.split("-")[1]}function Qx(e){return e==="x"?"y":"x"}function Jx(e){return e==="y"?"height":"width"}const L5=new Set(["top","bottom"]);function Go(e){return L5.has(Jo(e))?"y":"x"}function Zx(e){return Qx(Go(e))}function z5(e,n,t){t===void 0&&(t=!1);const r=Ju(e),o=Zx(e),a=Jx(o);let i=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(i=Gp(i)),[i,Gp(i)]}function U5(e){const n=Gp(e);return[jb(e),n,jb(n)]}function jb(e){return e.replace(/start|end/g,n=>F5[n])}const ZR=["left","right"],e_=["right","left"],V5=["top","bottom"],H5=["bottom","top"];function W5(e,n,t){switch(e){case"top":case"bottom":return t?n?e_:ZR:n?ZR:e_;case"left":case"right":return n?V5:H5;default:return[]}}function $5(e,n,t,r){const o=Ju(e);let a=W5(Jo(e),t==="start",r);return o&&(a=a.map(i=>i+"-"+o),n&&(a=a.concat(a.map(jb)))),a}function Gp(e){return e.replace(/left|right|bottom|top/g,n=>B5[n])}function G5(e){return{top:0,right:0,bottom:0,left:0,...e}}function e1(e){return typeof e!="number"?G5(e):{top:e,right:e,bottom:e,left:e}}function Fu(e){const{x:n,y:t,width:r,height:o}=e;return{width:r,height:o,top:t,left:n,right:n+r,bottom:t+o,x:n,y:t}}function t_(e,n,t){let{reference:r,floating:o}=e;const a=Go(n),i=Zx(n),s=Jx(i),u=Jo(n),c=a==="y",f=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,m=r[s]/2-o[s]/2;let v;switch(u){case"top":v={x:f,y:r.y-o.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-o.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Ju(n)){case"start":v[i]-=m*(t&&c?-1:1);break;case"end":v[i]+=m*(t&&c?-1:1);break}return v}const q5=async(e,n,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=t,s=a.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(n));let c=await i.getElementRects({reference:e,floating:n,strategy:o}),{x:f,y:h}=t_(c,r,u),m=r,v={},b=0;for(let x=0;x<s.length;x++){const{name:w,fn:S}=s[x],{x:E,y:R,data:D,reset:A}=await S({x:f,y:h,initialPlacement:r,placement:m,strategy:o,middlewareData:v,rects:c,platform:i,elements:{reference:e,floating:n}});f=E??f,h=R??h,v={...v,[w]:{...v[w],...D}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(c=A.rects===!0?await i.getElementRects({reference:e,floating:n,strategy:o}):A.rects),{x:f,y:h}=t_(c,m,u)),x=-1)}return{x:f,y:h,placement:m,strategy:o,middlewareData:v}};async function Ld(e,n){var t;n===void 0&&(n={});const{x:r,y:o,platform:a,rects:i,elements:s,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:v=0}=Da(n,e),b=e1(v),w=s[m?h==="floating"?"reference":"floating":h],S=Fu(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(w)))==null||t?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:u})),E=h==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),D=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},A=Fu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:E,offsetParent:R,strategy:u}):E);return{top:(S.top-A.top+b.top)/D.y,bottom:(A.bottom-S.bottom+b.bottom)/D.y,left:(S.left-A.left+b.left)/D.x,right:(A.right-S.right+b.right)/D.x}}const X5=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:o,rects:a,platform:i,elements:s,middlewareData:u}=n,{element:c,padding:f=0}=Da(e,n)||{};if(c==null)return{};const h=e1(f),m={x:t,y:r},v=Zx(o),b=Jx(v),x=await i.getDimensions(c),w=v==="y",S=w?"top":"left",E=w?"bottom":"right",R=w?"clientHeight":"clientWidth",D=a.reference[b]+a.reference[v]-m[v]-a.floating[b],A=m[v]-a.reference[v],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=N?N[R]:0;(!k||!await(i.isElement==null?void 0:i.isElement(N)))&&(k=s.floating[R]||a.floating[b]);const M=D/2-A/2,I=k/2-x[b]/2-1,P=Qo(h[S],I),L=Qo(h[E],I),F=P,Y=k-x[b]-L,W=k/2-x[b]/2+M,X=Pb(F,W,Y),j=!u.arrow&&Ju(o)!=null&&W!==X&&a.reference[b]/2-(W<F?P:L)-x[b]/2<0,U=j?W<F?W-F:W-Y:0;return{[v]:m[v]+U,data:{[v]:X,centerOffset:W-X-U,...j&&{alignmentOffset:U}},reset:j}}}),Y5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:s,platform:u,elements:c}=n,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=Da(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const S=Jo(o),E=Go(s),R=Jo(s)===s,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),A=m||(R||!x?[Gp(s)]:U5(s)),N=b!=="none";!m&&N&&A.push(...$5(s,x,b,D));const k=[s,...A],M=await Ld(n,w),I=[];let P=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&I.push(M[S]),h){const W=z5(o,i,D);I.push(M[W[0]],M[W[1]])}if(P=[...P,{placement:o,overflows:I}],!I.every(W=>W<=0)){var L,F;const W=(((L=a.flip)==null?void 0:L.index)||0)+1,X=k[W];if(X&&(!(h==="alignment"?E!==Go(X):!1)||P.every(V=>Go(V.placement)===E?V.overflows[0]>0:!0)))return{data:{index:W,overflows:P},reset:{placement:X}};let j=(F=P.filter(U=>U.overflows[0]<=0).sort((U,V)=>U.overflows[1]-V.overflows[1])[0])==null?void 0:F.placement;if(!j)switch(v){case"bestFit":{var Y;const U=(Y=P.filter(V=>{if(N){const q=Go(V.placement);return q===E||q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(q=>q>0).reduce((q,B)=>q+B,0)]).sort((V,q)=>V[1]-q[1])[0])==null?void 0:Y[0];U&&(j=U);break}case"initialPlacement":j=s;break}if(o!==j)return{reset:{placement:j}}}return{}}}};function n_(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function r_(e){return j5.some(n=>e[n]>=0)}const K5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:t}=n,{strategy:r="referenceHidden",...o}=Da(e,n);switch(r){case"referenceHidden":{const a=await Ld(n,{...o,elementContext:"reference"}),i=n_(a,t.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:r_(i)}}}case"escaped":{const a=await Ld(n,{...o,altBoundary:!0}),i=n_(a,t.floating);return{data:{escapedOffsets:i,escaped:r_(i)}}}default:return{}}}}};function BA(e){const n=Qo(...e.map(a=>a.left)),t=Qo(...e.map(a=>a.top)),r=sr(...e.map(a=>a.right)),o=sr(...e.map(a=>a.bottom));return{x:n,y:t,width:r-n,height:o-t}}function Q5(e){const n=e.slice().sort((o,a)=>o.y-a.y),t=[];let r=null;for(let o=0;o<n.length;o++){const a=n[o];!r||a.y-r.y>r.height/2?t.push([a]):t[t.length-1].push(a),r=a}return t.map(o=>Fu(BA(o)))}const J5=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(n){const{placement:t,elements:r,rects:o,platform:a,strategy:i}=n,{padding:s=2,x:u,y:c}=Da(e,n),f=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),h=Q5(f),m=Fu(BA(f)),v=e1(s);function b(){if(h.length===2&&h[0].left>h[1].right&&u!=null&&c!=null)return h.find(w=>u>w.left-v.left&&u<w.right+v.right&&c>w.top-v.top&&c<w.bottom+v.bottom)||m;if(h.length>=2){if(Go(t)==="y"){const P=h[0],L=h[h.length-1],F=Jo(t)==="top",Y=P.top,W=L.bottom,X=F?P.left:L.left,j=F?P.right:L.right,U=j-X,V=W-Y;return{top:Y,bottom:W,left:X,right:j,width:U,height:V,x:X,y:Y}}const w=Jo(t)==="left",S=sr(...h.map(P=>P.right)),E=Qo(...h.map(P=>P.left)),R=h.filter(P=>w?P.left===E:P.right===S),D=R[0].top,A=R[R.length-1].bottom,N=E,k=S,M=k-N,I=A-D;return{top:D,bottom:A,left:N,right:k,width:M,height:I,x:N,y:D}}return m}const x=await a.getElementRects({reference:{getBoundingClientRect:b},floating:r.floating,strategy:i});return o.reference.x!==x.reference.x||o.reference.y!==x.reference.y||o.reference.width!==x.reference.width||o.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}},FA=new Set(["left","top"]);async function Z5(e,n){const{placement:t,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Jo(t),s=Ju(t),u=Go(t)==="y",c=FA.has(i)?-1:1,f=a&&u?-1:1,h=Da(n,e);let{mainAxis:m,crossAxis:v,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof b=="number"&&(v=s==="end"?b*-1:b),u?{x:v*f,y:m*c}:{x:m*c,y:v*f}}const eL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:o,y:a,placement:i,middlewareData:s}=n,u=await Z5(n,e);return i===((t=s.offset)==null?void 0:t.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:a+u.y,data:{...u,placement:i}}}}},tL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:r,placement:o}=n,{mainAxis:a=!0,crossAxis:i=!1,limiter:s={fn:w=>{let{x:S,y:E}=w;return{x:S,y:E}}},...u}=Da(e,n),c={x:t,y:r},f=await Ld(n,u),h=Go(Jo(o)),m=Qx(h);let v=c[m],b=c[h];if(a){const w=m==="y"?"top":"left",S=m==="y"?"bottom":"right",E=v+f[w],R=v-f[S];v=Pb(E,v,R)}if(i){const w=h==="y"?"top":"left",S=h==="y"?"bottom":"right",E=b+f[w],R=b-f[S];b=Pb(E,b,R)}const x=s.fn({...n,[m]:v,[h]:b});return{...x,data:{x:x.x-t,y:x.y-r,enabled:{[m]:a,[h]:i}}}}}},nL=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:t,y:r,placement:o,rects:a,middlewareData:i}=n,{offset:s=0,mainAxis:u=!0,crossAxis:c=!0}=Da(e,n),f={x:t,y:r},h=Go(o),m=Qx(h);let v=f[m],b=f[h];const x=Da(s,n),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const R=m==="y"?"height":"width",D=a.reference[m]-a.floating[R]+w.mainAxis,A=a.reference[m]+a.reference[R]-w.mainAxis;v<D?v=D:v>A&&(v=A)}if(c){var S,E;const R=m==="y"?"width":"height",D=FA.has(Jo(o)),A=a.reference[h]-a.floating[R]+(D&&((S=i.offset)==null?void 0:S[h])||0)+(D?0:w.crossAxis),N=a.reference[h]+a.reference[R]+(D?0:((E=i.offset)==null?void 0:E[h])||0)-(D?w.crossAxis:0);b<A?b=A:b>N&&(b=N)}return{[m]:v,[h]:b}}}},rL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var t,r;const{placement:o,rects:a,platform:i,elements:s}=n,{apply:u=()=>{},...c}=Da(e,n),f=await Ld(n,c),h=Jo(o),m=Ju(o),v=Go(o)==="y",{width:b,height:x}=a.floating;let w,S;h==="top"||h==="bottom"?(w=h,S=m===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(S=h,w=m==="end"?"top":"bottom");const E=x-f.top-f.bottom,R=b-f.left-f.right,D=Qo(x-f[w],E),A=Qo(b-f[S],R),N=!n.middlewareData.shift;let k=D,M=A;if((t=n.middlewareData.shift)!=null&&t.enabled.x&&(M=R),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(k=E),N&&!m){const P=sr(f.left,0),L=sr(f.right,0),F=sr(f.top,0),Y=sr(f.bottom,0);v?M=b-2*(P!==0||L!==0?P+L:sr(f.left,f.right)):k=x-2*(F!==0||Y!==0?F+Y:sr(f.top,f.bottom))}await u({...n,availableWidth:M,availableHeight:k});const I=await i.getDimensions(s.floating);return b!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function LA(e){const n=ko(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const o=uo(e),a=o?e.offsetWidth:t,i=o?e.offsetHeight:r,s=$p(t)!==a||$p(r)!==i;return s&&(t=a,r=i),{width:t,height:r,$:s}}function t1(e){return en(e)?e:e.contextElement}function Du(e){const n=t1(e);if(!uo(n))return Sa(1);const t=n.getBoundingClientRect(),{width:r,height:o,$:a}=LA(n);let i=(a?$p(t.width):t.width)/r,s=(a?$p(t.height):t.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!s||!Number.isFinite(s))&&(s=1),{x:i,y:s}}const oL=Sa(0);function zA(e){const n=Br(e);return!Vm()||!n.visualViewport?oL:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function aL(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Br(e)?!1:n}function al(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const o=e.getBoundingClientRect(),a=t1(e);let i=Sa(1);n&&(r?en(r)&&(i=Du(r)):i=Du(e));const s=aL(a,t,r)?zA(a):Sa(0);let u=(o.left+s.x)/i.x,c=(o.top+s.y)/i.y,f=o.width/i.x,h=o.height/i.y;if(a){const m=Br(a),v=r&&en(r)?Br(r):r;let b=m,x=Ib(b);for(;x&&r&&v!==b;){const w=Du(x),S=x.getBoundingClientRect(),E=ko(x),R=S.left+(x.clientLeft+parseFloat(E.paddingLeft))*w.x,D=S.top+(x.clientTop+parseFloat(E.paddingTop))*w.y;u*=w.x,c*=w.y,f*=w.x,h*=w.y,u+=R,c+=D,b=Br(x),x=Ib(b)}}return Fu({width:f,height:h,x:u,y:c})}function Wm(e,n){const t=Hm(e).scrollLeft;return n?n.left+t:al(ka(e)).left+t}function UA(e,n){const t=e.getBoundingClientRect(),r=t.left+n.scrollLeft-Wm(e,t),o=t.top+n.scrollTop;return{x:r,y:o}}function iL(e){let{elements:n,rect:t,offsetParent:r,strategy:o}=e;const a=o==="fixed",i=ka(r),s=n?Um(n.floating):!1;if(r===i||s&&a)return t;let u={scrollLeft:0,scrollTop:0},c=Sa(1);const f=Sa(0),h=uo(r);if((h||!h&&!a)&&((Qu(r)!=="body"||gf(i))&&(u=Hm(r)),uo(r))){const v=al(r);c=Du(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const m=i&&!h&&!a?UA(i,u):Sa(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-u.scrollLeft*c.x+f.x+m.x,y:t.y*c.y-u.scrollTop*c.y+f.y+m.y}}function sL(e){return Array.from(e.getClientRects())}function lL(e){const n=ka(e),t=Hm(e),r=e.ownerDocument.body,o=sr(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=sr(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let i=-t.scrollLeft+Wm(e);const s=-t.scrollTop;return ko(r).direction==="rtl"&&(i+=sr(n.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:s}}const o_=25;function uL(e,n){const t=Br(e),r=ka(e),o=t.visualViewport;let a=r.clientWidth,i=r.clientHeight,s=0,u=0;if(o){a=o.width,i=o.height;const f=Vm();(!f||f&&n==="fixed")&&(s=o.offsetLeft,u=o.offsetTop)}const c=Wm(r);if(c<=0){const f=r.ownerDocument,h=f.body,m=getComputedStyle(h),v=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(r.clientWidth-h.clientWidth-v);b<=o_&&(a-=b)}else c<=o_&&(a+=c);return{width:a,height:i,x:s,y:u}}const cL=new Set(["absolute","fixed"]);function dL(e,n){const t=al(e,!0,n==="fixed"),r=t.top+e.clientTop,o=t.left+e.clientLeft,a=uo(e)?Du(e):Sa(1),i=e.clientWidth*a.x,s=e.clientHeight*a.y,u=o*a.x,c=r*a.y;return{width:i,height:s,x:u,y:c}}function a_(e,n,t){let r;if(n==="viewport")r=uL(e,t);else if(n==="document")r=lL(ka(e));else if(en(n))r=dL(n,t);else{const o=zA(e);r={x:n.x-o.x,y:n.y-o.y,width:n.width,height:n.height}}return Fu(r)}function VA(e,n){const t=si(e);return t===n||!en(t)||hs(t)?!1:ko(t).position==="fixed"||VA(t,n)}function fL(e,n){const t=n.get(e);if(t)return t;let r=ai(e,[],!1).filter(s=>en(s)&&Qu(s)!=="body"),o=null;const a=ko(e).position==="fixed";let i=a?si(e):e;for(;en(i)&&!hs(i);){const s=ko(i),u=Kx(i);!u&&s.position==="fixed"&&(o=null),(a?!u&&!o:!u&&s.position==="static"&&!!o&&cL.has(o.position)||gf(i)&&!u&&VA(e,i))?r=r.filter(f=>f!==i):o=s,i=si(i)}return n.set(e,r),r}function hL(e){let{element:n,boundary:t,rootBoundary:r,strategy:o}=e;const i=[...t==="clippingAncestors"?Um(n)?[]:fL(n,this._c):[].concat(t),r],s=i[0],u=i.reduce((c,f)=>{const h=a_(n,f,o);return c.top=sr(h.top,c.top),c.right=Qo(h.right,c.right),c.bottom=Qo(h.bottom,c.bottom),c.left=sr(h.left,c.left),c},a_(n,s,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function pL(e){const{width:n,height:t}=LA(e);return{width:n,height:t}}function mL(e,n,t){const r=uo(n),o=ka(n),a=t==="fixed",i=al(e,!0,a,n);let s={scrollLeft:0,scrollTop:0};const u=Sa(0);function c(){u.x=Wm(o)}if(r||!r&&!a)if((Qu(n)!=="body"||gf(o))&&(s=Hm(n)),r){const v=al(n,!0,a,n);u.x=v.x+n.clientLeft,u.y=v.y+n.clientTop}else o&&c();a&&!r&&o&&c();const f=o&&!r&&!a?UA(o,s):Sa(0),h=i.left+s.scrollLeft-u.x-f.x,m=i.top+s.scrollTop-u.y-f.y;return{x:h,y:m,width:i.width,height:i.height}}function _0(e){return ko(e).position==="static"}function i_(e,n){if(!uo(e)||ko(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return ka(e)===t&&(t=t.ownerDocument.body),t}function HA(e,n){const t=Br(e);if(Um(e))return t;if(!uo(e)){let o=si(e);for(;o&&!hs(o);){if(en(o)&&!_0(o))return o;o=si(o)}return t}let r=i_(e,n);for(;r&&w5(r)&&_0(r);)r=i_(r,n);return r&&hs(r)&&_0(r)&&!Kx(r)?t:r||_5(e)||t}const vL=async function(e){const n=this.getOffsetParent||HA,t=this.getDimensions,r=await t(e.floating);return{reference:mL(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gL(e){return ko(e).direction==="rtl"}const yL={convertOffsetParentRelativeRectToViewportRelativeRect:iL,getDocumentElement:ka,getClippingRect:hL,getOffsetParent:HA,getElementRects:vL,getClientRects:sL,getDimensions:pL,getScale:Du,isElement:en,isRTL:gL};function WA(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function bL(e,n){let t=null,r;const o=ka(e);function a(){var s;clearTimeout(r),(s=t)==null||s.disconnect(),t=null}function i(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),a();const c=e.getBoundingClientRect(),{left:f,top:h,width:m,height:v}=c;if(s||n(),!m||!v)return;const b=tp(h),x=tp(o.clientWidth-(f+m)),w=tp(o.clientHeight-(h+v)),S=tp(f),R={rootMargin:-b+"px "+-x+"px "+-w+"px "+-S+"px",threshold:sr(0,Qo(1,u))||1};let D=!0;function A(N){const k=N[0].intersectionRatio;if(k!==u){if(!D)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!WA(c,e.getBoundingClientRect())&&i(),D=!1}try{t=new IntersectionObserver(A,{...R,root:o.ownerDocument})}catch{t=new IntersectionObserver(A,R)}t.observe(e)}return i(!0),a}function $A(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=t1(e),f=o||a?[...c?ai(c):[],...ai(n)]:[];f.forEach(S=>{o&&S.addEventListener("scroll",t,{passive:!0}),a&&S.addEventListener("resize",t)});const h=c&&s?bL(c,t):null;let m=-1,v=null;i&&(v=new ResizeObserver(S=>{let[E]=S;E&&E.target===c&&v&&(v.unobserve(n),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var R;(R=v)==null||R.observe(n)})),t()}),c&&!u&&v.observe(c),v.observe(n));let b,x=u?al(e):null;u&&w();function w(){const S=al(e);x&&!WA(x,S)&&t(),x=S,b=requestAnimationFrame(w)}return t(),()=>{var S;f.forEach(E=>{o&&E.removeEventListener("scroll",t),a&&E.removeEventListener("resize",t)}),h?.(),(S=v)==null||S.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const xL=eL,wL=tL,SL=Y5,CL=rL,EL=K5,s_=X5,RL=J5,_L=nL,TL=(e,n,t)=>{const r=new Map,o={platform:yL,...t},a={...o.platform,_c:r};return q5(e,n,{...o,platform:a})};var DL=typeof document<"u",AL=function(){},Np=DL?T.useLayoutEffect:AL;function qp(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,o;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!qp(e[r],n[r]))return!1;return!0}if(o=Object.keys(e),t=o.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!qp(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function GA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function l_(e,n){const t=GA(e);return Math.round(n*t)/t}function T0(e){const n=T.useRef(e);return Np(()=>{n.current=e}),n}function NL(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:i}={},transform:s=!0,whileElementsMounted:u,open:c}=e,[f,h]=T.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[m,v]=T.useState(r);qp(m,r)||v(r);const[b,x]=T.useState(null),[w,S]=T.useState(null),E=T.useCallback(V=>{V!==N.current&&(N.current=V,x(V))},[]),R=T.useCallback(V=>{V!==k.current&&(k.current=V,S(V))},[]),D=a||b,A=i||w,N=T.useRef(null),k=T.useRef(null),M=T.useRef(f),I=u!=null,P=T0(u),L=T0(o),F=T0(c),Y=T.useCallback(()=>{if(!N.current||!k.current)return;const V={placement:n,strategy:t,middleware:m};L.current&&(V.platform=L.current),TL(N.current,k.current,V).then(q=>{const B={...q,isPositioned:F.current!==!1};W.current&&!qp(M.current,B)&&(M.current=B,Ku.flushSync(()=>{h(B)}))})},[m,n,t,L,F]);Np(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[c]);const W=T.useRef(!1);Np(()=>(W.current=!0,()=>{W.current=!1}),[]),Np(()=>{if(D&&(N.current=D),A&&(k.current=A),D&&A){if(P.current)return P.current(D,A,Y);Y()}},[D,A,Y,P,I]);const X=T.useMemo(()=>({reference:N,floating:k,setReference:E,setFloating:R}),[E,R]),j=T.useMemo(()=>({reference:D,floating:A}),[D,A]),U=T.useMemo(()=>{const V={position:t,left:0,top:0};if(!j.floating)return V;const q=l_(j.floating,f.x),B=l_(j.floating,f.y);return s?{...V,transform:"translate("+q+"px, "+B+"px)",...GA(j.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:q,top:B}},[t,s,j.floating,f.x,f.y]);return T.useMemo(()=>({...f,update:Y,refs:X,elements:j,floatingStyles:U}),[f,Y,X,j,U])}const kL=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:o}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?s_({element:r.current,padding:o}).fn(t):{}:r?s_({element:r,padding:o}).fn(t):{}}}},qA=(e,n)=>({...xL(e),options:[e,n]}),n1=(e,n)=>({...wL(e),options:[e,n]}),u_=(e,n)=>({..._L(e),options:[e,n]}),Xp=(e,n)=>({...SL(e),options:[e,n]}),ML=(e,n)=>({...CL(e),options:[e,n]}),IL=(e,n)=>({...EL(e),options:[e,n]}),Ad=(e,n)=>({...RL(e),options:[e,n]}),XA=(e,n)=>({...kL(e),options:[e,n]});function YA(e){return T.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})},e)}const KA={...Oj},OL=KA.useInsertionEffect,PL=OL||(e=>e());function ni(e){const n=T.useRef(()=>{});return PL(()=>{n.current=e}),T.useCallback(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.current==null?void 0:n.current(...r)},[])}var Ca=typeof document<"u"?T.useLayoutEffect:T.useEffect;let c_=!1,jL=0;const d_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+jL++;function BL(){const[e,n]=T.useState(()=>c_?d_():void 0);return Ca(()=>{e==null&&n(d_())},[]),T.useEffect(()=>{c_=!0},[]),e}const FL=KA.useId,QA=FL||BL;function LL(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(o=>o(t))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var r;e.set(n,((r=e.get(n))==null?void 0:r.filter(o=>o!==t))||[])}}}const zL=T.createContext(null),UL=T.createContext(null),r1=()=>{var e;return((e=T.useContext(zL))==null?void 0:e.id)||null},o1=()=>T.useContext(UL);function a1(e){return"data-floating-ui-"+e}function D0(e){const n=T.useRef(e);return Ca(()=>{n.current=e}),n}const f_=a1("safe-polygon");function kp(e,n,t){return t&&!Ob(t)?0:typeof e=="number"?e:e?.[n]}function JA(e,n){n===void 0&&(n={});const{open:t,onOpenChange:r,dataRef:o,events:a,elements:i}=e,{enabled:s=!0,delay:u=0,handleClose:c=null,mouseOnly:f=!1,restMs:h=0,move:m=!0}=n,v=o1(),b=r1(),x=D0(c),w=D0(u),S=D0(t),E=T.useRef(),R=T.useRef(-1),D=T.useRef(),A=T.useRef(-1),N=T.useRef(!0),k=T.useRef(!1),M=T.useRef(()=>{}),I=T.useRef(!1),P=T.useCallback(()=>{var U;const V=(U=o.current.openEvent)==null?void 0:U.type;return V?.includes("mouse")&&V!=="mousedown"},[o]);T.useEffect(()=>{if(!s)return;function U(V){let{open:q}=V;q||(clearTimeout(R.current),clearTimeout(A.current),N.current=!0,I.current=!1)}return a.on("openchange",U),()=>{a.off("openchange",U)}},[s,a]),T.useEffect(()=>{if(!s||!x.current||!t)return;function U(q){P()&&r(!1,q,"hover")}const V=Ks(i.floating).documentElement;return V.addEventListener("mouseleave",U),()=>{V.removeEventListener("mouseleave",U)}},[i.floating,t,r,s,x,P]);const L=T.useCallback(function(U,V,q){V===void 0&&(V=!0),q===void 0&&(q="hover");const B=kp(w.current,"close",E.current);B&&!D.current?(clearTimeout(R.current),R.current=window.setTimeout(()=>r(!1,U,q),B)):V&&(clearTimeout(R.current),r(!1,U,q))},[w,r]),F=ni(()=>{M.current(),D.current=void 0}),Y=ni(()=>{if(k.current){const U=Ks(i.floating).body;U.style.pointerEvents="",U.removeAttribute(f_),k.current=!1}}),W=ni(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);T.useEffect(()=>{if(!s)return;function U(G){if(clearTimeout(R.current),N.current=!1,f&&!Ob(E.current)||h>0&&!kp(w.current,"open"))return;const J=kp(w.current,"open",E.current);J?R.current=window.setTimeout(()=>{S.current||r(!0,G,"hover")},J):t||r(!0,G,"hover")}function V(G){if(W())return;M.current();const J=Ks(i.floating);if(clearTimeout(A.current),I.current=!1,x.current&&o.current.floatingContext){t||clearTimeout(R.current),D.current=x.current({...o.current.floatingContext,tree:v,x:G.clientX,y:G.clientY,onClose(){Y(),F(),W()||L(G,!0,"safe-polygon")}});const he=D.current;J.addEventListener("mousemove",he),M.current=()=>{J.removeEventListener("mousemove",he)};return}(E.current==="touch"?!Fd(i.floating,G.relatedTarget):!0)&&L(G)}function q(G){W()||o.current.floatingContext&&(x.current==null||x.current({...o.current.floatingContext,tree:v,x:G.clientX,y:G.clientY,onClose(){Y(),F(),W()||L(G)}})(G))}if(en(i.domReference)){var B;const G=i.domReference;return t&&G.addEventListener("mouseleave",q),(B=i.floating)==null||B.addEventListener("mouseleave",q),m&&G.addEventListener("mousemove",U,{once:!0}),G.addEventListener("mouseenter",U),G.addEventListener("mouseleave",V),()=>{var J;t&&G.removeEventListener("mouseleave",q),(J=i.floating)==null||J.removeEventListener("mouseleave",q),m&&G.removeEventListener("mousemove",U),G.removeEventListener("mouseenter",U),G.removeEventListener("mouseleave",V)}}},[i,s,e,f,h,m,L,F,Y,r,t,S,v,w,x,o,W]),Ca(()=>{var U;if(s&&t&&(U=x.current)!=null&&U.__options.blockPointerEvents&&P()){k.current=!0;const q=i.floating;if(en(i.domReference)&&q){var V;const B=Ks(i.floating).body;B.setAttribute(f_,"");const G=i.domReference,J=v==null||(V=v.nodesRef.current.find(ne=>ne.id===b))==null||(V=V.context)==null?void 0:V.elements.floating;return J&&(J.style.pointerEvents=""),B.style.pointerEvents="none",G.style.pointerEvents="auto",q.style.pointerEvents="auto",()=>{B.style.pointerEvents="",G.style.pointerEvents="",q.style.pointerEvents=""}}}},[s,t,b,i,v,x,P]),Ca(()=>{t||(E.current=void 0,I.current=!1,F(),Y())},[t,F,Y]),T.useEffect(()=>()=>{F(),clearTimeout(R.current),clearTimeout(A.current),Y()},[s,i.domReference,F,Y]);const X=T.useMemo(()=>{function U(V){E.current=V.pointerType}return{onPointerDown:U,onPointerEnter:U,onMouseMove(V){const{nativeEvent:q}=V;function B(){!N.current&&!S.current&&r(!0,q,"hover")}f&&!Ob(E.current)||t||h===0||I.current&&V.movementX**2+V.movementY**2<2||(clearTimeout(A.current),E.current==="touch"?B():(I.current=!0,A.current=window.setTimeout(B,h)))}}},[f,r,t,S,h]),j=T.useMemo(()=>({onMouseEnter(){clearTimeout(R.current)},onMouseLeave(U){W()||L(U.nativeEvent,!1)}}),[L,W]);return T.useMemo(()=>s?{reference:X,floating:j}:{},[s,X,j])}const Bb=()=>{},ZA=T.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Bb,setState:Bb,isInstantPhase:!1}),VL=()=>T.useContext(ZA);function eN(e){const{children:n,delay:t,timeoutMs:r=0}=e,[o,a]=T.useReducer((u,c)=>({...u,...c}),{delay:t,timeoutMs:r,initialDelay:t,currentId:null,isInstantPhase:!1}),i=T.useRef(null),s=T.useCallback(u=>{a({currentId:u})},[]);return Ca(()=>{o.currentId?i.current===null?i.current=o.currentId:o.isInstantPhase||a({isInstantPhase:!0}):(o.isInstantPhase&&a({isInstantPhase:!1}),i.current=null)},[o.currentId,o.isInstantPhase]),T.createElement(ZA.Provider,{value:T.useMemo(()=>({...o,setState:a,setCurrentId:s}),[o,s])},n)}function tN(e,n){n===void 0&&(n={});const{open:t,onOpenChange:r,floatingId:o}=e,{id:a,enabled:i=!0}=n,s=a??o,u=VL(),{currentId:c,setCurrentId:f,initialDelay:h,setState:m,timeoutMs:v}=u;return Ca(()=>{i&&c&&(m({delay:{open:1,close:kp(h,"close")}}),c!==s&&r(!1))},[i,s,r,m,c,h]),Ca(()=>{function b(){r(!1),m({delay:h,currentId:null})}if(i&&c&&!t&&c===s){if(v){const x=window.setTimeout(b,v);return()=>{clearTimeout(x)}}b()}},[i,t,m,c,s,r,h,v]),Ca(()=>{i&&(f===Bb||!t||f(s))},[i,t,f,s]),u}function A0(e,n){let t=e.filter(o=>{var a;return o.parentId===n&&((a=o.context)==null?void 0:a.open)}),r=t;for(;r.length;)r=e.filter(o=>{var a;return(a=r)==null?void 0:a.some(i=>{var s;return o.parentId===i.id&&((s=o.context)==null?void 0:s.open)})}),t=t.concat(r);return t}const HL="data-floating-ui-focusable",WL={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},$L={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},h_=e=>{var n,t;return{escapeKey:typeof e=="boolean"?e:(n=e?.escapeKey)!=null?n:!1,outsidePress:typeof e=="boolean"?e:(t=e?.outsidePress)!=null?t:!0}};function nN(e,n){n===void 0&&(n={});const{open:t,onOpenChange:r,elements:o,dataRef:a}=e,{enabled:i=!0,escapeKey:s=!0,outsidePress:u=!0,outsidePressEvent:c="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:m=!1,bubbles:v,capture:b}=n,x=o1(),w=ni(typeof u=="function"?u:()=>!1),S=typeof u=="function"?w:u,E=T.useRef(!1),R=T.useRef(!1),{escapeKey:D,outsidePress:A}=h_(v),{escapeKey:N,outsidePress:k}=h_(b),M=T.useRef(!1),I=ni(X=>{var j;if(!t||!i||!s||X.key!=="Escape"||M.current)return;const U=(j=a.current.floatingContext)==null?void 0:j.nodeId,V=x?A0(x.nodesRef.current,U):[];if(!D&&(X.stopPropagation(),V.length>0)){let q=!0;if(V.forEach(B=>{var G;if((G=B.context)!=null&&G.open&&!B.context.dataRef.current.__escapeKeyBubbles){q=!1;return}}),!q)return}r(!1,M5(X)?X.nativeEvent:X,"escape-key")}),P=ni(X=>{var j;const U=()=>{var V;I(X),(V=vu(X))==null||V.removeEventListener("keydown",U)};(j=vu(X))==null||j.addEventListener("keydown",U)}),L=ni(X=>{var j;const U=E.current;E.current=!1;const V=R.current;if(R.current=!1,c==="click"&&V||U||typeof S=="function"&&!S(X))return;const q=vu(X),B="["+a1("inert")+"]",G=Ks(o.floating).querySelectorAll(B);let J=en(q)?q:null;for(;J&&!hs(J);){const ae=si(J);if(hs(ae)||!en(ae))break;J=ae}if(G.length&&en(q)&&!I5(q)&&!Fd(q,o.floating)&&Array.from(G).every(ae=>!Fd(J,ae)))return;if(uo(q)&&W){const ae=q.clientWidth>0&&q.scrollWidth>q.clientWidth,le=q.clientHeight>0&&q.scrollHeight>q.clientHeight;let ge=le&&X.offsetX>q.clientWidth;if(le&&ko(q).direction==="rtl"&&(ge=X.offsetX<=q.offsetWidth-q.clientWidth),ge||ae&&X.offsetY>q.clientHeight)return}const ne=(j=a.current.floatingContext)==null?void 0:j.nodeId,he=x&&A0(x.nodesRef.current,ne).some(ae=>{var le;return R0(X,(le=ae.context)==null?void 0:le.elements.floating)});if(R0(X,o.floating)||R0(X,o.domReference)||he)return;const Se=x?A0(x.nodesRef.current,ne):[];if(Se.length>0){let ae=!0;if(Se.forEach(le=>{var ge;if((ge=le.context)!=null&&ge.open&&!le.context.dataRef.current.__outsidePressBubbles){ae=!1;return}}),!ae)return}r(!1,X,"outside-press")}),F=ni(X=>{var j;const U=()=>{var V;L(X),(V=vu(X))==null||V.removeEventListener(c,U)};(j=vu(X))==null||j.addEventListener(c,U)});T.useEffect(()=>{if(!t||!i)return;a.current.__escapeKeyBubbles=D,a.current.__outsidePressBubbles=A;let X=-1;function j(G){r(!1,G,"ancestor-scroll")}function U(){window.clearTimeout(X),M.current=!0}function V(){X=window.setTimeout(()=>{M.current=!1},Vm()?5:0)}const q=Ks(o.floating);s&&(q.addEventListener("keydown",N?P:I,N),q.addEventListener("compositionstart",U),q.addEventListener("compositionend",V)),S&&q.addEventListener(c,k?F:L,k);let B=[];return m&&(en(o.domReference)&&(B=ai(o.domReference)),en(o.floating)&&(B=B.concat(ai(o.floating))),!en(o.reference)&&o.reference&&o.reference.contextElement&&(B=B.concat(ai(o.reference.contextElement)))),B=B.filter(G=>{var J;return G!==((J=q.defaultView)==null?void 0:J.visualViewport)}),B.forEach(G=>{G.addEventListener("scroll",j,{passive:!0})}),()=>{s&&(q.removeEventListener("keydown",N?P:I,N),q.removeEventListener("compositionstart",U),q.removeEventListener("compositionend",V)),S&&q.removeEventListener(c,k?F:L,k),B.forEach(G=>{G.removeEventListener("scroll",j)}),window.clearTimeout(X)}},[a,o,s,S,c,t,r,m,i,D,A,I,N,P,L,k,F]),T.useEffect(()=>{E.current=!1},[S,c]);const Y=T.useMemo(()=>({onKeyDown:I,[WL[h]]:X=>{f&&r(!1,X.nativeEvent,"reference-press")}}),[I,r,f,h]),W=T.useMemo(()=>({onKeyDown:I,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[$L[c]]:()=>{E.current=!0}}),[I,c]);return T.useMemo(()=>i?{reference:Y,floating:W}:{},[i,Y,W])}function GL(e){const{open:n=!1,onOpenChange:t,elements:r}=e,o=QA(),a=T.useRef({}),[i]=T.useState(()=>LL()),s=r1()!=null,[u,c]=T.useState(r.reference),f=ni((v,b,x)=>{a.current.openEvent=v?b:void 0,i.emit("openchange",{open:v,event:b,reason:x,nested:s}),t?.(v,b,x)}),h=T.useMemo(()=>({setPositionReference:c}),[]),m=T.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return T.useMemo(()=>({dataRef:a,open:n,onOpenChange:f,elements:m,events:i,floatingId:o,refs:h}),[n,f,m,i,o,h])}function $m(e){e===void 0&&(e={});const{nodeId:n}=e,t=GL({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,o=r.elements,[a,i]=T.useState(null),[s,u]=T.useState(null),f=o?.domReference||a,h=T.useRef(null),m=o1();Ca(()=>{f&&(h.current=f)},[f]);const v=NL({...e,elements:{...o,...s&&{reference:s}}}),b=T.useCallback(R=>{const D=en(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;u(D),v.refs.setReference(D)},[v.refs]),x=T.useCallback(R=>{(en(R)||R===null)&&(h.current=R,i(R)),(en(v.refs.reference.current)||v.refs.reference.current===null||R!==null&&!en(R))&&v.refs.setReference(R)},[v.refs]),w=T.useMemo(()=>({...v.refs,setReference:x,setPositionReference:b,domReference:h}),[v.refs,x,b]),S=T.useMemo(()=>({...v.elements,domReference:f}),[v.elements,f]),E=T.useMemo(()=>({...v,...r,refs:w,elements:S,nodeId:n}),[v,w,S,n,r]);return Ca(()=>{r.dataRef.current.floatingContext=E;const R=m?.nodesRef.current.find(D=>D.id===n);R&&(R.context=E)}),T.useMemo(()=>({...v,context:E,refs:w,elements:S}),[v,w,S,E])}function qL(e,n){n===void 0&&(n={});const{open:t,onOpenChange:r,events:o,dataRef:a,elements:i}=e,{enabled:s=!0,visibleOnly:u=!0}=n,c=T.useRef(!1),f=T.useRef(),h=T.useRef(!0);T.useEffect(()=>{if(!s)return;const v=Br(i.domReference);function b(){!t&&uo(i.domReference)&&i.domReference===QR(Ks(i.domReference))&&(c.current=!0)}function x(){h.current=!0}return v.addEventListener("blur",b),v.addEventListener("keydown",x,!0),()=>{v.removeEventListener("blur",b),v.removeEventListener("keydown",x,!0)}},[i.domReference,t,s]),T.useEffect(()=>{if(!s)return;function v(b){let{reason:x}=b;(x==="reference-press"||x==="escape-key")&&(c.current=!0)}return o.on("openchange",v),()=>{o.off("openchange",v)}},[o,s]),T.useEffect(()=>()=>{clearTimeout(f.current)},[]);const m=T.useMemo(()=>({onPointerDown(v){D5(v.nativeEvent)||(h.current=!1)},onMouseLeave(){c.current=!1},onFocus(v){if(c.current)return;const b=vu(v.nativeEvent);if(u&&en(b))try{if(A5()&&N5())throw Error();if(!b.matches(":focus-visible"))return}catch{if(!h.current&&!P5(b))return}r(!0,v.nativeEvent,"focus")},onBlur(v){c.current=!1;const b=v.relatedTarget,x=v.nativeEvent,w=en(b)&&b.hasAttribute(a1("focus-guard"))&&b.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var S;const E=QR(i.domReference?i.domReference.ownerDocument:document);!b&&E===i.domReference||Fd((S=a.current.floatingContext)==null?void 0:S.refs.floating.current,E)||Fd(i.domReference,E)||w||r(!1,x,"focus")})}}),[a,i.domReference,r,u]);return T.useMemo(()=>s?{reference:m}:{},[s,m])}const p_="active",m_="selected";function N0(e,n,t){const r=new Map,o=t==="item";let a=e;if(o&&e){const{[p_]:i,[m_]:s,...u}=e;a=u}return{...t==="floating"&&{tabIndex:-1,[HL]:""},...a,...n.map(i=>{const s=i?i[t]:null;return typeof s=="function"?e?s(e):null:s}).concat(e).reduce((i,s)=>(s&&Object.entries(s).forEach(u=>{let[c,f]=u;if(!(o&&[p_,m_].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof f=="function"){var h;(h=r.get(c))==null||h.push(f),i[c]=function(){for(var m,v=arguments.length,b=new Array(v),x=0;x<v;x++)b[x]=arguments[x];return(m=r.get(c))==null?void 0:m.map(w=>w(...b)).find(w=>w!==void 0)}}}else i[c]=f}),i),{})}}function rN(e){e===void 0&&(e=[]);const n=e.map(s=>s?.reference),t=e.map(s=>s?.floating),r=e.map(s=>s?.item),o=T.useCallback(s=>N0(s,e,"reference"),n),a=T.useCallback(s=>N0(s,e,"floating"),t),i=T.useCallback(s=>N0(s,e,"item"),r);return T.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:i}),[o,a,i])}const XL=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function oN(e,n){var t;n===void 0&&(n={});const{open:r,floatingId:o}=e,{enabled:a=!0,role:i="dialog"}=n,s=(t=XL.get(i))!=null?t:i,u=QA(),f=r1()!=null,h=T.useMemo(()=>s==="tooltip"||i==="label"?{["aria-"+(i==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":r?o:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:u},...s==="menu"&&f&&{role:"menuitem"},...i==="select"&&{"aria-autocomplete":"none"},...i==="combobox"&&{"aria-autocomplete":"list"}},[s,o,f,r,u,i]),m=T.useMemo(()=>{const b={id:o,...s&&{role:s}};return s==="tooltip"||i==="label"?b:{...b,...s==="menu"&&{"aria-labelledby":u}}},[s,o,u,i]),v=T.useCallback(b=>{let{active:x,selected:w}=b;const S={role:"option",...x&&{id:o+"-option"}};switch(i){case"select":return{...S,"aria-selected":x&&w};case"combobox":return{...S,...x&&{"aria-selected":!0}}}return{}},[o,i]);return T.useMemo(()=>a?{reference:h,floating:m,item:v}:{},[a,h,m,v])}const[YL,Po]=Io("ScrollArea.Root component was not found in tree");function Lu(e,n){const t=qs(n);Yu(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,t])}const KL=T.forwardRef((e,n)=>{const{style:t,...r}=e,o=Po(),[a,i]=T.useState(0),[s,u]=T.useState(0),c=!!(a&&s);return Lu(o.scrollbarX,()=>{const f=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(f),u(f)}),Lu(o.scrollbarY,()=>{const f=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(f),i(f)}),c?y.jsx("div",{...r,ref:n,style:{...t,width:a,height:s}}):null}),QL=T.forwardRef((e,n)=>{const t=Po(),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?y.jsx(KL,{...e,ref:n}):null}),JL={scrollHideDelay:1e3,type:"hover"},aN=T.forwardRef((e,n)=>{const{type:t,scrollHideDelay:r,scrollbars:o,getStyles:a,...i}=Ce("ScrollAreaRoot",JL,e),[s,u]=T.useState(null),[c,f]=T.useState(null),[h,m]=T.useState(null),[v,b]=T.useState(null),[x,w]=T.useState(null),[S,E]=T.useState(0),[R,D]=T.useState(0),[A,N]=T.useState(!1),[k,M]=T.useState(!1),I=In(n,P=>u(P));return y.jsx(YL,{value:{type:t,scrollHideDelay:r,scrollArea:s,viewport:c,onViewportChange:f,content:h,onContentChange:m,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:A,onScrollbarXEnabledChange:N,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:k,onScrollbarYEnabledChange:M,onCornerWidthChange:E,onCornerHeightChange:D,getStyles:a},children:y.jsx(re,{...i,ref:I,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${S}px`,"--sa-corner-height":o!=="xy"?"0px":`${R}px`}})})});aN.displayName="@mantine/core/ScrollAreaRoot";function iN(e,n){const t=e/n;return Number.isNaN(t)?0:t}function Gm(e){const n=iN(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-t)*n;return Math.max(r,18)}function sN(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(e[1]-e[0]);return n[0]+r*(t-e[0])}}function ZL(e,[n,t]){return Math.min(t,Math.max(n,e))}function v_(e,n,t="ltr"){const r=Gm(n),o=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,a=n.scrollbar.size-o,i=n.content-n.viewport,s=a-r,u=t==="ltr"?[0,i]:[i*-1,0],c=ZL(e,u);return sN([0,i],[0,s])(c)}function e6(e,n,t,r="ltr"){const o=Gm(t),a=o/2,i=n||a,s=o-i,u=t.scrollbar.paddingStart+i,c=t.scrollbar.size-t.scrollbar.paddingEnd-s,f=t.content-t.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return sN([u,c],h)(e)}function lN(e,n){return e>0&&e<n}function ns(e){return e?parseInt(e,10):0}function tl(e,n,{checkForDefaultPrevented:t=!0}={}){return r=>{e?.(r),(t===!1||!r.defaultPrevented)&&n?.(r)}}const[t6,uN]=Io("ScrollAreaScrollbar was not found in tree"),cN=T.forwardRef((e,n)=>{const{sizes:t,hasThumb:r,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:i,onThumbPositionChange:s,onDragScroll:u,onWheelScroll:c,onResize:f,...h}=e,m=Po(),[v,b]=T.useState(null),x=In(n,M=>b(M)),w=T.useRef(null),S=T.useRef(""),{viewport:E}=m,R=t.content-t.viewport,D=qs(c),A=qs(s),N=Om(f,10),k=M=>{if(w.current){const I=M.clientX-w.current.left,P=M.clientY-w.current.top;u({x:I,y:P})}};return T.useEffect(()=>{const M=I=>{const P=I.target;v?.contains(P)&&D(I,R)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[E,v,R,D]),T.useEffect(A,[t,A]),Lu(v,N),Lu(m.content,N),y.jsx(t6,{value:{scrollbar:v,hasThumb:r,onThumbChange:qs(o),onThumbPointerUp:qs(a),onThumbPositionChange:A,onThumbPointerDown:qs(i)},children:y.jsx("div",{...h,ref:x,"data-mantine-scrollbar":!0,style:{position:"absolute",...h.style},onPointerDown:tl(e.onPointerDown,M=>{M.preventDefault(),M.button===0&&(M.target.setPointerCapture(M.pointerId),w.current=v.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k(M))}),onPointerMove:tl(e.onPointerMove,k),onPointerUp:tl(e.onPointerUp,M=>{const I=M.target;I.hasPointerCapture(M.pointerId)&&(M.preventDefault(),I.releasePointerCapture(M.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=S.current,w.current=null}})})}),dN=T.forwardRef((e,n)=>{const{sizes:t,onSizesChange:r,style:o,...a}=e,i=Po(),[s,u]=T.useState(),c=T.useRef(null),f=In(n,c,i.onScrollbarXChange);return T.useEffect(()=>{c.current&&u(getComputedStyle(c.current))},[c]),y.jsx(cN,{"data-orientation":"horizontal",...a,ref:f,sizes:t,style:{...o,"--sa-thumb-width":`${Gm(t)}px`},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const v=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(v),lN(v,m)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ns(s.paddingLeft),paddingEnd:ns(s.paddingRight)}})}})});dN.displayName="@mantine/core/ScrollAreaScrollbarX";const fN=T.forwardRef((e,n)=>{const{sizes:t,onSizesChange:r,style:o,...a}=e,i=Po(),[s,u]=T.useState(),c=T.useRef(null),f=In(n,c,i.onScrollbarYChange);return T.useEffect(()=>{c.current&&u(window.getComputedStyle(c.current))},[]),y.jsx(cN,{...a,"data-orientation":"vertical",ref:f,sizes:t,style:{"--sa-thumb-height":`${Gm(t)}px`,...o},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const v=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(v),lN(v,m)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ns(s.paddingTop),paddingEnd:ns(s.paddingBottom)}})}})});fN.displayName="@mantine/core/ScrollAreaScrollbarY";const qm=T.forwardRef((e,n)=>{const{orientation:t="vertical",...r}=e,{dir:o}=vf(),a=Po(),i=T.useRef(null),s=T.useRef(0),[u,c]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=iN(u.viewport,u.content),h={...r,sizes:u,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:v=>{i.current=v},onThumbPointerUp:()=>{s.current=0},onThumbPointerDown:v=>{s.current=v}},m=(v,b)=>e6(v,s.current,u,b);return t==="horizontal"?y.jsx(dN,{...h,ref:n,onThumbPositionChange:()=>{if(a.viewport&&i.current){const v=a.viewport.scrollLeft,b=v_(v,u,o);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=m(v,o))}}):t==="vertical"?y.jsx(fN,{...h,ref:n,onThumbPositionChange:()=>{if(a.viewport&&i.current){const v=a.viewport.scrollTop,b=v_(v,u);u.scrollbar.size===0?i.current.style.setProperty("--thumb-opacity","0"):i.current.style.setProperty("--thumb-opacity","1"),i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=m(v))}}):null});qm.displayName="@mantine/core/ScrollAreaScrollbarVisible";const i1=T.forwardRef((e,n)=>{const t=Po(),{forceMount:r,...o}=e,[a,i]=T.useState(!1),s=e.orientation==="horizontal",u=Om(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,f=t.viewport.offsetHeight<t.viewport.scrollHeight;i(s?c:f)}},10);return Lu(t.viewport,u),Lu(t.content,u),r||a?y.jsx(qm,{"data-state":a?"visible":"hidden",...o,ref:n}):null});i1.displayName="@mantine/core/ScrollAreaScrollbarAuto";const hN=T.forwardRef((e,n)=>{const{forceMount:t,...r}=e,o=Po(),[a,i]=T.useState(!1);return T.useEffect(()=>{const{scrollArea:s}=o;let u=0;if(s){const c=()=>{window.clearTimeout(u),i(!0)},f=()=>{u=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),t||a?y.jsx(i1,{"data-state":a?"visible":"hidden",...r,ref:n}):null});hN.displayName="@mantine/core/ScrollAreaScrollbarHover";const n6=T.forwardRef((e,n)=>{const{forceMount:t,...r}=e,o=Po(),a=e.orientation==="horizontal",[i,s]=T.useState("hidden"),u=Om(()=>s("idle"),100);return T.useEffect(()=>{if(i==="idle"){const c=window.setTimeout(()=>s("hidden"),o.scrollHideDelay);return()=>window.clearTimeout(c)}},[i,o.scrollHideDelay]),T.useEffect(()=>{const{viewport:c}=o,f=a?"scrollLeft":"scrollTop";if(c){let h=c[f];const m=()=>{const v=c[f];h!==v&&(s("scrolling"),u()),h=v};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[o.viewport,a,u]),t||i!=="hidden"?y.jsx(qm,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:n,onPointerEnter:tl(e.onPointerEnter,()=>s("interacting")),onPointerLeave:tl(e.onPointerLeave,()=>s("idle"))}):null}),Fb=T.forwardRef((e,n)=>{const{forceMount:t,...r}=e,o=Po(),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=o,s=e.orientation==="horizontal";return T.useEffect(()=>(s?a(!0):i(!0),()=>{s?a(!1):i(!1)}),[s,a,i]),o.type==="hover"?y.jsx(hN,{...r,ref:n,forceMount:t}):o.type==="scroll"?y.jsx(n6,{...r,ref:n,forceMount:t}):o.type==="auto"?y.jsx(i1,{...r,ref:n,forceMount:t}):o.type==="always"?y.jsx(qm,{...r,ref:n}):null});Fb.displayName="@mantine/core/ScrollAreaScrollbar";function r6(e,n=()=>{}){let t={left:e.scrollLeft,top:e.scrollTop},r=0;return(function o(){const a={left:e.scrollLeft,top:e.scrollTop},i=t.left!==a.left,s=t.top!==a.top;(i||s)&&n(),t=a,r=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(r)}const pN=T.forwardRef((e,n)=>{const{style:t,...r}=e,o=Po(),a=uN(),{onThumbPositionChange:i}=a,s=In(n,f=>a.onThumbChange(f)),u=T.useRef(void 0),c=Om(()=>{u.current&&(u.current(),u.current=void 0)},100);return T.useEffect(()=>{const{viewport:f}=o;if(f){const h=()=>{if(c(),!u.current){const m=r6(f,i);u.current=m,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,c,i]),y.jsx("div",{"data-state":a.hasThumb?"visible":"hidden",...r,ref:s,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...t},onPointerDownCapture:tl(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,b=f.clientY-m.top;a.onThumbPointerDown({x:v,y:b})}),onPointerUp:tl(e.onPointerUp,a.onThumbPointerUp)})});pN.displayName="@mantine/core/ScrollAreaThumb";const Lb=T.forwardRef((e,n)=>{const{forceMount:t,...r}=e,o=uN();return t||o.hasThumb?y.jsx(pN,{ref:n,...r}):null});Lb.displayName="@mantine/core/ScrollAreaThumb";const mN=T.forwardRef(({children:e,style:n,...t},r)=>{const o=Po(),a=In(r,o.onViewportChange);return y.jsx(re,{...t,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n},children:y.jsx("div",{...o.getStyles("content"),ref:o.onContentChange,children:e})})});mN.displayName="@mantine/core/ScrollAreaViewport";var s1={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const vN={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},o6=(e,{scrollbarSize:n,overscrollBehavior:t})=>({root:{"--scrollarea-scrollbar-size":xe(n),"--scrollarea-over-scroll-behavior":t}}),jo=Me((e,n)=>{const t=Ce("ScrollArea",vN,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,scrollbarSize:u,vars:c,type:f,scrollHideDelay:h,viewportProps:m,viewportRef:v,onScrollPositionChange:b,children:x,offsetScrollbars:w,scrollbars:S,onBottomReached:E,onTopReached:R,overscrollBehavior:D,attributes:A,...N}=t,[k,M]=T.useState(!1),[I,P]=T.useState(!1),[L,F]=T.useState(!1),Y=rt({name:"ScrollArea",props:t,classes:s1,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:A,vars:c,varsResolver:o6}),W=T.useRef(null),X=YA([v,W]);return T.useEffect(()=>{if(!W.current||w!=="present")return;const j=W.current,U=new ResizeObserver(()=>{const{scrollHeight:V,clientHeight:q,scrollWidth:B,clientWidth:G}=j;P(V>q),F(B>G)});return U.observe(j),()=>U.disconnect()},[W,w]),y.jsxs(aN,{getStyles:Y,type:f==="never"?"always":f,scrollHideDelay:h,ref:n,scrollbars:S,...Y("root"),...N,children:[y.jsx(mN,{...m,...Y("viewport",{style:m?.style}),ref:X,"data-offset-scrollbars":w===!0?"xy":w||void 0,"data-scrollbars":S||void 0,"data-horizontal-hidden":w==="present"&&!L?"true":void 0,"data-vertical-hidden":w==="present"&&!I?"true":void 0,onScroll:j=>{m?.onScroll?.(j),b?.({x:j.currentTarget.scrollLeft,y:j.currentTarget.scrollTop});const{scrollTop:U,scrollHeight:V,clientHeight:q}=j.currentTarget;U-(V-q)>=-.6&&E?.(),U===0&&R?.()},children:x}),(S==="xy"||S==="x")&&y.jsx(Fb,{...Y("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||w==="present"&&!L?!0:void 0,forceMount:!0,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:y.jsx(Lb,{...Y("thumb")})}),(S==="xy"||S==="y")&&y.jsx(Fb,{...Y("scrollbar"),orientation:"vertical","data-hidden":f==="never"||w==="present"&&!I?!0:void 0,forceMount:!0,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:y.jsx(Lb,{...Y("thumb")})}),y.jsx(QL,{...Y("corner"),"data-hovered":k||void 0,"data-hidden":f==="never"||void 0})]})});jo.displayName="@mantine/core/ScrollArea";const l1=Me((e,n)=>{const{children:t,classNames:r,styles:o,scrollbarSize:a,scrollHideDelay:i,type:s,dir:u,offsetScrollbars:c,viewportRef:f,onScrollPositionChange:h,unstyled:m,variant:v,viewportProps:b,scrollbars:x,style:w,vars:S,onBottomReached:E,onTopReached:R,onOverflowChange:D,...A}=Ce("ScrollAreaAutosize",vN,e),N=T.useRef(null),k=YA([f,N]),[M,I]=T.useState(!1),P=T.useRef(!1);return T.useEffect(()=>{if(!D)return;const L=N.current;if(!L)return;const F=()=>{const W=L.scrollHeight>L.clientHeight;W!==M&&(P.current?D?.(W):(P.current=!0,W&&D?.(!0)),I(W))};F();const Y=new ResizeObserver(F);return Y.observe(L),()=>Y.disconnect()},[D,M]),y.jsx(re,{...A,ref:n,style:[{display:"flex",overflow:"hidden"},w],children:y.jsx(re,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...x==="y"&&{minWidth:0},...x==="x"&&{minHeight:0},...x==="xy"&&{minWidth:0,minHeight:0},...x===!1&&{minWidth:0,minHeight:0}},children:y.jsx(jo,{classNames:r,styles:o,scrollHideDelay:i,scrollbarSize:a,type:s,dir:u,offsetScrollbars:c,viewportRef:k,onScrollPositionChange:h,unstyled:m,variant:v,viewportProps:b,vars:S,scrollbars:x,onBottomReached:E,onTopReached:R,"data-autosize":"true",children:t})})})});jo.classes=s1;l1.displayName="@mantine/core/ScrollAreaAutosize";l1.classes=s1;jo.Autosize=l1;var gN={root:"m_87cf2631"};const a6={__staticSelector:"UnstyledButton"},Zo=_r((e,n)=>{const t=Ce("UnstyledButton",a6,e),{className:r,component:o="button",__staticSelector:a,unstyled:i,classNames:s,styles:u,style:c,attributes:f,...h}=t,m=rt({name:a,props:t,classes:gN,className:r,style:c,classNames:s,styles:u,unstyled:i,attributes:f});return y.jsx(re,{...m("root",{focusable:!0}),component:o,ref:n,type:o==="button"?"button":void 0,...h})});Zo.classes=gN;Zo.displayName="@mantine/core/UnstyledButton";var yN={root:"m_515a97f8"};const u1=Me((e,n)=>{const t=Ce("VisuallyHidden",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,attributes:c,...f}=t,h=rt({name:"VisuallyHidden",classes:yN,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:c});return y.jsx(re,{component:"span",ref:n,...h("root"),...f})});u1.classes=yN;u1.displayName="@mantine/core/VisuallyHidden";var bN={root:"m_1b7284a3"};const i6=(e,{radius:n,shadow:t})=>({root:{"--paper-radius":n===void 0?void 0:pn(n),"--paper-shadow":Ux(t)}}),fi=_r((e,n)=>{const t=Ce("Paper",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,withBorder:u,vars:c,radius:f,shadow:h,variant:m,mod:v,attributes:b,...x}=t,w=rt({name:"Paper",props:t,classes:bN,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:b,vars:c,varsResolver:i6});return y.jsx(re,{ref:n,mod:[{"data-with-border":u},v],...w("root"),variant:m,...x})});fi.classes=bN;fi.displayName="@mantine/core/Paper";function g_(e,n,t,r){return e==="center"||r==="center"?{top:n}:e==="end"?{bottom:t}:e==="start"?{top:t}:{}}function y_(e,n,t,r,o){return e==="center"||r==="center"?{left:n}:e==="end"?{[o==="ltr"?"right":"left"]:t}:e==="start"?{[o==="ltr"?"left":"right"]:t}:{}}const s6={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function l6({position:e,arrowSize:n,arrowOffset:t,arrowRadius:r,arrowPosition:o,arrowX:a,arrowY:i,dir:s}){const[u,c="center"]=e.split("-"),f={width:n,height:n,transform:"rotate(45deg)",position:"absolute",[s6[u]]:r},h=-n/2;return u==="left"?{...f,...g_(c,i,t,o),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:u==="right"?{...f,...g_(c,i,t,o),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:u==="top"?{...f,...y_(c,a,t,o,s),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:u==="bottom"?{...f,...y_(c,a,t,o,s),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Yp=T.forwardRef(({position:e,arrowSize:n,arrowOffset:t,arrowRadius:r,arrowPosition:o,visible:a,arrowX:i,arrowY:s,style:u,...c},f)=>{const{dir:h}=vf();return a?y.jsx("div",{...c,ref:f,style:{...u,...l6({position:e,arrowSize:n,arrowOffset:t,arrowRadius:r,arrowPosition:o,dir:h,arrowX:i,arrowY:s})}}):null});Yp.displayName="@mantine/core/FloatingArrow";function xN(e,n){if(e==="rtl"&&(n.includes("right")||n.includes("left"))){const[t,r]=n.split("-"),o=t==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return n}var wN={root:"m_9814e45f"};const u6={zIndex:Rr("modal")},c6=(e,{gradient:n,color:t,backgroundOpacity:r,blur:o,radius:a,zIndex:i})=>({root:{"--overlay-bg":n||(t!==void 0||r!==void 0)&&pa(t||"#000",r??.6)||void 0,"--overlay-filter":o?`blur(${xe(o)})`:void 0,"--overlay-radius":a===void 0?void 0:pn(a),"--overlay-z-index":i?.toString()}}),Xm=_r((e,n)=>{const t=Ce("Overlay",u6,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,fixed:c,center:f,children:h,radius:m,zIndex:v,gradient:b,blur:x,color:w,backgroundOpacity:S,mod:E,attributes:R,...D}=t,A=rt({name:"Overlay",props:t,classes:wN,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:R,vars:u,varsResolver:c6});return y.jsx(re,{ref:n,...A("root"),mod:[{center:f,fixed:c},E],...D,children:h})});Xm.classes=wN;Xm.displayName="@mantine/core/Overlay";function k0(e){const n=document.createElement("div");return n.setAttribute("data-portal","true"),typeof e.className=="string"&&n.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(n.style,e.style),typeof e.id=="string"&&n.setAttribute("id",e.id),n}function d6({target:e,reuseTargetNode:n,...t}){if(e)return typeof e=="string"?document.querySelector(e)||k0(t):e;if(n){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const o=k0(t);return o.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(o),o}return k0(t)}const f6={reuseTargetNode:!0},SN=Me((e,n)=>{const{children:t,target:r,reuseTargetNode:o,...a}=Ce("Portal",f6,e),[i,s]=T.useState(!1),u=T.useRef(null);return Yu(()=>(s(!0),u.current=d6({target:r,reuseTargetNode:o,...a}),jd(n,u.current),!r&&!o&&u.current&&document.body.appendChild(u.current),()=>{!r&&!o&&u.current&&document.body.removeChild(u.current)}),[r]),!i||!u.current?null:Ku.createPortal(y.jsx(y.Fragment,{children:t}),u.current)});SN.displayName="@mantine/core/Portal";const ps=Me(({withinPortal:e=!0,children:n,...t},r)=>Lm()==="test"||!e?y.jsx(y.Fragment,{children:n}):y.jsx(SN,{ref:r,...t,children:n}));ps.displayName="@mantine/core/OptionalPortal";const gd=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),np={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...gd("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...gd("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...gd("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...gd("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...gd("top"),common:{transformOrigin:"top right"}}},b_={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function h6({transition:e,state:n,duration:t,timingFunction:r}){const o={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${t}ms`,transitionTimingFunction:r};return typeof e=="string"?e in np?{transitionProperty:np[e].transitionProperty,...o,...np[e].common,...np[e][b_[n]]}:{}:{transitionProperty:e.transitionProperty,...o,...e.common,...e[b_[n]]}}function p6({duration:e,exitDuration:n,timingFunction:t,mounted:r,onEnter:o,onExit:a,onEntered:i,onExited:s,enterDelay:u,exitDelay:c}){const f=mr(),h=Pm(),m=f.respectReducedMotion?h:!1,[v,b]=T.useState(m?0:e),[x,w]=T.useState(r?"entered":"exited"),S=T.useRef(-1),E=T.useRef(-1),R=T.useRef(-1);function D(){window.clearTimeout(S.current),window.clearTimeout(E.current),cancelAnimationFrame(R.current)}const A=k=>{D();const M=k?o:a,I=k?i:s,P=m?0:k?e:n;b(P),P===0?(typeof M=="function"&&M(),typeof I=="function"&&I(),w(k?"entered":"exited")):R.current=requestAnimationFrame(()=>{Cu.flushSync(()=>{w(k?"pre-entering":"pre-exiting")}),R.current=requestAnimationFrame(()=>{typeof M=="function"&&M(),w(k?"entering":"exiting"),S.current=window.setTimeout(()=>{typeof I=="function"&&I(),w(k?"entered":"exited")},P)})})},N=k=>{if(D(),typeof(k?u:c)!="number"){A(k);return}E.current=window.setTimeout(()=>{A(k)},k?u:c)};return is(()=>{N(r)},[r]),T.useEffect(()=>()=>{D()},[]),{transitionDuration:v,transitionStatus:x,transitionTimingFunction:t||"ease"}}function li({keepMounted:e,transition:n="fade",duration:t=250,exitDuration:r=t,mounted:o,children:a,timingFunction:i="ease",onExit:s,onEntered:u,onEnter:c,onExited:f,enterDelay:h,exitDelay:m}){const v=Lm(),{transitionDuration:b,transitionStatus:x,transitionTimingFunction:w}=p6({mounted:o,exitDuration:r,duration:t,timingFunction:i,onExit:s,onEntered:u,onEnter:c,onExited:f,enterDelay:h,exitDelay:m});return b===0||v==="test"?o?y.jsx(y.Fragment,{children:a({})}):e?a({display:"none"}):null:x==="exited"?e?a({display:"none"}):null:y.jsx(y.Fragment,{children:a(h6({transition:n,duration:b,state:x,timingFunction:w}))})}li.displayName="@mantine/core/Transition";const[m6,CN]=Io("Popover component was not found in the tree");function Ym({children:e,active:n=!0,refProp:t="ref",innerRef:r}){const o=VB(n),a=In(o,r);return gs(e)?T.cloneElement(e,{[t]:a}):e}function EN(e){return y.jsx(u1,{tabIndex:-1,"data-autofocus":!0,...e})}Ym.displayName="@mantine/core/FocusTrap";EN.displayName="@mantine/core/FocusTrapInitialFocus";Ym.InitialFocus=EN;var RN={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const c1=Me((e,n)=>{const t=Ce("PopoverDropdown",null,e),{className:r,style:o,vars:a,children:i,onKeyDownCapture:s,variant:u,classNames:c,styles:f,...h}=t,m=CN(),v=mA({opened:m.opened,shouldReturnFocus:m.returnFocus}),b=m.withRoles?{"aria-labelledby":m.getTargetId(),id:m.getDropdownId(),role:"dialog",tabIndex:-1}:{},x=In(n,m.floating);return m.disabled?null:y.jsx(ps,{...m.portalProps,withinPortal:m.withinPortal,children:y.jsx(li,{mounted:m.opened,...m.transitionProps,transition:m.transitionProps?.transition||"fade",duration:m.transitionProps?.duration??150,keepMounted:m.keepMounted,exitDuration:typeof m.transitionProps?.exitDuration=="number"?m.transitionProps.exitDuration:m.transitionProps?.duration,children:w=>y.jsx(Ym,{active:m.trapFocus&&m.opened,innerRef:x,children:y.jsxs(re,{...b,...h,variant:u,onKeyDownCapture:TB(()=>{m.onClose?.(),m.onDismiss?.()},{active:m.closeOnEscape,onTrigger:v,onKeyDown:s}),"data-position":m.placement,"data-fixed":m.floatingStrategy==="fixed"||void 0,...m.getStyles("dropdown",{className:r,props:t,classNames:c,styles:f,style:[{...w,zIndex:m.zIndex,top:m.y??0,left:m.x??0,width:m.width==="target"?void 0:xe(m.width),...m.referenceHidden?{display:"none"}:null},m.resolvedStyles.dropdown,f?.dropdown,o]}),children:[i,y.jsx(Yp,{ref:m.arrowRef,arrowX:m.arrowX,arrowY:m.arrowY,visible:m.withArrow,position:m.placement,arrowSize:m.arrowSize,arrowRadius:m.arrowRadius,arrowOffset:m.arrowOffset,arrowPosition:m.arrowPosition,...m.getStyles("arrow",{props:t,classNames:c,styles:f})})]})})})})});c1.classes=RN;c1.displayName="@mantine/core/PopoverDropdown";const v6={refProp:"ref",popupType:"dialog"},_N=Me((e,n)=>{const{children:t,refProp:r,popupType:o,...a}=Ce("PopoverTarget",v6,e);if(!gs(t))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=a,s=CN(),u=In(s.reference,jm(t),n),c=s.withRoles?{"aria-haspopup":o,"aria-expanded":s.opened,"aria-controls":s.getDropdownId(),id:s.getTargetId()}:{};return T.cloneElement(t,{...i,...c,...s.targetProps,className:Nn(s.targetProps.className,i.className,t.props.className),[r]:u,...s.controlled?null:{onClick:()=>{s.onToggle(),t.props.onClick?.()}}})});_N.displayName="@mantine/core/PopoverTarget";function g6(e){if(e===void 0)return{shift:!0,flip:!0};const n={...e};return e.shift===void 0&&(n.shift=!0),e.flip===void 0&&(n.flip=!0),n}function y6(e,n,t){const r=g6(e.middlewares),o=[qA(e.offset),IL()];return e.dropdownVisible&&t!=="test"&&e.preventPositionChangeWhenVisible&&(r.flip=!1,r.shift=!1),r.shift&&o.push(n1(typeof r.shift=="boolean"?{limiter:u_(),padding:5}:{limiter:u_(),padding:5,...r.shift})),r.flip&&o.push(typeof r.flip=="boolean"?Xp():Xp(r.flip)),r.inline&&o.push(typeof r.inline=="boolean"?Ad():Ad(r.inline)),o.push(XA({element:e.arrowRef,padding:e.arrowOffset})),(r.size||e.width==="target")&&o.push(ML({...typeof r.size=="boolean"?{}:r.size,apply({rects:a,availableWidth:i,availableHeight:s,...u}){const f=n().refs.floating.current?.style??{};r.size&&(typeof r.size=="object"&&r.size.apply?r.size.apply({rects:a,availableWidth:i,availableHeight:s,...u}):Object.assign(f,{maxWidth:`${i}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(f,{width:`${a.reference.width}px`})}})),o}function b6(e){const n=Lm(),[t,r]=Ta({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),o=T.useRef(t),a=()=>{t&&!e.disabled&&r(!1)},i=()=>{e.disabled||r(!t)},s=$m({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:y6(e,()=>s,n)});return T.useEffect(()=>{if(!(!s.refs.reference.current||!s.refs.floating.current)&&t)return $A(s.refs.reference.current,s.refs.floating.current,s.update)},[t,s.update]),is(()=>{e.onPositionChange?.(s.placement),e.positionRef.current=s.placement},[s.placement,e.preventPositionChangeWhenVisible]),is(()=>{t!==o.current&&(t?e.onOpen?.():e.onClose?.()),o.current=t},[t,e.onClose,e.onOpen]),is(()=>{let u=-1;return t&&(u=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(u)}},[t,e.position]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:a,onToggle:i}}const x6={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Rr("popover"),__staticSelector:"Popover",width:"max-content"},w6=(e,{radius:n,shadow:t})=>({dropdown:{"--popover-radius":n===void 0?void 0:pn(n),"--popover-shadow":Ux(t)}});function co(e){const n=Ce("Popover",x6,e),{children:t,position:r,offset:o,onPositionChange:a,positionDependencies:i,opened:s,transitionProps:u,onExitTransitionEnd:c,onEnterTransitionEnd:f,width:h,middlewares:m,withArrow:v,arrowSize:b,arrowOffset:x,arrowRadius:w,arrowPosition:S,unstyled:E,classNames:R,styles:D,closeOnClickOutside:A,withinPortal:N,portalProps:k,closeOnEscape:M,clickOutsideEvents:I,trapFocus:P,onClose:L,onDismiss:F,onOpen:Y,onChange:W,zIndex:X,radius:j,shadow:U,id:V,defaultOpened:q,__staticSelector:B,withRoles:G,disabled:J,returnFocus:ne,variant:he,keepMounted:Se,vars:ae,floatingStrategy:le,withOverlay:ge,overlayProps:me,hideDetached:Pe,attributes:je,preventPositionChangeWhenVisible:Be,...Te}=n,We=rt({name:B,props:n,classes:RN,classNames:R,styles:D,unstyled:E,attributes:je,rootSelector:"dropdown",vars:ae,varsResolver:w6}),{resolvedStyles:ct}=cl({classNames:R,styles:D,props:n}),[at,_e]=T.useState(s??q??!1),De=T.useRef(r),ke=T.useRef(null),[tt,lt]=T.useState(null),[nt,$e]=T.useState(null),{dir:qt}=vf(),Ae=Lm(),Fe=Oo(V),it=b6({middlewares:m,width:h,position:xN(qt,r),offset:typeof o=="number"?o+(v?b/2:0):o,arrowRef:ke,arrowOffset:x,onPositionChange:a,positionDependencies:i,opened:s,defaultOpened:q,onChange:W,onOpen:Y,onClose:L,onDismiss:F,strategy:le,dropdownVisible:at,setDropdownVisible:_e,positionRef:De,disabled:J,preventPositionChangeWhenVisible:Be,keepMounted:Se});IB(()=>{A&&(it.onClose(),F?.())},I,[tt,nt]);const Mt=T.useCallback(Qt=>{lt(Qt),it.floating.refs.setReference(Qt)},[it.floating.refs.setReference]),Dt=T.useCallback(Qt=>{$e(Qt),it.floating.refs.setFloating(Qt)},[it.floating.refs.setFloating]),Pn=T.useCallback(()=>{u?.onExited?.(),c?.(),_e(!1),De.current=r},[u?.onExited,c]),Ft=T.useCallback(()=>{u?.onEntered?.(),f?.()},[u?.onEntered,f]);return y.jsxs(m6,{value:{returnFocus:ne,disabled:J,controlled:it.controlled,reference:Mt,floating:Dt,x:it.floating.x,y:it.floating.y,arrowX:it.floating?.middlewareData?.arrow?.x,arrowY:it.floating?.middlewareData?.arrow?.y,opened:it.opened,arrowRef:ke,transitionProps:{...u,onExited:Pn,onEntered:Ft},width:h,withArrow:v,arrowSize:b,arrowOffset:x,arrowRadius:w,arrowPosition:S,placement:it.floating.placement,trapFocus:P,withinPortal:N,portalProps:k,zIndex:X,radius:j,shadow:U,closeOnEscape:M,onDismiss:F,onClose:it.onClose,onToggle:it.onToggle,getTargetId:()=>`${Fe}-target`,getDropdownId:()=>`${Fe}-dropdown`,withRoles:G,targetProps:Te,__staticSelector:B,classNames:R,styles:D,unstyled:E,variant:he,keepMounted:Se,getStyles:We,resolvedStyles:ct,floatingStrategy:le,referenceHidden:Pe&&Ae!=="test"?it.floating.middlewareData.hide?.referenceHidden:!1},children:[t,ge&&y.jsx(li,{transition:"fade",mounted:it.opened,duration:u?.duration||250,exitDuration:u?.exitDuration||250,children:Qt=>y.jsx(ps,{withinPortal:N,children:y.jsx(Xm,{...me,...We("overlay",{className:me?.className,style:[Qt,me?.style]})})})})]})}co.Target=_N;co.Dropdown=c1;co.displayName="@mantine/core/Popover";co.extend=e=>e;var qo={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const TN=T.forwardRef(({className:e,...n},t)=>y.jsxs(re,{component:"span",className:Nn(qo.barsLoader,e),...n,ref:t,children:[y.jsx("span",{className:qo.bar}),y.jsx("span",{className:qo.bar}),y.jsx("span",{className:qo.bar})]}));TN.displayName="@mantine/core/Bars";const DN=T.forwardRef(({className:e,...n},t)=>y.jsxs(re,{component:"span",className:Nn(qo.dotsLoader,e),...n,ref:t,children:[y.jsx("span",{className:qo.dot}),y.jsx("span",{className:qo.dot}),y.jsx("span",{className:qo.dot})]}));DN.displayName="@mantine/core/Dots";const AN=T.forwardRef(({className:e,...n},t)=>y.jsx(re,{component:"span",className:Nn(qo.ovalLoader,e),...n,ref:t}));AN.displayName="@mantine/core/Oval";const NN={bars:TN,oval:AN,dots:DN},S6={loaders:NN,type:"oval"},C6=(e,{size:n,color:t})=>({root:{"--loader-size":Tt(n,"loader-size"),"--loader-color":t?Tn(t,e):void 0}}),Ma=Me((e,n)=>{const t=Ce("Loader",S6,e),{size:r,color:o,type:a,vars:i,className:s,style:u,classNames:c,styles:f,unstyled:h,loaders:m,variant:v,children:b,attributes:x,...w}=t,S=rt({name:"Loader",props:t,classes:qo,className:s,style:u,classNames:c,styles:f,unstyled:h,attributes:x,vars:i,varsResolver:C6});return b?y.jsx(re,{...S("root"),ref:n,...w,children:b}):y.jsx(re,{...S("root"),ref:n,component:m[a],variant:v,size:r,...w})});Ma.defaultLoaders=NN;Ma.classes=qo;Ma.displayName="@mantine/core/Loader";var Zu={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const x_={orientation:"horizontal"},E6=(e,{borderWidth:n})=>({group:{"--ai-border-width":xe(n)}}),d1=Me((e,n)=>{const t=Ce("ActionIconGroup",x_,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,orientation:u,vars:c,borderWidth:f,variant:h,mod:m,attributes:v,...b}=Ce("ActionIconGroup",x_,e),x=rt({name:"ActionIconGroup",props:t,classes:Zu,className:r,style:o,classNames:a,styles:i,unstyled:s,attributes:v,vars:c,varsResolver:E6,rootSelector:"group"});return y.jsx(re,{...x("group"),ref:n,variant:h,mod:[{"data-orientation":u},m],role:"group",...b})});d1.classes=Zu;d1.displayName="@mantine/core/ActionIconGroup";const R6=(e,{radius:n,color:t,gradient:r,variant:o,autoContrast:a,size:i})=>{const s=e.variantColorResolver({color:t||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{groupSection:{"--section-height":Tt(i,"section-height"),"--section-padding-x":Tt(i,"section-padding-x"),"--section-fz":Hn(i),"--section-radius":n===void 0?void 0:pn(n),"--section-bg":t||o?s.background:void 0,"--section-color":s.color,"--section-bd":t||o?s.border:void 0}}},f1=Me((e,n)=>{const t=Ce("ActionIconGroupSection",null,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,vars:u,variant:c,gradient:f,radius:h,autoContrast:m,attributes:v,...b}=t,x=rt({name:"ActionIconGroupSection",props:t,classes:Zu,className:r,style:o,classNames:a,styles:i,unstyled:s,attributes:v,vars:u,varsResolver:R6,rootSelector:"groupSection"});return y.jsx(re,{...x("groupSection"),ref:n,variant:c,...b})});f1.classes=Zu;f1.displayName="@mantine/core/ActionIconGroupSection";const _6=(e,{size:n,radius:t,variant:r,gradient:o,color:a,autoContrast:i})=>{const s=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:i});return{root:{"--ai-size":Tt(n,"ai-size"),"--ai-radius":t===void 0?void 0:pn(t),"--ai-bg":a||r?s.background:void 0,"--ai-hover":a||r?s.hover:void 0,"--ai-hover-color":a||r?s.hoverColor:void 0,"--ai-color":s.color,"--ai-bd":a||r?s.border:void 0}}},Wn=_r((e,n)=>{const t=Ce("ActionIcon",null,e),{className:r,unstyled:o,variant:a,classNames:i,styles:s,style:u,loading:c,loaderProps:f,size:h,color:m,radius:v,__staticSelector:b,gradient:x,vars:w,children:S,disabled:E,"data-disabled":R,autoContrast:D,mod:A,attributes:N,...k}=t,M=rt({name:["ActionIcon",b],props:t,className:r,style:u,classes:Zu,classNames:i,styles:s,unstyled:o,attributes:N,vars:w,varsResolver:_6});return y.jsxs(Zo,{...M("root",{active:!E&&!c&&!R}),...k,unstyled:o,variant:a,size:h,disabled:E||c,ref:n,mod:[{loading:c,disabled:E||R},A],children:[typeof c=="boolean"&&y.jsx(li,{mounted:c,transition:"slide-down",duration:150,children:I=>y.jsx(re,{component:"span",...M("loader",{style:I}),"aria-hidden":!0,children:y.jsx(Ma,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...f})})}),y.jsx(re,{component:"span",mod:{loading:c},...M("icon"),children:S})]})});Wn.classes=Zu;Wn.displayName="@mantine/core/ActionIcon";Wn.Group=d1;Wn.GroupSection=f1;const kN=T.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:n,...t},r)=>y.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...n,width:e,height:e},ref:r,...t,children:y.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));kN.displayName="@mantine/core/CloseIcon";var MN={root:"m_86a44da5","root--subtle":"m_220c80f2"};const T6={variant:"subtle"},D6=(e,{size:n,radius:t,iconSize:r})=>({root:{"--cb-size":Tt(n,"cb-size"),"--cb-radius":t===void 0?void 0:pn(t),"--cb-icon-size":xe(r)}}),dl=_r((e,n)=>{const t=Ce("CloseButton",T6,e),{iconSize:r,children:o,vars:a,radius:i,className:s,classNames:u,style:c,styles:f,unstyled:h,"data-disabled":m,disabled:v,variant:b,icon:x,mod:w,attributes:S,__staticSelector:E,...R}=t,D=rt({name:E||"CloseButton",props:t,className:s,style:c,classes:MN,classNames:u,styles:f,unstyled:h,attributes:S,vars:a,varsResolver:D6});return y.jsxs(Zo,{ref:n,...R,unstyled:h,variant:b,disabled:v,mod:[{disabled:v||m},w],...D("root",{variant:b,active:!v&&!m}),children:[x||y.jsx(kN,{}),o]})});dl.classes=MN;dl.displayName="@mantine/core/CloseButton";function A6(e){return T.Children.toArray(e).filter(Boolean)}var IN={root:"m_4081bf90"};const N6={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},k6=(e,{grow:n,preventGrowOverflow:t,gap:r,align:o,justify:a,wrap:i},{childWidth:s})=>({root:{"--group-child-width":n&&t?s:void 0,"--group-gap":fr(r),"--group-align":o,"--group-justify":a,"--group-wrap":i}}),ze=Me((e,n)=>{const t=Ce("Group",N6,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,children:u,gap:c,align:f,justify:h,wrap:m,grow:v,preventGrowOverflow:b,vars:x,variant:w,__size:S,mod:E,attributes:R,...D}=t,A=A6(u),N=A.length,k=fr(c??"md"),I={childWidth:`calc(${100/N}% - (${k} - ${k} / ${N}))`},P=rt({name:"Group",props:t,stylesCtx:I,className:o,style:a,classes:IN,classNames:r,styles:i,unstyled:s,attributes:R,vars:x,varsResolver:k6});return y.jsx(re,{...P("root"),ref:n,variant:w,mod:[{grow:v},E],size:S,...D,children:A})});ze.classes=IN;ze.displayName="@mantine/core/Group";const[M6,hi]=Io("ModalBase component was not found in tree");function I6({opened:e,transitionDuration:n}){const[t,r]=T.useState(e),o=T.useRef(-1),i=Pm()?0:n;return T.useEffect(()=>(e?(r(!0),window.clearTimeout(o.current)):i===0?r(!1):o.current=window.setTimeout(()=>r(!1),i),()=>window.clearTimeout(o.current)),[e,i]),t}function O6({id:e,transitionProps:n,opened:t,trapFocus:r,closeOnEscape:o,onClose:a,returnFocus:i}){const s=Oo(e),[u,c]=T.useState(!1),[f,h]=T.useState(!1),m=typeof n?.duration=="number"?n?.duration:200,v=I6({opened:t,transitionDuration:m});return qB("keydown",b=>{b.key==="Escape"&&o&&!b.isComposing&&t&&b.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&a()},{capture:!0}),mA({opened:t,shouldReturnFocus:r&&i}),{_id:s,titleMounted:u,bodyMounted:f,shouldLockScroll:v,setTitleMounted:c,setBodyMounted:h}}const h1=T.forwardRef(({keepMounted:e,opened:n,onClose:t,id:r,transitionProps:o,onExitTransitionEnd:a,onEnterTransitionEnd:i,trapFocus:s,closeOnEscape:u,returnFocus:c,closeOnClickOutside:f,withinPortal:h,portalProps:m,lockScroll:v,children:b,zIndex:x,shadow:w,padding:S,__vars:E,unstyled:R,removeScrollProps:D,...A},N)=>{const{_id:k,titleMounted:M,bodyMounted:I,shouldLockScroll:P,setTitleMounted:L,setBodyMounted:F}=O6({id:r,transitionProps:o,opened:n,trapFocus:s,closeOnEscape:u,onClose:t,returnFocus:c}),{key:Y,...W}=D||{};return y.jsx(ps,{...m,withinPortal:h,children:y.jsx(M6,{value:{opened:n,onClose:t,closeOnClickOutside:f,onExitTransitionEnd:a,onEnterTransitionEnd:i,transitionProps:{...o,keepMounted:e},getTitleId:()=>`${k}-title`,getBodyId:()=>`${k}-body`,titleMounted:M,bodyMounted:I,setTitleMounted:L,setBodyMounted:F,trapFocus:s,closeOnEscape:u,zIndex:x,unstyled:R},children:y.jsx(Vp,{enabled:P&&v,...W,children:y.jsx(re,{ref:N,...A,__vars:{...E,"--mb-z-index":(x||Rr("modal")).toString(),"--mb-shadow":Ux(w),"--mb-padding":fr(S)},children:b})},Y)})})});h1.displayName="@mantine/core/ModalBase";function P6(){const e=hi();return T.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var zu={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const p1=T.forwardRef(({className:e,...n},t)=>{const r=P6(),o=hi();return y.jsx(re,{ref:t,...n,id:r,className:Nn({[zu.body]:!o.unstyled},e)})});p1.displayName="@mantine/core/ModalBaseBody";const m1=T.forwardRef(({className:e,onClick:n,...t},r)=>{const o=hi();return y.jsx(dl,{ref:r,...t,onClick:a=>{o.onClose(),n?.(a)},className:Nn({[zu.close]:!o.unstyled},e),unstyled:o.unstyled})});m1.displayName="@mantine/core/ModalBaseCloseButton";const v1=T.forwardRef(({transitionProps:e,className:n,innerProps:t,onKeyDown:r,style:o,...a},i)=>{const s=hi();return y.jsx(li,{mounted:s.opened,transition:"pop",...s.transitionProps,onExited:()=>{s.onExitTransitionEnd?.(),s.transitionProps?.onExited?.()},onEntered:()=>{s.onEnterTransitionEnd?.(),s.transitionProps?.onEntered?.()},...e,children:u=>y.jsx("div",{...t,className:Nn({[zu.inner]:!s.unstyled},t.className),children:y.jsx(Ym,{active:s.opened&&s.trapFocus,innerRef:i,children:y.jsx(fi,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":s.bodyMounted?s.getBodyId():void 0,"aria-labelledby":s.titleMounted?s.getTitleId():void 0,style:[o,u],className:Nn({[zu.content]:!s.unstyled},n),unstyled:s.unstyled,children:a.children})})})})});v1.displayName="@mantine/core/ModalBaseContent";const g1=T.forwardRef(({className:e,...n},t)=>{const r=hi();return y.jsx(re,{component:"header",ref:t,className:Nn({[zu.header]:!r.unstyled},e),...n})});g1.displayName="@mantine/core/ModalBaseHeader";const j6={duration:200,timingFunction:"ease",transition:"fade"};function B6(e){const n=hi();return{...j6,...n.transitionProps,...e}}const y1=T.forwardRef(({onClick:e,transitionProps:n,style:t,visible:r,...o},a)=>{const i=hi(),s=B6(n);return y.jsx(li,{mounted:r!==void 0?r:i.opened,...s,transition:"fade",children:u=>y.jsx(Xm,{ref:a,fixed:!0,style:[t,u],zIndex:i.zIndex,unstyled:i.unstyled,onClick:c=>{e?.(c),i.closeOnClickOutside&&i.onClose()},...o})})});y1.displayName="@mantine/core/ModalBaseOverlay";function F6(){const e=hi();return T.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const b1=T.forwardRef(({className:e,...n},t)=>{const r=F6(),o=hi();return y.jsx(re,{component:"h2",ref:t,className:Nn({[zu.title]:!o.unstyled},e),...n,id:r})});b1.displayName="@mantine/core/ModalBaseTitle";function ON({children:e}){return y.jsx(y.Fragment,{children:e})}const[L6,z6]=hf({size:"sm"}),PN=Me((e,n)=>{const t=Ce("InputClearButton",null,e),{size:r,variant:o,vars:a,classNames:i,styles:s,...u}=t,c=z6(),{resolvedClassNames:f,resolvedStyles:h}=cl({classNames:i,styles:s,props:t});return y.jsx(dl,{variant:o||"transparent",ref:n,size:r||c?.size||"sm",classNames:f,styles:h,__staticSelector:"InputClearButton",...u})});PN.displayName="@mantine/core/InputClearButton";const[U6,yf]=hf({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Bo={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const V6=(e,{size:n})=>({description:{"--input-description-size":n===void 0?void 0:`calc(${Hn(n)} - ${xe(2)})`}}),Km=Me((e,n)=>{const t=Ce("InputDescription",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,size:c,__staticSelector:f,__inheritStyles:h=!0,attributes:m,variant:v,...b}=Ce("InputDescription",null,t),x=yf(),w=rt({name:["InputWrapper",f],props:t,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:m,rootSelector:"description",vars:u,varsResolver:V6}),S=h&&x?.getStyles||w;return y.jsx(re,{component:"p",ref:n,variant:v,size:c,...S("description",x?.getStyles?{className:o,style:a}:void 0),...b})});Km.classes=Bo;Km.displayName="@mantine/core/InputDescription";const H6=(e,{size:n})=>({error:{"--input-error-size":n===void 0?void 0:`calc(${Hn(n)} - ${xe(2)})`}}),Qm=Me((e,n)=>{const t=Ce("InputError",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,size:c,attributes:f,__staticSelector:h,__inheritStyles:m=!0,variant:v,...b}=t,x=rt({name:["InputWrapper",h],props:t,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:f,rootSelector:"error",vars:u,varsResolver:H6}),w=yf(),S=m&&w?.getStyles||x;return y.jsx(re,{component:"p",ref:n,variant:v,size:c,...S("error",w?.getStyles?{className:o,style:a}:void 0),...b})});Qm.classes=Bo;Qm.displayName="@mantine/core/InputError";const w_={labelElement:"label"},W6=(e,{size:n})=>({label:{"--input-label-size":Hn(n),"--input-asterisk-color":void 0}}),Jm=Me((e,n)=>{const t=Ce("InputLabel",w_,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,labelElement:c,size:f,required:h,htmlFor:m,onMouseDown:v,children:b,__staticSelector:x,variant:w,mod:S,attributes:E,...R}=Ce("InputLabel",w_,t),D=rt({name:["InputWrapper",x],props:t,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:E,rootSelector:"label",vars:u,varsResolver:W6}),A=yf(),N=A?.getStyles||D;return y.jsxs(re,{...N("label",A?.getStyles?{className:o,style:a}:void 0),component:c,variant:w,size:f,ref:n,htmlFor:c==="label"?m:void 0,mod:[{required:h},S],onMouseDown:k=>{v?.(k),!k.defaultPrevented&&k.detail>1&&k.preventDefault()},...R,children:[b,h&&y.jsx("span",{...N("required"),"aria-hidden":!0,children:" *"})]})});Jm.classes=Bo;Jm.displayName="@mantine/core/InputLabel";const x1=Me((e,n)=>{const t=Ce("InputPlaceholder",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,__staticSelector:c,variant:f,error:h,mod:m,attributes:v,...b}=t,x=rt({name:["InputPlaceholder",c],props:t,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:v,rootSelector:"placeholder"});return y.jsx(re,{...x("placeholder"),mod:[{error:!!h},m],component:"span",variant:f,ref:n,...b})});x1.classes=Bo;x1.displayName="@mantine/core/InputPlaceholder";function $6(e,{hasDescription:n,hasError:t}){const r=e.findIndex(u=>u==="input"),o=e.slice(0,r),a=e.slice(r+1),i=n&&o.includes("description")||t&&o.includes("error");return{offsetBottom:n&&a.includes("description")||t&&a.includes("error"),offsetTop:i}}const G6={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},q6=(e,{size:n})=>({label:{"--input-label-size":Hn(n),"--input-asterisk-color":void 0},error:{"--input-error-size":n===void 0?void 0:`calc(${Hn(n)} - ${xe(2)})`},description:{"--input-description-size":n===void 0?void 0:`calc(${Hn(n)} - ${xe(2)})`}}),w1=Me((e,n)=>{const t=Ce("InputWrapper",G6,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,size:c,variant:f,__staticSelector:h,inputContainer:m,inputWrapperOrder:v,label:b,error:x,description:w,labelProps:S,descriptionProps:E,errorProps:R,labelElement:D,children:A,withAsterisk:N,id:k,required:M,__stylesApiProps:I,mod:P,attributes:L,...F}=t,Y=rt({name:["InputWrapper",h],props:I||t,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:L,vars:u,varsResolver:q6}),W={size:c,variant:f,__staticSelector:h},X=Oo(k),j=typeof N=="boolean"?N:M,U=R?.id||`${X}-error`,V=E?.id||`${X}-description`,q=X,B=!!x&&typeof x!="boolean",G=!!w,J=`${B?U:""} ${G?V:""}`,ne=J.trim().length>0?J.trim():void 0,he=S?.id||`${X}-label`,Se=b&&y.jsx(Jm,{labelElement:D,id:he,htmlFor:q,required:j,...W,...S,children:b},"label"),ae=G&&y.jsx(Km,{...E,...W,size:E?.size||W.size,id:E?.id||V,children:w},"description"),le=y.jsx(T.Fragment,{children:m(A)},"input"),ge=B&&T.createElement(Qm,{...R,...W,size:R?.size||W.size,key:"error",id:R?.id||U},x),me=v.map(Pe=>{switch(Pe){case"label":return Se;case"input":return le;case"description":return ae;case"error":return ge;default:return null}});return y.jsx(U6,{value:{getStyles:Y,describedBy:ne,inputId:q,labelId:he,...$6(v,{hasDescription:G,hasError:B})},children:y.jsx(re,{ref:n,variant:f,size:c,mod:[{error:!!x},P],...Y("root"),...F,children:me})})});w1.classes=Bo;w1.displayName="@mantine/core/InputWrapper";const X6={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},Y6=(e,n,t)=>({wrapper:{"--input-margin-top":t.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":t.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Tt(n.size,"input-height"),"--input-fz":Hn(n.size),"--input-radius":n.radius===void 0?void 0:pn(n.radius),"--input-left-section-width":n.leftSectionWidth!==void 0?xe(n.leftSectionWidth):void 0,"--input-right-section-width":n.rightSectionWidth!==void 0?xe(n.rightSectionWidth):void 0,"--input-padding-y":n.multiline?Tt(n.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":n.leftSectionPointerEvents,"--input-right-section-pointer-events":n.rightSectionPointerEvents}}),yn=_r((e,n)=>{const t=Ce("Input",X6,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,required:u,__staticSelector:c,__stylesApiProps:f,size:h,wrapperProps:m,error:v,disabled:b,leftSection:x,leftSectionProps:w,leftSectionWidth:S,rightSection:E,rightSectionProps:R,rightSectionWidth:D,rightSectionPointerEvents:A,leftSectionPointerEvents:N,variant:k,vars:M,pointer:I,multiline:P,radius:L,id:F,withAria:Y,withErrorStyles:W,mod:X,inputSize:j,attributes:U,__clearSection:V,__clearable:q,__defaultRightSection:B,...G}=t,{styleProps:J,rest:ne}=mf(G),he=yf(),Se={offsetBottom:he?.offsetBottom,offsetTop:he?.offsetTop},ae=rt({name:["Input",c],props:f||t,classes:Bo,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:U,stylesCtx:Se,rootSelector:"wrapper",vars:M,varsResolver:Y6}),le=Y?{required:u,disabled:b,"aria-invalid":!!v,"aria-describedby":he?.describedBy,id:he?.inputId||F}:{},ge=E||q&&V||B;return y.jsx(L6,{value:{size:h||"sm"},children:y.jsxs(re,{...ae("wrapper"),...J,...m,mod:[{error:!!v&&W,pointer:I,disabled:b,multiline:P,"data-with-right-section":!!ge,"data-with-left-section":!!x},X],variant:k,size:h,children:[x&&y.jsx("div",{...w,"data-position":"left",...ae("section",{className:w?.className,style:w?.style}),children:x}),y.jsx(re,{component:"input",...ne,...le,ref:n,required:u,mod:{disabled:b,error:!!v&&W},variant:k,__size:j,...ae("input")}),ge&&y.jsx("div",{...R,"data-position":"right",...ae("section",{className:R?.className,style:R?.style}),children:ge})]})})});yn.classes=Bo;yn.Wrapper=w1;yn.Label=Jm;yn.Error=Qm;yn.Description=Km;yn.Placeholder=x1;yn.ClearButton=PN;yn.displayName="@mantine/core/Input";function K6(e,n,t){const r=Ce(e,n,t),{label:o,description:a,error:i,required:s,classNames:u,styles:c,className:f,unstyled:h,__staticSelector:m,__stylesApiProps:v,errorProps:b,labelProps:x,descriptionProps:w,wrapperProps:S,id:E,size:R,style:D,inputContainer:A,inputWrapperOrder:N,withAsterisk:k,variant:M,vars:I,mod:P,attributes:L,...F}=r,{styleProps:Y,rest:W}=mf(F),X={label:o,description:a,error:i,required:s,classNames:u,className:f,__staticSelector:m,__stylesApiProps:v||r,errorProps:b,labelProps:x,descriptionProps:w,unstyled:h,styles:c,size:R,style:D,inputContainer:A,inputWrapperOrder:N,withAsterisk:k,variant:M,id:E,mod:P,attributes:L,...S};return{...W,classNames:u,styles:c,unstyled:h,wrapperProps:{...X,...Y},inputProps:{required:s,classNames:u,styles:c,unstyled:h,size:R,__staticSelector:m,__stylesApiProps:v||r,error:i,variant:M,id:E,attributes:L}}}const Q6={__staticSelector:"InputBase",withAria:!0,size:"sm"},ho=_r((e,n)=>{const{inputProps:t,wrapperProps:r,...o}=K6("InputBase",Q6,e);return y.jsx(yn.Wrapper,{...r,children:y.jsx(yn,{...t,...o,ref:n})})});ho.classes={...yn.classes,...yn.Wrapper.classes};ho.displayName="@mantine/core/InputBase";function J6(e,n){if(!n||!e)return!1;let t=n.parentNode;for(;t!=null;){if(t===e)return!0;t=t.parentNode}return!1}function Z6({target:e,parent:n,ref:t,displayAfterTransitionEnd:r}){const o=T.useRef(-1),[a,i]=T.useState(!1),[s,u]=T.useState(typeof r=="boolean"?r:!1),c=()=>{if(!e||!n||!t.current)return;const v=e.getBoundingClientRect(),b=n.getBoundingClientRect(),x=window.getComputedStyle(e),w=window.getComputedStyle(n),S=ns(x.borderTopWidth)+ns(w.borderTopWidth),E=ns(x.borderLeftWidth)+ns(w.borderLeftWidth),R={top:v.top-b.top-S,left:v.left-b.left-E,width:v.width,height:v.height};t.current.style.transform=`translateY(${R.top}px) translateX(${R.left}px)`,t.current.style.width=`${R.width}px`,t.current.style.height=`${R.height}px`},f=()=>{window.clearTimeout(o.current),t.current&&(t.current.style.transitionDuration="0ms"),c(),o.current=window.setTimeout(()=>{t.current&&(t.current.style.transitionDuration="")},30)},h=T.useRef(null),m=T.useRef(null);return T.useEffect(()=>{if(c(),e)return h.current=new ResizeObserver(f),h.current.observe(e),n&&(m.current=new ResizeObserver(f),m.current.observe(n)),()=>{h.current?.disconnect(),m.current?.disconnect()}},[n,e]),T.useEffect(()=>{if(n){const v=b=>{J6(b.target,n)&&(f(),u(!1))};return n.addEventListener("transitionend",v),()=>{n.removeEventListener("transitionend",v)}}},[n]),JB(()=>{xA()!=="test"&&i(!0)},20,{autoInvoke:!0}),eF(v=>{v.forEach(b=>{b.type==="attributes"&&b.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:a,hidden:s}}var jN={root:"m_96b553a6"};const ez=(e,{transitionDuration:n})=>({root:{"--transition-duration":typeof n=="number"?`${n}ms`:n}}),S1=Me((e,n)=>{const t=Ce("FloatingIndicator",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,target:c,parent:f,transitionDuration:h,mod:m,displayAfterTransitionEnd:v,attributes:b,...x}=t,w=rt({name:"FloatingIndicator",classes:jN,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:b,vars:u,varsResolver:ez}),S=T.useRef(null),{initialized:E,hidden:R}=Z6({target:c,parent:f,ref:S,displayAfterTransitionEnd:v}),D=In(n,S);return!c||!f?null:y.jsx(re,{ref:D,mod:[{initialized:E,hidden:R},m],...w("root"),...x})});S1.displayName="@mantine/core/FloatingIndicator";S1.classes=jN;var BN={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const tz=(e,{radius:n,color:t,variant:r,autoContrast:o})=>{const a=e.variantColorResolver({color:t||e.primaryColor,theme:e,variant:r||"light",autoContrast:o});return{root:{"--alert-radius":n===void 0?void 0:pn(n),"--alert-bg":t||r?a.background:void 0,"--alert-color":a.color,"--alert-bd":t||r?a.border:void 0}}},Ho=Me((e,n)=>{const t=Ce("Alert",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,radius:c,color:f,title:h,children:m,id:v,icon:b,withCloseButton:x,onClose:w,closeButtonLabel:S,variant:E,autoContrast:R,attributes:D,...A}=t,N=rt({name:"Alert",classes:BN,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:D,vars:u,varsResolver:tz}),k=Oo(v),M=h&&`${k}-title`||void 0,I=`${k}-body`;return y.jsx(re,{id:k,...N("root",{variant:E}),variant:E,ref:n,...A,role:"alert","aria-describedby":I,"aria-labelledby":M,children:y.jsxs("div",{...N("wrapper"),children:[b&&y.jsx("div",{...N("icon"),children:b}),y.jsxs("div",{...N("body"),children:[h&&y.jsx("div",{...N("title"),"data-with-close-button":x||void 0,children:y.jsx("span",{id:M,...N("label"),children:h})}),m&&y.jsx("div",{id:I,...N("message"),"data-variant":E,children:m})]}),x&&y.jsx(dl,{...N("closeButton"),onClick:w,variant:"transparent",size:16,iconSize:16,"aria-label":S,unstyled:s})]})})});Ho.classes=BN;Ho.displayName="@mantine/core/Alert";var FN={root:"m_b6d8b162"};function nz(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const rz={inherit:!1},oz=(e,{variant:n,lineClamp:t,gradient:r,size:o,color:a})=>({root:{"--text-fz":Hn(o),"--text-lh":hA(o),"--text-gradient":n==="gradient"?Ab(r,e):void 0,"--text-line-clamp":typeof t=="number"?t.toString():void 0,"--text-color":a?Tn(a,e):void 0}}),de=_r((e,n)=>{const t=Ce("Text",rz,e),{lineClamp:r,truncate:o,inline:a,inherit:i,gradient:s,span:u,__staticSelector:c,vars:f,className:h,style:m,classNames:v,styles:b,unstyled:x,variant:w,mod:S,size:E,attributes:R,...D}=t,A=rt({name:["Text",c],props:t,classes:FN,className:h,style:m,classNames:v,styles:b,unstyled:x,attributes:R,vars:f,varsResolver:oz});return y.jsx(re,{...A("root",{focusable:!0}),ref:n,component:u?"span":"p",variant:w,mod:[{"data-truncate":nz(o),"data-line-clamp":typeof r=="number","data-inline":a,"data-inherit":i},S],size:E,...D})});de.classes=FN;de.displayName="@mantine/core/Text";var LN={root:"m_849cf0da"};const az={underline:"hover"},Zm=_r((e,n)=>{const{underline:t,className:r,unstyled:o,mod:a,...i}=Ce("Anchor",az,e);return y.jsx(de,{component:"a",ref:n,className:Nn({[LN.root]:!o},r),...i,mod:[{underline:t},a],__staticSelector:"Anchor",unstyled:o})});Zm.classes=LN;Zm.displayName="@mantine/core/Anchor";function zN(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(n=>zN(n))}:e}function iz(e){return e?e.map(n=>zN(n)):[]}function UN(e){return e.reduce((n,t)=>"group"in t?{...n,...UN(t.items)}:(n[t.value]=t,n),{})}var Vr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const sz={error:null},lz=(e,{size:n,color:t})=>({chevron:{"--combobox-chevron-size":Tt(n,"combobox-chevron-size"),"--combobox-chevron-color":t?Tn(t,e):void 0}}),C1=Me((e,n)=>{const t=Ce("ComboboxChevron",sz,e),{size:r,error:o,style:a,className:i,classNames:s,styles:u,unstyled:c,vars:f,mod:h,...m}=t,v=rt({name:"ComboboxChevron",classes:Vr,props:t,style:a,className:i,classNames:s,styles:u,unstyled:c,vars:f,varsResolver:lz,rootSelector:"chevron"});return y.jsx(re,{component:"svg",...m,...v("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:o},h],ref:n,children:y.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});C1.classes=Vr;C1.displayName="@mantine/core/ComboboxChevron";const[uz,Fo]=Io("Combobox component was not found in tree"),VN=T.forwardRef(({size:e,onMouseDown:n,onClick:t,onClear:r,...o},a)=>y.jsx(yn.ClearButton,{ref:a,tabIndex:-1,"aria-hidden":!0,...o,onMouseDown:i=>{i.preventDefault(),n?.(i)},onClick:i=>{r(),t?.(i)}}));VN.displayName="@mantine/core/ComboboxClearButton";const E1=Me((e,n)=>{const{classNames:t,styles:r,className:o,style:a,hidden:i,...s}=Ce("ComboboxDropdown",null,e),u=Fo();return y.jsx(co.Dropdown,{...s,ref:n,role:"presentation","data-hidden":i||void 0,...u.getStyles("dropdown",{className:o,style:a,classNames:t,styles:r})})});E1.classes=Vr;E1.displayName="@mantine/core/ComboboxDropdown";const cz={refProp:"ref"},HN=Me((e,n)=>{const{children:t,refProp:r}=Ce("ComboboxDropdownTarget",cz,e);if(Fo(),!gs(t))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return y.jsx(co.Target,{ref:n,refProp:r,children:t})});HN.displayName="@mantine/core/ComboboxDropdownTarget";const R1=Me((e,n)=>{const{classNames:t,className:r,style:o,styles:a,vars:i,...s}=Ce("ComboboxEmpty",null,e),u=Fo();return y.jsx(re,{ref:n,...u.getStyles("empty",{className:r,classNames:t,styles:a,style:o}),...s})});R1.classes=Vr;R1.displayName="@mantine/core/ComboboxEmpty";function _1({onKeyDown:e,withKeyboardNavigation:n,withAriaAttributes:t,withExpandedAttribute:r,targetType:o,autoComplete:a}){const i=Fo(),[s,u]=T.useState(null),c=h=>{if(e?.(h),!i.readOnly&&n){if(h.nativeEvent.isComposing)return;if(h.nativeEvent.code==="ArrowDown"&&(h.preventDefault(),i.store.dropdownOpened?u(i.store.selectNextOption()):(i.store.openDropdown("keyboard"),u(i.store.selectActiveOption()),i.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="ArrowUp"&&(h.preventDefault(),i.store.dropdownOpened?u(i.store.selectPreviousOption()):(i.store.openDropdown("keyboard"),u(i.store.selectActiveOption()),i.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="Enter"||h.nativeEvent.code==="NumpadEnter"){if(h.nativeEvent.keyCode===229)return;const m=i.store.getSelectedOptionIndex();i.store.dropdownOpened&&m!==-1?(h.preventDefault(),i.store.clickSelectedOption()):o==="button"&&(h.preventDefault(),i.store.openDropdown("keyboard"))}h.key==="Escape"&&i.store.closeDropdown("keyboard"),h.nativeEvent.code==="Space"&&o==="button"&&(h.preventDefault(),i.store.toggleDropdown("keyboard"))}};return{...t?{"aria-haspopup":"listbox","aria-expanded":r?!!(i.store.listId&&i.store.dropdownOpened):void 0,"aria-controls":i.store.dropdownOpened&&i.store.listId?i.store.listId:void 0,"aria-activedescendant":i.store.dropdownOpened&&s||void 0,autoComplete:a,"data-expanded":i.store.dropdownOpened||void 0,"data-mantine-stop-propagation":i.store.dropdownOpened||void 0}:{},onKeyDown:c}}const dz={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},WN=Me((e,n)=>{const{children:t,refProp:r,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:i,targetType:s,autoComplete:u,...c}=Ce("ComboboxEventsTarget",dz,e);if(!gs(t))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=Fo(),h=_1({targetType:s,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:t.props.onKeyDown,autoComplete:u});return T.cloneElement(t,{...h,...c,[r]:In(n,f.store.targetRef,jm(t))})});WN.displayName="@mantine/core/ComboboxEventsTarget";const T1=Me((e,n)=>{const{classNames:t,className:r,style:o,styles:a,vars:i,...s}=Ce("ComboboxFooter",null,e),u=Fo();return y.jsx(re,{ref:n,...u.getStyles("footer",{className:r,classNames:t,style:o,styles:a}),...s,onMouseDown:c=>{c.preventDefault()}})});T1.classes=Vr;T1.displayName="@mantine/core/ComboboxFooter";const D1=Me((e,n)=>{const{classNames:t,className:r,style:o,styles:a,vars:i,children:s,label:u,id:c,...f}=Ce("ComboboxGroup",null,e),h=Fo(),m=Oo(c);return y.jsxs(re,{ref:n,role:"group","aria-labelledby":u?m:void 0,...h.getStyles("group",{className:r,classNames:t,style:o,styles:a}),...f,children:[u&&y.jsx("div",{id:m,...h.getStyles("groupLabel",{classNames:t,styles:a}),children:u}),s]})});D1.classes=Vr;D1.displayName="@mantine/core/ComboboxGroup";const A1=Me((e,n)=>{const{classNames:t,className:r,style:o,styles:a,vars:i,...s}=Ce("ComboboxHeader",null,e),u=Fo();return y.jsx(re,{ref:n,...u.getStyles("header",{className:r,classNames:t,style:o,styles:a}),...s,onMouseDown:c=>{c.preventDefault()}})});A1.classes=Vr;A1.displayName="@mantine/core/ComboboxHeader";function $N({value:e,valuesDivider:n=",",...t}){return y.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(n):e||"",...t})}$N.displayName="@mantine/core/ComboboxHiddenInput";const N1=Me((e,n)=>{const t=Ce("ComboboxOption",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,onClick:u,id:c,active:f,onMouseDown:h,onMouseOver:m,disabled:v,selected:b,mod:x,...w}=t,S=Fo(),E=T.useId(),R=c||E;return y.jsx(re,{...S.getStyles("option",{className:o,classNames:r,styles:i,style:a}),...w,ref:n,id:R,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":v,"combobox-selected":b},x],role:"option",onClick:D=>{v?D.preventDefault():(S.onOptionSubmit?.(t.value,t),u?.(D))},onMouseDown:D=>{D.preventDefault(),h?.(D)},onMouseOver:D=>{S.resetSelectionOnOptionHover&&S.store.resetSelectedOption(),m?.(D)}})});N1.classes=Vr;N1.displayName="@mantine/core/ComboboxOption";const k1=Me((e,n)=>{const t=Ce("ComboboxOptions",null,e),{classNames:r,className:o,style:a,styles:i,id:s,onMouseDown:u,labelledBy:c,...f}=t,h=Fo(),m=Oo(s);return T.useEffect(()=>{h.store.setListId(m)},[m]),y.jsx(re,{ref:n,...h.getStyles("options",{className:o,style:a,classNames:r,styles:i}),...f,id:m,role:"listbox","aria-labelledby":c,onMouseDown:v=>{v.preventDefault(),u?.(v)}})});k1.classes=Vr;k1.displayName="@mantine/core/ComboboxOptions";const fz={withAriaAttributes:!0,withKeyboardNavigation:!0},M1=Me((e,n)=>{const t=Ce("ComboboxSearch",fz,e),{classNames:r,styles:o,unstyled:a,vars:i,withAriaAttributes:s,onKeyDown:u,withKeyboardNavigation:c,size:f,...h}=t,m=Fo(),v=m.getStyles("search"),b=_1({targetType:"input",withAriaAttributes:s,withKeyboardNavigation:c,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return y.jsx(yn,{ref:In(n,m.store.searchRef),classNames:[{input:v.className},r],styles:[{input:v.style},o],size:f||m.size,...b,...h,__staticSelector:"Combobox"})});M1.classes=Vr;M1.displayName="@mantine/core/ComboboxSearch";const hz={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},GN=Me((e,n)=>{const{children:t,refProp:r,withKeyboardNavigation:o,withAriaAttributes:a,withExpandedAttribute:i,targetType:s,autoComplete:u,...c}=Ce("ComboboxTarget",hz,e);if(!gs(t))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=Fo(),h=_1({targetType:s,withAriaAttributes:a,withKeyboardNavigation:o,withExpandedAttribute:i,onKeyDown:t.props.onKeyDown,autoComplete:u}),m=T.cloneElement(t,{...h,...c});return y.jsx(co.Target,{ref:In(n,f.store.targetRef),children:m})});GN.displayName="@mantine/core/ComboboxTarget";function pz(e,n,t){for(let r=e-1;r>=0;r-=1)if(!n[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=n.length-1;r>-1;r-=1)if(!n[r].hasAttribute("data-combobox-disabled"))return r}return e}function mz(e,n,t){for(let r=e+1;r<n.length;r+=1)if(!n[r].hasAttribute("data-combobox-disabled"))return r;if(t){for(let r=0;r<n.length;r+=1)if(!n[r].hasAttribute("data-combobox-disabled"))return r}return e}function vz(e){for(let n=0;n<e.length;n+=1)if(!e[n].hasAttribute("data-combobox-disabled"))return n;return-1}function qN({defaultOpened:e,opened:n,onOpenedChange:t,onDropdownClose:r,onDropdownOpen:o,loop:a=!0,scrollBehavior:i="instant"}={}){const[s,u]=Ta({value:n,defaultValue:e,finalValue:!1,onChange:t}),c=T.useRef(null),f=T.useRef(-1),h=T.useRef(null),m=T.useRef(null),v=T.useRef(-1),b=T.useRef(-1),x=T.useRef(-1),w=T.useCallback((j="unknown")=>{s||(u(!0),o?.(j))},[u,o,s]),S=T.useCallback((j="unknown")=>{s&&(u(!1),r?.(j))},[u,r,s]),E=T.useCallback((j="unknown")=>{s?S(j):w(j)},[S,w,s]),R=T.useCallback(()=>{const j=document.querySelector(`#${c.current} [data-combobox-selected]`);j?.removeAttribute("data-combobox-selected"),j?.removeAttribute("aria-selected")},[]),D=T.useCallback(j=>{const V=document.getElementById(c.current)?.querySelectorAll("[data-combobox-option]");if(!V)return null;const q=j>=V.length?0:j<0?V.length-1:j;return f.current=q,V?.[q]&&!V[q].hasAttribute("data-combobox-disabled")?(R(),V[q].setAttribute("data-combobox-selected","true"),V[q].setAttribute("aria-selected","true"),V[q].scrollIntoView({block:"nearest",behavior:i}),V[q].id):null},[i,R]),A=T.useCallback(()=>{const j=document.querySelector(`#${c.current} [data-combobox-active]`);if(j){const U=document.querySelectorAll(`#${c.current} [data-combobox-option]`),V=Array.from(U).findIndex(q=>q===j);return D(V)}return D(0)},[D]),N=T.useCallback(()=>D(mz(f.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),a)),[D,a]),k=T.useCallback(()=>D(pz(f.current,document.querySelectorAll(`#${c.current} [data-combobox-option]`),a)),[D,a]),M=T.useCallback(()=>D(vz(document.querySelectorAll(`#${c.current} [data-combobox-option]`))),[D]),I=T.useCallback((j="selected",U)=>{x.current=window.setTimeout(()=>{const V=document.querySelectorAll(`#${c.current} [data-combobox-option]`),q=Array.from(V).findIndex(B=>B.hasAttribute(`data-combobox-${j}`));f.current=q,U?.scrollIntoView&&V[q]?.scrollIntoView({block:"nearest",behavior:i})},0)},[]),P=T.useCallback(()=>{f.current=-1,R()},[R]),L=T.useCallback(()=>{document.querySelectorAll(`#${c.current} [data-combobox-option]`)?.[f.current]?.click()},[]),F=T.useCallback(j=>{c.current=j},[]),Y=T.useCallback(()=>{v.current=window.setTimeout(()=>h.current.focus(),0)},[]),W=T.useCallback(()=>{b.current=window.setTimeout(()=>m.current.focus(),0)},[]),X=T.useCallback(()=>f.current,[]);return T.useEffect(()=>()=>{window.clearTimeout(v.current),window.clearTimeout(b.current),window.clearTimeout(x.current)},[]),{dropdownOpened:s,openDropdown:w,closeDropdown:S,toggleDropdown:E,selectedOptionIndex:f.current,getSelectedOptionIndex:X,selectOption:D,selectFirstOption:M,selectActiveOption:A,selectNextOption:N,selectPreviousOption:k,resetSelectedOption:P,updateSelectedOptionIndex:I,listId:c.current,setListId:F,clickSelectedOption:L,searchRef:h,focusSearchInput:Y,targetRef:m,focusTarget:W}}const gz={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},yz=(e,{size:n,dropdownPadding:t})=>({options:{"--combobox-option-fz":Hn(n),"--combobox-option-padding":Tt(n,"combobox-option-padding")},dropdown:{"--combobox-padding":t===void 0?void 0:xe(t),"--combobox-option-fz":Hn(n),"--combobox-option-padding":Tt(n,"combobox-option-padding")}});function Gt(e){const n=Ce("Combobox",gz,e),{classNames:t,styles:r,unstyled:o,children:a,store:i,vars:s,onOptionSubmit:u,onClose:c,size:f,dropdownPadding:h,resetSelectionOnOptionHover:m,__staticSelector:v,readOnly:b,attributes:x,...w}=n,S=qN(),E=i||S,R=rt({name:v||"Combobox",classes:Vr,props:n,classNames:t,styles:r,unstyled:o,attributes:x,vars:s,varsResolver:yz}),D=()=>{c?.(),E.closeDropdown()};return y.jsx(uz,{value:{getStyles:R,store:E,onOptionSubmit:u,size:f,resetSelectionOnOptionHover:m,readOnly:b},children:y.jsx(co,{opened:E.dropdownOpened,preventPositionChangeWhenVisible:!0,...w,onChange:A=>!A&&D(),withRoles:!1,unstyled:o,children:a})})}const bz=e=>e;Gt.extend=bz;Gt.classes=Vr;Gt.displayName="@mantine/core/Combobox";Gt.Target=GN;Gt.Dropdown=E1;Gt.Options=k1;Gt.Option=N1;Gt.Search=M1;Gt.Empty=R1;Gt.Chevron=C1;Gt.Footer=T1;Gt.Header=A1;Gt.EventsTarget=WN;Gt.DropdownTarget=HN;Gt.Group=D1;Gt.ClearButton=VN;Gt.HiddenInput=$N;var XN={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const xz=XN,YN=T.forwardRef(({__staticSelector:e,__stylesApiProps:n,className:t,classNames:r,styles:o,unstyled:a,children:i,label:s,description:u,id:c,disabled:f,error:h,size:m,labelPosition:v="left",bodyElement:b="div",labelElement:x="label",variant:w,style:S,vars:E,mod:R,attributes:D,...A},N)=>{const k=rt({name:e,props:n,className:t,style:S,classes:XN,classNames:r,styles:o,unstyled:a,attributes:D});return y.jsx(re,{...k("root"),ref:N,__vars:{"--label-fz":Hn(m),"--label-lh":Tt(m,"label-lh")},mod:[{"label-position":v},R],variant:w,size:m,...A,children:y.jsxs(re,{component:b,htmlFor:b==="label"?c:void 0,...k("body"),children:[i,y.jsxs("div",{...k("labelWrapper"),"data-disabled":f||void 0,children:[s&&y.jsx(re,{component:x,htmlFor:x==="label"?c:void 0,...k("label"),"data-disabled":f||void 0,children:s}),u&&y.jsx(yn.Description,{size:m,__inheritStyles:!1,...k("description"),children:u}),h&&typeof h!="boolean"&&y.jsx(yn.Error,{size:m,__inheritStyles:!1,...k("error"),children:h})]})]})})});YN.displayName="@mantine/core/InlineInput";const KN=T.createContext(null),wz=KN.Provider,QN=()=>T.useContext(KN),[Sz,Cz]=hf();var JN={card:"m_26775b0a"};const Ez={withBorder:!0},Rz=(e,{radius:n})=>({card:{"--card-radius":pn(n)}}),I1=Me((e,n)=>{const t=Ce("CheckboxCard",Ez,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,checked:c,mod:f,withBorder:h,value:m,onClick:v,defaultChecked:b,onChange:x,attributes:w,...S}=t,E=rt({name:"CheckboxCard",classes:JN,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:w,vars:u,varsResolver:Rz,rootSelector:"card"}),R=QN(),D=typeof c=="boolean"?c:R?R.value.includes(m||""):void 0,[A,N]=Ta({value:D,defaultValue:b,finalValue:!1,onChange:x});return y.jsx(Sz,{value:{checked:A},children:y.jsx(Zo,{ref:n,mod:[{"with-border":h,checked:A},f],...E("card"),...S,role:"checkbox","aria-checked":A,onClick:k=>{v?.(k),R?.onChange(m||""),N(!A)}})})});I1.displayName="@mantine/core/CheckboxCard";I1.classes=JN;function _z({children:e,role:n}){const t=yf();return t?y.jsx("div",{role:n,"aria-labelledby":t.labelId,"aria-describedby":t.describedBy,children:e}):y.jsx(y.Fragment,{children:e})}const O1=Me((e,n)=>{const{value:t,defaultValue:r,onChange:o,size:a,wrapperProps:i,children:s,readOnly:u,...c}=Ce("CheckboxGroup",null,e),[f,h]=Ta({value:t,defaultValue:r,finalValue:[],onChange:o}),m=v=>{const b=typeof v=="string"?v:v.currentTarget.value;!u&&h(f.includes(b)?f.filter(x=>x!==b):[...f,b])};return y.jsx(wz,{value:{value:f,onChange:m,size:a},children:y.jsx(yn.Wrapper,{size:a,ref:n,...i,...c,labelElement:"div",__staticSelector:"CheckboxGroup",children:y.jsx(_z,{role:"group",children:s})})})});O1.classes=yn.Wrapper.classes;O1.displayName="@mantine/core/CheckboxGroup";function ZN({size:e,style:n,...t}){const r=e!==void 0?{width:xe(e),height:xe(e),...n}:n;return y.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...t,children:y.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function e3({indeterminate:e,...n}){return e?y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...n,children:y.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):y.jsx(ZN,{...n})}var t3={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const Tz={icon:e3},Dz=(e,{radius:n,color:t,size:r,iconColor:o,variant:a,autoContrast:i})=>{const s=ul({color:t||e.primaryColor,theme:e}),u=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{indicator:{"--checkbox-size":Tt(r,"checkbox-size"),"--checkbox-radius":n===void 0?void 0:pn(n),"--checkbox-color":a==="outline"?u:Tn(t,e),"--checkbox-icon-color":o?Tn(o,e):Gx(i,e)?pf({color:t,theme:e,autoContrast:i}):void 0}}},P1=Me((e,n)=>{const t=Ce("CheckboxIndicator",Tz,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,icon:c,indeterminate:f,radius:h,color:m,iconColor:v,autoContrast:b,checked:x,mod:w,variant:S,disabled:E,attributes:R,...D}=t,A=rt({name:"CheckboxIndicator",classes:t3,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:R,vars:u,varsResolver:Dz,rootSelector:"indicator"}),N=Cz(),k=typeof x=="boolean"||typeof f=="boolean"?x||f:N?.checked||!1;return y.jsx(re,{ref:n,...A("indicator",{variant:S}),variant:S,mod:[{checked:k,disabled:E},w],...D,children:y.jsx(c,{indeterminate:f,...A("icon")})})});P1.displayName="@mantine/core/CheckboxIndicator";P1.classes=t3;var n3={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const Az={labelPosition:"right",icon:e3},Nz=(e,{radius:n,color:t,size:r,iconColor:o,variant:a,autoContrast:i})=>{const s=ul({color:t||e.primaryColor,theme:e}),u=s.isThemeColor&&s.shade===void 0?`var(--mantine-color-${s.color}-outline)`:s.color;return{root:{"--checkbox-size":Tt(r,"checkbox-size"),"--checkbox-radius":n===void 0?void 0:pn(n),"--checkbox-color":a==="outline"?u:Tn(t,e),"--checkbox-icon-color":o?Tn(o,e):Gx(i,e)?pf({color:t,theme:e,autoContrast:i}):void 0}}},ec=Me((e,n)=>{const t=Ce("Checkbox",Az,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,color:c,label:f,id:h,size:m,radius:v,wrapperProps:b,checked:x,labelPosition:w,description:S,error:E,disabled:R,variant:D,indeterminate:A,icon:N,rootRef:k,iconColor:M,onChange:I,autoContrast:P,mod:L,attributes:F,...Y}=t,W=QN(),X=m||W?.size,j=rt({name:"Checkbox",props:t,classes:n3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:F,vars:u,varsResolver:Nz}),{styleProps:U,rest:V}=mf(Y),q=Oo(h),B=W?{checked:W.value.includes(V.value),onChange:ne=>{W.onChange(ne),I?.(ne)}}:{},G=T.useRef(null),J=n||G;return T.useEffect(()=>{J&&"current"in J&&J.current&&(J.current.indeterminate=A||!1)},[A,J]),y.jsx(YN,{...j("root"),__staticSelector:"Checkbox",__stylesApiProps:t,id:q,size:X,labelPosition:w,label:f,description:S,error:E,disabled:R,classNames:r,styles:i,unstyled:s,"data-checked":B.checked||x||void 0,variant:D,ref:k,mod:L,...U,...b,children:y.jsxs(re,{...j("inner"),mod:{"data-label-position":w},children:[y.jsx(re,{component:"input",id:q,ref:J,checked:x,disabled:R,mod:{error:!!E,indeterminate:A},...j("input",{focusable:!0,variant:D}),onChange:I,...V,...B,type:"checkbox"}),y.jsx(N,{indeterminate:A,...j("icon")})]})})});ec.classes={...n3,...xz};ec.displayName="@mantine/core/Checkbox";ec.Group=O1;ec.Indicator=P1;ec.Card=I1;function zd(e){return"group"in e}function r3({options:e,search:n,limit:t}){const r=n.trim().toLowerCase(),o=[];for(let a=0;a<e.length;a+=1){const i=e[a];if(o.length===t)return o;zd(i)&&o.push({group:i.group,items:r3({options:i.items,search:n,limit:t-o.length})}),zd(i)||i.label.toLowerCase().includes(r)&&o.push(i)}return o}function kz(e){if(e.length===0)return!0;for(const n of e)if(!("group"in n)||n.items.length>0)return!1;return!0}function o3(e,n=new Set){if(Array.isArray(e))for(const t of e)if(zd(t))o3(t.items,n);else{if(typeof t.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof t.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof t.value}`);if(n.has(t.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${t.value}" was provided more than once`);n.add(t.value)}}function Mz(e,n){return Array.isArray(e)?e.includes(n):e===n}function a3({data:e,withCheckIcon:n,value:t,checkIconPosition:r,unstyled:o,renderOption:a}){if(!zd(e)){const s=Mz(t,e.value),u=n&&s&&y.jsx(ZN,{className:Vr.optionsDropdownCheckIcon}),c=y.jsxs(y.Fragment,{children:[r==="left"&&u,y.jsx("span",{children:e.label}),r==="right"&&u]});return y.jsx(Gt.Option,{value:e.value,disabled:e.disabled,className:Nn({[Vr.optionsDropdownOption]:!o}),"data-reverse":r==="right"||void 0,"data-checked":s||void 0,"aria-selected":s,active:s,children:typeof a=="function"?a({option:e,checked:s}):c})}const i=e.items.map(s=>y.jsx(a3,{data:s,value:t,unstyled:o,withCheckIcon:n,checkIconPosition:r,renderOption:a},s.value));return y.jsx(Gt.Group,{label:e.group,children:i})}function Iz({data:e,hidden:n,hiddenWhenEmpty:t,filter:r,search:o,limit:a,maxDropdownHeight:i,withScrollArea:s=!0,filterOptions:u=!0,withCheckIcon:c=!1,value:f,checkIconPosition:h,nothingFoundMessage:m,unstyled:v,labelId:b,renderOption:x,scrollAreaProps:w,"aria-label":S}){o3(e);const R=typeof o=="string"?(r||r3)({options:e,search:u?o:"",limit:a??1/0}):e,D=kz(R),A=R.map(N=>y.jsx(a3,{data:N,withCheckIcon:c,value:f,checkIconPosition:h,unstyled:v,renderOption:x},zd(N)?N.group:N.value));return y.jsx(Gt.Dropdown,{hidden:n||t&&D,"data-composed":!0,children:y.jsxs(Gt.Options,{labelledBy:b,"aria-label":S,children:[s?y.jsx(jo.Autosize,{mah:i??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...w,children:A}):A,D&&m&&y.jsx(Gt.Empty,{children:m})]})})}var i3={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const Oz=(e,{radius:n,color:t,gradient:r,variant:o,size:a,autoContrast:i})=>{const s=e.variantColorResolver({color:t||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:i});return{root:{"--badge-height":Tt(a,"badge-height"),"--badge-padding-x":Tt(a,"badge-padding-x"),"--badge-fz":Tt(a,"badge-fz"),"--badge-radius":n===void 0?void 0:pn(n),"--badge-bg":t||o?s.background:void 0,"--badge-color":t||o?s.color:void 0,"--badge-bd":t||o?s.border:void 0,"--badge-dot-color":o==="dot"?Tn(t,e):void 0}}},zn=_r((e,n)=>{const t=Ce("Badge",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,radius:c,color:f,gradient:h,leftSection:m,rightSection:v,children:b,variant:x,fullWidth:w,autoContrast:S,circle:E,mod:R,attributes:D,...A}=t,N=rt({name:"Badge",props:t,classes:i3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:D,vars:u,varsResolver:Oz});return y.jsxs(re,{variant:x,mod:[{block:w,circle:E,"with-right-section":!!v,"with-left-section":!!m},R],...N("root",{variant:x}),ref:n,...A,children:[m&&y.jsx("span",{...N("section"),"data-position":"left",children:m}),y.jsx("span",{...N("label"),children:b}),v&&y.jsx("span",{...N("section"),"data-position":"right",children:v})]})});zn.classes=i3;zn.displayName="@mantine/core/Badge";var s3={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const Pz=(e,{color:n,size:t,lineSize:r,transitionDuration:o,transitionTimingFunction:a})=>({root:{"--burger-color":n?Tn(n,e):void 0,"--burger-size":Tt(t,"burger-size"),"--burger-line-size":r?xe(r):void 0,"--burger-transition-duration":o===void 0?void 0:`${o}ms`,"--burger-transition-timing-function":a}}),j1=Me((e,n)=>{const t=Ce("Burger",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,opened:c,children:f,transitionDuration:h,transitionTimingFunction:m,lineSize:v,attributes:b,...x}=t,w=rt({name:"Burger",classes:s3,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:b,vars:u,varsResolver:Pz});return y.jsxs(Zo,{...w("root"),ref:n,...x,children:[y.jsx(re,{mod:["reduce-motion",{opened:c}],...w("burger")}),f]})});j1.classes=s3;j1.displayName="@mantine/core/Burger";var tc={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const S_={orientation:"horizontal"},jz=(e,{borderWidth:n})=>({group:{"--button-border-width":xe(n)}}),B1=Me((e,n)=>{const t=Ce("ButtonGroup",S_,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,orientation:u,vars:c,borderWidth:f,variant:h,mod:m,attributes:v,...b}=Ce("ButtonGroup",S_,e),x=rt({name:"ButtonGroup",props:t,classes:tc,className:r,style:o,classNames:a,styles:i,unstyled:s,attributes:v,vars:c,varsResolver:jz,rootSelector:"group"});return y.jsx(re,{...x("group"),ref:n,variant:h,mod:[{"data-orientation":u},m],role:"group",...b})});B1.classes=tc;B1.displayName="@mantine/core/ButtonGroup";const Bz=(e,{radius:n,color:t,gradient:r,variant:o,autoContrast:a,size:i})=>{const s=e.variantColorResolver({color:t||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:a});return{groupSection:{"--section-height":Tt(i,"section-height"),"--section-padding-x":Tt(i,"section-padding-x"),"--section-fz":i?.includes("compact")?Hn(i.replace("compact-","")):Hn(i),"--section-radius":n===void 0?void 0:pn(n),"--section-bg":t||o?s.background:void 0,"--section-color":s.color,"--section-bd":t||o?s.border:void 0}}},F1=Me((e,n)=>{const t=Ce("ButtonGroupSection",null,e),{className:r,style:o,classNames:a,styles:i,unstyled:s,vars:u,variant:c,gradient:f,radius:h,autoContrast:m,attributes:v,...b}=t,x=rt({name:"ButtonGroupSection",props:t,classes:tc,className:r,style:o,classNames:a,styles:i,unstyled:s,attributes:v,vars:u,varsResolver:Bz,rootSelector:"groupSection"});return y.jsx(re,{...x("groupSection"),ref:n,variant:c,...b})});F1.classes=tc;F1.displayName="@mantine/core/ButtonGroupSection";const Fz={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${xe(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Lz=(e,{radius:n,color:t,gradient:r,variant:o,size:a,justify:i,autoContrast:s})=>{const u=e.variantColorResolver({color:t||e.primaryColor,theme:e,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--button-justify":i,"--button-height":Tt(a,"button-height"),"--button-padding-x":Tt(a,"button-padding-x"),"--button-fz":a?.includes("compact")?Hn(a.replace("compact-","")):Hn(a),"--button-radius":n===void 0?void 0:pn(n),"--button-bg":t||o?u.background:void 0,"--button-hover":t||o?u.hover:void 0,"--button-color":u.color,"--button-bd":t||o?u.border:void 0,"--button-hover-color":t||o?u.hoverColor:void 0}}},Oe=_r((e,n)=>{const t=Ce("Button",null,e),{style:r,vars:o,className:a,color:i,disabled:s,children:u,leftSection:c,rightSection:f,fullWidth:h,variant:m,radius:v,loading:b,loaderProps:x,gradient:w,classNames:S,styles:E,unstyled:R,"data-disabled":D,autoContrast:A,mod:N,attributes:k,...M}=t,I=rt({name:"Button",props:t,classes:tc,className:a,style:r,classNames:S,styles:E,unstyled:R,attributes:k,vars:o,varsResolver:Lz}),P=!!c,L=!!f;return y.jsxs(Zo,{ref:n,...I("root",{active:!s&&!b&&!D}),unstyled:R,variant:m,disabled:s||b,mod:[{disabled:s||D,loading:b,block:h,"with-left-section":P,"with-right-section":L},N],...M,children:[typeof b=="boolean"&&y.jsx(li,{mounted:b,transition:Fz,duration:150,children:F=>y.jsx(re,{component:"span",...I("loader",{style:F}),"aria-hidden":!0,children:y.jsx(Ma,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...x})})}),y.jsxs("span",{...I("inner"),children:[c&&y.jsx(re,{component:"span",...I("section"),mod:{position:"left"},children:c}),y.jsx(re,{component:"span",mod:{loading:b},...I("label"),children:u}),f&&y.jsx(re,{component:"span",...I("section"),mod:{position:"right"},children:f})]})]})});Oe.classes=tc;Oe.displayName="@mantine/core/Button";Oe.Group=B1;Oe.GroupSection=F1;const[zz,Uz]=Io("Card component was not found in tree");var L1={root:"m_e615b15f",section:"m_599a2148"};const ev=_r((e,n)=>{const t=Ce("CardSection",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,withBorder:u,inheritPadding:c,mod:f,...h}=t,m=Uz();return y.jsx(re,{ref:n,mod:[{"with-border":u,"inherit-padding":c},f],...m.getStyles("section",{className:o,style:a,styles:i,classNames:r}),...h})});ev.classes=L1;ev.displayName="@mantine/core/CardSection";const Vz=(e,{padding:n})=>({root:{"--card-padding":fr(n)}}),Vn=_r((e,n)=>{const t=Ce("Card",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,children:c,padding:f,attributes:h,...m}=t,v=rt({name:"Card",props:t,classes:L1,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:h,vars:u,varsResolver:Vz}),b=T.Children.toArray(c),x=b.map((w,S)=>typeof w=="object"&&w&&"type"in w&&w.type===ev?T.cloneElement(w,{"data-first-section":S===0||void 0,"data-last-section":S===b.length-1||void 0}):w);return y.jsx(zz,{value:{getStyles:v},children:y.jsx(fi,{ref:n,unstyled:s,...v("root"),...m,children:x})})});Vn.classes=L1;Vn.displayName="@mantine/core/Card";Vn.Section=ev;var l3={root:"m_4451eb3a"};const Ir=_r((e,n)=>{const t=Ce("Center",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,inline:c,mod:f,attributes:h,...m}=t,v=rt({name:"Center",props:t,classes:l3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:h,vars:u});return y.jsx(re,{ref:n,mod:[{inline:c},f],...v("root"),...m})});Ir.classes=l3;Ir.displayName="@mantine/core/Center";var u3={root:"m_7485cace"};const Hz=(e,{size:n,fluid:t})=>({root:{"--container-size":t?void 0:Tt(n,"container-size")}}),Zt=Me((e,n)=>{const t=Ce("Container",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,fluid:c,mod:f,attributes:h,strategy:m,...v}=t,b=rt({name:"Container",classes:u3,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:h,vars:u,varsResolver:Hz});return y.jsx(re,{ref:n,mod:[{fluid:c,strategy:m||"block"},f],...b("root"),...v})});Zt.classes=u3;Zt.displayName="@mantine/core/Container";var c3={root:"m_3eebeb36",label:"m_9e365f20"};const Wz={orientation:"horizontal"},$z=(e,{color:n,variant:t,size:r})=>({root:{"--divider-color":n?Tn(n,e):void 0,"--divider-border-style":t,"--divider-size":Tt(r,"divider-size")}}),Fr=Me((e,n)=>{const t=Ce("Divider",Wz,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,color:c,orientation:f,label:h,labelPosition:m,mod:v,attributes:b,...x}=t,w=rt({name:"Divider",classes:c3,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:b,vars:u,varsResolver:$z});return y.jsx(re,{ref:n,mod:[{orientation:f,"with-label":!!h},v],...w("root"),...x,role:"separator",children:h&&y.jsx(re,{component:"span",mod:{position:m},...w("label"),children:h})})});Fr.classes=c3;Fr.displayName="@mantine/core/Divider";const[Gz,nc]=Io("Drawer component was not found in tree");var pi={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const tv=Me((e,n)=>{const t=Ce("DrawerBody",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=nc();return y.jsx(p1,{ref:n,...c.getStyles("body",{classNames:r,style:a,styles:i,className:o}),...u})});tv.classes=pi;tv.displayName="@mantine/core/DrawerBody";const nv=Me((e,n)=>{const t=Ce("DrawerCloseButton",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=nc();return y.jsx(m1,{ref:n,...c.getStyles("close",{classNames:r,style:a,styles:i,className:o}),...u})});nv.classes=pi;nv.displayName="@mantine/core/DrawerCloseButton";const rv=Me((e,n)=>{const t=Ce("DrawerContent",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,children:u,radius:c,__hidden:f,...h}=t,m=nc(),v=m.scrollAreaComponent||ON;return y.jsx(v1,{...m.getStyles("content",{className:o,style:a,styles:i,classNames:r}),innerProps:m.getStyles("inner",{className:o,style:a,styles:i,classNames:r}),ref:n,...h,radius:c||m.radius||0,"data-hidden":f||void 0,children:y.jsx(v,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:u})})});rv.classes=pi;rv.displayName="@mantine/core/DrawerContent";const ov=Me((e,n)=>{const t=Ce("DrawerHeader",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=nc();return y.jsx(g1,{ref:n,...c.getStyles("header",{classNames:r,style:a,styles:i,className:o}),...u})});ov.classes=pi;ov.displayName="@mantine/core/DrawerHeader";const av=Me((e,n)=>{const t=Ce("DrawerOverlay",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=nc();return y.jsx(y1,{ref:n,...c.getStyles("overlay",{classNames:r,style:a,styles:i,className:o}),...u})});av.classes=pi;av.displayName="@mantine/core/DrawerOverlay";function qz(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function Xz(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const Yz={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},Kz={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},Qz={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Rr("modal"),position:"left"},Jz=(e,{position:n,size:t,offset:r})=>({root:{"--drawer-size":Tt(t,"drawer-size"),"--drawer-flex":Xz(n),"--drawer-height":n==="left"||n==="right"?void 0:"var(--drawer-size)","--drawer-align":qz(n),"--drawer-justify":n==="right"?"flex-end":void 0,"--drawer-offset":xe(r)}}),iv=Me((e,n)=>{const t=Ce("DrawerRoot",Qz,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,scrollAreaComponent:c,position:f,transitionProps:h,radius:m,attributes:v,...b}=t,{dir:x}=vf(),w=rt({name:"Drawer",classes:pi,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:v,vars:u,varsResolver:Jz}),S=(x==="rtl"?Kz:Yz)[f];return y.jsx(Gz,{value:{scrollAreaComponent:c,getStyles:w,radius:m},children:y.jsx(h1,{ref:n,...w("root"),transitionProps:{transition:S,...h},"data-offset-scrollbars":c===jo.Autosize||void 0,unstyled:s,...b})})});iv.classes=pi;iv.displayName="@mantine/core/DrawerRoot";const[Zz,e8]=hf();function d3({children:e}){const[n,t]=T.useState([]),[r,o]=T.useState(Rr("modal"));return y.jsx(Zz,{value:{stack:n,addModal:(a,i)=>{t(s=>[...new Set([...s,a])]),o(s=>typeof i=="number"&&typeof s=="number"?Math.max(s,i):s)},removeModal:a=>t(i=>i.filter(s=>s!==a)),getZIndex:a=>`calc(${r} + ${n.indexOf(a)} + 1)`,currentId:n[n.length-1],maxZIndex:r},children:e})}d3.displayName="@mantine/core/DrawerStack";const sv=Me((e,n)=>{const t=Ce("DrawerTitle",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=nc();return y.jsx(b1,{ref:n,...c.getStyles("title",{classNames:r,style:a,styles:i,className:o}),...u})});sv.classes=pi;sv.displayName="@mantine/core/DrawerTitle";const t8={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Rr("modal"),withOverlay:!0,withCloseButton:!0},ta=Me((e,n)=>{const{title:t,withOverlay:r,overlayProps:o,withCloseButton:a,closeButtonProps:i,children:s,opened:u,stackId:c,zIndex:f,...h}=Ce("Drawer",t8,e),m=e8(),v=!!t||a,b=m&&c?{closeOnEscape:m.currentId===c,trapFocus:m.currentId===c,zIndex:m.getZIndex(c)}:{},x=r===!1?!1:c&&m?m.currentId===c:u;return T.useEffect(()=>{m&&c&&(u?m.addModal(c,f||Rr("modal")):m.removeModal(c))},[u,c,f]),y.jsxs(iv,{ref:n,opened:u,zIndex:m&&c?m.getZIndex(c):f,...h,...b,children:[r&&y.jsx(av,{visible:x,transitionProps:m&&c?{duration:0}:void 0,...o}),y.jsxs(rv,{__hidden:m&&c&&u?c!==m.currentId:!1,children:[v&&y.jsxs(ov,{children:[t&&y.jsx(sv,{children:t}),a&&y.jsx(nv,{...i})]}),y.jsx(tv,{children:s})]})]})});ta.classes=pi;ta.displayName="@mantine/core/Drawer";ta.Root=iv;ta.Overlay=av;ta.Content=rv;ta.Body=tv;ta.Header=ov;ta.Title=sv;ta.CloseButton=nv;ta.Stack=d3;const n8={multiple:!1},f3=T.forwardRef((e,n)=>{const{onChange:t,children:r,multiple:o,accept:a,name:i,form:s,resetRef:u,disabled:c,capture:f,inputProps:h,...m}=Ce("FileButton",n8,e),v=T.useRef(null),b=()=>{!c&&v.current?.click()},x=S=>{if(S.currentTarget.files===null)return t(o?[]:null);t(o?Array.from(S.currentTarget.files):S.currentTarget.files[0]||null)};return jd(u,()=>{v.current&&(v.current.value="")}),y.jsxs(y.Fragment,{children:[y.jsx("input",{style:{display:"none"},type:"file",accept:a,multiple:o,onChange:x,ref:In(n,v),name:i,form:s,capture:f,...h}),r({onClick:b,...m})]})});f3.displayName="@mantine/core/FileButton";const r8=({value:e})=>y.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(e)?e.map(n=>n.name).join(", "):e?.name}),o8={valueComponent:r8},z1=Me((e,n)=>{const t=Ce("FileInput",o8,e),{unstyled:r,vars:o,onChange:a,value:i,defaultValue:s,multiple:u,accept:c,name:f,form:h,valueComponent:m,clearable:v,clearButtonProps:b,readOnly:x,capture:w,fileInputProps:S,rightSection:E,size:R,placeholder:D,component:A,resetRef:N,classNames:k,styles:M,attributes:I,...P}=t,L=T.useRef(null),{resolvedClassNames:F,resolvedStyles:Y}=cl({classNames:k,styles:M,props:t}),[W,X]=Ta({value:i,defaultValue:s,onChange:a,finalValue:u?[]:null}),j=Array.isArray(W)?W.length!==0:W!==null,U=E||(v&&j&&!x?y.jsx(dl,{...b,variant:"subtle",onClick:()=>X(u?[]:null),size:R,unstyled:r}):null);return T.useEffect(()=>{(Array.isArray(W)&&W.length===0||W===null)&&L.current?.()},[W]),y.jsx(f3,{onChange:X,multiple:u,accept:c,name:f,form:h,resetRef:In(L,N),disabled:x,capture:w,inputProps:S,children:V=>y.jsx(ho,{component:A||"button",ref:n,rightSection:U,...V,...P,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:t,unstyled:r,size:R,classNames:k,styles:M,attributes:I,children:j?y.jsx(m,{value:W}):y.jsx(yn.Placeholder,{__staticSelector:"FileInput",classNames:F,styles:Y,attributes:I,children:D})})})});z1.classes=ho.classes;z1.displayName="@mantine/core/FileInput";const zb=z1,[a8,h3]=Io("HoverCard component was not found in the tree"),p3=T.createContext(!1),i8=p3.Provider,U1=()=>T.useContext(p3);function m3(e){const{children:n,onMouseEnter:t,onMouseLeave:r,...o}=Ce("HoverCardDropdown",null,e),a=h3();if(U1()&&a.getFloatingProps&&a.floating){const c=a.getFloatingProps();return y.jsx(co.Dropdown,{ref:a.floating,...c,onMouseEnter:Su(t,c.onMouseEnter),onMouseLeave:Su(r,c.onMouseLeave),...o,children:n})}const s=Su(t,a.openDropdown),u=Su(r,a.closeDropdown);return y.jsx(co.Dropdown,{onMouseEnter:s,onMouseLeave:u,...o,children:n})}m3.displayName="@mantine/core/HoverCardDropdown";const s8={openDelay:0,closeDelay:0};function V1(e){const{openDelay:n,closeDelay:t,children:r}=Ce("HoverCardGroup",s8,e);return y.jsx(i8,{value:!0,children:y.jsx(eN,{delay:{open:n,close:t},children:r})})}V1.displayName="@mantine/core/HoverCardGroup";V1.extend=e=>e;const l8={refProp:"ref"},v3=T.forwardRef((e,n)=>{const{children:t,refProp:r,eventPropsWrapperName:o,...a}=Ce("HoverCardTarget",l8,e);if(!gs(t))throw new Error("HoverCard.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=h3();if(U1()&&i.getReferenceProps&&i.reference){const h=i.getReferenceProps();return y.jsx(co.Target,{refProp:r,ref:n,...a,children:T.cloneElement(t,o?{[o]:{...h,ref:i.reference}}:{...h,ref:i.reference})})}const u=Su(t.props.onMouseEnter,i.openDropdown),c=Su(t.props.onMouseLeave,i.closeDropdown),f={onMouseEnter:u,onMouseLeave:c};return y.jsx(co.Target,{refProp:r,ref:n,...a,children:T.cloneElement(t,o?{[o]:f}:f)})});v3.displayName="@mantine/core/HoverCardTarget";function u8(e){const[n,t]=T.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:n,a=U1(),i=Oo(),s=T.useRef(-1),u=T.useRef(-1),c=T.useCallback(()=>{window.clearTimeout(s.current),window.clearTimeout(u.current)},[]),f=T.useCallback(R=>{t(R),R?(b(i),e.onOpen?.()):e.onClose?.()},[i,e.onOpen,e.onClose]),{context:h,refs:m}=$m({open:o,onOpenChange:f}),{delay:v,setCurrentId:b}=tN(h,{id:i}),{getReferenceProps:x,getFloatingProps:w}=rN([JA(h,{enabled:!0,delay:a?v:{open:e.openDelay,close:e.closeDelay}}),oN(h,{role:"dialog"}),nN(h,{enabled:a})]),S=T.useCallback(()=>{a||(c(),e.openDelay===0||e.openDelay===void 0?f(!0):s.current=window.setTimeout(()=>f(!0),e.openDelay))},[a,c,e.openDelay,f]),E=T.useCallback(()=>{a||(c(),e.closeDelay===0||e.closeDelay===void 0?f(!1):u.current=window.setTimeout(()=>f(!1),e.closeDelay))},[a,c,e.closeDelay,f]);return T.useEffect(()=>()=>c(),[c]),{opened:o,reference:m.setReference,floating:m.setFloating,getReferenceProps:x,getFloatingProps:w,openDropdown:S,closeDropdown:E}}const c8={openDelay:0,closeDelay:150,initiallyOpened:!1};function ss(e){const{children:n,onOpen:t,onClose:r,openDelay:o,closeDelay:a,initiallyOpened:i,...s}=Ce("HoverCard",c8,e),u=u8({openDelay:o,closeDelay:a,defaultOpened:i,onOpen:t,onClose:r});return y.jsx(a8,{value:{openDropdown:u.openDropdown,closeDropdown:u.closeDropdown,getReferenceProps:u.getReferenceProps,getFloatingProps:u.getFloatingProps,reference:u.reference,floating:u.floating},children:y.jsx(co,{...s,opened:u.opened,__staticSelector:"HoverCard",children:n})})}ss.displayName="@mantine/core/HoverCard";ss.Target=v3;ss.Dropdown=m3;ss.Group=V1;ss.extend=e=>e;var g3={root:"m_9e117634"};const d8=(e,{radius:n,fit:t})=>({root:{"--image-radius":n===void 0?void 0:pn(n),"--image-object-fit":t}}),Ud=_r((e,n)=>{const t=Ce("Image",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,onError:c,src:f,radius:h,fit:m,fallbackSrc:v,mod:b,attributes:x,...w}=t,[S,E]=T.useState(!f);T.useEffect(()=>E(!f),[f]);const R=rt({name:"Image",classes:g3,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:x,vars:u,varsResolver:d8});return S&&v?y.jsx(re,{component:"img",ref:n,src:v,...R("root"),onError:c,mod:["fallback",b],...w}):y.jsx(re,{component:"img",ref:n,...R("root"),src:f,onError:D=>{c?.(D),E(!0)},mod:b,...w})});Ud.classes=g3;Ud.displayName="@mantine/core/Image";function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Uu.apply(null,arguments)}function H1(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}var f8=T.useLayoutEffect,h8=function(n){var t=ft.useRef(n);return f8(function(){t.current=n}),t},C_=function(n,t){if(typeof n=="function"){n(t);return}n.current=t},p8=function(n,t){var r=ft.useRef();return ft.useCallback(function(o){n.current=o,r.current&&C_(r.current,null),r.current=t,t&&C_(t,o)},[t])},E_={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},m8=function(n){Object.keys(E_).forEach(function(t){n.style.setProperty(t,E_[t],"important")})},R_=m8,br=null,__=function(n,t){var r=n.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?r+t.borderSize:r-t.paddingSize};function v8(e,n,t,r){t===void 0&&(t=1),r===void 0&&(r=1/0),br||(br=document.createElement("textarea"),br.setAttribute("tabindex","-1"),br.setAttribute("aria-hidden","true"),R_(br)),br.parentNode===null&&document.body.appendChild(br);var o=e.paddingSize,a=e.borderSize,i=e.sizingStyle,s=i.boxSizing;Object.keys(i).forEach(function(m){var v=m;br.style[v]=i[v]}),R_(br),br.value=n;var u=__(br,e);br.value=n,u=__(br,e),br.value="x";var c=br.scrollHeight-o,f=c*t;s==="border-box"&&(f=f+o+a),u=Math.max(f,u);var h=c*r;return s==="border-box"&&(h=h+o+a),u=Math.min(h,u),[u,c]}var T_=function(){},g8=function(n,t){return n.reduce(function(r,o){return r[o]=t[o],r},{})},y8=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],b8=!!document.documentElement.currentStyle,x8=function(n){var t=window.getComputedStyle(n);if(t===null)return null;var r=g8(y8,t),o=r.boxSizing;if(o==="")return null;b8&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:i}},w8=x8;function W1(e,n,t){var r=h8(t);T.useLayoutEffect(function(){var o=function(i){return r.current(i)};if(e)return e.addEventListener(n,o),function(){return e.removeEventListener(n,o)}},[])}var S8=function(n,t){W1(document.body,"reset",function(r){n.current.form===r.target&&t(r)})},C8=function(n){W1(window,"resize",n)},E8=function(n){W1(document.fonts,"loadingdone",n)},R8=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],_8=function(n,t){var r=n.cacheMeasurements,o=n.maxRows,a=n.minRows,i=n.onChange,s=i===void 0?T_:i,u=n.onHeightChange,c=u===void 0?T_:u,f=H1(n,R8),h=f.value!==void 0,m=T.useRef(null),v=p8(m,t),b=T.useRef(0),x=T.useRef(),w=function(){var R=m.current,D=r&&x.current?x.current:w8(R);if(D){x.current=D;var A=v8(D,R.value||R.placeholder||"x",a,o),N=A[0],k=A[1];b.current!==N&&(b.current=N,R.style.setProperty("height",N+"px","important"),c(N,{rowHeight:k}))}},S=function(R){h||w(),s(R)};return T.useLayoutEffect(w),S8(m,function(){if(!h){var E=m.current.value;requestAnimationFrame(function(){var R=m.current;R&&E!==R.value&&w()})}}),C8(w),E8(w),T.createElement("textarea",Uu({},f,{onChange:S,ref:v}))},T8=T.forwardRef(_8);const D8={size:"sm"},Kp=Me((e,n)=>{const{autosize:t,maxRows:r,minRows:o,__staticSelector:a,resize:i,...s}=Ce("Textarea",D8,e),u=t&&xA()!=="test",c=u?{maxRows:r,minRows:o}:{};return y.jsx(ho,{component:u?T8:"textarea",ref:n,...s,__staticSelector:a||"Textarea",multiline:!0,"data-no-overflow":t&&r===void 0||void 0,__vars:{"--input-resize":i},...c})});Kp.classes=ho.classes;Kp.displayName="@mantine/core/Textarea";const[A8,N8]=Io("List component was not found in tree");var $1={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const G1=Me((e,n)=>{const t=Ce("ListItem",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,icon:u,children:c,mod:f,...h}=t,m=N8(),v=u||m.icon,b={classNames:r,styles:i};return y.jsx(re,{...m.getStyles("item",{...b,className:o,style:a}),component:"li",mod:[{"with-icon":!!v,centered:m.center},f],ref:n,...h,children:y.jsxs("div",{...m.getStyles("itemWrapper",b),children:[v&&y.jsx("span",{...m.getStyles("itemIcon",b),children:v}),y.jsx("span",{...m.getStyles("itemLabel",b),children:c})]})})});G1.classes=$1;G1.displayName="@mantine/core/ListItem";const k8={type:"unordered"},M8=(e,{size:n,spacing:t})=>({root:{"--list-fz":Hn(n),"--list-lh":hA(n),"--list-spacing":fr(t)}}),hn=Me((e,n)=>{const t=Ce("List",k8,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,children:c,type:f,withPadding:h,icon:m,spacing:v,center:b,listStyleType:x,mod:w,attributes:S,...E}=t,R=rt({name:"List",classes:$1,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:S,vars:u,varsResolver:M8});return y.jsx(A8,{value:{center:b,icon:m,getStyles:R},children:y.jsx(re,{...R("root",{style:{listStyleType:x}}),component:f==="unordered"?"ul":"ol",mod:[{"with-padding":h},w],ref:n,...E,children:c})})});hn.classes=$1;hn.displayName="@mantine/core/List";hn.Item=G1;const[I8,rc]=Io("Modal component was not found in tree");var mi={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const lv=Me((e,n)=>{const t=Ce("ModalBody",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=rc();return y.jsx(p1,{ref:n,...c.getStyles("body",{classNames:r,style:a,styles:i,className:o}),...u})});lv.classes=mi;lv.displayName="@mantine/core/ModalBody";const uv=Me((e,n)=>{const t=Ce("ModalCloseButton",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=rc();return y.jsx(m1,{ref:n,...c.getStyles("close",{classNames:r,style:a,styles:i,className:o}),...u})});uv.classes=mi;uv.displayName="@mantine/core/ModalCloseButton";const cv=Me((e,n)=>{const t=Ce("ModalContent",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,children:u,__hidden:c,...f}=t,h=rc(),m=h.scrollAreaComponent||ON;return y.jsx(v1,{...h.getStyles("content",{className:o,style:a,styles:i,classNames:r}),innerProps:h.getStyles("inner",{className:o,style:a,styles:i,classNames:r}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:n,...f,children:y.jsx(m,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${xe(h.yOffset)} * 2))`},children:u})})});cv.classes=mi;cv.displayName="@mantine/core/ModalContent";const dv=Me((e,n)=>{const t=Ce("ModalHeader",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=rc();return y.jsx(g1,{ref:n,...c.getStyles("header",{classNames:r,style:a,styles:i,className:o}),...u})});dv.classes=mi;dv.displayName="@mantine/core/ModalHeader";const fv=Me((e,n)=>{const t=Ce("ModalOverlay",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=rc();return y.jsx(y1,{ref:n,...c.getStyles("overlay",{classNames:r,style:a,styles:i,className:o}),...u})});fv.classes=mi;fv.displayName="@mantine/core/ModalOverlay";const O8={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Rr("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},P8=(e,{radius:n,size:t,yOffset:r,xOffset:o})=>({root:{"--modal-radius":n===void 0?void 0:pn(n),"--modal-size":Tt(t,"modal-size"),"--modal-y-offset":xe(r),"--modal-x-offset":xe(o)}}),hv=Me((e,n)=>{const t=Ce("ModalRoot",O8,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,yOffset:c,scrollAreaComponent:f,radius:h,fullScreen:m,centered:v,xOffset:b,__staticSelector:x,attributes:w,...S}=t,E=rt({name:x,classes:mi,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:w,vars:u,varsResolver:P8});return y.jsx(I8,{value:{yOffset:c,scrollAreaComponent:f,getStyles:E,fullScreen:m},children:y.jsx(h1,{ref:n,...E("root"),"data-full-screen":m||void 0,"data-centered":v||void 0,"data-offset-scrollbars":f===jo.Autosize||void 0,unstyled:s,...S})})});hv.classes=mi;hv.displayName="@mantine/core/ModalRoot";const[j8,B8]=hf();function y3({children:e}){const[n,t]=T.useState([]),[r,o]=T.useState(Rr("modal"));return y.jsx(j8,{value:{stack:n,addModal:(a,i)=>{t(s=>[...new Set([...s,a])]),o(s=>typeof i=="number"&&typeof s=="number"?Math.max(s,i):s)},removeModal:a=>t(i=>i.filter(s=>s!==a)),getZIndex:a=>`calc(${r} + ${n.indexOf(a)} + 1)`,currentId:n[n.length-1],maxZIndex:r},children:e})}y3.displayName="@mantine/core/ModalStack";const pv=Me((e,n)=>{const t=Ce("ModalTitle",null,e),{classNames:r,className:o,style:a,styles:i,vars:s,...u}=t,c=rc();return y.jsx(b1,{ref:n,...c.getStyles("title",{classNames:r,style:a,styles:i,className:o}),...u})});pv.classes=mi;pv.displayName="@mantine/core/ModalTitle";const F8={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Rr("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Er=Me((e,n)=>{const{title:t,withOverlay:r,overlayProps:o,withCloseButton:a,closeButtonProps:i,children:s,radius:u,opened:c,stackId:f,zIndex:h,...m}=Ce("Modal",F8,e),v=B8(),b=!!t||a,x=v&&f?{closeOnEscape:v.currentId===f,trapFocus:v.currentId===f,zIndex:v.getZIndex(f)}:{},w=r===!1?!1:f&&v?v.currentId===f:c;return T.useEffect(()=>{v&&f&&(c?v.addModal(f,h||Rr("modal")):v.removeModal(f))},[c,f,h]),y.jsxs(hv,{ref:n,radius:u,opened:c,zIndex:v&&f?v.getZIndex(f):h,...m,...x,children:[r&&y.jsx(fv,{visible:w,transitionProps:v&&f?{duration:0}:void 0,...o}),y.jsxs(cv,{radius:u,__hidden:v&&f&&c?f!==v.currentId:!1,children:[b&&y.jsxs(dv,{children:[t&&y.jsx(pv,{children:t}),a&&y.jsx(uv,{...i})]}),y.jsx(lv,{children:s})]})]})});Er.classes=mi;Er.displayName="@mantine/core/Modal";Er.Root=hv;Er.Overlay=fv;Er.Content=cv;Er.Body=lv;Er.Header=dv;Er.Title=pv;Er.CloseButton=uv;Er.Stack=y3;var b3={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const L8={withCloseButton:!0},z8=(e,{radius:n,color:t})=>({root:{"--notification-radius":n===void 0?void 0:pn(n),"--notification-color":t?Tn(t,e):void 0}}),q1=Me((e,n)=>{const t=Ce("Notification",L8,e),{className:r,color:o,radius:a,loading:i,withCloseButton:s,withBorder:u,title:c,icon:f,children:h,onClose:m,closeButtonProps:v,classNames:b,style:x,styles:w,unstyled:S,variant:E,vars:R,mod:D,loaderProps:A,role:N,attributes:k,...M}=t,I=rt({name:"Notification",classes:b3,props:t,className:r,style:x,classNames:b,styles:w,unstyled:S,attributes:k,vars:R,varsResolver:z8});return y.jsxs(re,{...I("root"),mod:[{"data-with-icon":!!f||i,"data-with-border":u},D],ref:n,variant:E,role:N||"alert",...M,children:[f&&!i&&y.jsx("div",{...I("icon"),children:f}),i&&y.jsx(Ma,{size:28,color:o,...A,...I("loader")}),y.jsxs("div",{...I("body"),children:[c&&y.jsx("div",{...I("title"),children:c}),y.jsx(re,{...I("description"),mod:{"data-with-title":!!c},children:h})]}),s&&y.jsx(dl,{iconSize:16,color:"gray",...v,unstyled:S,onClick:m,...I("closeButton")})]})});q1.classes=b3;q1.displayName="@mantine/core/Notification";function x3(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}var Vd;(function(e){e.event="event",e.props="prop"})(Vd||(Vd={}));function ts(){}function U8(e){var n,t=void 0;return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return n&&r.length===n.length&&r.every(function(a,i){return a===n[i]})||(n=r,t=e.apply(void 0,r)),t}}function Hd(e){return!!(e||"").match(/\d/)}function Au(e){return e==null}function V8(e){return typeof e=="number"&&isNaN(e)}function w3(e){return Au(e)||V8(e)||typeof e=="number"&&!isFinite(e)}function S3(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function H8(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function W8(e,n,t){var r=H8(t),o=e.search(/[1-9]/);return o=o===-1?e.length:o,e.substring(0,o)+e.substring(o,e.length).replace(r,"$1"+n)}function $8(e){var n=T.useRef(e);n.current=e;var t=T.useRef(function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return n.current.apply(n,r)});return t.current}function X1(e,n){n===void 0&&(n=!0);var t=e[0]==="-",r=t&&n;e=e.replace("-","");var o=e.split("."),a=o[0],i=o[1]||"";return{beforeDecimal:a,afterDecimal:i,hasNegation:t,addNegation:r}}function G8(e){if(!e)return e;var n=e[0]==="-";n&&(e=e.substring(1,e.length));var t=e.split("."),r=t[0].replace(/^0+/,"")||"0",o=t[1]||"";return(n?"-":"")+r+(o?"."+o:"")}function C3(e,n,t){for(var r="",o=t?"0":"",a=0;a<=n-1;a++)r+=e[a]||o;return r}function D_(e,n){return Array(n+1).join(e)}function E3(e){var n=e+"",t=n[0]==="-"?"-":"";t&&(n=n.substring(1));var r=n.split(/[eE]/g),o=r[0],a=r[1];if(a=Number(a),!a)return t+o;o=o.replace(".","");var i=1+a,s=o.length;return i<0?o="0."+D_("0",Math.abs(i))+o:i>=s?o=o+D_("0",i-s):o=(o.substring(0,i)||"0")+"."+o.substring(i),t+o}function A_(e,n,t){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||t)&&n,o=X1(e),a=o.beforeDecimal,i=o.afterDecimal,s=o.hasNegation,u=parseFloat("0."+(i||"0")),c=i.length<=n?"0."+i:u.toFixed(n),f=c.split("."),h=a;a&&Number(f[0])&&(h=a.split("").reverse().reduce(function(x,w,S){return x.length>S?(Number(x[0])+Number(w)).toString()+x.substring(1,x.length):w+x},f[0]));var m=C3(f[1]||"",n,t),v=s?"-":"",b=r?".":"";return""+v+h+b+m}function Xs(e,n){if(e.value=e.value,e!==null){if(e.createTextRange){var t=e.createTextRange();return t.move("character",n),t.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(n,n),!0):(e.focus(),!1)}}var R3=U8(function(e,n){for(var t=0,r=0,o=e.length,a=n.length;e[t]===n[t]&&t<o;)t++;for(;e[o-1-r]===n[a-1-r]&&a-r>t&&o-r>t;)r++;return{from:{start:t,end:o-r},to:{start:t,end:a-r}}}),q8=function(e,n){var t=Math.min(e.selectionStart,n);return{from:{start:t,end:e.selectionEnd},to:{start:t,end:n}}};function X8(e,n,t){return Math.min(Math.max(e,n),t)}function M0(e){return Math.max(e.selectionStart,e.selectionEnd)}function Y8(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function K8(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Q8(e){var n=e.currentValue,t=e.formattedValue,r=e.currentValueIndex,o=e.formattedValueIndex;return n[r]===t[o]}function J8(e,n,t,r,o,a,i){i===void 0&&(i=Q8);var s=o.findIndex(function(D){return D}),u=e.slice(0,s);!n&&!t.startsWith(u)&&(n=u,t=u+t,r=r+u.length);for(var c=t.length,f=e.length,h={},m=new Array(c),v=0;v<c;v++){m[v]=-1;for(var b=0,x=f;b<x;b++){var w=i({currentValue:t,lastValue:n,formattedValue:e,currentValueIndex:v,formattedValueIndex:b});if(w&&h[b]!==!0){m[v]=b,h[b]=!0;break}}}for(var S=r;S<c&&(m[S]===-1||!a(t[S]));)S++;var E=S===c||m[S]===-1?f:m[S];for(S=r-1;S>0&&m[S]===-1;)S--;var R=S===-1||m[S]===-1?0:m[S]+1;return R>E?E:r-R<E-r?R:E}function N_(e,n,t,r){var o=e.length;if(n=X8(n,0,o),r==="left"){for(;n>=0&&!t[n];)n--;n===-1&&(n=t.indexOf(!0))}else{for(;n<=o&&!t[n];)n++;n>o&&(n=t.lastIndexOf(!0))}return n===-1&&(n=o),n}function Z8(e){for(var n=Array.from({length:e.length+1}).map(function(){return!0}),t=0,r=n.length;t<r;t++)n[t]=!!(Hd(e[t])||Hd(e[t-1]));return n}function _3(e,n,t,r,o,a){a===void 0&&(a=ts);var i=$8(function(b,x){var w,S;return w3(b)?(S="",w=""):typeof b=="number"||x?(S=typeof b=="number"?E3(b):b,w=r(S)):(S=o(b,void 0),w=r(S)),{formattedValue:w,numAsString:S}}),s=T.useState(function(){return i(Au(e)?n:e,t)}),u=s[0],c=s[1],f=function(b,x){b.formattedValue!==u.formattedValue&&c({formattedValue:b.formattedValue,numAsString:b.value}),a(b,x)},h=e,m=t;Au(e)&&(h=u.numAsString,m=!0);var v=i(h,m);return T.useMemo(function(){c(v)},[v.formattedValue]),[u,f]}function eU(e){return e.replace(/[^0-9]/g,"")}function tU(e){return e}function nU(e){var n=e.type;n===void 0&&(n="text");var t=e.displayType;t===void 0&&(t="input");var r=e.customInput,o=e.renderText,a=e.getInputRef,i=e.format;i===void 0&&(i=tU);var s=e.removeFormatting;s===void 0&&(s=eU);var u=e.defaultValue,c=e.valueIsNumericString,f=e.onValueChange,h=e.isAllowed,m=e.onChange;m===void 0&&(m=ts);var v=e.onKeyDown;v===void 0&&(v=ts);var b=e.onMouseUp;b===void 0&&(b=ts);var x=e.onFocus;x===void 0&&(x=ts);var w=e.onBlur;w===void 0&&(w=ts);var S=e.value,E=e.getCaretBoundary;E===void 0&&(E=Z8);var R=e.isValidInputCharacter;R===void 0&&(R=Hd);var D=e.isCharacterSame,A=x3(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),N=_3(S,u,!!c,i,s,f),k=N[0],M=k.formattedValue,I=k.numAsString,P=N[1],L=T.useRef(),F=T.useRef({formattedValue:M,numAsString:I}),Y=function(_e,De){F.current={formattedValue:_e.formattedValue,numAsString:_e.value},P(_e,De)},W=T.useState(!1),X=W[0],j=W[1],U=T.useRef(null),V=T.useRef({setCaretTimeout:null,focusTimeout:null});T.useEffect(function(){return j(!0),function(){clearTimeout(V.current.setCaretTimeout),clearTimeout(V.current.focusTimeout)}},[]);var q=i,B=function(_e,De){var ke=parseFloat(De);return{formattedValue:_e,value:De,floatValue:isNaN(ke)?void 0:ke}},G=function(_e,De,ke){_e.selectionStart===0&&_e.selectionEnd===_e.value.length||(Xs(_e,De),V.current.setCaretTimeout=setTimeout(function(){_e.value===ke&&_e.selectionStart!==De&&Xs(_e,De)},0))},J=function(_e,De,ke){return N_(_e,De,E(_e),ke)},ne=function(_e,De,ke){var tt=E(De),lt=J8(De,M,_e,ke,tt,R,D);return lt=N_(De,lt,tt),lt},he=function(_e){var De=_e.formattedValue;De===void 0&&(De="");var ke=_e.input,tt=_e.source,lt=_e.event,nt=_e.numAsString,$e;if(ke){var qt=_e.inputValue||ke.value,Ae=M0(ke);ke.value=De,$e=ne(qt,De,Ae),$e!==void 0&&G(ke,$e,De)}De!==M&&Y(B(De,nt),{event:lt,source:tt})};T.useEffect(function(){var _e=F.current,De=_e.formattedValue,ke=_e.numAsString;(M!==De||I!==ke)&&Y(B(M,I),{event:void 0,source:Vd.props})},[M,I]);var Se=U.current?M0(U.current):void 0,ae=typeof window<"u"?T.useLayoutEffect:T.useEffect;ae(function(){var _e=U.current;if(M!==F.current.formattedValue&&_e){var De=ne(F.current.formattedValue,M,Se);_e.value=M,G(_e,De,M)}},[M]);var le=function(_e,De,ke){var tt=De.target,lt=L.current?q8(L.current,tt.selectionEnd):R3(M,_e),nt=Object.assign(Object.assign({},lt),{lastValue:M}),$e=s(_e,nt),qt=q($e);if($e=s(qt,void 0),h&&!h(B(qt,$e))){var Ae=De.target,Fe=M0(Ae),it=ne(_e,M,Fe);return Ae.value=M,G(Ae,it,M),!1}return he({formattedValue:qt,numAsString:$e,inputValue:_e,event:De,source:ke,input:De.target}),!0},ge=function(_e,De){De===void 0&&(De=0);var ke=_e.selectionStart,tt=_e.selectionEnd;L.current={selectionStart:ke,selectionEnd:tt+De}},me=function(_e){var De=_e.target,ke=De.value,tt=le(ke,_e,Vd.event);tt&&m(_e),L.current=void 0},Pe=function(_e){var De=_e.target,ke=_e.key,tt=De.selectionStart,lt=De.selectionEnd,nt=De.value;nt===void 0&&(nt="");var $e;ke==="ArrowLeft"||ke==="Backspace"?$e=Math.max(tt-1,0):ke==="ArrowRight"?$e=Math.min(tt+1,nt.length):ke==="Delete"&&($e=tt);var qt=0;ke==="Delete"&&tt===lt&&(qt=1);var Ae=ke==="ArrowLeft"||ke==="ArrowRight";if($e===void 0||tt!==lt&&!Ae){v(_e),ge(De,qt);return}var Fe=$e;if(Ae){var it=ke==="ArrowLeft"?"left":"right";Fe=J(nt,$e,it),Fe!==$e&&_e.preventDefault()}else ke==="Delete"&&!R(nt[$e])?Fe=J(nt,$e,"right"):ke==="Backspace"&&!R(nt[$e])&&(Fe=J(nt,$e,"left"));Fe!==$e&&G(De,Fe,nt),v(_e),ge(De,qt)},je=function(_e){var De=_e.target,ke=function(){var tt=De.selectionStart,lt=De.selectionEnd,nt=De.value;if(nt===void 0&&(nt=""),tt===lt){var $e=J(nt,tt);$e!==tt&&G(De,$e,nt)}};ke(),requestAnimationFrame(function(){ke()}),b(_e),ge(De)},Be=function(_e){_e.persist&&_e.persist();var De=_e.target,ke=_e.currentTarget;U.current=De,V.current.focusTimeout=setTimeout(function(){var tt=De.selectionStart,lt=De.selectionEnd,nt=De.value;nt===void 0&&(nt="");var $e=J(nt,tt);$e!==tt&&!(tt===0&&lt===nt.length)&&G(De,$e,nt),x(Object.assign(Object.assign({},_e),{currentTarget:ke}))},0)},Te=function(_e){U.current=null,clearTimeout(V.current.focusTimeout),clearTimeout(V.current.setCaretTimeout),w(_e)},We=X&&Y8()?"numeric":void 0,ct=Object.assign({inputMode:We},A,{type:n,value:M,onChange:me,onKeyDown:Pe,onMouseUp:je,onFocus:Be,onBlur:Te});if(t==="text")return o?ft.createElement(ft.Fragment,null,o(M,A)||null):ft.createElement("span",Object.assign({},A,{ref:a}),M);if(r){var at=r;return ft.createElement(at,Object.assign({},ct,{ref:a}))}return ft.createElement("input",Object.assign({},ct,{ref:a}))}function k_(e,n){var t=n.decimalScale,r=n.fixedDecimalScale,o=n.prefix;o===void 0&&(o="");var a=n.suffix;a===void 0&&(a="");var i=n.allowNegative,s=n.thousandsGroupStyle;if(s===void 0&&(s="thousand"),e===""||e==="-")return e;var u=mv(n),c=u.thousandSeparator,f=u.decimalSeparator,h=t!==0&&e.indexOf(".")!==-1||t&&r,m=X1(e,i),v=m.beforeDecimal,b=m.afterDecimal,x=m.addNegation;return t!==void 0&&(b=C3(b,t,!!r)),c&&(v=W8(v,c,s)),o&&(v=o+v),a&&(b=b+a),x&&(v="-"+v),e=v+(h&&f||"")+b,e}function mv(e){var n=e.decimalSeparator;n===void 0&&(n=".");var t=e.thousandSeparator,r=e.allowedDecimalSeparators;return t===!0&&(t=","),r||(r=[n,"."]),{decimalSeparator:n,thousandSeparator:t,allowedDecimalSeparators:r}}function rU(e,n){e===void 0&&(e="");var t=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),o=t.test(e),a=r.test(e);return e=e.replace(/-/g,""),o&&!a&&n&&(e="-"+e),e}function oU(e,n){return new RegExp("(^-)|[0-9]|"+S3(e),"g")}function aU(e,n,t){return e===""?!0:!n?.match(/\d/)&&!t?.match(/\d/)&&typeof e=="string"&&!isNaN(Number(e))}function iU(e,n,t){var r;n===void 0&&(n=K8(e));var o=t.allowNegative,a=t.prefix;a===void 0&&(a="");var i=t.suffix;i===void 0&&(i="");var s=t.decimalScale,u=n.from,c=n.to,f=c.start,h=c.end,m=mv(t),v=m.allowedDecimalSeparators,b=m.decimalSeparator,x=e[h]===b;if(Hd(e)&&(e===a||e===i)&&n.lastValue==="")return e;if(h-f===1&&v.indexOf(e[f])!==-1){var w=s===0?"":b;e=e.substring(0,f)+w+e.substring(f+1,e.length)}var S=function(U,V,q){var B=!1,G=!1;a.startsWith("-")?B=!1:U.startsWith("--")?(B=!1,G=!0):i.startsWith("-")&&U.length===i.length?B=!1:U[0]==="-"&&(B=!0);var J=B?1:0;return G&&(J=2),J&&(U=U.substring(J),V-=J,q-=J),{value:U,start:V,end:q,hasNegation:B}},E=S(e,f,h),R=E.hasNegation;r=E,e=r.value,f=r.start,h=r.end;var D=S(n.lastValue,u.start,u.end),A=D.start,N=D.end,k=D.value,M=e.substring(f,h);e.length&&k.length&&(A>k.length-i.length||N<a.length)&&!(M&&i.startsWith(M))&&(e=k);var I=0;e.startsWith(a)?I+=a.length:f<a.length&&(I=f),e=e.substring(I),h-=I;var P=e.length,L=e.length-i.length;e.endsWith(i)?P=L:(h>L||h>e.length-i.length)&&(P=h),e=e.substring(0,P),e=rU(R?"-"+e:e,o),e=(e.match(oU(b))||[]).join("");var F=e.indexOf(b);e=e.replace(new RegExp(S3(b),"g"),function(U,V){return V===F?".":""});var Y=X1(e,o),W=Y.beforeDecimal,X=Y.afterDecimal,j=Y.addNegation;return c.end-c.start<u.end-u.start&&W===""&&x&&!parseFloat(X)&&(e=j?"-":""),e}function sU(e,n){var t=n.prefix;t===void 0&&(t="");var r=n.suffix;r===void 0&&(r="");var o=Array.from({length:e.length+1}).map(function(){return!0}),a=e[0]==="-";o.fill(!1,0,t.length+(a?1:0));var i=e.length;return o.fill(!1,i-r.length+1,i+1),o}function lU(e){var n=mv(e),t=n.thousandSeparator,r=n.decimalSeparator,o=e.prefix;o===void 0&&(o="");var a=e.allowNegative;if(a===void 0&&(a=!0),t===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+t+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return o.startsWith("-")&&a&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+o+`
      allowNegative: `+a+`
    `),a=!1),Object.assign(Object.assign({},e),{allowNegative:a})}function uU(e){e=lU(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var n=e.suffix,t=e.allowNegative,r=e.allowLeadingZeros,o=e.onKeyDown;o===void 0&&(o=ts);var a=e.onBlur;a===void 0&&(a=ts);var i=e.thousandSeparator,s=e.decimalScale,u=e.fixedDecimalScale,c=e.prefix;c===void 0&&(c="");var f=e.defaultValue,h=e.value,m=e.valueIsNumericString,v=e.onValueChange,b=x3(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=mv(e),w=x.decimalSeparator,S=x.allowedDecimalSeparators,E=function(j){return k_(j,e)},R=function(j,U){return iU(j,U,e)},D=Au(h)?f:h,A=m??aU(D,c,n);Au(h)?Au(f)||(A=A||typeof f=="number"):A=A||typeof h=="number";var N=function(j){return w3(j)?j:(typeof j=="number"&&(j=E3(j)),A&&typeof s=="number"?A_(j,s,!!u):j)},k=_3(N(h),N(f),!!A,E,R,v),M=k[0],I=M.numAsString,P=M.formattedValue,L=k[1],F=function(j){var U=j.target,V=j.key,q=U.selectionStart,B=U.selectionEnd,G=U.value;if(G===void 0&&(G=""),(V==="Backspace"||V==="Delete")&&B<c.length){j.preventDefault();return}if(q!==B){o(j);return}V==="Backspace"&&G[0]==="-"&&q===c.length+1&&t&&Xs(U,1),s&&u&&(V==="Backspace"&&G[q-1]===w?(Xs(U,q-1),j.preventDefault()):V==="Delete"&&G[q]===w&&j.preventDefault()),S?.includes(V)&&G[q]===w&&Xs(U,q+1);var J=i===!0?",":i;V==="Backspace"&&G[q-1]===J&&Xs(U,q-1),V==="Delete"&&G[q]===J&&Xs(U,q+1),o(j)},Y=function(j){var U=I;if(U.match(/\d/g)||(U=""),r||(U=G8(U)),u&&s&&(U=A_(U,s,u)),U!==I){var V=k_(U,e);L({formattedValue:V,value:U,floatValue:parseFloat(U)},{event:j,source:Vd.event})}a(j)},W=function(j){return j===w?!0:Hd(j)},X=function(j){var U=j.currentValue,V=j.lastValue,q=j.formattedValue,B=j.currentValueIndex,G=j.formattedValueIndex,J=U[B],ne=q[G],he=R3(V,U),Se=he.to,ae=function(le){return R(le).indexOf(".")+c.length};return h===0&&u&&s&&U[Se.start]===w&&ae(U)<B&&ae(q)>G?!1:B>=Se.start&&B<Se.end&&S&&S.includes(J)&&ne===w?!0:J===ne};return Object.assign(Object.assign({},b),{value:P,valueIsNumericString:!1,isValidInputCharacter:W,isCharacterSame:X,onValueChange:L,format:E,removeFormatting:R,getCaretBoundary:function(j){return sU(j,e)},onKeyDown:F,onBlur:Y})}function cU(e){var n=uU(e);return ft.createElement(nU,Object.assign({},n))}function M_({direction:e,style:n,...t}){return y.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...n},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:y.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Ub={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const dU=/^(0\.0*|-0(\.0*)?)$/,fU=/^-?0\d+(\.\d+)?\.?$/,hU=/\.\d*0$/;function Vb(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function I0(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||Vb(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function pU(e){return e.toString().replace(".","").length}function mU(e,n){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&pU(n)<14&&n!==""}function I_(e,n,t){if(e===void 0)return!0;const r=n===void 0||e>=n,o=t===void 0||e<=t;return r&&o}const vU={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},gU=(e,{size:n})=>({controls:{"--ni-chevron-size":Tt(n,"ni-chevron-size")}});function yU(e,n,t){const r=e.toString().replace(/^0+/,""),o=parseFloat(r);return Number.isNaN(o)?r:o>Number.MAX_SAFE_INTEGER?n!==void 0?n:r:Ap(o,t,n)}const Nu=Me((e,n)=>{const t=Ce("NumberInput",vU,e),{className:r,classNames:o,styles:a,unstyled:i,vars:s,onChange:u,onValueChange:c,value:f,defaultValue:h,max:m,min:v,step:b,hideControls:x,rightSection:w,isAllowed:S,clampBehavior:E,onBlur:R,allowDecimal:D,decimalScale:A,onKeyDown:N,onKeyDownCapture:k,handlersRef:M,startValue:I,disabled:P,rightSectionPointerEvents:L,allowNegative:F,readOnly:Y,size:W,rightSectionWidth:X,stepHoldInterval:j,stepHoldDelay:U,allowLeadingZeros:V,withKeyboardEvents:q,trimLeadingZeroesOnBlur:B,attributes:G,...J}=t,ne=rt({name:"NumberInput",classes:Ub,props:t,classNames:o,styles:a,unstyled:i,attributes:G,vars:s,varsResolver:gU}),{resolvedClassNames:he,resolvedStyles:Se}=cl({classNames:o,styles:a,props:t}),[ae,le]=Ta({value:f,defaultValue:h,finalValue:"",onChange:u}),ge=U!==void 0&&j!==void 0,me=T.useRef(null),Pe=T.useRef(null),je=T.useRef(0),Be=(Ae,Fe)=>{Fe.source==="event"&&le(mU(Ae.floatValue,Ae.value)&&!dU.test(Ae.value)&&!(V&&fU.test(Ae.value))&&!hU.test(Ae.value)?Ae.floatValue:Ae.value),c?.(Ae,Fe)},Te=Ae=>{const Fe=String(Ae).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Fe?Math.max(0,(Fe[1]?Fe[1].length:0)-(Fe[2]?+Fe[2]:0)):0},We=Ae=>{me.current&&typeof Ae<"u"&&me.current.setSelectionRange(Ae,Ae)},ct=T.useRef(Hp);ct.current=()=>{if(!I0(ae))return;let Ae;const Fe=Te(ae),it=Te(b),Mt=Math.max(Fe,it),Dt=10**Mt;if(!Vb(ae)&&(typeof ae!="number"||Number.isNaN(ae)))Ae=Ap(I,v,m);else if(m!==void 0){const Ft=(Math.round(Number(ae)*Dt)+Math.round(b*Dt))/Dt;Ae=Ft<=m?Ft:m}else Ae=(Math.round(Number(ae)*Dt)+Math.round(b*Dt))/Dt;const Pn=Ae.toFixed(Mt);le(parseFloat(Pn)),c?.({floatValue:parseFloat(Pn),formattedValue:Pn,value:Pn},{source:"increment"}),setTimeout(()=>We(me.current?.value.length),0)};const at=T.useRef(Hp);at.current=()=>{if(!I0(ae))return;let Ae;const Fe=v!==void 0?v:F?Number.MIN_SAFE_INTEGER:0,it=Te(ae),Mt=Te(b),Dt=Math.max(it,Mt),Pn=10**Dt;if(!Vb(ae)&&typeof ae!="number"||Number.isNaN(ae))Ae=Ap(I,Fe,m);else{const Qt=(Math.round(Number(ae)*Pn)-Math.round(b*Pn))/Pn;Ae=Fe!==void 0&&Qt<Fe?Fe:Qt}const Ft=Ae.toFixed(Dt);le(parseFloat(Ft)),c?.({floatValue:parseFloat(Ft),formattedValue:Ft,value:Ft},{source:"decrement"}),setTimeout(()=>We(me.current?.value.length),0)};const _e=Ae=>{N?.(Ae),!(Y||!q)&&(Ae.key==="ArrowUp"&&(Ae.preventDefault(),ct.current?.()),Ae.key==="ArrowDown"&&(Ae.preventDefault(),at.current?.()))},De=Ae=>{if(k?.(Ae),Ae.key==="Backspace"){const Fe=me.current;Fe&&Fe.selectionStart===0&&Fe.selectionStart===Fe.selectionEnd&&(Ae.preventDefault(),window.setTimeout(()=>We(0),0))}},ke=Ae=>{let Fe=ae;E==="blur"&&typeof Fe=="number"&&(Fe=Ap(Fe,v,m)),B&&typeof Fe=="string"&&Te(Fe)<15&&(Fe=yU(Fe,m,v)),ae!==Fe&&le(Fe),R?.(Ae)};jd(M,{increment:ct.current,decrement:at.current});const tt=Ae=>{Ae?ct.current?.():at.current?.(),je.current+=1},lt=Ae=>{if(tt(Ae),ge){const Fe=typeof j=="number"?j:j(je.current);Pe.current=window.setTimeout(()=>lt(Ae),Fe)}},nt=(Ae,Fe)=>{Ae.preventDefault(),me.current?.focus(),tt(Fe),ge&&(Pe.current=window.setTimeout(()=>lt(Fe),U))},$e=()=>{Pe.current&&window.clearTimeout(Pe.current),Pe.current=null,je.current=0},qt=y.jsxs("div",{...ne("controls"),children:[y.jsx(Zo,{...ne("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof ae=="number"&&m!==void 0&&ae>=m,mod:{direction:"up"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{nt(Ae,!0)},onPointerUp:$e,onPointerLeave:$e,children:y.jsx(M_,{direction:"up"})}),y.jsx(Zo,{...ne("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof ae=="number"&&v!==void 0&&ae<=v,mod:{direction:"down"},onMouseDown:Ae=>Ae.preventDefault(),onPointerDown:Ae=>{nt(Ae,!1)},onPointerUp:$e,onPointerLeave:$e,children:y.jsx(M_,{direction:"down"})})]});return y.jsx(ho,{component:cU,allowNegative:F,className:Nn(Ub.root,r),size:W,...J,readOnly:Y,disabled:P,value:ae,getInputRef:In(n,me),onValueChange:Be,rightSection:x||Y||!I0(ae)?w:w||qt,classNames:he,styles:Se,unstyled:i,__staticSelector:"NumberInput",decimalScale:D?A:0,onKeyDown:_e,onKeyDownCapture:De,rightSectionPointerEvents:L??(P?"none":void 0),rightSectionWidth:X??`var(--ni-right-section-width-${W||"sm"})`,allowLeadingZeros:V,onBlur:ke,attributes:G,isAllowed:Ae=>E==="strict"?S?S(Ae)&&I_(Ae.floatValue,v,m):I_(Ae.floatValue,v,m):S?S(Ae):!0})});Nu.classes={...ho.classes,...Ub};Nu.displayName="@mantine/core/NumberInput";const bU=({reveal:e})=>y.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:y.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Hb={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const xU={visibilityToggleIcon:bU},wU=(e,{size:n})=>({root:{"--psi-icon-size":Tt(n,"psi-icon-size"),"--psi-button-size":Tt(n,"psi-button-size")}}),Y1=Me((e,n)=>{const t=Ce("PasswordInput",xU,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,required:c,error:f,leftSection:h,disabled:m,id:v,variant:b,inputContainer:x,description:w,label:S,size:E,errorProps:R,descriptionProps:D,labelProps:A,withAsterisk:N,inputWrapperOrder:k,wrapperProps:M,radius:I,rightSection:P,rightSectionWidth:L,rightSectionPointerEvents:F,leftSectionWidth:Y,visible:W,defaultVisible:X,onVisibilityChange:j,visibilityToggleIcon:U,visibilityToggleButtonProps:V,rightSectionProps:q,leftSectionProps:B,leftSectionPointerEvents:G,withErrorStyles:J,mod:ne,attributes:he,...Se}=t,ae=Oo(v),[le,ge]=Ta({value:W,defaultValue:X,finalValue:!1,onChange:j}),me=()=>ge(!le),Pe=rt({name:"PasswordInput",classes:Hb,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:he,vars:u,varsResolver:wU}),{resolvedClassNames:je,resolvedStyles:Be}=cl({classNames:r,styles:i,props:t}),{styleProps:Te,rest:We}=mf(Se),ct=R?.id||`${ae}-error`,at=D?.id||`${ae}-description`,ke=`${!!f&&typeof f!="boolean"?ct:""} ${!!w?at:""}`,tt=ke.trim().length>0?ke.trim():void 0,lt=y.jsx(Wn,{...Pe("visibilityToggle"),disabled:m,radius:I,"aria-hidden":!V,tabIndex:-1,...V,variant:V?.variant??"subtle",color:"gray",unstyled:s,onTouchEnd:nt=>{nt.preventDefault(),V?.onTouchEnd?.(nt),me()},onMouseDown:nt=>{nt.preventDefault(),V?.onMouseDown?.(nt),me()},onKeyDown:nt=>{V?.onKeyDown?.(nt),nt.key===" "&&(nt.preventDefault(),me())},children:y.jsx(U,{reveal:le})});return y.jsx(yn.Wrapper,{required:c,id:ae,label:S,error:f,description:w,size:E,classNames:je,styles:Be,__staticSelector:"PasswordInput",unstyled:s,withAsterisk:N,inputWrapperOrder:k,inputContainer:x,variant:b,labelProps:{...A,htmlFor:ae},descriptionProps:{...D,id:at},errorProps:{...R,id:ct},mod:ne,attributes:he,...Pe("root"),...Te,...M,children:y.jsx(yn,{component:"div",error:f,leftSection:h,size:E,classNames:{...je,input:Nn(Hb.input,je.input)},styles:Be,radius:I,disabled:m,__staticSelector:"PasswordInput",rightSectionWidth:L,rightSection:P??lt,variant:b,unstyled:s,leftSectionWidth:Y,rightSectionPointerEvents:F||"all",rightSectionProps:q,leftSectionProps:B,leftSectionPointerEvents:G,withAria:!1,withErrorStyles:J,attributes:he,children:y.jsx("input",{required:c,"data-invalid":!!f||void 0,"data-with-left-section":!!h||void 0,...Pe("innerInput"),disabled:m,id:ae,ref:n,...We,"aria-describedby":tt,autoComplete:We.autoComplete||"off",type:le?"text":"password"})})})});Y1.classes={...ho.classes,...Hb};Y1.displayName="@mantine/core/PasswordInput";const[SU,T3]=Io("Progress.Root component was not found in tree");var bf={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const K1=Me((e,n)=>{const{classNames:t,className:r,style:o,styles:a,vars:i,...s}=Ce("ProgressLabel",null,e),u=T3();return y.jsx(re,{ref:n,...u.getStyles("label",{className:r,style:o,classNames:t,styles:a}),...s})});K1.classes=bf;K1.displayName="@mantine/core/ProgressLabel";const CU=(e,{size:n,radius:t,transitionDuration:r})=>({root:{"--progress-size":Tt(n,"progress-size"),"--progress-radius":t===void 0?void 0:pn(t),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),vv=Me((e,n)=>{const t=Ce("ProgressRoot",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,autoContrast:c,transitionDuration:f,attributes:h,...m}=t,v=rt({name:"Progress",classes:bf,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:h,vars:u,varsResolver:CU});return y.jsx(SU,{value:{getStyles:v,autoContrast:c},children:y.jsx(re,{ref:n,...v("root"),...m})})});vv.classes=bf;vv.displayName="@mantine/core/ProgressRoot";const EU={withAria:!0},gv=Me((e,n)=>{const{classNames:t,className:r,style:o,styles:a,vars:i,value:s,withAria:u,color:c,striped:f,animated:h,mod:m,...v}=Ce("ProgressSection",EU,e),b=T3(),x=mr(),w=u?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,"aria-valuetext":`${s}%`}:{};return y.jsx(re,{ref:n,...b.getStyles("section",{className:r,classNames:t,styles:a,style:o}),...v,...w,mod:[{striped:f||h,animated:h},m],__vars:{"--progress-section-width":`${s}%`,"--progress-section-color":Tn(c,x),"--progress-label-color":Gx(b.autoContrast,x)?pf({color:c,theme:x,autoContrast:b.autoContrast}):void 0}})});gv.classes=bf;gv.displayName="@mantine/core/ProgressSection";const oc=Me((e,n)=>{const t=Ce("Progress",null,e),{value:r,classNames:o,styles:a,vars:i,color:s,striped:u,animated:c,"aria-label":f,...h}=t,{resolvedClassNames:m,resolvedStyles:v}=cl({classNames:o,styles:a,props:t});return y.jsx(vv,{ref:n,classNames:m,styles:v,vars:i,...h,children:y.jsx(gv,{value:r,color:s,striped:u,animated:c,"aria-label":f})})});oc.classes=bf;oc.displayName="@mantine/core/Progress";oc.Section=gv;oc.Root=vv;oc.Label=K1;const RU={duration:100,transition:"fade"};function O_(e,n){return{...RU,...n,...e}}function _U({offset:e,position:n,defaultOpened:t}){const[r,o]=T.useState(t),a=T.useRef(null),{x:i,y:s,elements:u,refs:c,update:f,placement:h}=$m({placement:n,middleware:[n1({crossAxis:!0,padding:5,rootBoundary:"document"})]}),m=h.includes("right")?e:n.includes("left")?e*-1:0,v=h.includes("bottom")?e:n.includes("top")?e*-1:0,b=T.useCallback(({clientX:x,clientY:w})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x,y:w,left:x+m,top:w+v,right:x,bottom:w}}})},[u.reference]);return T.useEffect(()=>{if(c.floating.current){const x=a.current;x.addEventListener("mousemove",b);const w=ai(c.floating.current);return w.forEach(S=>{S.addEventListener("scroll",f)}),()=>{x.removeEventListener("mousemove",b),w.forEach(S=>{S.removeEventListener("scroll",f)})}}},[u.reference,c.floating.current,f,b,r]),{handleMouseMove:b,x:i,y:s,opened:r,setOpened:o,boundaryRef:a,floating:c.setFloating}}var yv={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const TU={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Rr("popover")},DU=(e,{radius:n,color:t})=>({tooltip:{"--tooltip-radius":n===void 0?void 0:pn(n),"--tooltip-bg":t?Tn(t,e):void 0,"--tooltip-color":t?"var(--mantine-color-white)":void 0}}),Q1=Me((e,n)=>{const t=Ce("TooltipFloating",TU,e),{children:r,refProp:o,withinPortal:a,style:i,className:s,classNames:u,styles:c,unstyled:f,radius:h,color:m,label:v,offset:b,position:x,multiline:w,zIndex:S,disabled:E,defaultOpened:R,variant:D,vars:A,portalProps:N,attributes:k,...M}=t,I=mr(),P=rt({name:"TooltipFloating",props:t,classes:yv,className:s,style:i,classNames:u,styles:c,unstyled:f,attributes:k,rootSelector:"tooltip",vars:A,varsResolver:DU}),{handleMouseMove:L,x:F,y:Y,opened:W,boundaryRef:X,floating:j,setOpened:U}=_U({offset:b,position:x,defaultOpened:R});if(!gs(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const V=In(X,jm(r),n),q=r.props,B=J=>{q.onMouseEnter?.(J),L(J),U(!0)},G=J=>{q.onMouseLeave?.(J),U(!1)};return y.jsxs(y.Fragment,{children:[y.jsx(ps,{...N,withinPortal:a,children:y.jsx(re,{...M,...P("tooltip",{style:{...Yx(i,I),zIndex:S,display:!E&&W?"block":"none",top:(Y&&Math.round(Y))??"",left:(F&&Math.round(F))??""}}),variant:D,ref:j,mod:{multiline:w},children:v})}),T.cloneElement(r,{...q,[o]:V,onMouseEnter:B,onMouseLeave:G})]})});Q1.classes=yv;Q1.displayName="@mantine/core/TooltipFloating";const D3=T.createContext(!1),AU=D3.Provider,NU=()=>T.useContext(D3),kU={openDelay:0,closeDelay:0};function J1(e){const{openDelay:n,closeDelay:t,children:r}=Ce("TooltipGroup",kU,e);return y.jsx(AU,{value:!0,children:y.jsx(eN,{delay:{open:n,close:t},children:r})})}J1.displayName="@mantine/core/TooltipGroup";J1.extend=e=>e;function MU(e){if(e===void 0)return{shift:!0,flip:!0};const n={...e};return e.shift===void 0&&(n.shift=!0),e.flip===void 0&&(n.flip=!0),n}function IU(e){const n=MU(e.middlewares),t=[qA(e.offset)];return n.shift&&t.push(n1(typeof n.shift=="boolean"?{padding:8}:{padding:8,...n.shift})),n.flip&&t.push(typeof n.flip=="boolean"?Xp():Xp(n.flip)),t.push(XA({element:e.arrowRef,padding:e.arrowOffset})),n.inline?t.push(typeof n.inline=="boolean"?Ad():Ad(n.inline)):e.inline&&t.push(Ad()),t}function OU(e){const[n,t]=T.useState(e.defaultOpened),o=typeof e.opened=="boolean"?e.opened:n,a=NU(),i=Oo(),s=T.useCallback(A=>{t(A),A&&S(i)},[i]),{x:u,y:c,context:f,refs:h,placement:m,middlewareData:{arrow:{x:v,y:b}={}}}=$m({strategy:e.strategy,placement:e.position,open:o,onOpenChange:s,middleware:IU(e),whileElementsMounted:$A}),{delay:x,currentId:w,setCurrentId:S}=tN(f,{id:i}),{getReferenceProps:E,getFloatingProps:R}=rN([JA(f,{enabled:e.events?.hover,delay:a?x:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),qL(f,{enabled:e.events?.focus,visibleOnly:!0}),oN(f,{role:"tooltip"}),nN(f,{enabled:typeof e.opened>"u"})]);is(()=>{e.onPositionChange?.(m)},[m]);const D=o&&w&&w!==i;return{x:u,y:c,arrowX:v,arrowY:b,reference:h.setReference,floating:h.setFloating,getFloatingProps:R,getReferenceProps:E,isGroupPhase:D,opened:o,placement:m}}const P_={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Rr("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},PU=(e,{radius:n,color:t,variant:r,autoContrast:o})=>{const a=e.variantColorResolver({theme:e,color:t||e.primaryColor,autoContrast:o,variant:r||"filled"});return{tooltip:{"--tooltip-radius":n===void 0?void 0:pn(n),"--tooltip-bg":t?a.background:void 0,"--tooltip-color":t?a.color:void 0}}},Mo=Me((e,n)=>{const t=Ce("Tooltip",P_,e),{children:r,position:o,refProp:a,label:i,openDelay:s,closeDelay:u,onPositionChange:c,opened:f,defaultOpened:h,withinPortal:m,radius:v,color:b,classNames:x,styles:w,unstyled:S,style:E,className:R,withArrow:D,arrowSize:A,arrowOffset:N,arrowRadius:k,arrowPosition:M,offset:I,transitionProps:P,multiline:L,events:F,zIndex:Y,disabled:W,positionDependencies:X,onClick:j,onMouseEnter:U,onMouseLeave:V,inline:q,variant:B,keepMounted:G,vars:J,portalProps:ne,mod:he,floatingStrategy:Se,middlewares:ae,autoContrast:le,attributes:ge,target:me,...Pe}=Ce("Tooltip",P_,t),{dir:je}=vf(),Be=T.useRef(null),Te=OU({position:xN(je,o),closeDelay:u,openDelay:s,onPositionChange:c,opened:f,defaultOpened:h,events:F,arrowRef:Be,arrowOffset:N,offset:typeof I=="number"?I+(D?A/2:0):I,positionDependencies:[...X,me??r],inline:q,strategy:Se,middlewares:ae});T.useEffect(()=>{const ke=me instanceof HTMLElement?me:typeof me=="string"?document.querySelector(me):me?.current||null;ke&&Te.reference(ke)},[me,Te]);const We=rt({name:"Tooltip",props:t,classes:yv,className:R,style:E,classNames:x,styles:w,unstyled:S,attributes:ge,rootSelector:"tooltip",vars:J,varsResolver:PU});if(!me&&!gs(r))return null;if(me){const ke=O_(P,{duration:100,transition:"fade"});return y.jsx(y.Fragment,{children:y.jsx(ps,{...ne,withinPortal:m,children:y.jsx(li,{...ke,keepMounted:G,mounted:!W&&!!Te.opened,duration:Te.isGroupPhase?10:ke.duration,children:tt=>y.jsxs(re,{...Pe,"data-fixed":Se==="fixed"||void 0,variant:B,mod:[{multiline:L},he],...Te.getFloatingProps({ref:Te.floating,className:We("tooltip").className,style:{...We("tooltip").style,...tt,zIndex:Y,top:Te.y??0,left:Te.x??0}}),children:[i,y.jsx(Yp,{ref:Be,arrowX:Te.arrowX,arrowY:Te.arrowY,visible:D,position:Te.placement,arrowSize:A,arrowOffset:N,arrowRadius:k,arrowPosition:M,...We("arrow")})]})})})})}const ct=r,at=ct.props,_e=In(Te.reference,jm(ct),n),De=O_(P,{duration:100,transition:"fade"});return y.jsxs(y.Fragment,{children:[y.jsx(ps,{...ne,withinPortal:m,children:y.jsx(li,{...De,keepMounted:G,mounted:!W&&!!Te.opened,duration:Te.isGroupPhase?10:De.duration,children:ke=>y.jsxs(re,{...Pe,"data-fixed":Se==="fixed"||void 0,variant:B,mod:[{multiline:L},he],...Te.getFloatingProps({ref:Te.floating,className:We("tooltip").className,style:{...We("tooltip").style,...ke,zIndex:Y,top:Te.y??0,left:Te.x??0}}),children:[i,y.jsx(Yp,{ref:Be,arrowX:Te.arrowX,arrowY:Te.arrowY,visible:D,position:Te.placement,arrowSize:A,arrowOffset:N,arrowRadius:k,arrowPosition:M,...We("arrow")})]})})}),T.cloneElement(ct,Te.getReferenceProps({onClick:j,onMouseEnter:U,onMouseLeave:V,onMouseMove:t.onMouseMove,onPointerDown:t.onPointerDown,onPointerEnter:t.onPointerEnter,className:Nn(R,at.className),...at,[a]:_e}))]})});Mo.classes=yv;Mo.displayName="@mantine/core/Tooltip";Mo.Floating=Q1;Mo.Group=J1;var A3={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const jU={withItemsBorders:!0},BU=(e,{radius:n,color:t,transitionDuration:r,size:o,transitionTimingFunction:a})=>({root:{"--sc-radius":n===void 0?void 0:pn(n),"--sc-color":t?Tn(t,e):void 0,"--sc-shadow":t?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":a,"--sc-padding":Tt(o,"sc-padding"),"--sc-font-size":Hn(o)}}),ac=Me((e,n)=>{const t=Ce("SegmentedControl",jU,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,data:c,value:f,defaultValue:h,onChange:m,size:v,name:b,disabled:x,readOnly:w,fullWidth:S,orientation:E,radius:R,color:D,transitionDuration:A,transitionTimingFunction:N,variant:k,autoContrast:M,withItemsBorders:I,mod:P,attributes:L,...F}=t,Y=rt({name:"SegmentedControl",props:t,classes:A3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:L,vars:u,varsResolver:BU}),W=mr(),X=c.map(me=>typeof me=="string"?{label:me,value:me}:me),j=tF(),[U,V]=T.useState(wa()),[q,B]=T.useState(null),[G,J]=T.useState({}),ne=(me,Pe)=>{G[Pe]=me,J(G)},[he,Se]=Ta({value:f,defaultValue:h,finalValue:Array.isArray(c)?X.find(me=>!me.disabled)?.value??c[0]?.value??null:null,onChange:m}),ae=Oo(b),le=X.map(me=>T.createElement(re,{...Y("control"),mod:{active:he===me.value,orientation:E},key:me.value},T.createElement("input",{...Y("input"),disabled:x||me.disabled,type:"radio",name:ae,value:me.value,id:`${ae}-${me.value}`,checked:he===me.value,onChange:()=>!w&&Se(me.value),"data-focus-ring":W.focusRing,key:`${me.value}-input`}),T.createElement(re,{component:"label",...Y("label"),mod:{active:he===me.value&&!(x||me.disabled),disabled:x||me.disabled,"read-only":w},htmlFor:`${ae}-${me.value}`,ref:Pe=>ne(Pe,me.value),__vars:{"--sc-label-color":D!==void 0?pf({color:D,theme:W,autoContrast:M}):void 0},key:`${me.value}-label`},y.jsx("span",{...Y("innerLabel"),children:me.label})))),ge=In(n,me=>B(me));return KB(()=>{V(wa())},[c.length]),c.length===0?null:y.jsxs(re,{...Y("root"),variant:k,size:v,ref:ge,mod:[{"full-width":S,orientation:E,initialized:j,"with-items-borders":I},P],...F,role:"radiogroup","data-disabled":x,children:[typeof he=="string"&&y.jsx(S1,{target:G[he],parent:q,component:"span",transitionDuration:"var(--sc-transition-duration)",...Y("indicator")},U),le]})});ac.classes=A3;ac.displayName="@mantine/core/SegmentedControl";const FU={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},ri=Me((e,n)=>{const t=Ce("Select",FU,e),{classNames:r,styles:o,unstyled:a,vars:i,dropdownOpened:s,defaultDropdownOpened:u,onDropdownClose:c,onDropdownOpen:f,onFocus:h,onBlur:m,onClick:v,onChange:b,data:x,value:w,defaultValue:S,selectFirstOptionOnChange:E,onOptionSubmit:R,comboboxProps:D,readOnly:A,disabled:N,filter:k,limit:M,withScrollArea:I,maxDropdownHeight:P,size:L,searchable:F,rightSection:Y,checkIconPosition:W,withCheckIcon:X,nothingFoundMessage:j,name:U,form:V,searchValue:q,defaultSearchValue:B,onSearchChange:G,allowDeselect:J,error:ne,rightSectionPointerEvents:he,id:Se,clearable:ae,clearButtonProps:le,hiddenInputProps:ge,renderOption:me,onClear:Pe,autoComplete:je,scrollAreaProps:Be,__defaultRightSection:Te,__clearSection:We,__clearable:ct,chevronColor:at,autoSelectOnBlur:_e,attributes:De,...ke}=t,tt=T.useMemo(()=>iz(x),[x]),lt=T.useMemo(()=>UN(tt),[tt]),nt=Oo(Se),[$e,qt,Ae]=Ta({value:w,defaultValue:S,finalValue:null,onChange:b}),Fe=typeof $e=="string"?lt[$e]:void 0,it=ZB(Fe),[Mt,Dt,Pn]=Ta({value:q,defaultValue:B,finalValue:Fe?Fe.label:"",onChange:G}),Ft=qN({opened:s,defaultOpened:u,onDropdownOpen:()=>{f?.(),Ft.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{c?.(),setTimeout(Ft.resetSelectedOption,0)}}),Qt=rn=>{Dt(rn),Ft.resetSelectedOption()},{resolvedClassNames:Tr,resolvedStyles:$r}=cl({props:t,styles:o,classNames:r});T.useEffect(()=>{E&&Ft.selectFirstOption()},[E,Mt]),T.useEffect(()=>{w===null&&Qt(""),typeof w=="string"&&Fe&&(it?.value!==Fe.value||it?.label!==Fe.label)&&Qt(Fe.label)},[w,Fe]),T.useEffect(()=>{!Ae&&!Pn&&Qt(typeof $e=="string"&&lt[$e]?.label||"")},[x,$e]);const vr=y.jsx(Gt.ClearButton,{...le,onClear:()=>{qt(null,null),Qt(""),Pe?.()}}),Fa=ae&&!!$e&&!N&&!A;return y.jsxs(y.Fragment,{children:[y.jsxs(Gt,{store:Ft,__staticSelector:"Select",classNames:Tr,styles:$r,unstyled:a,readOnly:A,size:L,attributes:De,onOptionSubmit:rn=>{R?.(rn);const Ei=J&&lt[rn].value===$e?null:lt[rn],Xe=Ei?Ei.value:null;Xe!==$e&&qt(Xe,Ei),!Ae&&Qt(typeof Xe=="string"&&Ei?.label||""),Ft.closeDropdown()},...D,children:[y.jsx(Gt.Target,{targetType:F?"input":"button",autoComplete:je,children:y.jsx(ho,{id:nt,ref:n,__defaultRightSection:y.jsx(Gt.Chevron,{size:L,error:ne,unstyled:a,color:at}),__clearSection:vr,__clearable:Fa,rightSection:Y,rightSectionPointerEvents:he||(Fa?"all":"none"),...ke,size:L,__staticSelector:"Select",disabled:N,readOnly:A||!F,value:Mt,onChange:rn=>{Qt(rn.currentTarget.value),Ft.openDropdown(),E&&Ft.selectFirstOption()},onFocus:rn=>{F&&Ft.openDropdown(),h?.(rn)},onBlur:rn=>{_e&&Ft.clickSelectedOption(),F&&Ft.closeDropdown(),Qt($e!=null&&lt[$e]?.label||""),m?.(rn)},onClick:rn=>{F?Ft.openDropdown():Ft.toggleDropdown(),v?.(rn)},classNames:Tr,styles:$r,unstyled:a,pointer:!F,error:ne,attributes:De})}),y.jsx(Iz,{data:tt,hidden:A||N,filter:k,search:Mt,limit:M,hiddenWhenEmpty:!j,withScrollArea:I,maxDropdownHeight:P,filterOptions:!!F&&Fe?.label!==Mt,value:$e,checkIconPosition:W,withCheckIcon:X,nothingFoundMessage:j,unstyled:a,labelId:ke.label?`${nt}-label`:void 0,"aria-label":ke.label?void 0:ke["aria-label"],renderOption:me,scrollAreaProps:Be})]}),y.jsx(Gt.HiddenInput,{value:$e,name:U,form:V,disabled:N,...ge})]})});ri.classes={...ho.classes,...Gt.classes};ri.displayName="@mantine/core/Select";function LU({spacing:e,verticalSpacing:n,cols:t,selector:r}){const o=mr(),a=n===void 0?e:n,i=ff({"--sg-spacing-x":fr(Tu(e)),"--sg-spacing-y":fr(Tu(a)),"--sg-cols":Tu(t)?.toString()}),s=jr(o.breakpoints).reduce((f,h)=>(f[h]||(f[h]={}),typeof e=="object"&&e[h]!==void 0&&(f[h]["--sg-spacing-x"]=fr(e[h])),typeof a=="object"&&a[h]!==void 0&&(f[h]["--sg-spacing-y"]=fr(a[h])),typeof t=="object"&&t[h]!==void 0&&(f[h]["--sg-cols"]=t[h]),f),{}),c=AB(jr(s),o.breakpoints).filter(f=>jr(s[f.value]).length>0).map(f=>({query:`(min-width: ${o.breakpoints[f.value]})`,styles:s[f.value]}));return y.jsx(qx,{styles:i,media:c,selector:r})}function O0(e){return typeof e=="object"&&e!==null?jr(e):[]}function zU(e){return e.sort((n,t)=>Pd(n)-Pd(t))}function UU({spacing:e,verticalSpacing:n,cols:t}){const r=Array.from(new Set([...O0(e),...O0(n),...O0(t)]));return zU(r)}function VU({spacing:e,verticalSpacing:n,cols:t,selector:r}){const o=n===void 0?e:n,a=ff({"--sg-spacing-x":fr(Tu(e)),"--sg-spacing-y":fr(Tu(o)),"--sg-cols":Tu(t)?.toString()}),i=UU({spacing:e,verticalSpacing:n,cols:t}),s=i.reduce((c,f)=>(c[f]||(c[f]={}),typeof e=="object"&&e[f]!==void 0&&(c[f]["--sg-spacing-x"]=fr(e[f])),typeof o=="object"&&o[f]!==void 0&&(c[f]["--sg-spacing-y"]=fr(o[f])),typeof t=="object"&&t[f]!==void 0&&(c[f]["--sg-cols"]=t[f]),c),{}),u=i.map(c=>({query:`simple-grid (min-width: ${c})`,styles:s[c]}));return y.jsx(qx,{styles:a,container:u,selector:r})}var N3={container:"m_925c2d2c",root:"m_2415a157"};const HU={cols:1,spacing:"md",type:"media"},ic=Me((e,n)=>{const t=Ce("SimpleGrid",HU,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,cols:c,verticalSpacing:f,spacing:h,type:m,attributes:v,...b}=t,x=rt({name:"SimpleGrid",classes:N3,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:v,vars:u}),w=TA();return m==="container"?y.jsxs(y.Fragment,{children:[y.jsx(VU,{...t,selector:`.${w}`}),y.jsx("div",{...x("container"),children:y.jsx(re,{ref:n,...x("root",{className:w}),...b})})]}):y.jsxs(y.Fragment,{children:[y.jsx(LU,{...t,selector:`.${w}`}),y.jsx(re,{ref:n,...x("root",{className:w}),...b})]})});ic.classes=N3;ic.displayName="@mantine/core/SimpleGrid";var k3={root:"m_6d731127"};const WU={gap:"md",align:"stretch",justify:"flex-start"},$U=(e,{gap:n,align:t,justify:r})=>({root:{"--stack-gap":fr(n),"--stack-align":t,"--stack-justify":r}}),Sr=Me((e,n)=>{const t=Ce("Stack",WU,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,align:c,justify:f,gap:h,variant:m,attributes:v,...b}=t,x=rt({name:"Stack",props:t,classes:k3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:v,vars:u,varsResolver:$U});return y.jsx(re,{ref:n,...x("root"),variant:m,...b})});Sr.classes=k3;Sr.displayName="@mantine/core/Stack";const[GU,qU]=Io("Table component was not found in the tree");var xf={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function XU(e,n){if(!n)return;const t={};return n.columnBorder&&e.withColumnBorders&&(t["data-with-column-border"]=!0),n.rowBorder&&e.withRowBorders&&(t["data-with-row-border"]=!0),n.striped&&e.striped&&(t["data-striped"]=e.striped),n.highlightOnHover&&e.highlightOnHover&&(t["data-hover"]=!0),n.captionSide&&e.captionSide&&(t["data-side"]=e.captionSide),n.stickyHeader&&e.stickyHeader&&(t["data-sticky"]=!0),t}function fl(e,n){const t=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=Me((o,a)=>{const i=Ce(t,{},o),{classNames:s,className:u,style:c,styles:f,...h}=i,m=qU();return y.jsx(re,{component:e,ref:a,...XU(m,n),...m.getStyles(e,{className:u,classNames:s,style:c,styles:f,props:i}),...h})});return r.displayName=`@mantine/core/${t}`,r.classes=xf,r}const Wb=fl("th",{columnBorder:!0}),M3=fl("td",{columnBorder:!0}),Mp=fl("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),I3=fl("thead",{stickyHeader:!0}),O3=fl("tbody"),P3=fl("tfoot"),j3=fl("caption",{captionSide:!0});function Z1({data:e}){return y.jsxs(y.Fragment,{children:[e.caption&&y.jsx(j3,{children:e.caption}),e.head&&y.jsx(I3,{children:y.jsx(Mp,{children:e.head.map((n,t)=>y.jsx(Wb,{children:n},t))})}),e.body&&y.jsx(O3,{children:e.body.map((n,t)=>y.jsx(Mp,{children:n.map((r,o)=>y.jsx(M3,{children:r},o))},t))}),e.foot&&y.jsx(P3,{children:y.jsx(Mp,{children:e.foot.map((n,t)=>y.jsx(Wb,{children:n},t))})})]})}Z1.displayName="@mantine/core/TableDataRenderer";const YU={type:"scrollarea"},KU=(e,{minWidth:n,maxHeight:t,type:r})=>({scrollContainer:{"--table-min-width":xe(n),"--table-max-height":xe(t),"--table-overflow":r==="native"?"auto":void 0}}),ew=Me((e,n)=>{const t=Ce("TableScrollContainer",YU,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,children:c,minWidth:f,maxHeight:h,type:m,scrollAreaProps:v,attributes:b,...x}=t,w=rt({name:"TableScrollContainer",classes:xf,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:b,vars:u,varsResolver:KU,rootSelector:"scrollContainer"});return y.jsx(re,{component:m==="scrollarea"?jo:"div",...m==="scrollarea"?h?{offsetScrollbars:"xy",...v}:{offsetScrollbars:"x",...v}:{},ref:n,...w("scrollContainer"),...x,children:y.jsx("div",{...w("scrollContainerInner"),children:c})})});ew.classes=xf;ew.displayName="@mantine/core/TableScrollContainer";const QU={withRowBorders:!0,verticalSpacing:7},JU=(e,{layout:n,captionSide:t,horizontalSpacing:r,verticalSpacing:o,borderColor:a,stripedColor:i,highlightOnHoverColor:s,striped:u,highlightOnHover:c,stickyHeaderOffset:f,stickyHeader:h})=>({table:{"--table-layout":n,"--table-caption-side":t,"--table-horizontal-spacing":fr(r),"--table-vertical-spacing":fr(o),"--table-border-color":a?Tn(a,e):void 0,"--table-striped-color":u&&i?Tn(i,e):void 0,"--table-highlight-on-hover-color":c&&s?Tn(s,e):void 0,"--table-sticky-header-offset":h?xe(f):void 0}}),Re=Me((e,n)=>{const t=Ce("Table",QU,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,horizontalSpacing:c,verticalSpacing:f,captionSide:h,stripedColor:m,highlightOnHoverColor:v,striped:b,highlightOnHover:x,withColumnBorders:w,withRowBorders:S,withTableBorder:E,borderColor:R,layout:D,variant:A,data:N,children:k,stickyHeader:M,stickyHeaderOffset:I,mod:P,tabularNums:L,attributes:F,...Y}=t,W=rt({name:"Table",props:t,className:o,style:a,classes:xf,classNames:r,styles:i,unstyled:s,attributes:F,rootSelector:"table",vars:u,varsResolver:JU});return y.jsx(GU,{value:{getStyles:W,stickyHeader:M,striped:b===!0?"odd":b||void 0,highlightOnHover:x,withColumnBorders:w,withRowBorders:S,captionSide:h||"bottom"},children:y.jsx(re,{component:"table",variant:A,ref:n,mod:[{"data-with-table-border":E,"data-tabular-nums":L},P],...W("table"),...Y,children:k||!!N&&y.jsx(Z1,{data:N})})})});Re.classes=xf;Re.displayName="@mantine/core/Table";Re.Td=M3;Re.Th=Wb;Re.Tr=Mp;Re.Thead=I3;Re.Tbody=O3;Re.Tfoot=P3;Re.Caption=j3;Re.ScrollContainer=ew;Re.DataRenderer=Z1;const ui=Me((e,n)=>{const t=Ce("TextInput",null,e);return y.jsx(ho,{component:"input",ref:n,...t,__staticSelector:"TextInput"})});ui.classes=ho.classes;ui.displayName="@mantine/core/TextInput";var B3={root:"m_7341320d"};const ZU=(e,{size:n,radius:t,variant:r,gradient:o,color:a,autoContrast:i})=>{const s=e.variantColorResolver({color:a||e.primaryColor,theme:e,gradient:o,variant:r||"filled",autoContrast:i});return{root:{"--ti-size":Tt(n,"ti-size"),"--ti-radius":t===void 0?void 0:pn(t),"--ti-bg":a||r?s.background:void 0,"--ti-color":a||r?s.color:void 0,"--ti-bd":a||r?s.border:void 0}}},tw=Me((e,n)=>{const t=Ce("ThemeIcon",null,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,autoContrast:c,attributes:f,...h}=t,m=rt({name:"ThemeIcon",classes:B3,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:f,vars:u,varsResolver:ZU});return y.jsx(re,{ref:n,...m("root"),...h})});tw.classes=B3;tw.displayName="@mantine/core/ThemeIcon";const eV=["h1","h2","h3","h4","h5","h6"],tV=["xs","sm","md","lg","xl"];function nV(e,n){const t=n!==void 0?n:`h${e}`;return eV.includes(t)?{fontSize:`var(--mantine-${t}-font-size)`,fontWeight:`var(--mantine-${t}-font-weight)`,lineHeight:`var(--mantine-${t}-line-height)`}:tV.includes(t)?{fontSize:`var(--mantine-font-size-${t})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:xe(t),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var F3={root:"m_8a5d1357"};const rV={order:1},oV=(e,{order:n,size:t,lineClamp:r,textWrap:o})=>{const a=nV(n||1,t);return{root:{"--title-fw":a.fontWeight,"--title-lh":a.lineHeight,"--title-fz":a.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":o}}},$t=Me((e,n)=>{const t=Ce("Title",rV,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,order:u,vars:c,size:f,variant:h,lineClamp:m,textWrap:v,mod:b,attributes:x,...w}=t,S=rt({name:"Title",props:t,classes:F3,className:o,style:a,classNames:r,styles:i,unstyled:s,attributes:x,vars:c,varsResolver:oV});return[1,2,3,4,5,6].includes(u)?y.jsx(re,{...S("root"),component:`h${u}`,variant:h,ref:n,mod:[{order:u,"data-line-clamp":typeof m=="number"},b],size:f,...w}):null});$t.classes=F3;$t.displayName="@mantine/core/Title";const nw=T.createContext(null);nw.displayName="@mantine/modals/ModalsContext";function aV(){const e=T.useContext(nw);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function iV({id:e,cancelProps:n,confirmProps:t,labels:r={cancel:"",confirm:""},closeOnConfirm:o=!0,closeOnCancel:a=!0,groupProps:i,onCancel:s,onConfirm:u,children:c}){const{cancel:f,confirm:h}=r,m=aV(),v=x=>{typeof n?.onClick=="function"&&n?.onClick(x),typeof s=="function"&&s(),a&&m.closeModal(e)},b=x=>{typeof t?.onClick=="function"&&t?.onClick(x),typeof u=="function"&&u(),o&&m.closeModal(e)};return y.jsxs(y.Fragment,{children:[c&&y.jsx(re,{mb:"md",children:c}),y.jsxs(ze,{mt:c?0:"md",justify:"flex-end",...i,children:[y.jsx(Oe,{variant:"default",...n,onClick:v,children:n?.children||f}),y.jsx(Oe,{...t,onClick:b,children:t?.children||h})]})]})}const[sV,hl]=rF("mantine-modals"),lV=e=>{const n=e.modalId||wa();return hl("openModal")({...e,modalId:n}),n},uV=e=>{const n=e.modalId||wa();return hl("openConfirmModal")({...e,modalId:n}),n},cV=e=>{const n=e.modalId||wa();return hl("openContextModal")({...e,modalId:n}),n},dV=hl("closeModal"),fV=hl("closeAllModals"),hV=e=>hl("updateModal")(e),pV=e=>hl("updateContextModal")(e),L3={open:lV,close:dV,closeAll:fV,openConfirmModal:uV,openContextModal:cV,updateModal:hV,updateContextModal:pV};function j_(e,n){n&&e.type==="confirm"&&e.props.onCancel?.(),e.props.onClose?.()}function mV(e,n){switch(n.type){case"OPEN":return{current:n.modal,modals:[...e.modals,n.modal]};case"CLOSE":{const t=e.modals.find(o=>o.id===n.modalId);if(!t)return e;j_(t,n.canceled);const r=e.modals.filter(o=>o.id!==n.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(t=>{j_(t,n.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:t,newProps:r}=n,o=e.modals.map(i=>i.id!==t?i:i.type==="content"||i.type==="confirm"?{...i,props:{...i.props,...r}}:i.type==="context"?{...i,props:{...i.props,...r,innerProps:{...i.props.innerProps,...r.innerProps}}}:i),a=e.current?.id===t&&o.find(i=>i.id===t)||e.current;return{...e,modals:o,current:a}}default:return e}}function vV(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:n,children:t,onCancel:r,onConfirm:o,closeOnConfirm:a,closeOnCancel:i,cancelProps:s,confirmProps:u,groupProps:c,labels:f,...h}=e;return{confirmProps:{id:n,children:t,onCancel:r,onConfirm:o,closeOnConfirm:a,closeOnCancel:i,cancelProps:s,confirmProps:u,groupProps:c,labels:f},modalProps:{id:n,...h}}}function gV({children:e,modalProps:n,labels:t,modals:r}){const[o,a]=T.useReducer(mV,{modals:[],current:null}),i=T.useRef(o);i.current=o;const s=T.useCallback(E=>{a({type:"CLOSE_ALL",canceled:E})},[i,a]),u=T.useCallback(({modalId:E,...R})=>{const D=E||wa();return a({type:"OPEN",modal:{id:D,type:"content",props:R}}),D},[a]),c=T.useCallback(({modalId:E,...R})=>{const D=E||wa();return a({type:"OPEN",modal:{id:D,type:"confirm",props:R}}),D},[a]),f=T.useCallback((E,{modalId:R,...D})=>{const A=R||wa();return a({type:"OPEN",modal:{id:A,type:"context",props:D,ctx:E}}),A},[a]),h=T.useCallback((E,R)=>{a({type:"CLOSE",modalId:E,canceled:R})},[i,a]),m=T.useCallback(({modalId:E,...R})=>{a({type:"UPDATE",modalId:E,newProps:R})},[a]),v=T.useCallback(({modalId:E,...R})=>{a({type:"UPDATE",modalId:E,newProps:R})},[a]);sV({openModal:u,openConfirmModal:c,openContextModal:({modal:E,...R})=>f(E,R),closeModal:h,closeContextModal:h,closeAllModals:s,updateModal:m,updateContextModal:v});const b={modalProps:n||{},modals:o.modals,openModal:u,openConfirmModal:c,openContextModal:f,closeModal:h,closeContextModal:h,closeAll:s,updateModal:m,updateContextModal:v},x=()=>{const E=i.current.current;switch(E?.type){case"context":{const{innerProps:R,...D}=E.props,A=r[E.ctx];return{modalProps:D,content:y.jsx(A,{innerProps:R,context:b,id:E.id})}}case"confirm":{const{modalProps:R,confirmProps:D}=vV(E.props);return{modalProps:R,content:y.jsx(iV,{...D,id:E.id,labels:E.props.labels||t})}}case"content":{const{children:R,...D}=E.props;return{modalProps:D,content:R}}default:return{modalProps:{},content:null}}},{modalProps:w,content:S}=x();return y.jsxs(nw.Provider,{value:b,children:[y.jsx(Er,{zIndex:Rr("modal")+1,...n,...w,opened:o.modals.length>0,onClose:()=>h(o.current?.id),children:S}),e]})}function yV(e){let n=e,t=!1;const r=new Set;return{getState(){return n},updateState(o){n=typeof o=="function"?o(n):o},setState(o){this.updateState(o),r.forEach(a=>a(n))},initialize(o){t||(n=o,t=!0)},subscribe(o){return r.add(o),()=>r.delete(o)}}}function bV(e){return T.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function xV(e,n,t){const r=[],o=[],a={};for(const i of e){const s=i.position||n;a[s]=a[s]||0,a[s]+=1,a[s]<=t?o.push(i):r.push(i)}return{notifications:o,queue:r}}const wV=()=>yV({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),pl=wV(),SV=(e=pl)=>bV(e);function sc(e,n){const t=e.getState(),r=n([...t.notifications,...t.queue]),o=xV(r,t.defaultPosition,t.limit);e.setState({notifications:o.notifications,queue:o.queue,limit:t.limit,defaultPosition:t.defaultPosition})}function CV(e,n=pl){const t=e.id||wa();return sc(n,r=>e.id&&r.some(o=>o.id===e.id)?r:[...r,{...e,id:t}]),t}function z3(e,n=pl){return sc(n,t=>t.filter(r=>r.id===e?(r.onClose?.(r),!1):!0)),e}function EV(e,n=pl){return sc(n,t=>t.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function RV(e=pl){sc(e,()=>[])}function _V(e=pl){sc(e,n=>n.slice(0,e.getState().limit))}const nn={show:CV,hide:z3,update:EV,clean:RV,cleanQueue:_V,updateState:sc};function $b(e,n){return $b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},$b(e,n)}function U3(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,$b(e,n)}const B_={disabled:!1},Qp=ft.createContext(null);var TV=function(n){return n.scrollTop},Dd="unmounted",Vs="exited",Hs="entering",gu="entered",Gb="exiting",vi=(function(e){U3(n,e);function n(r,o){var a;a=e.call(this,r,o)||this;var i=o,s=i&&!i.isMounting?r.enter:r.appear,u;return a.appearStatus=null,r.in?s?(u=Vs,a.appearStatus=Hs):u=gu:r.unmountOnExit||r.mountOnEnter?u=Dd:u=Vs,a.state={status:u},a.nextCallback=null,a}n.getDerivedStateFromProps=function(o,a){var i=o.in;return i&&a.status===Dd?{status:Vs}:null};var t=n.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var a=null;if(o!==this.props){var i=this.state.status;this.props.in?i!==Hs&&i!==gu&&(a=Hs):(i===Hs||i===gu)&&(a=Gb)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,a,i,s;return a=i=s=o,o!=null&&typeof o!="number"&&(a=o.exit,i=o.enter,s=o.appear!==void 0?o.appear:i),{exit:a,enter:i,appear:s}},t.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Hs){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Cu.findDOMNode(this);i&&TV(i)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vs&&this.setState({status:Dd})},t.performEnter=function(o){var a=this,i=this.props.enter,s=this.context?this.context.isMounting:o,u=this.props.nodeRef?[s]:[Cu.findDOMNode(this),s],c=u[0],f=u[1],h=this.getTimeouts(),m=s?h.appear:h.enter;if(!o&&!i||B_.disabled){this.safeSetState({status:gu},function(){a.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Hs},function(){a.props.onEntering(c,f),a.onTransitionEnd(m,function(){a.safeSetState({status:gu},function(){a.props.onEntered(c,f)})})})},t.performExit=function(){var o=this,a=this.props.exit,i=this.getTimeouts(),s=this.props.nodeRef?void 0:Cu.findDOMNode(this);if(!a||B_.disabled){this.safeSetState({status:Vs},function(){o.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:Gb},function(){o.props.onExiting(s),o.onTransitionEnd(i.exit,function(){o.safeSetState({status:Vs},function(){o.props.onExited(s)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},t.setNextCallback=function(o){var a=this,i=!0;return this.nextCallback=function(s){i&&(i=!1,a.nextCallback=null,o(s))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},t.onTransitionEnd=function(o,a){this.setNextCallback(a);var i=this.props.nodeRef?this.props.nodeRef.current:Cu.findDOMNode(this),s=o==null&&!this.props.addEndListener;if(!i||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===Dd)return null;var a=this.props,i=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=H1(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ft.createElement(Qp.Provider,{value:null},typeof i=="function"?i(o,s):ft.cloneElement(ft.Children.only(i),s))},n})(ft.Component);vi.contextType=Qp;vi.propTypes={};function cu(){}vi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cu,onEntering:cu,onEntered:cu,onExit:cu,onExiting:cu,onExited:cu};vi.UNMOUNTED=Dd;vi.EXITED=Vs;vi.ENTERING=Hs;vi.ENTERED=gu;vi.EXITING=Gb;function DV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rw(e,n){var t=function(a){return n&&T.isValidElement(a)?n(a):a},r=Object.create(null);return e&&T.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=t(o)}),r}function AV(e,n){e=e||{},n=n||{};function t(f){return f in n?n[f]:e[f]}var r=Object.create(null),o=[];for(var a in e)a in n?o.length&&(r[a]=o,o=[]):o.push(a);var i,s={};for(var u in n){if(r[u])for(i=0;i<r[u].length;i++){var c=r[u][i];s[r[u][i]]=t(c)}s[u]=t(u)}for(i=0;i<o.length;i++)s[o[i]]=t(o[i]);return s}function Qs(e,n,t){return t[n]!=null?t[n]:e.props[n]}function NV(e,n){return rw(e.children,function(t){return T.cloneElement(t,{onExited:n.bind(null,t),in:!0,appear:Qs(t,"appear",e),enter:Qs(t,"enter",e),exit:Qs(t,"exit",e)})})}function kV(e,n,t){var r=rw(e.children),o=AV(n,r);return Object.keys(o).forEach(function(a){var i=o[a];if(T.isValidElement(i)){var s=a in n,u=a in r,c=n[a],f=T.isValidElement(c)&&!c.props.in;u&&(!s||f)?o[a]=T.cloneElement(i,{onExited:t.bind(null,i),in:!0,exit:Qs(i,"exit",e),enter:Qs(i,"enter",e)}):!u&&s&&!f?o[a]=T.cloneElement(i,{in:!1}):u&&s&&T.isValidElement(c)&&(o[a]=T.cloneElement(i,{onExited:t.bind(null,i),in:c.props.in,exit:Qs(i,"exit",e),enter:Qs(i,"enter",e)}))}}),o}var MV=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},IV={component:"div",childFactory:function(n){return n}},es=(function(e){U3(n,e);function n(r,o){var a;a=e.call(this,r,o)||this;var i=a.handleExited.bind(DV(a));return a.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},a}var t=n.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(o,a){var i=a.children,s=a.handleExited,u=a.firstRender;return{children:u?NV(o,s):kV(o,i,s),firstRender:!1}},t.handleExited=function(o,a){var i=rw(this.props.children);o.key in i||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(s){var u=Uu({},s.children);return delete u[o.key],{children:u}}))},t.render=function(){var o=this.props,a=o.component,i=o.childFactory,s=H1(o,["component","childFactory"]),u=this.state.contextValue,c=MV(this.state.children).map(i);return delete s.appear,delete s.enter,delete s.exit,a===null?ft.createElement(Qp.Provider,{value:u},c):ft.createElement(Qp.Provider,{value:u},ft.createElement(a,s,c))},n})(ft.Component);es.propTypes={};es.defaultProps=IV;const V3=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function OV(e,n){return e.reduce((t,r)=>(t[r.position||n].push(r),t),V3.reduce((t,r)=>(t[r]=[],t),{}))}const F_={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},PV={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function jV({state:e,maxHeight:n,position:t,transitionDuration:r}){const[o,a]=t.split("-"),i=a==="center"?`${o}-center`:a,s={opacity:0,maxHeight:n,transform:F_[i],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},u={opacity:1,transform:PV[i]},c={opacity:0,maxHeight:0,transform:F_[i]};return{...s,...{entering:u,entered:u,exiting:c,exited:c}[e]}}function BV(e,n){return typeof n=="number"?n:n===!1||e===!1?!1:e}const H3=T.forwardRef(({data:e,onHide:n,autoClose:t,...r},o)=>{const{autoClose:a,message:i,...s}=e,u=BV(t,e.autoClose),c=T.useRef(-1),f=()=>window.clearTimeout(c.current),h=()=>{n(e.id),f()},m=()=>{typeof u=="number"&&(c.current=window.setTimeout(h,u))};return T.useEffect(()=>{e.onOpen?.(e)},[]),T.useEffect(()=>(m(),f),[u]),y.jsx(q1,{...r,...s,onClose:h,ref:o,onMouseEnter:f,onMouseLeave:m,children:i})});H3.displayName="@mantine/notifications/NotificationContainer";var W3={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const FV=vi,LV={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Rr("overlay"),store:pl,withinPortal:!0},zV=(e,{zIndex:n,containerWidth:t})=>({root:{"--notifications-z-index":n?.toString(),"--notifications-container-width":xe(t)}}),gi=Me((e,n)=>{const t=Ce("Notifications",LV,e),{classNames:r,className:o,style:a,styles:i,unstyled:s,vars:u,position:c,autoClose:f,transitionDuration:h,containerWidth:m,notificationMaxHeight:v,limit:b,zIndex:x,store:w,portalProps:S,withinPortal:E,...R}=t,D=mr(),A=SV(w),N=WB(),k=Pm(),M=T.useRef({}),I=T.useRef(0),L=(D.respectReducedMotion?k:!1)?1:h,F=rt({name:"Notifications",classes:W3,props:t,className:o,style:a,classNames:r,styles:i,unstyled:s,vars:u,varsResolver:zV});T.useEffect(()=>{w?.updateState(X=>({...X,limit:b||5,defaultPosition:c}))},[b,c]),is(()=>{A.notifications.length>I.current&&setTimeout(()=>N(),0),I.current=A.notifications.length},[A.notifications]);const Y=OV(A.notifications,c),W=V3.reduce((X,j)=>(X[j]=Y[j].map(({style:U,...V})=>y.jsx(FV,{timeout:L,onEnter:()=>M.current[V.id].offsetHeight,nodeRef:{current:M.current[V.id]},children:q=>y.jsx(H3,{ref:B=>{B&&(M.current[V.id]=B)},data:V,onHide:B=>z3(B,w),autoClose:f,...F("notification",{style:{...jV({state:q,position:j,transitionDuration:L,maxHeight:v}),...U}})})},V.id)),X),{});return y.jsxs(ps,{withinPortal:E,...S,children:[y.jsx(re,{...F("root"),"data-position":"top-center",ref:n,...R,children:y.jsx(es,{children:W["top-center"]})}),y.jsx(re,{...F("root"),"data-position":"top-left",...R,children:y.jsx(es,{children:W["top-left"]})}),y.jsx(re,{...F("root",{className:Vp.classNames.fullWidth}),"data-position":"top-right",...R,children:y.jsx(es,{children:W["top-right"]})}),y.jsx(re,{...F("root",{className:Vp.classNames.fullWidth}),"data-position":"bottom-right",...R,children:y.jsx(es,{children:W["bottom-right"]})}),y.jsx(re,{...F("root"),"data-position":"bottom-left",...R,children:y.jsx(es,{children:W["bottom-left"]})}),y.jsx(re,{...F("root"),"data-position":"bottom-center",...R,children:y.jsx(es,{children:W["bottom-center"]})})]})});gi.classes=W3;gi.displayName="@mantine/notifications/Notifications";gi.show=nn.show;gi.hide=nn.hide;gi.update=nn.update;gi.clean=nn.clean;gi.cleanQueue=nn.cleanQueue;gi.updateState=nn.updateState;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L_="popstate";function UV(e={}){function n(r,o){let{pathname:a,search:i,hash:s}=r.location;return qb("",{pathname:a,search:i,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Wd(o)}return HV(n,t,null,e)}function ln(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ea(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function VV(){return Math.random().toString(36).substring(2,10)}function z_(e,n){return{usr:e.state,key:e.key,idx:n}}function qb(e,n,t=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?lc(n):n,state:t,key:n&&n.key||r||VV()}}function Wd({pathname:e="/",search:n="",hash:t=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function lc(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substring(t),e=e.substring(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substring(r),e=e.substring(0,r)),e&&(n.pathname=e)}return n}function HV(e,n,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,s="POP",u=null,c=f();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function f(){return(i.state||{idx:null}).idx}function h(){s="POP";let w=f(),S=w==null?null:w-c;c=w,u&&u({action:s,location:x.location,delta:S})}function m(w,S){s="PUSH";let E=qb(x.location,w,S);c=f()+1;let R=z_(E,c),D=x.createHref(E);try{i.pushState(R,"",D)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(D)}a&&u&&u({action:s,location:x.location,delta:1})}function v(w,S){s="REPLACE";let E=qb(x.location,w,S);c=f();let R=z_(E,c),D=x.createHref(E);i.replaceState(R,"",D),a&&u&&u({action:s,location:x.location,delta:0})}function b(w){return WV(w)}let x={get action(){return s},get location(){return e(o,i)},listen(w){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(L_,h),u=w,()=>{o.removeEventListener(L_,h),u=null}},createHref(w){return n(o,w)},createURL:b,encodeLocation(w){let S=b(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(w){return i.go(w)}};return x}function WV(e,n=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ln(t,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Wd(e);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function $3(e,n,t="/"){return $V(e,n,t,!1)}function $V(e,n,t,r){let o=typeof n=="string"?lc(n):n,a=ci(o.pathname||"/",t);if(a==null)return null;let i=G3(e);GV(i);let s=null;for(let u=0;s==null&&u<i.length;++u){let c=r7(a);s=t7(i[u],c,r)}return s}function G3(e,n=[],t=[],r="",o=!1){let a=(i,s,u=o,c)=>{let f={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;ln(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=ii([r,f.relativePath]),m=t.concat(f);i.children&&i.children.length>0&&(ln(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),G3(i.children,n,m,h,u)),!(i.path==null&&!i.index)&&n.push({path:h,score:ZV(h,i.index),routesMeta:m})};return e.forEach((i,s)=>{if(i.path===""||!i.path?.includes("?"))a(i,s);else for(let u of q3(i.path))a(i,s,!0,u)}),n}function q3(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let i=q3(r.join("/")),s=[];return s.push(...i.map(u=>u===""?a:[a,u].join("/"))),o&&s.push(...i),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function GV(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:e7(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var qV=/^:[\w-]+$/,XV=3,YV=2,KV=1,QV=10,JV=-2,U_=e=>e==="*";function ZV(e,n){let t=e.split("/"),r=t.length;return t.some(U_)&&(r+=JV),n&&(r+=YV),t.filter(o=>!U_(o)).reduce((o,a)=>o+(qV.test(a)?XV:a===""?KV:QV),r)}function e7(e,n){return e.length===n.length&&e.slice(0,-1).every((r,o)=>r===n[o])?e[e.length-1]-n[n.length-1]:0}function t7(e,n,t=!1){let{routesMeta:r}=e,o={},a="/",i=[];for(let s=0;s<r.length;++s){let u=r[s],c=s===r.length-1,f=a==="/"?n:n.slice(a.length)||"/",h=Jp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h&&c&&t&&!r[r.length-1].route.index&&(h=Jp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(o,h.params),i.push({params:o,pathname:ii([a,h.pathname]),pathnameBase:s7(ii([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=ii([a,h.pathnameBase]))}return i}function Jp(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=n7(e.path,e.caseSensitive,e.end),o=n.match(t);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},m)=>{if(f==="*"){let b=s[m]||"";i=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=s[m];return h&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:e}}function n7(e,n=!1,t=!0){ea(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),r]}function r7(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ea(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function ci(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function o7(e,n="/"){let{pathname:t,search:r="",hash:o=""}=typeof e=="string"?lc(e):e;return{pathname:t?t.startsWith("/")?t:a7(t,n):n,search:l7(r),hash:u7(o)}}function a7(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function P0(e,n,t,r){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i7(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function X3(e){let n=i7(e);return n.map((t,r)=>r===n.length-1?t.pathname:t.pathnameBase)}function Y3(e,n,t,r=!1){let o;typeof e=="string"?o=lc(e):(o={...e},ln(!o.pathname||!o.pathname.includes("?"),P0("?","pathname","search",o)),ln(!o.pathname||!o.pathname.includes("#"),P0("#","pathname","hash",o)),ln(!o.search||!o.search.includes("#"),P0("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,s;if(i==null)s=t;else{let h=n.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;o.pathname=m.join("/")}s=h>=0?n[h]:"/"}let u=o7(o,s),c=i&&i!=="/"&&i.endsWith("/"),f=(a||i===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var ii=e=>e.join("/").replace(/\/\/+/g,"/"),s7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),l7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var K3=["POST","PUT","PATCH","DELETE"];new Set(K3);var d7=["GET",...K3];new Set(d7);var uc=T.createContext(null);uc.displayName="DataRouter";var bv=T.createContext(null);bv.displayName="DataRouterState";T.createContext(!1);var Q3=T.createContext({isTransitioning:!1});Q3.displayName="ViewTransition";var f7=T.createContext(new Map);f7.displayName="Fetchers";var h7=T.createContext(null);h7.displayName="Await";var Ia=T.createContext(null);Ia.displayName="Navigation";var wf=T.createContext(null);wf.displayName="Location";var Oa=T.createContext({outlet:null,matches:[],isDataRoute:!1});Oa.displayName="Route";var ow=T.createContext(null);ow.displayName="RouteError";function p7(e,{relative:n}={}){ln(Sf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(Ia),{hash:o,pathname:a,search:i}=Cf(e,{relative:n}),s=a;return t!=="/"&&(s=a==="/"?t:ii([t,a])),r.createHref({pathname:s,search:i,hash:o})}function Sf(){return T.useContext(wf)!=null}function na(){return ln(Sf(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(wf).location}var J3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z3(e){T.useContext(Ia).static||T.useLayoutEffect(e)}function bs(){let{isDataRoute:e}=T.useContext(Oa);return e?T7():m7()}function m7(){ln(Sf(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(uc),{basename:n,navigator:t}=T.useContext(Ia),{matches:r}=T.useContext(Oa),{pathname:o}=na(),a=JSON.stringify(X3(r)),i=T.useRef(!1);return Z3(()=>{i.current=!0}),T.useCallback((u,c={})=>{if(ea(i.current,J3),!i.current)return;if(typeof u=="number"){t.go(u);return}let f=Y3(u,JSON.parse(a),o,c.relative==="path");e==null&&n!=="/"&&(f.pathname=f.pathname==="/"?n:ii([n,f.pathname])),(c.replace?t.replace:t.push)(f,c.state,c)},[n,t,a,o,e])}T.createContext(null);function aw(){let{matches:e}=T.useContext(Oa),n=e[e.length-1];return n?n.params:{}}function Cf(e,{relative:n}={}){let{matches:t}=T.useContext(Oa),{pathname:r}=na(),o=JSON.stringify(X3(t));return T.useMemo(()=>Y3(e,JSON.parse(o),r,n==="path"),[e,o,r,n])}function v7(e,n){return ek(e,n)}function ek(e,n,t,r,o){ln(Sf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Ia),{matches:i}=T.useContext(Oa),s=i[i.length-1],u=s?s.params:{},c=s?s.pathname:"/",f=s?s.pathnameBase:"/",h=s&&s.route;{let E=h&&h.path||"";tk(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=na(),v;if(n){let E=typeof n=="string"?lc(n):n;ln(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=m;let b=v.pathname||"/",x=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=$3(e,{pathname:x});ea(h||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ea(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=w7(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:ii([f,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:ii([f,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,t,r,o);return n&&S?T.createElement(wf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function g7(){let e=_7(),n=c7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},n),t?T.createElement("pre",{style:o},t):null,i)}var y7=T.createElement(g7,null),b7=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.unstable_onError?this.props.unstable_onError(e,n):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?T.createElement(Oa.Provider,{value:this.props.routeContext},T.createElement(ow.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function x7({routeContext:e,match:n,children:t}){let r=T.useContext(uc);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Oa.Provider,{value:e},t)}function w7(e,n=[],t=null,r=null,o=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let a=e,i=t?.errors;if(i!=null){let c=a.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);ln(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,u=-1;if(t)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:m}=t,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let m,v=!1,b=null,x=null;t&&(m=i&&f.route.id?i[f.route.id]:void 0,b=f.route.errorElement||y7,s&&(u<0&&h===0?(tk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let w=n.concat(a.slice(0,h+1)),S=()=>{let E;return m?E=b:v?E=x:f.route.Component?E=T.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,T.createElement(x7,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(b7,{location:t.location,revalidation:t.revalidation,component:b,error:m,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):S()},null)}function iw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S7(e){let n=T.useContext(uc);return ln(n,iw(e)),n}function C7(e){let n=T.useContext(bv);return ln(n,iw(e)),n}function E7(e){let n=T.useContext(Oa);return ln(n,iw(e)),n}function sw(e){let n=E7(e),t=n.matches[n.matches.length-1];return ln(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function R7(){return sw("useRouteId")}function _7(){let e=T.useContext(ow),n=C7("useRouteError"),t=sw("useRouteError");return e!==void 0?e:n.errors?.[t]}function T7(){let{router:e}=S7("useNavigate"),n=sw("useNavigate"),t=T.useRef(!1);return Z3(()=>{t.current=!0}),T.useCallback(async(o,a={})=>{ea(t.current,J3),t.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:n,...a}))},[e,n])}var V_={};function tk(e,n,t){!n&&!V_[e]&&(V_[e]=!0,ea(!1,t))}T.memo(D7);function D7({routes:e,future:n,state:t,unstable_onError:r}){return ek(e,void 0,t,r,n)}function Rn(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A7({basename:e="/",children:n=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){ln(!Sf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),s=T.useMemo(()=>({basename:i,navigator:o,static:a,future:{}}),[i,o,a]);typeof t=="string"&&(t=lc(t));let{pathname:u="/",search:c="",hash:f="",state:h=null,key:m="default"}=t,v=T.useMemo(()=>{let b=ci(u,i);return b==null?null:{location:{pathname:b,search:c,hash:f,state:h,key:m},navigationType:r}},[i,u,c,f,h,m,r]);return ea(v!=null,`<Router basename="${i}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:T.createElement(Ia.Provider,{value:s},T.createElement(wf.Provider,{children:n,value:v}))}function N7({children:e,location:n}){return v7(Xb(e),n)}function Xb(e,n=[]){let t=[];return T.Children.forEach(e,(r,o)=>{if(!T.isValidElement(r))return;let a=[...n,o];if(r.type===T.Fragment){t.push.apply(t,Xb(r.props.children,a));return}ln(r.type===Rn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Xb(r.props.children,a)),t.push(i)}),t}var Ip="get",Op="application/x-www-form-urlencoded";function xv(e){return e!=null&&typeof e.tagName=="string"}function k7(e){return xv(e)&&e.tagName.toLowerCase()==="button"}function M7(e){return xv(e)&&e.tagName.toLowerCase()==="form"}function I7(e){return xv(e)&&e.tagName.toLowerCase()==="input"}function O7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function P7(e,n){return e.button===0&&(!n||n==="_self")&&!O7(e)}function Yb(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function j7(e,n){let t=Yb(e);return n&&n.forEach((r,o)=>{t.has(o)||n.getAll(o).forEach(a=>{t.append(o,a)})}),t}var rp=null;function B7(){if(rp===null)try{new FormData(document.createElement("form"),0),rp=!1}catch{rp=!0}return rp}var F7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function j0(e){return e!=null&&!F7.has(e)?(ea(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Op}"`),null):e}function L7(e,n){let t,r,o,a,i;if(M7(e)){let s=e.getAttribute("action");r=s?ci(s,n):null,t=e.getAttribute("method")||Ip,o=j0(e.getAttribute("enctype"))||Op,a=new FormData(e)}else if(k7(e)||I7(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||s.getAttribute("action");if(r=u?ci(u,n):null,t=e.getAttribute("formmethod")||s.getAttribute("method")||Ip,o=j0(e.getAttribute("formenctype"))||j0(s.getAttribute("enctype"))||Op,a=new FormData(s,e),!B7()){let{name:c,type:f,value:h}=e;if(f==="image"){let m=c?`${c}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else c&&a.append(c,h)}}else{if(xv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ip,r=null,o=Op,i=e}return a&&o==="text/plain"&&(i=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lw(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function z7(e,n,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${t}`:n&&ci(r.pathname,n)==="/"?r.pathname=`${n.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function U7(e,n){if(e.id in n)return n[e.id];try{let t=await import(e.module);return n[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V7(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function H7(e,n,t){let r=await Promise.all(e.map(async o=>{let a=n.routes[o.route.id];if(a){let i=await U7(a,t);return i.links?i.links():[]}return[]}));return q7(r.flat(1).filter(V7).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function H_(e,n,t,r,o,a){let i=(u,c)=>t[c]?u.route.id!==t[c].route.id:!0,s=(u,c)=>t[c].pathname!==u.pathname||t[c].route.path?.endsWith("*")&&t[c].params["*"]!==u.params["*"];return a==="assets"?n.filter((u,c)=>i(u,c)||s(u,c)):a==="data"?n.filter((u,c)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(i(u,c)||s(u,c))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function W7(e,n,{includeHydrateFallback:t}={}){return $7(e.map(r=>{let o=n.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function $7(e){return[...new Set(e)]}function G7(e){let n={},t=Object.keys(e).sort();for(let r of t)n[r]=e[r];return n}function q7(e,n){let t=new Set;return new Set(n),e.reduce((r,o)=>{let a=JSON.stringify(G7(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function nk(){let e=T.useContext(uc);return lw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function X7(){let e=T.useContext(bv);return lw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uw=T.createContext(void 0);uw.displayName="FrameworkContext";function rk(){let e=T.useContext(uw);return lw(e,"You must render this element inside a <HydratedRouter> element"),e}function Y7(e,n){let t=T.useContext(uw),[r,o]=T.useState(!1),[a,i]=T.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=n,m=T.useRef(null);T.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=S=>{S.forEach(E=>{i(E.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[e]),T.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let v=()=>{o(!0)},b=()=>{o(!1),i(!1)};return t?e!=="intent"?[a,m,{}]:[a,m,{onFocus:yd(s,v),onBlur:yd(u,b),onMouseEnter:yd(c,v),onMouseLeave:yd(f,b),onTouchStart:yd(h,v)}]:[!1,m,{}]}function yd(e,n){return t=>{e&&e(t),t.defaultPrevented||n(t)}}function K7({page:e,...n}){let{router:t}=nk(),r=T.useMemo(()=>$3(t.routes,e,t.basename),[t.routes,e,t.basename]);return r?T.createElement(J7,{page:e,matches:r,...n}):null}function Q7(e){let{manifest:n,routeModules:t}=rk(),[r,o]=T.useState([]);return T.useEffect(()=>{let a=!1;return H7(e,n,t).then(i=>{a||o(i)}),()=>{a=!0}},[e,n,t]),r}function J7({page:e,matches:n,...t}){let r=na(),{manifest:o,routeModules:a}=rk(),{basename:i}=nk(),{loaderData:s,matches:u}=X7(),c=T.useMemo(()=>H_(e,n,u,o,r,"data"),[e,n,u,o,r]),f=T.useMemo(()=>H_(e,n,u,o,r,"assets"),[e,n,u,o,r]),h=T.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(n.forEach(S=>{let E=o.routes[S.route.id];!E||!E.hasLoader||(!c.some(R=>R.route.id===S.route.id)&&S.route.id in s&&a[S.route.id]?.shouldRevalidate||E.hasClientLoader?x=!0:b.add(S.route.id))}),b.size===0)return[];let w=z7(e,i,"data");return x&&b.size>0&&w.searchParams.set("_routes",n.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[i,s,r,o,c,n,e,a]),m=T.useMemo(()=>W7(f,o),[f,o]),v=Q7(f);return T.createElement(T.Fragment,null,h.map(b=>T.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),m.map(b=>T.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:x})=>T.createElement("link",{key:b,nonce:t.nonce,...x})))}function Z7(...e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}var ok=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ok&&(window.__reactRouterVersion="7.8.2")}catch{}function e9({basename:e,children:n,window:t}){let r=T.useRef();r.current==null&&(r.current=UV({window:t,v5Compat:!0}));let o=r.current,[a,i]=T.useState({action:o.action,location:o.location}),s=T.useCallback(u=>{T.startTransition(()=>i(u))},[i]);return T.useLayoutEffect(()=>o.listen(s),[o,s]),T.createElement(A7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}var ak=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$o=T.forwardRef(function({onClick:n,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:i,state:s,target:u,to:c,preventScrollReset:f,viewTransition:h,...m},v){let{basename:b}=T.useContext(Ia),x=typeof c=="string"&&ak.test(c),w,S=!1;if(typeof c=="string"&&x&&(w=c,ok))try{let I=new URL(window.location.href),P=c.startsWith("//")?new URL(I.protocol+c):new URL(c),L=ci(P.pathname,b);P.origin===I.origin&&L!=null?c=L+P.search+P.hash:S=!0}catch{ea(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=p7(c,{relative:o}),[R,D,A]=Y7(r,m),N=o9(c,{replace:i,state:s,target:u,preventScrollReset:f,relative:o,viewTransition:h});function k(I){n&&n(I),I.defaultPrevented||N(I)}let M=T.createElement("a",{...m,...A,href:w||E,onClick:S||a?n:k,ref:Z7(v,D),target:u,"data-discover":!x&&t==="render"?"true":void 0});return R&&!x?T.createElement(T.Fragment,null,M,T.createElement(K7,{page:E})):M});$o.displayName="Link";var t9=T.forwardRef(function({"aria-current":n="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:i,viewTransition:s,children:u,...c},f){let h=Cf(i,{relative:c.relative}),m=na(),v=T.useContext(bv),{navigator:b,basename:x}=T.useContext(Ia),w=v!=null&&c9(h)&&s===!0,S=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,E=m.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(E=E.toLowerCase(),R=R?R.toLowerCase():null,S=S.toLowerCase()),R&&x&&(R=ci(R,x)||R);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let A=E===S||!o&&E.startsWith(S)&&E.charAt(D)==="/",N=R!=null&&(R===S||!o&&R.startsWith(S)&&R.charAt(S.length)==="/"),k={isActive:A,isPending:N,isTransitioning:w},M=A?n:void 0,I;typeof r=="function"?I=r(k):I=[r,A?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(k):a;return T.createElement($o,{...c,"aria-current":M,className:I,ref:f,style:P,to:i,viewTransition:s},typeof u=="function"?u(k):u)});t9.displayName="NavLink";var n9=T.forwardRef(({discover:e="render",fetcherKey:n,navigate:t,reloadDocument:r,replace:o,state:a,method:i=Ip,action:s,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:h,...m},v)=>{let b=l9(),x=u9(s,{relative:c}),w=i.toLowerCase()==="get"?"get":"post",S=typeof s=="string"&&ak.test(s),E=R=>{if(u&&u(R),R.defaultPrevented)return;R.preventDefault();let D=R.nativeEvent.submitter,A=D?.getAttribute("formmethod")||i;b(D||R.currentTarget,{fetcherKey:n,method:A,navigate:t,replace:o,state:a,relative:c,preventScrollReset:f,viewTransition:h})};return T.createElement("form",{ref:v,method:w,action:x,onSubmit:r?u:E,...m,"data-discover":!S&&e==="render"?"true":void 0})});n9.displayName="Form";function r9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ik(e){let n=T.useContext(uc);return ln(n,r9(e)),n}function o9(e,{target:n,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:i}={}){let s=bs(),u=na(),c=Cf(e,{relative:a});return T.useCallback(f=>{if(P7(f,n)){f.preventDefault();let h=t!==void 0?t:Wd(u)===Wd(c);s(e,{replace:h,state:r,preventScrollReset:o,relative:a,viewTransition:i})}},[u,s,c,t,r,n,e,o,a,i])}function a9(e){ea(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=T.useRef(Yb(e)),t=T.useRef(!1),r=na(),o=T.useMemo(()=>j7(r.search,t.current?null:n.current),[r.search]),a=bs(),i=T.useCallback((s,u)=>{const c=Yb(typeof s=="function"?s(new URLSearchParams(o)):s);t.current=!0,a("?"+c,u)},[a,o]);return[o,i]}var i9=0,s9=()=>`__${String(++i9)}__`;function l9(){let{router:e}=ik("useSubmit"),{basename:n}=T.useContext(Ia),t=R7();return T.useCallback(async(r,o={})=>{let{action:a,method:i,encType:s,formData:u,body:c}=L7(r,n);if(o.navigate===!1){let f=o.fetcherKey||s9();await e.fetch(f,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:u,body:c,formMethod:o.method||i,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:u,body:c,formMethod:o.method||i,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,n,t])}function u9(e,{relative:n}={}){let{basename:t}=T.useContext(Ia),r=T.useContext(Oa);ln(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Cf(e||".",{relative:n})},i=na();if(e==null){a.search=i.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(f=>f==="")){s.delete("index"),u.filter(h=>h).forEach(h=>s.append("index",h));let f=s.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ii([t,a.pathname])),Wd(a)}function c9(e,{relative:n}={}){let t=T.useContext(Q3);ln(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ik("useViewTransitionState"),o=Cf(e,{relative:n});if(!t.isTransitioning)return!1;let a=ci(t.currentLocation.pathname,r)||t.currentLocation.pathname,i=ci(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Jp(o.pathname,i)!=null||Jp(o.pathname,a)!=null}/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var d9={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,n,t,r)=>{const o=T.forwardRef(({color:a="currentColor",size:i=24,stroke:s=2,title:u,className:c,children:f,...h},m)=>T.createElement("svg",{ref:m,...d9[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${n}`,c].join(" "),strokeWidth:s,stroke:a,...h},[u&&T.createElement("title",{key:"svg-title"},u),...r.map(([v,b])=>T.createElement(v,b)),...Array.isArray(f)?f:[f]]));return o.displayName=`${t}`,o};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Eu=mt("outline","alert-circle","AlertCircle",f9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],Pp=mt("outline","arrow-left","ArrowLeft",h9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],m9=mt("outline","arrow-right","ArrowRight",p9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M8 7l4 -4l4 4",key:"svg-0"}],["path",{d:"M8 17l4 4l4 -4",key:"svg-1"}],["path",{d:"M12 3l0 18",key:"svg-2"}]],g9=mt("outline","arrows-vertical","ArrowsVertical",v9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],cw=mt("outline","book","Book",y9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]],x9=mt("outline","brain","Brain",b9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M4 8a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M16.5 7.5v.01",key:"svg-2"}]],S9=mt("outline","brand-instagram","BrandInstagram",w9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c0 -.249 1.51 -2.772 1.818 -4.013z",key:"svg-0"}]],E9=mt("outline","brand-twitter","BrandTwitter",C9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M2 8a4 4 0 0 1 4 -4h12a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-12a4 4 0 0 1 -4 -4v-8z",key:"svg-0"}],["path",{d:"M10 9l5 3l-5 3z",key:"svg-1"}]],_9=mt("outline","brand-youtube","BrandYoutube",R9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],W_=mt("outline","camera","Camera",T9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M12 12l-6.5 5.5",key:"svg-0"}],["path",{d:"M12 3v9h9",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],A9=mt("outline","chart-pie-3","ChartPie3",D9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],Zi=mt("outline","check","Check",N9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],$_=mt("outline","chevron-down","ChevronDown",k9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 12l.01 0",key:"svg-2"}],["path",{d:"M13 12l2 0",key:"svg-3"}],["path",{d:"M9 16l.01 0",key:"svg-4"}],["path",{d:"M13 16l2 0",key:"svg-5"}]],sk=mt("outline","clipboard-list","ClipboardList",M9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]],O9=mt("outline","clock","Clock",I9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]],j9=mt("outline","code","Code",P9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]],F9=mt("outline","coin","Coin",B9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M8 13v.01",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 12v.01",key:"svg-3"}],["path",{d:"M16 14v.01",key:"svg-4"}],["path",{d:"M11 8v.01",key:"svg-5"}],["path",{d:"M13.148 3.476l2.667 1.104a4 4 0 0 0 4.656 6.14l.053 .132a3 3 0 0 1 0 2.296q -.745 1.18 -1.024 1.852q -.283 .684 -.66 2.216a3 3 0 0 1 -1.624 1.623q -1.572 .394 -2.216 .661q -.712 .295 -1.852 1.024a3 3 0 0 1 -2.296 0q -1.203 -.754 -1.852 -1.024q -.707 -.292 -2.216 -.66a3 3 0 0 1 -1.623 -1.624q -.397 -1.577 -.661 -2.216q -.298 -.718 -1.024 -1.852a3 3 0 0 1 0 -2.296q .719 -1.116 1.024 -1.852q .257 -.62 .66 -2.216a3 3 0 0 1 1.624 -1.623q 1.547 -.384 2.216 -.661q .687 -.285 1.852 -1.024a3 3 0 0 1 2.296 0",key:"svg-6"}]],z9=mt("outline","cookie","Cookie",L9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],V9=mt("outline","device-floppy","DeviceFloppy",U9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],W9=mt("outline","download","Download",H9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],G9=mt("outline","external-link","ExternalLink",$9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],Kb=mt("outline","eye","Eye",q9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M18.9 7a8 8 0 0 1 1.1 5v1a6 6 0 0 0 .8 3",key:"svg-0"}],["path",{d:"M8 11a4 4 0 0 1 8 0v1a10 10 0 0 0 2 6",key:"svg-1"}],["path",{d:"M12 11v2a14 14 0 0 0 2.5 8",key:"svg-2"}],["path",{d:"M8 15a18 18 0 0 0 1.8 6",key:"svg-3"}],["path",{d:"M4.9 19a22 22 0 0 1 -.9 -7v-1a8 8 0 0 1 12 -6.95",key:"svg-4"}]],Y9=mt("outline","fingerprint","Fingerprint",X9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M13.41 10.59l2.59 -2.59",key:"svg-2"}],["path",{d:"M7 12a5 5 0 0 1 5 -5",key:"svg-3"}]],Q9=mt("outline","gauge","Gauge",K9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],Qb=mt("outline","info-circle","InfoCircle",J9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M5 12h2",key:"svg-0"}],["path",{d:"M17 12h2",key:"svg-1"}],["path",{d:"M11 12h2",key:"svg-2"}]],eH=mt("outline","line-dashed","LineDashed",Z9);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]],nH=mt("outline","link","Link",tH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M11 6h9",key:"svg-0"}],["path",{d:"M11 12h9",key:"svg-1"}],["path",{d:"M12 18h8",key:"svg-2"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4",key:"svg-3"}],["path",{d:"M6 10v-6l-2 2",key:"svg-4"}]],oH=mt("outline","list-numbers","ListNumbers",rH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]],iH=mt("outline","list","List",aH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M9 2m0 3a3 3 0 0 1 3 -3h0a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3h0a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]],lk=mt("outline","microphone","Microphone",sH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]],uH=mt("outline","music","Music",lH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M10 6h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3",key:"svg-0"}],["path",{d:"M17 7m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}]],dH=mt("outline","notification","Notification",cH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M8 10v-7l-2 2",key:"svg-0"}],["path",{d:"M6 16a2 2 0 1 1 4 0c0 .591 -.601 1.46 -1 2l-3 3h4",key:"svg-1"}],["path",{d:"M15 14a2 2 0 1 0 2 -2a2 2 0 1 0 -2 -2",key:"svg-2"}],["path",{d:"M6.5 10h3",key:"svg-3"}]],hH=mt("outline","numbers","Numbers",fH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],wv=mt("outline","pencil","Pencil",pH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],Zp=mt("outline","photo","Photo",mH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M7 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M17 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M7 15l10 0",key:"svg-2"}]],gH=mt("outline","record-mail","RecordMail",vH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],bH=mt("outline","settings","Settings",yH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M3 7v-2h13v2",key:"svg-0"}],["path",{d:"M10 5v14",key:"svg-1"}],["path",{d:"M12 19h-4",key:"svg-2"}],["path",{d:"M15 13v-1h6v1",key:"svg-3"}],["path",{d:"M18 12v7",key:"svg-4"}],["path",{d:"M17 19h2",key:"svg-5"}]],wH=mt("outline","text-size","TextSize",xH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],Sv=mt("outline","trash","Trash",SH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M4 20l3 0",key:"svg-0"}],["path",{d:"M14 20l7 0",key:"svg-1"}],["path",{d:"M6.9 15l6.9 0",key:"svg-2"}],["path",{d:"M10.2 6.3l5.8 13.7",key:"svg-3"}],["path",{d:"M5 20l6 -16l2 0l7 16",key:"svg-4"}]],EH=mt("outline","typography","Typography",CH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],_H=mt("outline","upload","Upload",RH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],DH=mt("outline","user","User",TH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M7 12l4 0",key:"svg-2"}],["path",{d:"M9 10l0 4",key:"svg-3"}]],uk=mt("outline","video-plus","VideoPlus",AH);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-1"}]],Jb=mt("outline","video","Video",NH),kH="_header_1fj7b_2",MH="_link_1fj7b_9",IH="_subLink_1fj7b_32",OH="_dropdownFooter_1fj7b_42",Co={header:kH,link:MH,subLink:IH,dropdownFooter:OH},PH=[{icon:j9,title:"Course Creation",description:"Build learning and assignment JotForms with drag-and-drop ease"},{icon:F9,title:"Group Management",description:"Create groups and assign users efficiently"},{icon:cw,title:"Course Assignment",description:"Map content to courses and assign to groups"},{icon:Y9,title:"User Access",description:"Secure login and personalized course views"},{icon:A9,title:"Analytics",description:"View detailed analytics by group and course"},{icon:dH,title:"Submissions",description:"Track assignment submissions and scores"}];function jH(){const[e,{toggle:n,close:t}]=zR(!1),[r,{toggle:o}]=zR(!1),a=mr(),{colorScheme:i}=_A(),s=i==="dark",u=PH.map(c=>y.jsx(Zo,{className:Co.subLink,children:y.jsxs(ze,{wrap:"nowrap",align:"flex-start",children:[y.jsx(tw,{size:34,variant:"default",radius:"md",color:s?"dark.4":"gray",children:y.jsx(c.icon,{size:22,color:s?a.colors.blue[3]:a.colors.blue[6]})}),y.jsxs("div",{children:[y.jsx(de,{size:"sm",fw:500,c:s?"white":"black",children:c.title}),y.jsx(de,{size:"xs",c:s?"gray.4":"dimmed",children:c.description})]})]})},c.title));return y.jsxs(re,{children:[y.jsx("header",{className:Co.header,style:{backgroundColor:s?a.colors.dark[7]:"white"},children:y.jsxs(ze,{justify:"space-between",h:"100%",children:[y.jsx("h2",{size:30,children:"LMS"}),y.jsxs(ze,{h:"100%",gap:0,visibleFrom:"sm",children:[y.jsx($o,{to:"/",className:Co.link,children:"Home"}),y.jsxs(ss,{width:600,position:"bottom",radius:"md",shadow:"md",withinPortal:!0,children:[y.jsx(ss.Target,{children:y.jsx("a",{href:"#",className:Co.link,children:y.jsxs(Ir,{inline:!0,children:[y.jsx(re,{component:"span",mr:5,children:"Features"}),y.jsx($_,{size:16,color:s?a.colors.blue[3]:a.colors.blue[6]})]})})}),y.jsxs(ss.Dropdown,{style:{overflow:"hidden",backgroundColor:s?a.colors.dark[6]:"white"},children:[y.jsxs(ze,{justify:"space-between",px:"md",children:[y.jsx(de,{fw:500,c:s?"white":"black",children:"Features"}),y.jsx(Zm,{href:"#",fz:"xs",c:s?"gray.4":"black",children:"View all"})]}),y.jsx(Fr,{my:"sm"}),y.jsx(ic,{cols:2,spacing:0,children:u}),y.jsx("div",{className:Co.dropdownFooter,style:{backgroundColor:s?a.colors.dark[7]:a.colors.gray[0]},children:y.jsxs(ze,{justify:"space-between",children:[y.jsxs("div",{children:[y.jsx(de,{fw:500,fz:"sm",c:s?"white":"black",children:"Get started"}),y.jsx(de,{size:"xs",c:s?"gray.4":"dimmed",children:"Start building your pharma LMS today"})]}),y.jsx(Oe,{variant:"default",children:"Get started"})]})})]})]}),y.jsx($o,{to:"/lmsdashboard",className:Co.link,children:"LMS Dashboard"}),y.jsx($o,{to:"/course",className:Co.link,children:"Courses"}),y.jsx($o,{to:"/analyticdashboard",className:Co.link,children:"Analytics"})]}),y.jsx(ze,{visibleFrom:"sm",children:y.jsxs($o,{to:"/login",children:[" ",y.jsx(Oe,{variant:"default",children:"Log in"})]})}),y.jsx(j1,{opened:e,onClick:n,hiddenFrom:"sm",color:s?"white":"black"})]})}),y.jsx(ta,{opened:e,onClose:t,size:"100%",padding:"md",title:"Menu",hiddenFrom:"sm",zIndex:1e6,overlayColor:s?a.colors.dark[9]:a.colors.gray[2],children:y.jsxs(jo,{h:"calc(100vh - 80px)",mx:"-md",children:[y.jsx(Fr,{my:"sm"}),y.jsx("a",{href:"#",className:Co.link,children:"Home"}),y.jsx(Zo,{className:Co.link,onClick:o,children:y.jsxs(Ir,{inline:!0,children:[y.jsx(re,{component:"span",mr:5,children:"Features"}),y.jsx($_,{size:16,color:s?a.colors.blue[3]:a.colors.blue[6]})]})}),y.jsx(MA,{in:r,children:u}),y.jsx("a",{href:"#",className:Co.link,children:"Courses"}),y.jsx("a",{href:"#",className:Co.link,children:"Analytics"}),y.jsx(Fr,{my:"sm"}),y.jsxs(ze,{justify:"center",grow:!0,pb:"xl",px:"md",children:[y.jsx(Oe,{variant:"default",children:"Log in"}),y.jsx(Oe,{children:"Sign up"})]})]})})]})}const BH="_footer_161sz_2",FH="_logo_161sz_9",LH="_description_161sz_21",zH="_inner_161sz_32",UH="_groups_161sz_44",VH="_wrapper_161sz_55",HH="_link_161sz_59",WH="_title_161sz_71",$H="_afterFooter_161sz_79",GH="_social_161sz_98",da={footer:BH,logo:FH,description:LH,inner:zH,groups:UH,wrapper:VH,link:HH,title:WH,afterFooter:$H,social:GH},qH=[{title:"About",links:[{label:"Features",link:"#"},{label:"Pricing",link:"#"},{label:"Support",link:"#"},{label:"Forums",link:"#"}]},{title:"Project",links:[{label:"Contribute",link:"#"},{label:"Media assets",link:"#"},{label:"Changelog",link:"#"},{label:"Releases",link:"#"}]},{title:"Community",links:[{label:"Join Discord",link:"#"},{label:"Follow on Twitter",link:"#"},{label:"Email newsletter",link:"#"},{label:"GitHub discussions",link:"#"}]}];function XH(){const e=qH.map(n=>{const t=n.links.map((r,o)=>y.jsx(de,{className:da.link,component:"a",href:r.link,onClick:a=>a.preventDefault(),children:r.label},o));return y.jsxs("div",{className:da.wrapper,children:[y.jsx(de,{className:da.title,children:n.title}),t]},n.title)});return y.jsxs("footer",{className:da.footer,children:[y.jsxs(Zt,{className:da.inner,children:[y.jsxs("div",{className:da.logo,children:[y.jsx("h2",{children:"LMS"}),y.jsx(de,{size:"xs",c:"dimmed",className:da.description,children:"Build fully functional accessible web applications faster than ever"})]}),y.jsx("div",{className:da.groups,children:e})]}),y.jsxs(Zt,{className:da.afterFooter,children:[y.jsx(de,{c:"dimmed",size:"sm",children:" 2020 mantine.dev. All rights reserved."}),y.jsxs(ze,{gap:0,className:da.social,justify:"flex-end",wrap:"nowrap",children:[y.jsx(Wn,{size:"lg",color:"gray",variant:"subtle",children:y.jsx(E9,{size:18,stroke:1.5})}),y.jsx(Wn,{size:"lg",color:"gray",variant:"subtle",children:y.jsx(_9,{size:18,stroke:1.5})}),y.jsx(Wn,{size:"lg",color:"gray",variant:"subtle",children:y.jsx(S9,{size:18,stroke:1.5})})]})]})]})}function YH(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const KH=typeof window<"u"?T.useLayoutEffect:T.useEffect;function Jn(e,n){KH(()=>{if(e)return window.addEventListener(e,n),()=>window.removeEventListener(e,n)},[e])}function QH(e,n){e&&YH(e),Jn(`mantine-form:${e}:set-field-value`,t=>n.setFieldValue(t.detail.path,t.detail.value)),Jn(`mantine-form:${e}:set-values`,t=>n.setValues(t.detail)),Jn(`mantine-form:${e}:set-initial-values`,t=>n.setInitialValues(t.detail)),Jn(`mantine-form:${e}:set-errors`,t=>n.setErrors(t.detail)),Jn(`mantine-form:${e}:set-field-error`,t=>n.setFieldError(t.detail.path,t.detail.error)),Jn(`mantine-form:${e}:clear-field-error`,t=>n.clearFieldError(t.detail)),Jn(`mantine-form:${e}:clear-errors`,n.clearErrors),Jn(`mantine-form:${e}:reset`,n.reset),Jn(`mantine-form:${e}:validate`,n.validate),Jn(`mantine-form:${e}:validate-field`,t=>n.validateField(t.detail)),Jn(`mantine-form:${e}:reorder-list-item`,t=>n.reorderListItem(t.detail.path,t.detail.payload)),Jn(`mantine-form:${e}:remove-list-item`,t=>n.removeListItem(t.detail.path,t.detail.index)),Jn(`mantine-form:${e}:insert-list-item`,t=>n.insertListItem(t.detail.path,t.detail.item,t.detail.index)),Jn(`mantine-form:${e}:set-dirty`,t=>n.setDirty(t.detail)),Jn(`mantine-form:${e}:set-touched`,t=>n.setTouched(t.detail)),Jn(`mantine-form:${e}:reset-dirty`,t=>n.resetDirty(t.detail)),Jn(`mantine-form:${e}:reset-touched`,n.resetTouched)}function JH(e){return n=>{if(!n)e(n);else if(typeof n=="function")e(n);else if(typeof n=="object"&&"nativeEvent"in n){const{currentTarget:t}=n;t instanceof HTMLInputElement?t.type==="checkbox"?e(t.checked):e(t.value):(t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)&&e(t.value)}else e(n)}}function Zb(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((n,t)=>{const r=e[t];return r!=null&&r!==!1&&(n[t]=r),n},{})}function ZH(e){const[n,t]=T.useState(Zb(e)),r=T.useRef(n),o=T.useCallback(u=>{t(c=>{const f=Zb(typeof u=="function"?u(c):u);return r.current=f,f})},[]),a=T.useCallback(()=>o({}),[]),i=T.useCallback(u=>{r.current[u]!==void 0&&o(c=>{const f={...c};return delete f[u],f})},[n]),s=T.useCallback((u,c)=>{c==null||c===!1?i(u):r.current[u]!==c&&o(f=>({...f,[u]:c}))},[n]);return{errorsState:n,setErrors:o,clearErrors:a,setFieldError:s,clearFieldError:i}}function ex(e,n){if(n===null||typeof n!="object")return{};const t={...n};return Object.keys(n).forEach(r=>{r.includes(`${String(e)}.`)&&delete t[r]}),t}function G_(e,n){const t=e.substring(n.length+1).split(".")[0];return parseInt(t,10)}function q_(e,n,t,r){if(n===void 0)return t;const o=`${String(e)}`;let a=t;r===-1&&(a=ex(`${o}.${n}`,a));const i={...a},s=new Set;return Object.entries(a).filter(([u])=>{if(!u.startsWith(`${o}.`))return!1;const c=G_(u,o);return Number.isNaN(c)?!1:c>=n}).forEach(([u,c])=>{const f=G_(u,o),h=u.replace(`${o}.${f}`,`${o}.${f+r}`);i[h]=c,s.add(h),s.has(u)||delete i[u]}),i}function eW(e,{from:n,to:t},r){const o=`${e}.${n}`,a=`${e}.${t}`,i={...r},s=new Set;return Object.keys(r).forEach(u=>{if(s.has(u))return;let c,f;if(u.startsWith(o)?(c=u,f=u.replace(o,a)):u.startsWith(a)&&(c=u.replace(a,o),f=u),c&&f){const h=i[c],m=i[f];m===void 0?delete i[c]:i[c]=m,h===void 0?delete i[f]:i[f]=h,s.add(c),s.add(f)}}),i}function X_(e,n,t){typeof t.value=="object"&&(t.value=Ru(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||n==="__proto__"?Object.defineProperty(e,n,t):e[n]=t.value}function Ru(e){if(typeof e!="object")return e;var n=0,t,r,o,a=Object.prototype.toString.call(e);if(a==="[object Object]"?o=Object.create(e.__proto__||null):a==="[object Array]"?o=Array(e.length):a==="[object Set]"?(o=new Set,e.forEach(function(i){o.add(Ru(i))})):a==="[object Map]"?(o=new Map,e.forEach(function(i,s){o.set(Ru(s),Ru(i))})):a==="[object Date]"?o=new Date(+e):a==="[object RegExp]"?o=new RegExp(e.source,e.flags):a==="[object DataView]"?o=new e.constructor(Ru(e.buffer)):a==="[object ArrayBuffer]"?o=e.slice(0):a.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)X_(o,r[n],Object.getOwnPropertyDescriptor(e,r[n]));for(n=0,r=Object.getOwnPropertyNames(e);n<r.length;n++)Object.hasOwnProperty.call(o,t=r[n])&&o[t]===e[t]||X_(o,t,Object.getOwnPropertyDescriptor(e,t))}return o||e}function ck(e){return typeof e!="string"?[]:e.split(".")}function wn(e,n){const t=ck(e);if(t.length===0||typeof n!="object"||n===null)return;let r=n[t[0]];for(let o=1;o<t.length&&r!=null;o+=1)r=r[t[o]];return r}function Ef(e,n,t){const r=ck(e);if(r.length===0)return t;const o=Ru(t);if(r.length===1)return o[r[0]]=n,o;let a=o[r[0]];for(let i=1;i<r.length-1;i+=1){if(a===void 0)return o;a=a[r[i]]}return a[r[r.length-1]]=n,o}function tW(e,{from:n,to:t},r){const o=wn(e,r);if(!Array.isArray(o))return r;const a=[...o],i=o[n];return a.splice(n,1),a.splice(t,0,i),Ef(e,a,r)}function nW(e,n,t,r){const o=wn(e,r);if(!Array.isArray(o))return r;const a=[...o];return a.splice(typeof t=="number"?t:a.length,0,n),Ef(e,a,r)}function rW(e,n,t){const r=wn(e,t);return Array.isArray(r)?Ef(e,r.filter((o,a)=>a!==n),t):t}function oW(e,n,t,r){const o=wn(e,r);if(!Array.isArray(o)||o.length<=t)return r;const a=[...o];return a[t]=n,Ef(e,a,r)}function aW({$values:e,$errors:n,$status:t}){const r=T.useCallback((s,u)=>{t.clearFieldDirty(s),n.setErrors(c=>eW(s,u,c)),e.setValues({values:tW(s,u,e.refValues.current),updateState:!0})},[]),o=T.useCallback((s,u)=>{t.clearFieldDirty(s),n.setErrors(c=>q_(s,u,c,-1)),e.setValues({values:rW(s,u,e.refValues.current),updateState:!0})},[]),a=T.useCallback((s,u,c)=>{t.clearFieldDirty(s),n.setErrors(f=>q_(s,c,f,1)),e.setValues({values:nW(s,u,c,e.refValues.current),updateState:!0})},[]),i=T.useCallback((s,u,c)=>{t.clearFieldDirty(s),e.setValues({values:oW(s,c,u,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:o,insertListItem:a,replaceListItem:i}}var B0,Y_;function iW(){return Y_||(Y_=1,B0=function e(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;var r,o,a;if(Array.isArray(n)){if(r=n.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!e(n[o],t[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if(a=Object.keys(n),r=a.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[o]))return!1;for(o=r;o--!==0;){var i=a[o];if(!e(n[i],t[i]))return!1}return!0}return n!==n&&t!==t}),B0}var sW=iW();const op=cf(sW);function bd(e,n){const t=Object.keys(e);if(typeof n=="string"){const r=t.filter(o=>o.startsWith(`${n}.`));return e[n]||r.some(o=>e[o])||!1}return t.some(r=>e[r])}function lW({initialDirty:e,initialTouched:n,mode:t,$values:r}){const[o,a]=T.useState(n),[i,s]=T.useState(e),u=T.useRef(n),c=T.useRef(e),f=T.useCallback(N=>{const k=typeof N=="function"?N(u.current):N;u.current=k,t==="controlled"&&a(k)},[]),h=T.useCallback((N,k=!1)=>{const M=typeof N=="function"?N(c.current):N;c.current=M,(t==="controlled"||k)&&s(M)},[]),m=T.useCallback(()=>f({}),[]),v=T.useCallback(N=>{const k=N?{...r.refValues.current,...N}:r.refValues.current;r.setValuesSnapshot(k),h({})},[]),b=T.useCallback((N,k)=>{f(M=>bd(M,N)===k?M:{...M,[N]:k})},[]),x=T.useCallback((N,k,M)=>{h(I=>bd(I,N)===k?I:{...I,[N]:k},M)},[]),w=T.useCallback((N,k)=>{const M=bd(c.current,N),I=!op(wn(N,r.getValuesSnapshot()),k),P=ex(N,c.current);P[N]=I,h(P,M!==I)},[]),S=T.useCallback(N=>bd(u.current,N),[]),E=T.useCallback(N=>h(k=>{if(typeof N!="string")return k;const M=ex(N,k);return delete M[N],op(M,k)?k:M}),[]),R=T.useCallback(N=>{if(N){const M=wn(N,c.current);if(typeof M=="boolean")return M;const I=wn(N,r.refValues.current),P=wn(N,r.valuesSnapshot.current);return!op(I,P)}return Object.keys(c.current).length>0?bd(c.current):!op(r.refValues.current,r.valuesSnapshot.current)},[]),D=T.useCallback(()=>c.current,[]),A=T.useCallback(()=>u.current,[]);return{touchedState:o,dirtyState:i,touchedRef:u,dirtyRef:c,setTouched:f,setDirty:h,resetDirty:v,resetTouched:m,isTouched:S,setFieldTouched:b,setFieldDirty:x,setTouchedState:a,setDirtyState:s,clearFieldDirty:E,isDirty:R,getDirty:D,getTouched:A,setCalculatedFieldDirty:w}}function uW({initialValues:e,onValuesChange:n,mode:t}){const r=T.useRef(!1),[o,a]=T.useState(e||{}),i=T.useRef(o),s=T.useRef(o),u=T.useCallback(({values:w,subscribers:S,updateState:E=!0,mergeWithPreviousValues:R=!0})=>{const D=i.current,A=w instanceof Function?w(i.current):w,N=R?{...D,...A}:A;i.current=N,E&&(a(N),t==="uncontrolled"&&(i.current=N)),n?.(N,D),S?.filter(Boolean).forEach(k=>k({updatedValues:N,previousValues:D}))},[n]),c=T.useCallback(w=>{const S=wn(w.path,i.current),E=w.value instanceof Function?w.value(S):w.value;if(S!==E){const R=i.current,D=Ef(w.path,E,i.current);u({values:D,updateState:w.updateState}),w.subscribers?.filter(Boolean).forEach(A=>A({path:w.path,updatedValues:D,previousValues:R}))}},[u]),f=T.useCallback(w=>{s.current=w},[]),h=T.useCallback((w,S)=>{r.current||(r.current=!0,u({values:w,updateState:t==="controlled"}),f(w),S())},[u]),m=T.useCallback(()=>{u({values:s.current,updateState:!0,mergeWithPreviousValues:!1})},[u]),v=T.useCallback(()=>i.current,[]),b=T.useCallback(()=>s.current,[]),x=T.useCallback((w,S)=>{const E=wn(w,s.current);typeof E>"u"||c({path:w,value:E,updateState:t==="controlled",subscribers:S})},[c,t]);return{initialized:r,stateValues:o,refValues:i,valuesSnapshot:s,setValues:u,setFieldValue:c,resetValues:m,setValuesSnapshot:f,initialize:h,getValues:v,getValuesSnapshot:b,resetField:x}}function cW({$status:e,cascadeUpdates:n}){const t=T.useRef({}),r=T.useCallback((a,i)=>{T.useEffect(()=>(t.current[a]=t.current[a]||[],t.current[a].push(i),()=>{t.current[a]=t.current[a].filter(s=>s!==i)}),[i])},[]),o=T.useCallback(a=>{const i=t.current[a]?.map(s=>u=>s({previousValue:wn(a,u.previousValues),value:wn(a,u.updatedValues),touched:e.isTouched(a),dirty:e.isDirty(a)}))??[];if(n)for(const s in t.current)(s.startsWith(`${a}.`)||a.startsWith(`${s}.`))&&i.push(...t.current[s].map(u=>c=>u({previousValue:wn(s,c.previousValues),value:wn(s,c.updatedValues),touched:e.isTouched(s),dirty:e.isDirty(s)})));return i},[]);return{subscribers:t,watch:r,getFieldSubscribers:o}}function K_(e,n){return e?`${e}-${n.toString()}`:n.toString()}const ap=Symbol("root-rule");function Q_(e){const n=Zb(e);return{hasErrors:Object.keys(n).length>0,errors:n}}function tx(e,n,t="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((o,a)=>{const i=e[a],s=`${t===""?"":`${t}.`}${a}`,u=wn(s,n);let c=!1;return typeof i=="function"&&(o[s]=i(u,n,s)),typeof i=="object"&&Array.isArray(u)&&(c=!0,u.forEach((f,h)=>tx(i,n,`${s}.${h}`,o)),ap in i&&(o[s]=i[ap](u,n,s))),typeof i=="object"&&typeof u=="object"&&u!==null&&(c||tx(i,n,s,o),ap in i&&(o[s]=i[ap](u,n,s))),o},r)}function nx(e,n){return Q_(typeof e=="function"?e(n):tx(e,n))}function ip(e,n,t){if(typeof e!="string")return{hasError:!1,error:null};const r=nx(n,t),o=Object.keys(r.errors).find(a=>e.split(".").every((i,s)=>i===a.split(".")[s]));return{hasError:!!o,error:o?r.errors[o]:null}}const dW="__MANTINE_FORM_INDEX__";function J_(e,n){return n?typeof n=="boolean"?n:Array.isArray(n)?n.includes(e.replace(/[.][0-9]+/g,`.${dW}`)):!1:!1}function $d({name:e,mode:n="controlled",initialValues:t,initialErrors:r={},initialDirty:o={},initialTouched:a={},clearInputErrorOnChange:i=!0,validateInputOnChange:s=!1,validateInputOnBlur:u=!1,onValuesChange:c,transformValues:f=w=>w,enhanceGetInputProps:h,validate:m,onSubmitPreventDefault:v="always",touchTrigger:b="change",cascadeUpdates:x=!1}={}){const w=ZH(r),S=uW({initialValues:t,onValuesChange:c,mode:n}),E=lW({initialDirty:o,initialTouched:a,$values:S,mode:n}),R=aW({$values:S,$errors:w,$status:E}),D=cW({$status:E,cascadeUpdates:x}),[A,N]=T.useState(0),[k,M]=T.useState({}),[I,P]=T.useState(!1),L=T.useCallback(()=>{S.resetValues(),w.clearErrors(),E.resetDirty(),E.resetTouched(),n==="uncontrolled"&&N(le=>le+1)},[]),F=T.useCallback(le=>{i&&w.clearErrors(),n==="uncontrolled"&&N(ge=>ge+1),Object.keys(D.subscribers.current).forEach(ge=>{const me=wn(ge,S.refValues.current),Pe=wn(ge,le);me!==Pe&&D.getFieldSubscribers(ge).forEach(je=>je({previousValues:le,updatedValues:S.refValues.current}))})},[i]),Y=T.useCallback(le=>{const ge=S.refValues.current;S.initialize(le,()=>n==="uncontrolled"&&N(me=>me+1)),F(ge)},[F]),W=T.useCallback((le,ge,me)=>{const Pe=J_(le,s),je=ge instanceof Function?ge(wn(le,S.refValues.current)):ge;E.setCalculatedFieldDirty(le,je),b==="change"&&E.setFieldTouched(le,!0),!Pe&&i&&w.clearFieldError(le),S.setFieldValue({path:le,value:ge,updateState:n==="controlled",subscribers:[...D.getFieldSubscribers(le),Pe?Be=>{const Te=ip(le,m,Be.updatedValues);Te.hasError?w.setFieldError(le,Te.error):w.clearFieldError(le)}:null,me?.forceUpdate!==!1&&n!=="controlled"?()=>M(Be=>({...Be,[le]:(Be[le]||0)+1})):null]})},[c,m]),X=T.useCallback(le=>{const ge=S.refValues.current;S.setValues({values:le,updateState:n==="controlled"}),F(ge)},[c,F]),j=T.useCallback(()=>{const le=nx(m,S.refValues.current);return w.setErrors(le.errors),le},[m]),U=T.useCallback(le=>{const ge=ip(le,m,S.refValues.current);return ge.hasError?w.setFieldError(le,ge.error):w.clearFieldError(le),ge},[m]),V=(le,{type:ge="input",withError:me=!0,withFocus:Pe=!0,...je}={})=>{const Te={onChange:JH(We=>W(le,We,{forceUpdate:!1})),"data-path":K_(e,le)};return me&&(Te.error=w.errorsState[le]),ge==="checkbox"?Te[n==="controlled"?"checked":"defaultChecked"]=wn(le,S.refValues.current):Te[n==="controlled"?"value":"defaultValue"]=wn(le,S.refValues.current),Pe&&(Te.onFocus=()=>E.setFieldTouched(le,!0),Te.onBlur=()=>{if(J_(le,u)){const We=ip(le,m,S.refValues.current);We.hasError?w.setFieldError(le,We.error):w.clearFieldError(le)}}),Object.assign(Te,h?.({inputProps:Te,field:le,options:{type:ge,withError:me,withFocus:Pe,...je},form:ae}))},q=(le,ge)=>me=>{v==="always"&&me?.preventDefault();const Pe=j();if(Pe.hasErrors)v==="validation-failed"&&me?.preventDefault(),ge?.(Pe.errors,S.refValues.current,me);else{const je=le?.(f(S.refValues.current),me);je instanceof Promise&&(P(!0),je.finally(()=>P(!1)))}},B=le=>f(le||S.refValues.current),G=T.useCallback(le=>{le.preventDefault(),L()},[]),J=T.useCallback(le=>le?!ip(le,m,S.refValues.current).hasError:!nx(m,S.refValues.current).hasErrors,[m]),ne=le=>`${A}-${String(le)}-${k[String(le)]||0}`,he=T.useCallback(le=>document.querySelector(`[data-path="${K_(e,le)}"]`),[]),Se=T.useCallback(le=>{S.resetField(le,[n!=="controlled"?()=>M(ge=>({...ge,[le]:(ge[le]||0)+1})):null])},[S.resetField,n,M]),ae={watch:D.watch,initialized:S.initialized.current,values:n==="uncontrolled"?S.refValues.current:S.stateValues,getValues:S.getValues,getInitialValues:S.getValuesSnapshot,setInitialValues:S.setValuesSnapshot,resetField:Se,initialize:Y,setValues:X,setFieldValue:W,submitting:I,setSubmitting:P,errors:w.errorsState,setErrors:w.setErrors,setFieldError:w.setFieldError,clearFieldError:w.clearFieldError,clearErrors:w.clearErrors,resetDirty:E.resetDirty,setTouched:E.setTouched,setDirty:E.setDirty,isTouched:E.isTouched,resetTouched:E.resetTouched,isDirty:E.isDirty,getTouched:E.getTouched,getDirty:E.getDirty,reorderListItem:R.reorderListItem,insertListItem:R.insertListItem,removeListItem:R.removeListItem,replaceListItem:R.replaceListItem,reset:L,validate:j,validateField:U,getInputProps:V,onSubmit:q,onReset:G,isValid:J,getTransformedValues:B,key:ne,getInputNode:he};return QH(e,ae),ae}function fW(e){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 262",style:{width:14,height:14},...e,children:[y.jsx("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"}),y.jsx("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"}),y.jsx("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"}),y.jsx("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"})]})}function hW(e){return y.jsx(Oe,{leftSection:y.jsx(fW,{}),variant:"default",...e})}function pW({size:e,style:n,...t}){return y.jsx(re,{component:"svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 209",fill:"currentColor",style:[{width:xe(e),height:xe(e)},n],...t,children:y.jsx("path",{fillRule:"nonzero",d:"M256 25.45c-9.42 4.177-19.542 7-30.166 8.27 10.845-6.5 19.172-16.793 23.093-29.057a105.183 105.183 0 01-33.351 12.745C205.995 7.201 192.346.822 177.239.822c-29.006 0-52.523 23.516-52.523 52.52 0 4.117.465 8.125 1.36 11.97-43.65-2.191-82.35-23.1-108.255-54.876-4.52 7.757-7.11 16.78-7.11 26.404 0 18.222 9.273 34.297 23.365 43.716a52.312 52.312 0 01-23.79-6.57c-.003.22-.003.44-.003.661 0 25.447 18.104 46.675 42.13 51.5a52.592 52.592 0 01-23.718.9c6.683 20.866 26.08 36.05 49.062 36.475-17.975 14.086-40.622 22.483-65.228 22.483-4.24 0-8.42-.249-12.529-.734 23.243 14.902 50.85 23.597 80.51 23.597 96.607 0 149.434-80.031 149.434-149.435 0-2.278-.05-4.543-.152-6.795A106.748 106.748 0 00256 25.45"})})}function mW(e){return y.jsx(Oe,{leftSection:y.jsx(pW,{size:16,color:"#00ACEE"}),variant:"default",...e})}const vW="_formPaper_a5u1v_2",dw={formPaper:vW};function gW(e){const[n,t]=QB(["login","register"]),r=$d({initialValues:{email:"",name:"",password:"",terms:!0},validate:{email:o=>/^\S+@\S+$/.test(o)?null:"Invalid email",password:o=>o.length<=6?"Password should include at least 6 characters":null}});return y.jsxs(fi,{className:dw.formPaper,radius:"md",p:"lg",withBorder:!0,...e,style:{maxWidth:"400px",margin:"0 auto"},children:[y.jsxs(de,{size:"lg",fw:500,children:["Welcome to Mantine, ",n," with"]}),y.jsxs(ze,{grow:!0,mb:"md",mt:"md",children:[y.jsx(hW,{radius:"xl",children:"Google"}),y.jsx(mW,{radius:"xl",children:"Twitter"})]}),y.jsx(Fr,{label:"Or continue with email",labelPosition:"center",my:"lg"}),y.jsxs("form",{onSubmit:r.onSubmit(()=>{}),children:[y.jsxs(Sr,{children:[n==="register"&&y.jsx(ui,{label:"Name",placeholder:"Your name",value:r.values.name,onChange:o=>r.setFieldValue("name",o.currentTarget.value),radius:"md"}),y.jsx(ui,{required:!0,label:"Email",placeholder:"hello@mantine.dev",value:r.values.email,onChange:o=>r.setFieldValue("email",o.currentTarget.value),error:r.errors.email&&"Invalid email",radius:"md"}),y.jsx(Y1,{required:!0,label:"Password",placeholder:"Your password",value:r.values.password,onChange:o=>r.setFieldValue("password",o.currentTarget.value),error:r.errors.password&&"Password should include at least 6 characters",radius:"md"}),n==="register"&&y.jsx(ec,{label:"I accept terms and conditions",checked:r.values.terms,onChange:o=>r.setFieldValue("terms",o.currentTarget.checked)})]}),y.jsxs(ze,{justify:"space-between",mt:"xl",children:[y.jsx(Zm,{component:"button",type:"button",c:"dimmed",onClick:()=>t(),size:"xs",children:n==="register"?"Already have an account? Login":"Don't have an account? Register"}),y.jsx(Oe,{type:"submit",radius:"xl",children:kB(n)})]})]})]})}function sp({size:e=185,radius:n=2.5,...t}){return y.jsxs("svg",{"aria-hidden":!0,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 185 185",width:e,height:e,...t,children:[y.jsx("rect",{width:"5",height:"5",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"20",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"40",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"60",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"80",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"100",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"120",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"140",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"160",rx:n}),y.jsx("rect",{width:"5",height:"5",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"60",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"120",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"20",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"80",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"140",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"40",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"100",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"160",y:"180",rx:n}),y.jsx("rect",{width:"5",height:"5",x:"180",y:"180",rx:n})]})}const yW="_wrapper_13e2z_2",bW="_inner_13e2z_18",xW="_dots_13e2z_23",wW="_title_13e2z_39",SW="_highlight_13e2z_56",CW="_description_13e2z_60",EW="_controls_13e2z_71",RW="_control_13e2z_71",Eo={wrapper:yW,inner:bW,dots:xW,title:wW,highlight:SW,description:CW,controls:EW,control:RW};function _W(){return y.jsxs(Zt,{className:Eo.wrapper,size:1400,children:[y.jsx(sp,{className:Eo.dots,style:{left:0,top:0}}),y.jsx(sp,{className:Eo.dots,style:{left:60,top:0}}),y.jsx(sp,{className:Eo.dots,style:{left:0,top:140}}),y.jsx(sp,{className:Eo.dots,style:{right:0,top:60}}),y.jsxs("div",{className:Eo.inner,children:[y.jsxs($t,{className:Eo.title,children:["AI-Automated"," ",y.jsx(de,{component:"span",className:Eo.highlight,inherit:!0,children:"Learning Management"})," ","System"]}),y.jsx(Zt,{p:0,size:400,children:y.jsx(de,{size:"lg",c:"dimmed",className:Eo.description,children:"Streamline training with mapping, Jotforms, groups, and analytics for compliance and performance."})}),y.jsxs("div",{className:Eo.controls,children:[y.jsx(Oe,{className:Eo.control,size:"lg",variant:"default",color:"gray",children:"Explore"}),y.jsx(Oe,{className:Eo.control,size:"lg",children:"Start"})]})]})]})}const TW="_title_kxiyu_2",DW="_description_kxiyu_13",AW="_card_kxiyu_29",lp={title:TW,description:DW,card:AW},NW=[{title:"Seamless Course Management",description:"Admins can create groups, assign users, build learning and assignment forms, map them to courses, and assign to groups effortlessly.",icon:Q9},{title:"User-Centric Learning Experience",description:"Users access assigned courses via navbar, view interactive JotForms, mindmaps, embedded PDFs, and submit assignments with ease.",icon:DH},{title:"Advanced Analytics",description:"Track completion rates, submission counts, scores, and timestamps for learning and assignments per course and group.",icon:z9}];function kW(){const e=mr(),{colorScheme:n}=_A(),t=n==="dark",r=NW.map(o=>y.jsxs(Vn,{shadow:"md",radius:"md",className:lp.card,padding:"xl",bg:t?"dark.6":"white",children:[y.jsx(o.icon,{size:50,stroke:1.5,color:t?e.colors.blue[3]:e.colors.blue[6]}),y.jsx(de,{fz:"lg",fw:500,className:lp.cardTitle,mt:"md",c:t?"white":"black",children:o.title}),y.jsx(de,{fz:"sm",c:t?"gray.4":"dimmed",mt:"sm",children:o.description})]},o.title));return y.jsxs(Zt,{size:"lg",py:"xl",children:[y.jsx($t,{order:2,className:lp.title,ta:"center",mt:"sm",c:t?"white":"black",children:"Key Features of PULSE LMS"}),y.jsx(de,{c:t?"gray.4":"dimmed",className:lp.description,ta:"center",mt:"md",children:"Discover powerful features for admin management, user engagement, and insightful analytics in your pharmaceutical training platform."}),y.jsx(ic,{cols:{base:1,md:3},spacing:"xl",mt:50,children:r})]})}const MW=()=>y.jsxs("div",{children:[y.jsx(_W,{}),y.jsx(kW,{})]});function dk({onSuccess:e,onClose:n}){const[t,r]=T.useState(!1),[o,a]=T.useState(""),i=$d({initialValues:{email:"",group:""},validate:{email:u=>/^\S+@\S+$/.test(u)?null:"Invalid email",group:u=>u?null:"Please select a group"}}),s=async u=>{r(!0),a("");try{const c=await fetch("http://localhost:8081/api/user-mappings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u.email,groupName:u.group})});if(!c.ok){const h=await c.text();throw new Error(h||"Failed to map user.")}const f=await c.json();console.log("Successfully mapped user:",f),e&&e(f)}catch(c){a(c.message),console.error("Submission error:",c)}finally{r(!1)}};return y.jsxs(fi,{p:"md",shadow:"none",children:[y.jsx(de,{size:"lg",fw:500,ta:"center",mb:"lg",children:"Enter User Details"}),o&&y.jsx(de,{c:"red",ta:"center",pb:"md",children:o}),y.jsxs("form",{onSubmit:i.onSubmit(s),children:[y.jsxs(Sr,{children:[y.jsx(ui,{required:!0,label:"User Email",placeholder:"user@example.com",...i.getInputProps("email"),radius:"md"}),y.jsx(ri,{required:!0,label:"Select Group",placeholder:"Choose a group",data:["BL","BE","BM"],...i.getInputProps("group"),radius:"md"})]}),y.jsxs(ze,{justify:"flex-end",mt:"xl",children:[n&&y.jsx(Oe,{variant:"default",onClick:n,children:"Cancel"}),y.jsx(Oe,{type:"submit",radius:"xl",loading:t,children:"Map User to Group"})]})]})]})}function IW(){return y.jsx(re,{style:{padding:"32px 0"},children:y.jsxs(Zt,{size:"lg",children:[y.jsx($t,{align:"center",order:1,style:{color:"var(--mantine-color-white)",marginBottom:24},children:"PULSE LMS Dashboard"}),y.jsxs(ic,{cols:{base:1,md:4},spacing:"xl",mb:40,children:[y.jsx($o,{to:"/usermanagment",style:{textDecoration:"none",height:"100%"},children:y.jsxs(Vn,{shadow:"md",radius:"md",p:"lg",style:{height:"100%",display:"flex",flexDirection:"column"},children:[y.jsx(de,{size:"lg",fw:600,style:{color:"var(--mantine-color-white)"},mb:6,children:"User Management"}),y.jsx(de,{size:"sm",color:"dimmed",mb:"md",children:"Manage users by creating, updating, or deleting profiles and assigning them to specific learning groups."}),y.jsx(Oe,{variant:"light",color:"blue",fullWidth:!0,style:{marginTop:"auto"},children:"Manage Users"})]})}),y.jsx($o,{to:"/jotformmanagment",style:{textDecoration:"none",height:"100%"},children:y.jsxs(Vn,{shadow:"md",radius:"md",p:"lg",style:{height:"100%",display:"flex",flexDirection:"column"},children:[y.jsx(de,{size:"lg",fw:600,style:{color:"var(--mantine-color-white)"},mb:6,children:"Jotform Management"}),y.jsx(de,{size:"sm",color:"dimmed",mb:"md",children:"Administer learning materials and assignments by creating, editing, or removing Jotforms."}),y.jsx(Oe,{variant:"light",color:"blue",fullWidth:!0,style:{marginTop:"auto"},children:"Manage Jotforms"})]})}),y.jsx($o,{to:"/coursemanagment",style:{textDecoration:"none",height:"100%"},children:y.jsxs(Vn,{shadow:"md",radius:"md",p:"lg",style:{height:"100%",display:"flex",flexDirection:"column"},children:[y.jsx(de,{size:"lg",fw:600,style:{color:"var(--mantine-color-white)"},mb:6,children:"Course Management"}),y.jsx(de,{size:"sm",color:"dimmed",mb:"md",children:"Organize your curriculum by mapping Jotforms and other materials to specific courses for user groups."}),y.jsx(Oe,{variant:"light",color:"blue",fullWidth:!0,style:{marginTop:"auto"},children:"Manage Courses"})]})}),y.jsx($o,{to:"/resultmanagement",style:{textDecoration:"none",height:"100%"},children:y.jsxs(Vn,{shadow:"md",radius:"md",p:"lg",style:{height:"100%",display:"flex",flexDirection:"column"},children:[y.jsx(de,{size:"lg",fw:600,style:{color:"var(--mantine-color-white)"},mb:6,children:"Results Management"}),y.jsx(de,{size:"sm",color:"dimmed",mb:"md",children:"Track and analyze user performance, view assessment results, and generate progress reports."}),y.jsx(Oe,{variant:"light",color:"blue",fullWidth:!0,style:{marginTop:"auto"},children:"View Results"})]})})]})]})})}function fk(e){const n=bs(),t=$d({initialValues:{jotformName:""},validate:{jotformName:o=>o.length>0?null:"Please enter a Jotform name"}}),r=o=>{console.log("Creating Jotform:",o),n("/jotformbuilder",{state:{jotformName:o.jotformName}})};return y.jsxs(fi,{className:dw.formPaper,radius:"md",p:"lg",withBorder:!0,...e,style:{maxWidth:"400px",margin:"0 auto"},children:[y.jsx(de,{size:"lg",fw:500,ta:"center",children:"Create Jotform"}),y.jsx(Fr,{label:"Enter Jotform details",labelPosition:"center",my:"lg"}),y.jsxs("form",{onSubmit:t.onSubmit(r),children:[y.jsx(Sr,{children:y.jsx(ui,{required:!0,label:"Jotform Name",placeholder:"Enter form name",value:t.values.jotformName,onChange:o=>t.setFieldValue("jotformName",o.currentTarget.value),error:t.errors.jotformName&&"Please enter a Jotform name",radius:"md"})}),y.jsx(ze,{justify:"center",mt:"xl",children:y.jsx(Oe,{type:"submit",radius:"xl",children:"Create Form"})})]})]})}function wr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var OW=typeof Symbol=="function"&&Symbol.observable||"@@observable",Z_=OW,eT=()=>Math.random().toString(36).substring(7).split("").join("."),PW={INIT:`@@redux/INIT${eT()}`,REPLACE:`@@redux/REPLACE${eT()}`},tT=PW;function jW(e){if(typeof e!="object"||e===null)return!1;let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n||Object.getPrototypeOf(e)===null}function hk(e,n,t){if(typeof e!="function")throw new Error(wr(2));if(typeof n=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof n=="function"&&typeof t>"u"&&(t=n,n=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(wr(1));return t(hk)(e,n)}let r=e,o=n,a=new Map,i=a,s=0,u=!1;function c(){i===a&&(i=new Map,a.forEach((w,S)=>{i.set(S,w)}))}function f(){if(u)throw new Error(wr(3));return o}function h(w){if(typeof w!="function")throw new Error(wr(4));if(u)throw new Error(wr(5));let S=!0;c();const E=s++;return i.set(E,w),function(){if(S){if(u)throw new Error(wr(6));S=!1,c(),i.delete(E),a=null}}}function m(w){if(!jW(w))throw new Error(wr(7));if(typeof w.type>"u")throw new Error(wr(8));if(typeof w.type!="string")throw new Error(wr(17));if(u)throw new Error(wr(9));try{u=!0,o=r(o,w)}finally{u=!1}return(a=i).forEach(E=>{E()}),w}function v(w){if(typeof w!="function")throw new Error(wr(10));r=w,m({type:tT.REPLACE})}function b(){const w=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(wr(11));function E(){const D=S;D.next&&D.next(f())}return E(),{unsubscribe:w(E)}},[Z_](){return this}}}return m({type:tT.INIT}),{dispatch:m,subscribe:h,getState:f,replaceReducer:v,[Z_]:b}}function nT(e,n){return function(...t){return n(e.apply(this,t))}}function rT(e,n){if(typeof e=="function")return nT(e,n);if(typeof e!="object"||e===null)throw new Error(wr(16));const t={};for(const r in e){const o=e[r];typeof o=="function"&&(t[r]=nT(o,n))}return t}function pk(...e){return e.length===0?n=>n:e.length===1?e[0]:e.reduce((n,t)=>(...r)=>n(t(...r)))}function BW(...e){return n=>(t,r)=>{const o=n(t,r);let a=()=>{throw new Error(wr(15))};const i={getState:o.getState,dispatch:(u,...c)=>a(u,...c)},s=e.map(u=>u(i));return a=pk(...s)(o.dispatch),{...o,dispatch:a}}}var F0={exports:{}},L0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function FW(){if(oT)return L0;oT=1;var e=df();function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var t=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,o=e.useRef,a=e.useEffect,i=e.useMemo,s=e.useDebugValue;return L0.useSyncExternalStoreWithSelector=function(u,c,f,h,m){var v=o(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=i(function(){function w(A){if(!S){if(S=!0,E=A,A=h(A),m!==void 0&&b.hasValue){var N=b.value;if(m(N,A))return R=N}return R=A}if(N=R,t(E,A))return N;var k=h(A);return m!==void 0&&m(N,k)?(E=A,N):(E=A,R=k)}var S=!1,E,R,D=f===void 0?null:f;return[function(){return w(c())},D===null?void 0:function(){return w(D())}]},[c,f,h,m]);var x=r(u,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=x},[x]),s(x),x},L0}var aT;function LW(){return aT||(aT=1,F0.exports=FW()),F0.exports}LW();var zW=T.version.startsWith("19"),UW=Symbol.for(zW?"react.transitional.element":"react.element"),VW=Symbol.for("react.portal"),HW=Symbol.for("react.fragment"),WW=Symbol.for("react.strict_mode"),$W=Symbol.for("react.profiler"),GW=Symbol.for("react.consumer"),qW=Symbol.for("react.context"),mk=Symbol.for("react.forward_ref"),XW=Symbol.for("react.suspense"),YW=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),KW=Symbol.for("react.lazy"),QW=mk,JW=fw;function ZW(e){if(typeof e=="object"&&e!==null){const{$$typeof:n}=e;switch(n){case UW:switch(e=e.type,e){case HW:case $W:case WW:case XW:case YW:return e;default:switch(e=e&&e.$$typeof,e){case qW:case mk:case KW:case fw:return e;case GW:return e;default:return n}}case VW:return n}}}function e$(e){return ZW(e)===fw}function t$(e,n,t,r,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:i}){let s=!1,u,c,f,h,m;function v(E,R){return u=E,c=R,f=e(u,c),h=n(r,c),m=t(f,h,c),s=!0,m}function b(){return f=e(u,c),n.dependsOnOwnProps&&(h=n(r,c)),m=t(f,h,c),m}function x(){return e.dependsOnOwnProps&&(f=e(u,c)),n.dependsOnOwnProps&&(h=n(r,c)),m=t(f,h,c),m}function w(){const E=e(u,c),R=!i(E,f);return f=E,R&&(m=t(f,h,c)),m}function S(E,R){const D=!a(R,c),A=!o(E,u,R,c);return u=E,c=R,D&&A?b():D?x():A?w():m}return function(R,D){return s?S(R,D):v(R,D)}}function n$(e,{initMapStateToProps:n,initMapDispatchToProps:t,initMergeProps:r,...o}){const a=n(e,o),i=t(e,o),s=r(e,o);return t$(a,i,s,e,o)}function r$(e,n){const t={};for(const r in e){const o=e[r];typeof o=="function"&&(t[r]=(...a)=>n(o(...a)))}return t}function rx(e){return function(t){const r=e(t);function o(){return r}return o.dependsOnOwnProps=!1,o}}function iT(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function vk(e,n){return function(r,{displayName:o}){const a=function(s,u){return a.dependsOnOwnProps?a.mapToProps(s,u):a.mapToProps(s,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,u){a.mapToProps=e,a.dependsOnOwnProps=iT(e);let c=a(s,u);return typeof c=="function"&&(a.mapToProps=c,a.dependsOnOwnProps=iT(c),c=a(s,u)),c},a}}function hw(e,n){return(t,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${n} argument when connecting component ${r.wrappedComponentName}.`)}}function o$(e){return e&&typeof e=="object"?rx(n=>r$(e,n)):e?typeof e=="function"?vk(e):hw(e,"mapDispatchToProps"):rx(n=>({dispatch:n}))}function a$(e){return e?typeof e=="function"?vk(e):hw(e,"mapStateToProps"):rx(()=>({}))}function i$(e,n,t){return{...t,...e,...n}}function s$(e){return function(t,{displayName:r,areMergedPropsEqual:o}){let a=!1,i;return function(u,c,f){const h=e(u,c,f);return a?o(h,i)||(i=h):(a=!0,i=h),i}}}function l$(e){return e?typeof e=="function"?s$(e):hw(e,"mergeProps"):()=>i$}function u$(e){e()}function c$(){let e=null,n=null;return{clear(){e=null,n=null},notify(){u$(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const o=n={callback:t,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var sT={notify(){},get:()=>[]};function gk(e,n){let t,r=sT,o=0,a=!1;function i(x){f();const w=r.subscribe(x);let S=!1;return()=>{S||(S=!0,w(),h())}}function s(){r.notify()}function u(){b.onStateChange&&b.onStateChange()}function c(){return a}function f(){o++,t||(t=n?n.addNestedSub(u):e.subscribe(u),r=c$())}function h(){o--,t&&o===0&&(t(),t=void 0,r.clear(),r=sT)}function m(){a||(a=!0,f())}function v(){a&&(a=!1,h())}const b={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return b}var d$=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f$=d$(),h$=()=>typeof navigator<"u"&&navigator.product==="ReactNative",p$=h$(),m$=()=>f$||p$?T.useLayoutEffect:T.useEffect,em=m$();function lT(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function z0(e,n){if(lT(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(n,t[o])||!lT(e[t[o]],n[t[o]]))return!1;return!0}var v$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},g$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},b$={[QW]:y$,[JW]:yk};function uT(e){return e$(e)?yk:b$[e.$$typeof]||v$}var x$=Object.defineProperty,w$=Object.getOwnPropertyNames,cT=Object.getOwnPropertySymbols,S$=Object.getOwnPropertyDescriptor,C$=Object.getPrototypeOf,dT=Object.prototype;function ox(e,n){if(typeof n!="string"){if(dT){const a=C$(n);a&&a!==dT&&ox(e,a)}let t=w$(n);cT&&(t=t.concat(cT(n)));const r=uT(e),o=uT(n);for(let a=0;a<t.length;++a){const i=t[a];if(!g$[i]&&!(o&&o[i])&&!(r&&r[i])){const s=S$(n,i);try{x$(e,i,s)}catch{}}}}return e}var E$=Symbol.for("react-redux-context"),R$=typeof globalThis<"u"?globalThis:{};function _$(){if(!T.createContext)return{};const e=R$[E$]??=new Map;let n=e.get(T.createContext);return n||(n=T.createContext(null),e.set(T.createContext,n)),n}var bk=_$(),T$=[null,null];function D$(e,n,t){em(()=>e(...n),t)}function A$(e,n,t,r,o,a){e.current=r,t.current=!1,o.current&&(o.current=null,a())}function N$(e,n,t,r,o,a,i,s,u,c,f){if(!e)return()=>{};let h=!1,m=null;const v=()=>{if(h||!s.current)return;const x=n.getState();let w,S;try{w=r(x,o.current)}catch(E){S=E,m=E}S||(m=null),w===a.current?i.current||c():(a.current=w,u.current=w,i.current=!0,f())};return t.onStateChange=v,t.trySubscribe(),v(),()=>{if(h=!0,t.tryUnsubscribe(),t.onStateChange=null,m)throw m}}function k$(e,n){return e===n}function M$(e,n,t,{pure:r,areStatesEqual:o=k$,areOwnPropsEqual:a=z0,areStatePropsEqual:i=z0,areMergedPropsEqual:s=z0,forwardRef:u=!1,context:c=bk}={}){const f=c,h=a$(e),m=o$(n),v=l$(t),b=!!e;return w=>{const S=w.displayName||w.name||"Component",E=`Connect(${S})`,R={shouldHandleStateChanges:b,displayName:E,wrappedComponentName:S,WrappedComponent:w,initMapStateToProps:h,initMapDispatchToProps:m,initMergeProps:v,areStatesEqual:o,areStatePropsEqual:i,areOwnPropsEqual:a,areMergedPropsEqual:s};function D(k){const[M,I,P]=T.useMemo(()=>{const{reactReduxForwardedRef:Be,...Te}=k;return[k.context,Be,Te]},[k]),L=T.useMemo(()=>{let Be=f;return M?.Consumer,Be},[M,f]),F=T.useContext(L),Y=!!k.store&&!!k.store.getState&&!!k.store.dispatch,W=!!F&&!!F.store,X=Y?k.store:F.store,j=W?F.getServerState:X.getState,U=T.useMemo(()=>n$(X.dispatch,R),[X]),[V,q]=T.useMemo(()=>{if(!b)return T$;const Be=gk(X,Y?void 0:F.subscription),Te=Be.notifyNestedSubs.bind(Be);return[Be,Te]},[X,Y,F]),B=T.useMemo(()=>Y?F:{...F,subscription:V},[Y,F,V]),G=T.useRef(void 0),J=T.useRef(P),ne=T.useRef(void 0),he=T.useRef(!1),Se=T.useRef(!1),ae=T.useRef(void 0);em(()=>(Se.current=!0,()=>{Se.current=!1}),[]);const le=T.useMemo(()=>()=>ne.current&&P===J.current?ne.current:U(X.getState(),P),[X,P]),ge=T.useMemo(()=>Te=>V?N$(b,X,V,U,J,G,he,Se,ne,q,Te):()=>{},[V]);D$(A$,[J,G,he,P,ne,q]);let me;try{me=T.useSyncExternalStore(ge,le,j?()=>U(j(),P):le)}catch(Be){throw ae.current&&(Be.message+=`
The error may be correlated with this previous error:
${ae.current.stack}

`),Be}em(()=>{ae.current=void 0,ne.current=void 0,G.current=me});const Pe=T.useMemo(()=>T.createElement(w,{...me,ref:I}),[I,w,me]);return T.useMemo(()=>b?T.createElement(L.Provider,{value:B},Pe):Pe,[L,Pe,B])}const N=T.memo(D);if(N.WrappedComponent=w,N.displayName=D.displayName=E,u){const M=T.forwardRef(function(P,L){return T.createElement(N,{...P,reactReduxForwardedRef:L})});return M.displayName=E,M.WrappedComponent=w,ox(M,w)}return ox(N,w)}}var xk=M$;function I$(e){const{children:n,context:t,serverState:r,store:o}=e,a=T.useMemo(()=>{const u=gk(o);return{store:o,subscription:u,getServerState:r?()=>r:void 0}},[o,r]),i=T.useMemo(()=>o.getState(),[o]);em(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),i!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,i]);const s=t||bk;return T.createElement(s.Provider,{value:a},n)}var O$=I$,P$="Invariant failed";function j$(e,n){throw new Error(P$)}var Xo=function(n){var t=n.top,r=n.right,o=n.bottom,a=n.left,i=r-a,s=o-t,u={top:t,right:r,bottom:o,left:a,width:i,height:s,x:a,y:t,center:{x:(r+a)/2,y:(o+t)/2}};return u},pw=function(n,t){return{top:n.top-t.top,left:n.left-t.left,bottom:n.bottom+t.bottom,right:n.right+t.right}},fT=function(n,t){return{top:n.top+t.top,left:n.left+t.left,bottom:n.bottom-t.bottom,right:n.right-t.right}},B$=function(n,t){return{top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x}},U0={top:0,right:0,bottom:0,left:0},mw=function(n){var t=n.borderBox,r=n.margin,o=r===void 0?U0:r,a=n.border,i=a===void 0?U0:a,s=n.padding,u=s===void 0?U0:s,c=Xo(pw(t,o)),f=Xo(fT(t,i)),h=Xo(fT(f,u));return{marginBox:c,borderBox:Xo(t),paddingBox:f,contentBox:h,margin:o,border:i,padding:u}},Ro=function(n){var t=n.slice(0,-2),r=n.slice(-2);if(r!=="px")return 0;var o=Number(t);return isNaN(o)&&j$(),o},F$=function(){return{x:window.pageXOffset,y:window.pageYOffset}},tm=function(n,t){var r=n.borderBox,o=n.border,a=n.margin,i=n.padding,s=B$(r,t);return mw({borderBox:s,border:o,margin:a,padding:i})},nm=function(n,t){return t===void 0&&(t=F$()),tm(n,t)},wk=function(n,t){var r={top:Ro(t.marginTop),right:Ro(t.marginRight),bottom:Ro(t.marginBottom),left:Ro(t.marginLeft)},o={top:Ro(t.paddingTop),right:Ro(t.paddingRight),bottom:Ro(t.paddingBottom),left:Ro(t.paddingLeft)},a={top:Ro(t.borderTopWidth),right:Ro(t.borderRightWidth),bottom:Ro(t.borderBottomWidth),left:Ro(t.borderLeftWidth)};return mw({borderBox:n,margin:r,padding:o,border:a})},Sk=function(n){var t=n.getBoundingClientRect(),r=window.getComputedStyle(n);return wk(t,r)},Gd=function(n){var t=[],r=null,o=function(){for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];t=s,!r&&(r=requestAnimationFrame(function(){r=null,n.apply(void 0,t)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function Ck(e,n){}Ck.bind(null,"warn");Ck.bind(null,"error");function ls(){}function L$(e,n){return{...e,...n}}function Do(e,n,t){const r=n.map(o=>{const a=L$(t,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){r.forEach(a=>{a()})}}const z$="Invariant failed";class rm extends Error{}rm.prototype.toString=function(){return this.message};function Ne(e,n){throw new rm(z$)}class U$ extends ft.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=ls,this.onWindowError=t=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),t.error instanceof rm&&t.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=Do(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof rm){this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const V$=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,om=e=>e+1,H$=e=>`
  You have lifted an item in position ${om(e.source.index)}
`,Ek=(e,n)=>{const t=e.droppableId===n.droppableId,r=om(e.index),o=om(n.index);return t?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},Rk=(e,n,t)=>n.droppableId===t.droppableId?`
      The item ${e}
      has been combined with ${t.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${t.draggableId}
      in list ${t.droppableId}
    `,W$=e=>{const n=e.destination;if(n)return Ek(e.source,n);const t=e.combine;return t?Rk(e.draggableId,e.source,t):"You are over an area that cannot be dropped on"},hT=e=>`
  The item has returned to its starting position
  of ${om(e.index)}
`,$$=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${hT(e.source)}
    `;const n=e.destination,t=e.combine;return n?`
      You have dropped the item.
      ${Ek(e.source,n)}
    `:t?`
      You have dropped the item.
      ${Rk(e.draggableId,e.source,t)}
    `:`
    The item has been dropped while not over a drop area.
    ${hT(e.source)}
  `},jp={dragHandleUsageInstructions:V$,onDragStart:H$,onDragUpdate:W$,onDragEnd:$$};function G$(e,n){return!!(e===n||Number.isNaN(e)&&Number.isNaN(n))}function _k(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!G$(e[t],n[t]))return!1;return!0}function Nt(e,n){const t=T.useState(()=>({inputs:n,result:e()}))[0],r=T.useRef(!0),o=T.useRef(t),i=r.current||!!(n&&o.current.inputs&&_k(n,o.current.inputs))?o.current:{inputs:n,result:e()};return T.useEffect(()=>{r.current=!1,o.current=i},[i]),i.result}function et(e,n){return Nt(()=>e,n)}const qn={x:0,y:0},nr=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),no=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),us=(e,n)=>e.x===n.x&&e.y===n.y,cc=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),il=(e,n,t=0)=>e==="x"?{x:n,y:t}:{x:t,y:n},qd=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),pT=(e,n)=>Math.min(...n.map(t=>qd(e,t))),Tk=e=>n=>({x:e(n.x),y:e(n.y)});var q$=(e,n)=>{const t=Xo({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return t.width<=0||t.height<=0?null:t};const Rf=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),mT=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],X$={top:0,right:0,bottom:0,left:0},Y$=(e,n)=>n?Rf(e,n.scroll.diff.displacement):e,K$=(e,n,t)=>t&&t.increasedBy?{...e,[n.end]:e[n.end]+t.increasedBy[n.line]}:e,Q$=(e,n)=>n&&n.shouldClipSubject?q$(n.pageMarginBox,e):Xo(e);var Vu=({page:e,withPlaceholder:n,axis:t,frame:r})=>{const o=Y$(e.marginBox,r),a=K$(o,t,n),i=Q$(a,r);return{page:e,withPlaceholder:n,active:i}},vw=(e,n)=>{e.frame||Ne();const t=e.frame,r=no(n,t.scroll.initial),o=cc(r),a={...t,scroll:{initial:t.scroll.initial,current:n,diff:{value:r,displacement:o},max:t.scroll.max}},i=Vu({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:i}};function $n(e,n=_k){let t=null;function r(...o){if(t&&t.lastThis===this&&n(o,t.lastArgs))return t.lastResult;const a=e.apply(this,o);return t={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){t=null},r}const Dk=$n(e=>e.reduce((n,t)=>(n[t.descriptor.id]=t,n),{})),Ak=$n(e=>e.reduce((n,t)=>(n[t.descriptor.id]=t,n),{})),Cv=$n(e=>Object.values(e)),J$=$n(e=>Object.values(e));var dc=$n((e,n)=>J$(n).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function gw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Ev(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Rv=$n((e,n)=>n.filter(t=>t.descriptor.id!==e.descriptor.id)),Z$=({isMovingForward:e,draggable:n,destination:t,insideDestination:r,previousImpact:o})=>{if(!t.isCombineEnabled||!gw(o))return null;function i(v){const b={type:"COMBINE",combine:{draggableId:v,droppableId:t.descriptor.id}};return{...o,at:b}}const s=o.displaced.all,u=s.length?s[0]:null;if(e)return u?i(u):null;const c=Rv(n,r);if(!u){if(!c.length)return null;const v=c[c.length-1];return i(v.descriptor.id)}const f=c.findIndex(v=>v.descriptor.id===u);f===-1&&Ne();const h=f-1;if(h<0)return null;const m=c[h];return i(m.descriptor.id)},fc=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const Nk={point:qn,value:0},Xd={invisible:{},visible:{},all:[]},eG={displaced:Xd,displacedBy:Nk,at:null};var No=(e,n)=>t=>e<=t&&t<=n,kk=e=>{const n=No(e.top,e.bottom),t=No(e.left,e.right);return r=>{if(n(r.top)&&n(r.bottom)&&t(r.left)&&t(r.right))return!0;const a=n(r.top)||n(r.bottom),i=t(r.left)||t(r.right);if(a&&i)return!0;const u=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return u&&c?!0:u&&i||c&&a}},tG=e=>{const n=No(e.top,e.bottom),t=No(e.left,e.right);return r=>n(r.top)&&n(r.bottom)&&t(r.left)&&t(r.right)};const yw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Mk={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var nG=e=>n=>{const t=No(n.top,n.bottom),r=No(n.left,n.right);return o=>e===yw?t(o.top)&&t(o.bottom):r(o.left)&&r(o.right)};const rG=(e,n)=>{const t=n.frame?n.frame.scroll.diff.displacement:qn;return Rf(e,t)},oG=(e,n,t)=>n.subject.active?t(n.subject.active)(e):!1,aG=(e,n,t)=>t(n)(e),bw=({target:e,destination:n,viewport:t,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const a=r?rG(e,n):e;return oG(a,n,o)&&aG(a,t,o)},iG=e=>bw({...e,isVisibleThroughFrameFn:kk}),Ik=e=>bw({...e,isVisibleThroughFrameFn:tG}),sG=e=>bw({...e,isVisibleThroughFrameFn:nG(e.destination.axis)}),lG=(e,n,t)=>{if(typeof t=="boolean")return t;if(!n)return!0;const{invisible:r,visible:o}=n;if(r[e])return!1;const a=o[e];return a?a.shouldAnimate:!0};function uG(e,n){const t=e.page.marginBox,r={top:n.point.y,right:0,bottom:0,left:n.point.x};return Xo(pw(t,r))}function Yd({afterDragging:e,destination:n,displacedBy:t,viewport:r,forceShouldAnimate:o,last:a}){return e.reduce(function(s,u){const c=uG(u,t),f=u.descriptor.id;if(s.all.push(f),!iG({target:c,destination:n,viewport:r,withDroppableDisplacement:!0}))return s.invisible[u.descriptor.id]=!0,s;const m=lG(f,a,o),v={draggableId:f,shouldAnimate:m};return s.visible[f]=v,s},{all:[],visible:{},invisible:{}})}function cG(e,n){if(!e.length)return 0;const t=e[e.length-1].descriptor.index;return n.inHomeList?t:t+1}function vT({insideDestination:e,inHomeList:n,displacedBy:t,destination:r}){const o=cG(e,{inHomeList:n});return{displaced:Xd,displacedBy:t,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function am({draggable:e,insideDestination:n,destination:t,viewport:r,displacedBy:o,last:a,index:i,forceShouldAnimate:s}){const u=fc(e,t);if(i==null)return vT({insideDestination:n,inHomeList:u,displacedBy:o,destination:t});const c=n.find(b=>b.descriptor.index===i);if(!c)return vT({insideDestination:n,inHomeList:u,displacedBy:o,destination:t});const f=Rv(e,n),h=n.indexOf(c),m=f.slice(h);return{displaced:Yd({afterDragging:m,destination:t,displacedBy:o,last:a,viewport:r.frame,forceShouldAnimate:s}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:i}}}}function ms(e,n){return!!n.effected[e]}var dG=({isMovingForward:e,destination:n,draggables:t,combine:r,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const a=r.draggableId,s=t[a].descriptor.index;return ms(a,o)?e?s:s-1:e?s+1:s},fG=({isMovingForward:e,isInHomeList:n,insideDestination:t,location:r})=>{if(!t.length)return null;const o=r.index,a=e?o+1:o-1,i=t[0].descriptor.index,s=t[t.length-1].descriptor.index,u=n?s:s+1;return a<i||a>u?null:a},hG=({isMovingForward:e,isInHomeList:n,draggable:t,draggables:r,destination:o,insideDestination:a,previousImpact:i,viewport:s,afterCritical:u})=>{const c=i.at;if(c||Ne(),c.type==="REORDER"){const h=fG({isMovingForward:e,isInHomeList:n,location:c.destination,insideDestination:a});return h==null?null:am({draggable:t,insideDestination:a,destination:o,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:h})}const f=dG({isMovingForward:e,destination:o,displaced:i.displaced,draggables:r,combine:c.combine,afterCritical:u});return f==null?null:am({draggable:t,insideDestination:a,destination:o,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:f})},pG=({displaced:e,afterCritical:n,combineWith:t,displacedBy:r})=>{const o=!!(e.visible[t]||e.invisible[t]);return ms(t,n)?o?qn:cc(r.point):o?r.point:qn},mG=({afterCritical:e,impact:n,draggables:t})=>{const r=Ev(n);r||Ne();const o=r.draggableId,a=t[o].page.borderBox.center,i=pG({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return nr(a,i)};const Ok=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,vG=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,xw=(e,n,t)=>n[e.crossAxisStart]+t.margin[e.crossAxisStart]+t.borderBox[e.crossAxisSize]/2,gT=({axis:e,moveRelativeTo:n,isMoving:t})=>il(e.line,n.marginBox[e.end]+Ok(e,t),xw(e,n.marginBox,t)),yT=({axis:e,moveRelativeTo:n,isMoving:t})=>il(e.line,n.marginBox[e.start]-vG(e,t),xw(e,n.marginBox,t)),gG=({axis:e,moveInto:n,isMoving:t})=>il(e.line,n.contentBox[e.start]+Ok(e,t),xw(e,n.contentBox,t));var yG=({impact:e,draggable:n,draggables:t,droppable:r,afterCritical:o})=>{const a=dc(r.descriptor.id,t),i=n.page,s=r.axis;if(!a.length)return gG({axis:s,moveInto:r.page,isMoving:i});const{displaced:u,displacedBy:c}=e,f=u.all[0];if(f){const m=t[f];if(ms(f,o))return yT({axis:s,moveRelativeTo:m.page,isMoving:i});const v=tm(m.page,c.point);return yT({axis:s,moveRelativeTo:v,isMoving:i})}const h=a[a.length-1];if(h.descriptor.id===n.descriptor.id)return i.borderBox.center;if(ms(h.descriptor.id,o)){const m=tm(h.page,cc(o.displacedBy.point));return gT({axis:s,moveRelativeTo:m,isMoving:i})}return gT({axis:s,moveRelativeTo:h.page,isMoving:i})},ax=(e,n)=>{const t=e.frame;return t?nr(n,t.scroll.diff.displacement):n};const bG=({impact:e,draggable:n,droppable:t,draggables:r,afterCritical:o})=>{const a=n.page.borderBox.center,i=e.at;return!t||!i?a:i.type==="REORDER"?yG({impact:e,draggable:n,draggables:r,droppable:t,afterCritical:o}):mG({impact:e,draggables:r,afterCritical:o})};var _v=e=>{const n=bG(e),t=e.droppable;return t?ax(t,n):n},Pk=(e,n)=>{const t=no(n,e.scroll.initial),r=cc(t);return{frame:Xo({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:t,displacement:r}}}};function bT(e,n){return e.map(t=>n[t])}function xG(e,n){for(let t=0;t<n.length;t++){const r=n[t].visible[e];if(r)return r}return null}var wG=({impact:e,viewport:n,destination:t,draggables:r,maxScrollChange:o})=>{const a=Pk(n,nr(n.scroll.current,o)),i=t.frame?vw(t,nr(t.frame.scroll.current,o)):t,s=e.displaced,u=Yd({afterDragging:bT(s.all,r),destination:t,displacedBy:e.displacedBy,viewport:a.frame,last:s,forceShouldAnimate:!1}),c=Yd({afterDragging:bT(s.all,r),destination:i,displacedBy:e.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),f={},h={},m=[s,u,c];return s.all.forEach(b=>{const x=xG(b,m);if(x){h[b]=x;return}f[b]=!0}),{...e,displaced:{all:s.all,invisible:f,visible:h}}},SG=(e,n)=>nr(e.scroll.diff.displacement,n),ww=({pageBorderBoxCenter:e,draggable:n,viewport:t})=>{const r=SG(t,e),o=no(r,n.page.borderBox.center);return nr(n.client.borderBox.center,o)},jk=({draggable:e,destination:n,newPageBorderBoxCenter:t,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{const i=no(t,e.page.borderBox.center),u={target:Rf(e.page.borderBox,i),destination:n,withDroppableDisplacement:o,viewport:r};return a?sG(u):Ik(u)},CG=({isMovingForward:e,draggable:n,destination:t,draggables:r,previousImpact:o,viewport:a,previousPageBorderBoxCenter:i,previousClientSelection:s,afterCritical:u})=>{if(!t.isEnabled)return null;const c=dc(t.descriptor.id,r),f=fc(n,t),h=Z$({isMovingForward:e,draggable:n,destination:t,insideDestination:c,previousImpact:o})||hG({isMovingForward:e,isInHomeList:f,draggable:n,draggables:r,destination:t,insideDestination:c,previousImpact:o,viewport:a,afterCritical:u});if(!h)return null;const m=_v({impact:h,draggable:n,droppable:t,draggables:r,afterCritical:u});if(jk({draggable:n,destination:t,newPageBorderBoxCenter:m,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ww({pageBorderBoxCenter:m,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};const b=no(m,i),x=wG({impact:h,viewport:a,destination:t,draggables:r,maxScrollChange:b});return{clientSelection:s,impact:x,scrollJumpRequest:b}};const xr=e=>{const n=e.subject.active;return n||Ne(),n};var EG=({isMovingForward:e,pageBorderBoxCenter:n,source:t,droppables:r,viewport:o})=>{const a=t.subject.active;if(!a)return null;const i=t.axis,s=No(a[i.start],a[i.end]),u=Cv(r).filter(f=>f!==t).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>kk(o.frame)(xr(f))).filter(f=>{const h=xr(f);return e?a[i.crossAxisEnd]<h[i.crossAxisEnd]:h[i.crossAxisStart]<a[i.crossAxisStart]}).filter(f=>{const h=xr(f),m=No(h[i.start],h[i.end]);return s(h[i.start])||s(h[i.end])||m(a[i.start])||m(a[i.end])}).sort((f,h)=>{const m=xr(f)[i.crossAxisStart],v=xr(h)[i.crossAxisStart];return e?m-v:v-m}).filter((f,h,m)=>xr(f)[i.crossAxisStart]===xr(m[0])[i.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const c=u.filter(f=>No(xr(f)[i.start],xr(f)[i.end])(n[i.line]));return c.length===1?c[0]:c.length>1?c.sort((f,h)=>xr(f)[i.start]-xr(h)[i.start])[0]:u.sort((f,h)=>{const m=pT(n,mT(xr(f))),v=pT(n,mT(xr(h)));return m!==v?m-v:xr(f)[i.start]-xr(h)[i.start]})[0]};const xT=(e,n)=>{const t=e.page.borderBox.center;return ms(e.descriptor.id,n)?no(t,n.displacedBy.point):t},RG=(e,n)=>{const t=e.page.borderBox;return ms(e.descriptor.id,n)?Rf(t,cc(n.displacedBy.point)):t};var _G=({pageBorderBoxCenter:e,viewport:n,destination:t,insideDestination:r,afterCritical:o})=>r.filter(i=>Ik({target:RG(i,o),destination:t,viewport:n.frame,withDroppableDisplacement:!0})).sort((i,s)=>{const u=qd(e,ax(t,xT(i,o))),c=qd(e,ax(t,xT(s,o)));return u<c?-1:c<u?1:i.descriptor.index-s.descriptor.index})[0]||null,_f=$n(function(n,t){const r=t[n.line];return{value:r,point:il(n.line,r)}});const TG=(e,n,t)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return il(r.line,n[r.line]);const o=e.subject.page.contentBox[r.size],u=dc(e.descriptor.id,t).reduce((c,f)=>c+f.client.marginBox[r.size],0)+n[r.line]-o;return u<=0?null:il(r.line,u)},Bk=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),Fk=(e,n,t)=>{const r=e.frame;fc(n,e)&&Ne(),e.subject.withPlaceholder&&Ne();const o=_f(e.axis,n.displaceBy).point,a=TG(e,o,t),i={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Vu({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:f}}const s=a?nr(r.scroll.max,a):r.scroll.max,u=Bk(r,s),c=Vu({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:u});return{...e,subject:c,frame:u}},DG=e=>{const n=e.subject.withPlaceholder;n||Ne();const t=e.frame;if(!t){const i=Vu({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=n.oldFrameMaxScroll;r||Ne();const o=Bk(t,r),a=Vu({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}};var AG=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:t,draggable:r,draggables:o,destination:a,viewport:i,afterCritical:s})=>{if(!n){if(t.length)return null;const h={displaced:Xd,displacedBy:Nk,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},m=_v({impact:h,draggable:r,droppable:a,draggables:o,afterCritical:s}),v=fc(r,a)?a:Fk(a,r,o);return jk({draggable:r,destination:v,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const u=e[a.axis.line]<=n.page.borderBox.center[a.axis.line],c=(()=>{const h=n.descriptor.index;return n.descriptor.id===r.descriptor.id||u?h:h+1})(),f=_f(a.axis,r.displaceBy);return am({draggable:r,insideDestination:t,destination:a,viewport:i,displacedBy:f,last:Xd,index:c})},NG=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:t,isOver:r,draggables:o,droppables:a,viewport:i,afterCritical:s})=>{const u=EG({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:a,viewport:i});if(!u)return null;const c=dc(u.descriptor.id,o),f=_G({pageBorderBoxCenter:n,viewport:i,destination:u,insideDestination:c,afterCritical:s}),h=AG({previousPageBorderBoxCenter:n,destination:u,draggable:t,draggables:o,moveRelativeTo:f,insideDestination:c,viewport:i,afterCritical:s});if(!h)return null;const m=_v({impact:h,draggable:t,droppable:u,draggables:o,afterCritical:s});return{clientSelection:ww({pageBorderBoxCenter:m,draggable:t,viewport:i}),impact:h,scrollJumpRequest:null}},io=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const kG=(e,n)=>{const t=io(e);return t?n[t]:null};var MG=({state:e,type:n})=>{const t=kG(e.impact,e.dimensions.droppables),r=!!t,o=e.dimensions.droppables[e.critical.droppable.id],a=t||o,i=a.axis.direction,s=i==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||i==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(s&&!r)return null;const u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:h,droppables:m}=e.dimensions;return s?CG({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:c,destination:a,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):NG({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:c,isOver:a,draggables:h,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Ws(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Lk(e){const n=No(e.top,e.bottom),t=No(e.left,e.right);return function(o){return n(o.y)&&t(o.x)}}function IG(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function OG({pageBorderBox:e,draggable:n,candidates:t}){const r=n.page.borderBox.center,o=t.map(a=>{const i=a.axis,s=il(a.axis.line,e.center[i.line],a.page.borderBox.center[i.crossAxisLine]);return{id:a.descriptor.id,distance:qd(r,s)}}).sort((a,i)=>i.distance-a.distance);return o[0]?o[0].id:null}function PG({pageBorderBox:e,draggable:n,droppables:t}){const r=Cv(t).filter(o=>{if(!o.isEnabled)return!1;const a=o.subject.active;if(!a||!IG(e,a))return!1;if(Lk(a)(e.center))return!0;const i=o.axis,s=a.center[i.crossAxisLine],u=e[i.crossAxisStart],c=e[i.crossAxisEnd],f=No(a[i.crossAxisStart],a[i.crossAxisEnd]),h=f(u),m=f(c);return!h&&!m?!0:h?u<s:c>s});return r.length?r.length===1?r[0].descriptor.id:OG({pageBorderBox:e,draggable:n,candidates:r}):null}const zk=(e,n)=>Xo(Rf(e,n));var jG=(e,n)=>{const t=e.frame;return t?zk(n,t.scroll.diff.value):n};function Uk({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function BG({draggable:e,closest:n,inHomeList:t}){return n?t&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var FG=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:t,insideDestination:r,last:o,viewport:a,afterCritical:i})=>{const s=t.axis,u=_f(t.axis,n.displaceBy),c=u.value,f=e[s.start],h=e[s.end],v=Rv(n,r).find(x=>{const w=x.descriptor.id,S=x.page.borderBox.center[s.line],E=ms(w,i),R=Uk({displaced:o,id:w});return E?R?h<=S:f<S-c:R?h<=S+c:f<S})||null,b=BG({draggable:n,closest:v,inHomeList:fc(n,t)});return am({draggable:n,insideDestination:r,destination:t,viewport:a,last:o,displacedBy:u,index:b})};const LG=4;var zG=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:t,destination:r,insideDestination:o,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const i=r.axis,s=_f(r.axis,e.displaceBy),u=s.value,c=n[i.start],f=n[i.end],m=Rv(e,o).find(b=>{const x=b.descriptor.id,w=b.page.borderBox,E=w[i.size]/LG,R=ms(x,a),D=Uk({displaced:t.displaced,id:x});return R?D?f>w[i.start]+E&&f<w[i.end]-E:c>w[i.start]-u+E&&c<w[i.end]-u-E:D?f>w[i.start]+u+E&&f<w[i.end]+u-E:c>w[i.start]+E&&c<w[i.end]-E});return m?{displacedBy:s,displaced:t.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},Vk=({pageOffset:e,draggable:n,draggables:t,droppables:r,previousImpact:o,viewport:a,afterCritical:i})=>{const s=zk(n.page.borderBox,e),u=PG({pageBorderBox:s,draggable:n,droppables:r});if(!u)return eG;const c=r[u],f=dc(c.descriptor.id,t),h=jG(c,s);return zG({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:c,insideDestination:f,afterCritical:i})||FG({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:c,insideDestination:f,last:o.displaced,viewport:a,afterCritical:i})},Sw=(e,n)=>({...e,[n.descriptor.id]:n});const UG=({previousImpact:e,impact:n,droppables:t})=>{const r=io(e),o=io(n);if(!r||r===o)return t;const a=t[r];if(!a.subject.withPlaceholder)return t;const i=DG(a);return Sw(t,i)};var VG=({draggable:e,draggables:n,droppables:t,previousImpact:r,impact:o})=>{const a=UG({previousImpact:r,impact:o,droppables:t}),i=io(o);if(!i)return a;const s=t[i];if(fc(e,s)||s.subject.withPlaceholder)return a;const u=Fk(s,e,n);return Sw(a,u)},Nd=({state:e,clientSelection:n,dimensions:t,viewport:r,impact:o,scrollJumpRequest:a})=>{const i=r||e.viewport,s=t||e.dimensions,u=n||e.current.client.selection,c=no(u,e.initial.client.selection),f={offset:c,selection:u,borderBoxCenter:nr(e.initial.client.borderBoxCenter,c)},h={selection:nr(f.selection,i.scroll.current),borderBoxCenter:nr(f.borderBoxCenter,i.scroll.current),offset:nr(f.offset,i.scroll.diff.value)},m={client:f,page:h};if(e.phase==="COLLECTING")return{...e,dimensions:s,viewport:i,current:m};const v=s.draggables[e.critical.draggable.id],b=o||Vk({pageOffset:h.offset,draggable:v,draggables:s.draggables,droppables:s.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),x=VG({draggable:v,impact:b,previousImpact:e.impact,draggables:s.draggables,droppables:s.droppables});return{...e,current:m,dimensions:{draggables:s.draggables,droppables:x},impact:b,viewport:i,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function HG(e,n){return e.map(t=>n[t])}var Hk=({impact:e,viewport:n,draggables:t,destination:r,forceShouldAnimate:o})=>{const a=e.displaced,i=HG(a.all,t),s=Yd({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return{...e,displaced:s}},Wk=({impact:e,draggable:n,droppable:t,draggables:r,viewport:o,afterCritical:a})=>{const i=_v({impact:e,draggable:n,draggables:r,droppable:t,afterCritical:a});return ww({pageBorderBoxCenter:i,draggable:n,viewport:o})},$k=({state:e,dimensions:n,viewport:t})=>{e.movementMode!=="SNAP"&&Ne();const r=e.impact,o=t||e.viewport,a=n||e.dimensions,{draggables:i,droppables:s}=a,u=i[e.critical.draggable.id],c=io(r);c||Ne();const f=s[c],h=Hk({impact:r,viewport:o,destination:f,draggables:i}),m=Wk({impact:h,draggable:u,droppable:f,draggables:i,viewport:o,afterCritical:e.afterCritical});return Nd({impact:h,clientSelection:m,state:e,dimensions:a,viewport:o})},WG=e=>({index:e.index,droppableId:e.droppableId}),Gk=({draggable:e,home:n,draggables:t,viewport:r})=>{const o=_f(n.axis,e.displaceBy),a=dc(n.descriptor.id,t),i=a.indexOf(e);i===-1&&Ne();const s=a.slice(i+1),u=s.reduce((m,v)=>(m[v.descriptor.id]=!0,m),{}),c={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:Yd({afterDragging:s,destination:n,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:WG(e.descriptor)}},afterCritical:c}},$G=(e,n)=>({draggables:e.draggables,droppables:Sw(e.droppables,n)}),GG=({draggable:e,offset:n,initialWindowScroll:t})=>{const r=tm(e.client,n),o=nm(r,t);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},qG=e=>{const n=e.frame;return n||Ne(),n},XG=({additions:e,updatedDroppables:n,viewport:t})=>{const r=t.scroll.diff.value;return e.map(o=>{const a=o.descriptor.droppableId,i=n[a],u=qG(i).scroll.diff.value,c=nr(r,u);return GG({draggable:o,offset:c,initialWindowScroll:t.scroll.initial})})},YG=({state:e,published:n})=>{const t=n.modified.map(S=>{const E=e.dimensions.droppables[S.droppableId];return vw(E,S.scroll)}),r={...e.dimensions.droppables,...Dk(t)},o=Ak(XG({additions:n.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...o};n.removals.forEach(S=>{delete a[S]});const i={droppables:r,draggables:a},s=io(e.impact),u=s?i.droppables[s]:null,c=i.draggables[e.critical.draggable.id],f=i.droppables[e.critical.droppable.id],{impact:h,afterCritical:m}=Gk({draggable:c,home:f,draggables:a,viewport:e.viewport}),v=u&&u.isCombineEnabled?e.impact:h,b=Vk({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:v,viewport:e.viewport,afterCritical:m}),x={...e,phase:"DRAGGING",impact:b,onLiftImpact:h,dimensions:i,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?x:{...x,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const ix=e=>e.movementMode==="SNAP",V0=(e,n,t)=>{const r=$G(e.dimensions,n);return!ix(e)||t?Nd({state:e,dimensions:r}):$k({state:e,dimensions:r})};function H0(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const wT={phase:"IDLE",completed:null,shouldFlush:!1};var KG=(e=wT,n)=>{if(n.type==="FLUSH")return{...wT,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ne();const{critical:t,clientSelection:r,viewport:o,dimensions:a,movementMode:i}=n.payload,s=a.draggables[t.draggable.id],u=a.droppables[t.droppable.id],c={selection:r,borderBoxCenter:s.client.borderBox.center,offset:qn},f={client:c,page:{selection:nr(c.selection,o.scroll.initial),borderBoxCenter:nr(c.selection,o.scroll.initial),offset:nr(c.selection,o.scroll.diff.value)}},h=Cv(a.droppables).every(x=>!x.isFixedOnPage),{impact:m,afterCritical:v}=Gk({draggable:s,home:u,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:t,movementMode:i,dimensions:a,initial:f,current:f,isWindowScrollAllowed:h,impact:m,afterCritical:v,onLiftImpact:m,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ne(),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ne(),YG({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ws(e)||Ne();const{client:t}=n.payload;return us(t,e.current.client.selection)?e:Nd({state:e,clientSelection:t,impact:ix(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return H0(e);Ws(e)||Ne();const{id:t,newScroll:r}=n.payload,o=e.dimensions.droppables[t];if(!o)return e;const a=vw(o,r);return V0(e,a,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ws(e)||Ne();const{id:t,isEnabled:r}=n.payload,o=e.dimensions.droppables[t];o||Ne(),o.isEnabled===r&&Ne();const a={...o,isEnabled:r};return V0(e,a,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ws(e)||Ne();const{id:t,isCombineEnabled:r}=n.payload,o=e.dimensions.droppables[t];o||Ne(),o.isCombineEnabled===r&&Ne();const a={...o,isCombineEnabled:r};return V0(e,a,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ws(e)||Ne(),e.isWindowScrollAllowed||Ne();const t=n.payload.newScroll;if(us(e.viewport.scroll.current,t))return H0(e);const r=Pk(e.viewport,t);return ix(e)?$k({state:e,viewport:r}):Nd({state:e,viewport:r})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ws(e))return e;const t=n.payload.maxScroll;if(us(t,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:t}};return{...e,viewport:r}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ne();const t=MG({state:e,type:n.type});return t?Nd({state:e,impact:t.impact,clientSelection:t.clientSelection,scrollJumpRequest:t.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const t=n.payload.reason;return e.phase!=="COLLECTING"&&Ne(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:t}}if(n.type==="DROP_ANIMATE"){const{completed:t,dropDuration:r,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ne(),{phase:"DROP_ANIMATING",completed:t,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:t}=n.payload;return{phase:"IDLE",completed:t,shouldFlush:!1}}return e};function jt(e,n){return e instanceof Object&&"type"in e&&e.type===n}const QG=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),JG=e=>({type:"LIFT",payload:e}),ZG=e=>({type:"INITIAL_PUBLISH",payload:e}),eq=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),tq=()=>({type:"COLLECTION_STARTING",payload:null}),nq=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),rq=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),oq=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),qk=e=>({type:"MOVE",payload:e}),aq=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),iq=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),sq=()=>({type:"MOVE_UP",payload:null}),lq=()=>({type:"MOVE_DOWN",payload:null}),uq=()=>({type:"MOVE_RIGHT",payload:null}),cq=()=>({type:"MOVE_LEFT",payload:null}),Cw=()=>({type:"FLUSH",payload:null}),dq=e=>({type:"DROP_ANIMATE",payload:e}),Ew=e=>({type:"DROP_COMPLETE",payload:e}),Xk=e=>({type:"DROP",payload:e}),fq=e=>({type:"DROP_PENDING",payload:e}),Yk=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var hq=e=>({getState:n,dispatch:t})=>r=>o=>{if(!jt(o,"LIFT")){r(o);return}const{id:a,clientSelection:i,movementMode:s}=o.payload,u=n();u.phase==="DROP_ANIMATING"&&t(Ew({completed:u.completed})),n().phase!=="IDLE"&&Ne(),t(Cw()),t(QG({draggableId:a,movementMode:s}));const f={draggableId:a,scrollOptions:{shouldPublishImmediately:s==="SNAP"}},{critical:h,dimensions:m,viewport:v}=e.startPublishing(f);t(ZG({critical:h,dimensions:m,clientSelection:i,movementMode:s,viewport:v}))},pq=e=>()=>n=>t=>{jt(t,"INITIAL_PUBLISH")&&e.dragging(),jt(t,"DROP_ANIMATE")&&e.dropping(t.payload.completed.result.reason),(jt(t,"FLUSH")||jt(t,"DROP_COMPLETE"))&&e.resting(),n(t)};const Rw={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Kd={opacity:{drop:0,combining:.7},scale:{drop:.75}},Kk={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zs=`${Kk.outOfTheWay}s ${Rw.outOfTheWay}`,kd={fluid:`opacity ${zs}`,snap:`transform ${zs}, opacity ${zs}`,drop:e=>{const n=`${e}s ${Rw.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${zs}`,placeholder:`height ${zs}, width ${zs}, margin ${zs}`},ST=e=>us(e,qn)?void 0:`translate(${e.x}px, ${e.y}px)`,sx={moveTo:ST,drop:(e,n)=>{const t=ST(e);if(t)return n?`${t} scale(${Kd.scale.drop})`:t}},{minDropTime:lx,maxDropTime:Qk}=Kk,mq=Qk-lx,CT=1500,vq=.6;var gq=({current:e,destination:n,reason:t})=>{const r=qd(e,n);if(r<=0)return lx;if(r>=CT)return Qk;const o=r/CT,a=lx+mq*o,i=t==="CANCEL"?a*vq:a;return Number(i.toFixed(2))},yq=({impact:e,draggable:n,dimensions:t,viewport:r,afterCritical:o})=>{const{draggables:a,droppables:i}=t,s=io(e),u=s?i[s]:null,c=i[n.descriptor.droppableId],f=Wk({impact:e,draggable:n,draggables:a,afterCritical:o,droppable:u||c,viewport:r});return no(f,n.client.borderBox.center)},bq=({draggables:e,reason:n,lastImpact:t,home:r,viewport:o,onLiftImpact:a})=>!t.at||n!=="DROP"?{impact:Hk({draggables:e,impact:a,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:t.at.type==="REORDER"?{impact:t,didDropInsideDroppable:!0}:{impact:{...t,displaced:Xd},didDropInsideDroppable:!0};const xq=({getState:e,dispatch:n})=>t=>r=>{if(!jt(r,"DROP")){t(r);return}const o=e(),a=r.payload.reason;if(o.phase==="COLLECTING"){n(fq({reason:a}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&Ne(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||Ne();const s=o.critical,u=o.dimensions,c=u.draggables[o.critical.draggable.id],{impact:f,didDropInsideDroppable:h}=bq({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),m=h?gw(f):null,v=h?Ev(f):null,b={index:s.draggable.index,droppableId:s.droppable.id},x={draggableId:c.descriptor.id,type:c.descriptor.type,source:b,reason:a,mode:o.movementMode,destination:m,combine:v},w=yq({impact:f,draggable:c,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),S={critical:o.critical,afterCritical:o.afterCritical,result:x,impact:f};if(!(!us(o.current.client.offset,w)||!!x.combine)){n(Ew({completed:S}));return}const R=gq({current:o.current.client.offset,destination:w,reason:a});n(dq({newHomeClientOffset:w,dropDuration:R,completed:S}))};var Jk=()=>({x:window.pageXOffset,y:window.pageYOffset});function wq(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function Sq({onWindowScroll:e}){function n(){e(Jk())}const t=Gd(n),r=wq(t);let o=ls;function a(){return o!==ls}function i(){a()&&Ne(),o=Do(window,[r])}function s(){a()||Ne(),t.cancel(),o(),o=ls}return{start:i,stop:s,isActive:a}}const Cq=e=>jt(e,"DROP_COMPLETE")||jt(e,"DROP_ANIMATE")||jt(e,"FLUSH"),Eq=e=>{const n=Sq({onWindowScroll:t=>{e.dispatch(aq({newScroll:t}))}});return t=>r=>{!n.isActive()&&jt(r,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&Cq(r)&&n.stop(),t(r)}};var Rq=e=>{let n=!1,t=!1;const r=setTimeout(()=>{t=!0}),o=a=>{n||t||(n=!0,e(a),clearTimeout(r))};return o.wasCalled=()=>n,o},_q=()=>{const e=[],n=o=>{const a=e.findIndex(s=>s.timerId===o);a===-1&&Ne();const[i]=e.splice(a,1);i.callback()};return{add:o=>{const a=setTimeout(()=>n(a)),i={timerId:a,callback:o};e.push(i)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const Tq=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,Dq=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,Aq=(e,n)=>{if(e===n)return!0;const t=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,r=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return t&&r},xd=(e,n)=>{n()},up=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function W0(e,n,t,r){if(!e){t(r(n));return}const o=Rq(t);e(n,{announce:o}),o.wasCalled()||t(r(n))}var Nq=(e,n)=>{const t=_q();let r=null;const o=(h,m)=>{r&&Ne(),xd("onBeforeCapture",()=>{const v=e().onBeforeCapture;v&&v({draggableId:h,mode:m})})},a=(h,m)=>{r&&Ne(),xd("onBeforeDragStart",()=>{const v=e().onBeforeDragStart;v&&v(up(h,m))})},i=(h,m)=>{r&&Ne();const v=up(h,m);r={mode:m,lastCritical:h,lastLocation:v.source,lastCombine:null},t.add(()=>{xd("onDragStart",()=>W0(e().onDragStart,v,n,jp.onDragStart))})},s=(h,m)=>{const v=gw(m),b=Ev(m);r||Ne();const x=!Aq(h,r.lastCritical);x&&(r.lastCritical=h);const w=!Tq(r.lastLocation,v);w&&(r.lastLocation=v);const S=!Dq(r.lastCombine,b);if(S&&(r.lastCombine=b),!x&&!w&&!S)return;const E={...up(h,r.mode),combine:b,destination:v};t.add(()=>{xd("onDragUpdate",()=>W0(e().onDragUpdate,E,n,jp.onDragUpdate))})},u=()=>{r||Ne(),t.flush()},c=h=>{r||Ne(),r=null,xd("onDragEnd",()=>W0(e().onDragEnd,h,n,jp.onDragEnd))};return{beforeCapture:o,beforeStart:a,start:i,update:s,flush:u,drop:c,abort:()=>{if(!r)return;const h={...up(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(h)}}},kq=(e,n)=>{const t=Nq(e,n);return r=>o=>a=>{if(jt(a,"BEFORE_INITIAL_CAPTURE")){t.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(jt(a,"INITIAL_PUBLISH")){const s=a.payload.critical;t.beforeStart(s,a.payload.movementMode),o(a),t.start(s,a.payload.movementMode);return}if(jt(a,"DROP_COMPLETE")){const s=a.payload.completed.result;t.flush(),o(a),t.drop(s);return}if(o(a),jt(a,"FLUSH")){t.abort();return}const i=r.getState();i.phase==="DRAGGING"&&t.update(i.critical,i.impact)}};const Mq=e=>n=>t=>{if(!jt(t,"DROP_ANIMATION_FINISHED")){n(t);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Ne(),e.dispatch(Ew({completed:r.completed}))},Iq=e=>{let n=null,t=null;function r(){t&&(cancelAnimationFrame(t),t=null),n&&(n(),n=null)}return o=>a=>{if((jt(a,"FLUSH")||jt(a,"DROP_COMPLETE")||jt(a,"DROP_ANIMATION_FINISHED"))&&r(),o(a),!jt(a,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Yk())}};t=requestAnimationFrame(()=>{t=null,n=Do(window,[i])})}};var Oq=e=>()=>n=>t=>{(jt(t,"DROP_COMPLETE")||jt(t,"FLUSH")||jt(t,"DROP_ANIMATE"))&&e.stopPublishing(),n(t)},Pq=e=>{let n=!1;return()=>t=>r=>{if(jt(r,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(r.payload.critical.draggable.id),t(r),e.tryRestoreFocusRecorded();return}if(t(r),!!n){if(jt(r,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(jt(r,"DROP_COMPLETE")){n=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const jq=e=>jt(e,"DROP_COMPLETE")||jt(e,"DROP_ANIMATE")||jt(e,"FLUSH");var Bq=e=>n=>t=>r=>{if(jq(r)){e.stop(),t(r);return}if(jt(r,"INITIAL_PUBLISH")){t(r);const o=n.getState();o.phase!=="DRAGGING"&&Ne(),e.start(o);return}t(r),e.scroll(n.getState())};const Fq=e=>n=>t=>{if(n(t),!jt(t,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Xk({reason:r.reason})))},Lq=pk;var zq=({dimensionMarshal:e,focusMarshal:n,styleMarshal:t,getResponders:r,announce:o,autoScroller:a})=>hk(KG,Lq(BW(pq(t),Oq(e),hq(e),xq,Mq,Iq,Fq,Bq(a),Eq,Pq(n),kq(r,o))));const $0=()=>({additions:{},removals:{},modified:{}});function Uq({registry:e,callbacks:n}){let t=$0(),r=null;const o=()=>{r||(n.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:c,modified:f}=t,h=Object.keys(u).map(b=>e.draggable.getById(b).getDimension(qn)).sort((b,x)=>b.descriptor.index-x.descriptor.index),m=Object.keys(f).map(b=>{const w=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:w}}),v={additions:h,removals:Object.keys(c),modified:m};t=$0(),n.publish(v)}))};return{add:u=>{const c=u.descriptor.id;t.additions[c]=u,t.modified[u.descriptor.droppableId]=!0,t.removals[c]&&delete t.removals[c],o()},remove:u=>{const c=u.descriptor;t.removals[c.id]=!0,t.modified[c.droppableId]=!0,t.additions[c.id]&&delete t.additions[c.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,t=$0())}}}var Zk=({scrollHeight:e,scrollWidth:n,height:t,width:r})=>{const o=no({x:n,y:e},{x:r,y:t});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},eM=()=>{const e=document.documentElement;return e||Ne(),e},tM=()=>{const e=eM();return Zk({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Vq=()=>{const e=Jk(),n=tM(),t=e.y,r=e.x,o=eM(),a=o.clientWidth,i=o.clientHeight,s=r+a,u=t+i;return{frame:Xo({top:t,left:r,right:s,bottom:u}),scroll:{initial:e,current:e,max:n,diff:{value:qn,displacement:qn}}}},Hq=({critical:e,scrollOptions:n,registry:t})=>{const r=Vq(),o=r.scroll.current,a=e.droppable,i=t.droppable.getAllByType(a.type).map(f=>f.callbacks.getDimensionAndWatchScroll(o,n)),s=t.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(o));return{dimensions:{draggables:Ak(s),droppables:Dk(i)},critical:e,viewport:r}};function ET(e,n,t){return!(t.descriptor.id===n.id||t.descriptor.type!==n.type||e.droppable.getById(t.descriptor.droppableId).descriptor.mode!=="virtual")}var Wq=(e,n)=>{let t=null;const r=Uq({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(m,v)=>{e.droppable.exists(m)||Ne(),t&&n.updateDroppableIsEnabled({id:m,isEnabled:v})},a=(m,v)=>{t&&(e.droppable.exists(m)||Ne(),n.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},i=(m,v)=>{t&&(e.droppable.exists(m)||Ne(),n.updateDroppableScroll({id:m,newScroll:v}))},s=(m,v)=>{t&&e.droppable.getById(m).callbacks.scroll(v)},u=()=>{if(!t)return;r.stop();const m=t.critical.droppable;e.droppable.getAllByType(m.type).forEach(v=>v.callbacks.dragStopped()),t.unsubscribe(),t=null},c=m=>{t||Ne();const v=t.critical.draggable;m.type==="ADDITION"&&ET(e,v,m.value)&&r.add(m.value),m.type==="REMOVAL"&&ET(e,v,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:s,updateDroppableScroll:i,startPublishing:m=>{t&&Ne();const v=e.draggable.getById(m.draggableId),b=e.droppable.getById(v.descriptor.droppableId),x={draggable:v.descriptor,droppable:b.descriptor},w=e.subscribe(c);return t={critical:x,unsubscribe:w},Hq({critical:x,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:u}},nM=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",$q=e=>{window.scrollBy(e.x,e.y)};const Gq=$n(e=>Cv(e).filter(n=>!(!n.isEnabled||!n.frame))),qq=(e,n)=>Gq(n).find(r=>(r.frame||Ne(),Lk(r.frame.pageMarginBox)(e)))||null;var Xq=({center:e,destination:n,droppables:t})=>{if(n){const o=t[n];return o.frame?o:null}return qq(e,t)};const Qd={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Yq=(e,n,t=()=>Qd)=>{const r=t(),o=e[n.size]*r.startFromPercentage,a=e[n.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:a}},rM=({startOfRange:e,endOfRange:n,current:t})=>{const r=n-e;return r===0?0:(t-e)/r},_w=1,Kq=(e,n,t=()=>Qd)=>{const r=t();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return r.maxPixelScroll;if(e===n.startScrollingFrom)return _w;const a=1-rM({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(a);return Math.ceil(i)},Qq=(e,n,t)=>{const r=t(),o=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,i=n,s=a,c=Date.now()-i;if(c>=a)return e;if(c<o)return _w;const f=rM({startOfRange:o,endOfRange:s,current:c}),h=e*r.ease(f);return Math.ceil(h)},RT=({distanceToEdge:e,thresholds:n,dragStartTime:t,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const a=Kq(e,n,o);return a===0?0:r?Math.max(Qq(a,t,o),_w):a},_T=({container:e,distanceToEdges:n,dragStartTime:t,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=Yq(e,r,a);return n[r.end]<n[r.start]?RT({distanceToEdge:n[r.end],thresholds:i,dragStartTime:t,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*RT({distanceToEdge:n[r.start],thresholds:i,dragStartTime:t,shouldUseTimeDampening:o,getAutoScrollerOptions:a})},Jq=({container:e,subject:n,proposedScroll:t})=>{const r=n.height>e.height,o=n.width>e.width;return!o&&!r?t:o&&r?null:{x:o?0:t.x,y:r?0:t.y}};const Zq=Tk(e=>e===0?0:e);var oM=({dragStartTime:e,container:n,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i={top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y,left:r.x-n.left},s=_T({container:n,distanceToEdges:i,dragStartTime:e,axis:yw,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=_T({container:n,distanceToEdges:i,dragStartTime:e,axis:Mk,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=Zq({x:u,y:s});if(us(c,qn))return null;const f=Jq({container:n,subject:t,proposedScroll:c});return f?us(f,qn)?null:f:null};const eX=Tk(e=>e===0?0:e>0?1:-1),Tw=(()=>{const e=(n,t)=>n<0?n:n>t?n-t:0;return({current:n,max:t,change:r})=>{const o=nr(n,r),a={x:e(o.x,t.x),y:e(o.y,t.y)};return us(a,qn)?null:a}})(),aM=({max:e,current:n,change:t})=>{const r={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=eX(t),a=Tw({max:r,current:n,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},Dw=(e,n)=>aM({current:e.scroll.current,max:e.scroll.max,change:n}),tX=(e,n)=>{if(!Dw(e,n))return null;const t=e.scroll.max,r=e.scroll.current;return Tw({current:r,max:t,change:n})},Aw=(e,n)=>{const t=e.frame;return t?aM({current:t.scroll.current,max:t.scroll.max,change:n}):!1},nX=(e,n)=>{const t=e.frame;return!t||!Aw(e,n)?null:Tw({current:t.scroll.current,max:t.scroll.max,change:n})};var rX=({viewport:e,subject:n,center:t,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=oM({dragStartTime:r,container:e.frame,subject:n,center:t,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return i&&Dw(e,i)?i:null},oX=({droppable:e,subject:n,center:t,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=e.frame;if(!i)return null;const s=oM({dragStartTime:r,container:i.pageMarginBox,subject:n,center:t,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&Aw(e,s)?s:null},TT=({state:e,dragStartTime:n,shouldUseTimeDampening:t,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:a})=>{const i=e.current.page.borderBoxCenter,u=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const h=e.viewport,m=rX({dragStartTime:n,viewport:h,subject:u,center:i,shouldUseTimeDampening:t,getAutoScrollerOptions:a});if(m){r(m);return}}const c=Xq({center:i,destination:io(e.impact),droppables:e.dimensions.droppables});if(!c)return;const f=oX({dragStartTime:n,droppable:c,subject:u,center:i,shouldUseTimeDampening:t,getAutoScrollerOptions:a});f&&o(c.descriptor.id,f)},aX=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:t=()=>Qd})=>{const r=Gd(e),o=Gd(n);let a=null;const i=c=>{a||Ne();const{shouldUseTimeDampening:f,dragStartTime:h}=a;TT({state:c,scrollWindow:r,scrollDroppable:o,dragStartTime:h,shouldUseTimeDampening:f,getAutoScrollerOptions:t})};return{start:c=>{a&&Ne();const f=Date.now();let h=!1;const m=()=>{h=!0};TT({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:t}),a={dragStartTime:f,shouldUseTimeDampening:h},h&&i(c)},stop:()=>{a&&(r.cancel(),o.cancel(),a=null)},scroll:i}},iX=({move:e,scrollDroppable:n,scrollWindow:t})=>{const r=(s,u)=>{const c=nr(s.current.client.selection,u);e({client:c})},o=(s,u)=>{if(!Aw(s,u))return u;const c=nX(s,u);if(!c)return n(s.descriptor.id,u),null;const f=no(u,c);return n(s.descriptor.id,f),no(u,f)},a=(s,u,c)=>{if(!s||!Dw(u,c))return c;const f=tX(u,c);if(!f)return t(c),null;const h=no(c,f);return t(h),no(c,h)};return s=>{const u=s.scrollJumpRequest;if(!u)return;const c=io(s.impact);c||Ne();const f=o(s.dimensions.droppables[c],u);if(!f)return;const h=s.viewport,m=a(s.isWindowScrollAllowed,h,f);m&&r(s,m)}},sX=({scrollDroppable:e,scrollWindow:n,move:t,getAutoScrollerOptions:r})=>{const o=aX({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:r}),a=iX({move:t,scrollWindow:n,scrollDroppable:e});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&a(u)}},start:o.start,stop:o.stop}};const Hu="data-rfd",Wu=(()=>{const e=`${Hu}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),ux=(()=>{const e=`${Hu}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),lX=(()=>{const e=`${Hu}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),DT={contextId:`${Hu}-scroll-container-context-id`},uX=e=>n=>`[${n}="${e}"]`,wd=(e,n)=>e.map(t=>{const r=t.styles[n];return r?`${t.selector} { ${r} }`:""}).join(" "),cX="pointer-events: none;";var dX=e=>{const n=uX(e),t=(()=>{const s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(Wu.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:cX,dropAnimating:s}}})(),r=(()=>{const s=`
      transition: ${kd.outOfTheWay};
    `;return{selector:n(ux.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}})(),o={selector:n(lX.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,t,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:wd(i,"always"),resting:wd(i,"resting"),dragging:wd(i,"dragging"),dropAnimating:wd(i,"dropAnimating"),userCancel:wd(i,"userCancel")}};const so=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect,G0=()=>{const e=document.querySelector("head");return e||Ne(),e},AT=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function fX(e,n){const t=Nt(()=>dX(e),[e]),r=T.useRef(null),o=T.useRef(null),a=et($n(h=>{const m=o.current;m||Ne(),m.textContent=h}),[]),i=et(h=>{const m=r.current;m||Ne(),m.textContent=h},[]);so(()=>{!r.current&&!o.current||Ne();const h=AT(n),m=AT(n);return r.current=h,o.current=m,h.setAttribute(`${Hu}-always`,e),m.setAttribute(`${Hu}-dynamic`,e),G0().appendChild(h),G0().appendChild(m),i(t.always),a(t.resting),()=>{const v=b=>{const x=b.current;x||Ne(),G0().removeChild(x),b.current=null};v(r),v(o)}},[n,i,a,t.always,t.resting,e]);const s=et(()=>a(t.dragging),[a,t.dragging]),u=et(h=>{if(h==="DROP"){a(t.dropAnimating);return}a(t.userCancel)},[a,t.dropAnimating,t.userCancel]),c=et(()=>{o.current&&a(t.resting)},[a,t.resting]);return Nt(()=>({dragging:s,dropping:u,resting:c}),[s,u,c])}function iM(e,n){return Array.from(e.querySelectorAll(n))}var sM=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Tv(e){return e instanceof sM(e).HTMLElement}function hX(e,n){const t=`[${Wu.contextId}="${e}"]`,r=iM(document,t);if(!r.length)return null;const o=r.find(a=>a.getAttribute(Wu.draggableId)===n);return!o||!Tv(o)?null:o}function pX(e){const n=T.useRef({}),t=T.useRef(null),r=T.useRef(null),o=T.useRef(!1),a=et(function(m,v){const b={id:m,focus:v};return n.current[m]=b,function(){const w=n.current;w[m]!==b&&delete w[m]}},[]),i=et(function(m){const v=hX(e,m);v&&v!==document.activeElement&&v.focus()},[e]),s=et(function(m,v){t.current===m&&(t.current=v)},[]),u=et(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=t.current;m&&i(m)}))},[i]),c=et(function(m){t.current=null;const v=document.activeElement;v&&v.getAttribute(Wu.draggableId)===m&&(t.current=m)},[]);return so(()=>(o.current=!0,function(){o.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),Nt(()=>({register:a,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:s}),[a,c,u,s])}function mX(){const e={draggables:{},droppables:{}},n=[];function t(h){return n.push(h),function(){const v=n.indexOf(h);v!==-1&&n.splice(v,1)}}function r(h){n.length&&n.forEach(m=>m(h))}function o(h){return e.draggables[h]||null}function a(h){const m=o(h);return m||Ne(),m}const i={register:h=>{e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,m)=>{const v=e.draggables[m.descriptor.id];v&&v.uniqueId===h.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:h=>{const m=h.descriptor.id,v=o(m);v&&h.uniqueId===v.uniqueId&&(delete e.draggables[m],e.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:a,findById:o,exists:h=>!!o(h),getAllByType:h=>Object.values(e.draggables).filter(m=>m.descriptor.type===h)};function s(h){return e.droppables[h]||null}function u(h){const m=s(h);return m||Ne(),m}const c={register:h=>{e.droppables[h.descriptor.id]=h},unregister:h=>{const m=s(h.descriptor.id);m&&h.uniqueId===m.uniqueId&&delete e.droppables[h.descriptor.id]},getById:u,findById:s,exists:h=>!!s(h),getAllByType:h=>Object.values(e.droppables).filter(m=>m.descriptor.type===h)};function f(){e.draggables={},e.droppables={},n.length=0}return{draggable:i,droppable:c,subscribe:t,clean:f}}function vX(){const e=Nt(mX,[]);return T.useEffect(()=>function(){e.clean()},[e]),e}var Nw=ft.createContext(null),im=()=>{const e=document.body;return e||Ne(),e};const gX={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},yX=e=>`rfd-announcement-${e}`;function bX(e){const n=Nt(()=>yX(e),[e]),t=T.useRef(null);return T.useEffect(function(){const a=document.createElement("div");return t.current=a,a.id=n,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Uu(a.style,gX),im().appendChild(a),function(){setTimeout(function(){const u=im();u.contains(a)&&u.removeChild(a),a===t.current&&(t.current=null)})}},[n]),et(o=>{const a=t.current;if(a){a.textContent=o;return}},[])}const xX={separator:"::"};function kw(e,n=xX){const t=ft.useId();return Nt(()=>`${e}${n.separator}${t}`,[n.separator,e,t])}function wX({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function SX({contextId:e,text:n}){const t=kw("hidden-text",{separator:"-"}),r=Nt(()=>wX({contextId:e,uniqueId:t}),[t,e]);return T.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=n,a.style.display="none",im().appendChild(a),function(){const s=im();s.contains(a)&&s.removeChild(a)}},[r,n]),r}var Dv=ft.createContext(null);function lM(e){const n=T.useRef(e);return T.useEffect(()=>{n.current=e}),n}function CX(){let e=null;function n(){return!!e}function t(i){return i===e}function r(i){e&&Ne();const s={abandon:i};return e=s,s}function o(){e||Ne(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:t,claim:r,release:o,tryAbandon:a}}function Jd(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const EX=9,RX=13,Mw=27,uM=32,_X=33,TX=34,DX=35,AX=36,NX=37,kX=38,MX=39,IX=40,OX={[RX]:!0,[EX]:!0};var cM=e=>{OX[e.keyCode]&&e.preventDefault()};const Av=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),dM=0,NT=5;function PX(e,n){return Math.abs(n.x-e.x)>=NT||Math.abs(n.y-e.y)>=NT}const kT={type:"IDLE"};function jX({cancel:e,completed:n,getPhase:t,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:a,clientX:i,clientY:s}=o;if(a!==dM)return;const u={x:i,y:s},c=t();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(u);return}c.type!=="PENDING"&&Ne();const f=c.point;if(!PX(f,u))return;o.preventDefault();const h=c.actions.fluidLift(u);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:o=>{const a=t();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{t().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(t().type==="PENDING"){e();return}if(o.keyCode===Mw){o.preventDefault(),e();return}cM(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{t().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const a=t();if(a.type==="IDLE"&&Ne(),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Av,fn:e}]}function BX(e){const n=T.useRef(kT),t=T.useRef(ls),r=Nt(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==dM||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const m=e.findClosestDraggableId(h);if(!m)return;const v=e.tryGetLock(m,i,{sourceEvent:h});if(!v)return;h.preventDefault();const b={x:h.clientX,y:h.clientY};t.current(),c(v,b)}}),[e]),o=Nt(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const h=e.findClosestDraggableId(f);if(!h)return;const m=e.findOptionsForDraggable(h);m&&(m.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}),[e]),a=et(function(){const h={passive:!1,capture:!0};t.current=Do(window,[o,r],h)},[o,r]),i=et(()=>{n.current.type!=="IDLE"&&(n.current=kT,t.current(),a())},[a]),s=et(()=>{const f=n.current;i(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[i]),u=et(function(){const h={capture:!0,passive:!1},m=jX({cancel:s,completed:i,getPhase:()=>n.current,setPhase:v=>{n.current=v}});t.current=Do(window,m,h)},[s,i]),c=et(function(h,m){n.current.type!=="IDLE"&&Ne(),n.current={type:"PENDING",point:m,actions:h},u()},[u]);so(function(){return a(),function(){t.current()}},[a])}function FX(){}const LX={[TX]:!0,[_X]:!0,[AX]:!0,[DX]:!0};function zX(e,n){function t(){n(),e.cancel()}function r(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Mw){o.preventDefault(),t();return}if(o.keyCode===uM){o.preventDefault(),r();return}if(o.keyCode===IX){o.preventDefault(),e.moveDown();return}if(o.keyCode===kX){o.preventDefault(),e.moveUp();return}if(o.keyCode===MX){o.preventDefault(),e.moveRight();return}if(o.keyCode===NX){o.preventDefault(),e.moveLeft();return}if(LX[o.keyCode]){o.preventDefault();return}cM(o)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:Av,fn:t}]}function UX(e){const n=T.useRef(FX),t=Nt(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==uM)return;const i=e.findClosestDraggableId(a);if(!i)return;const s=e.tryGetLock(i,f,{sourceEvent:a});if(!s)return;a.preventDefault();let u=!0;const c=s.snapLift();n.current();function f(){u||Ne(),u=!1,n.current(),r()}n.current=Do(window,zX(c,f),{capture:!0,passive:!1})}}),[e]),r=et(function(){const a={passive:!1,capture:!0};n.current=Do(window,[t],a)},[t]);so(function(){return r(),function(){n.current()}},[r])}const q0={type:"IDLE"},VX=120,HX=.15;function WX({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:t=>{t.preventDefault()}},{eventName:"keydown",fn:t=>{if(n().type!=="DRAGGING"){e();return}t.keyCode===Mw&&t.preventDefault(),e()}},{eventName:Av,fn:e}]}function $X({cancel:e,completed:n,getPhase:t}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=t();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:a,clientY:i}=r.touches[0],s={x:a,y:i};r.preventDefault(),o.actions.move(s)}},{eventName:"touchend",fn:r=>{const o=t();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=t();o.type==="IDLE"&&Ne();const a=r.touches[0];if(!a||!(a.force>=HX))return;const s=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){s&&e();return}if(s){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Av,fn:e}]}function GX(e){const n=T.useRef(q0),t=T.useRef(ls),r=et(function(){return n.current},[]),o=et(function(v){n.current=v},[]),a=Nt(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const b=e.findClosestDraggableId(v);if(!b)return;const x=e.tryGetLock(b,s,{sourceEvent:v});if(!x)return;const w=v.touches[0],{clientX:S,clientY:E}=w,R={x:S,y:E};t.current(),h(x,R)}}),[e]),i=et(function(){const v={capture:!0,passive:!1};t.current=Do(window,[a],v)},[a]),s=et(()=>{const m=n.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),o(q0),t.current(),i())},[i,o]),u=et(()=>{const m=n.current;s(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[s]),c=et(function(){const v={capture:!0,passive:!1},b={cancel:u,completed:s,getPhase:r},x=Do(window,$X(b),v),w=Do(window,WX(b),v);t.current=function(){x(),w()}},[u,r,s]),f=et(function(){const v=r();v.type!=="PENDING"&&Ne();const b=v.actions.fluidLift(v.point);o({type:"DRAGGING",actions:b,hasMoved:!1})},[r,o]),h=et(function(v,b){r().type!=="IDLE"&&Ne();const x=setTimeout(f,VX);o({type:"PENDING",point:b,actions:v,longPressTimerId:x}),c()},[c,r,o,f]);so(function(){return i(),function(){t.current();const b=r();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),o(q0))}},[r,i,o]),so(function(){return Do(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const qX=["input","button","textarea","select","option","optgroup","video","audio"];function fM(e,n){if(n==null)return!1;if(qX.includes(n.tagName.toLowerCase()))return!0;const r=n.getAttribute("contenteditable");return r==="true"||r===""?!0:n===e?!1:fM(e,n.parentElement)}function XX(e,n){const t=n.target;return Tv(t)?fM(e,t):!1}var YX=e=>Xo(e.getBoundingClientRect()).center;function KX(e){return e instanceof sM(e).Element}const QX=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function hM(e,n){return e==null?null:e[QX](n)?e:hM(e.parentElement,n)}function JX(e,n){return e.closest?e.closest(n):hM(e,n)}function ZX(e){return`[${Wu.contextId}="${e}"]`}function eY(e,n){const t=n.target;if(!KX(t))return null;const r=ZX(e),o=JX(t,r);return!o||!Tv(o)?null:o}function tY(e,n){const t=eY(e,n);return t?t.getAttribute(Wu.draggableId):null}function nY(e,n){const t=`[${ux.contextId}="${e}"]`,o=iM(document,t).find(a=>a.getAttribute(ux.id)===n);return!o||!Tv(o)?null:o}function rY(e){e.preventDefault()}function cp({expected:e,phase:n,isLockActive:t,shouldWarn:r}){return!(!t()||e!==n)}function pM({lockAPI:e,store:n,registry:t,draggableId:r}){if(e.isClaimed())return!1;const o=t.draggable.findById(r);return!(!o||!o.options.isEnabled||!nM(n.getState(),r))}function oY({lockAPI:e,contextId:n,store:t,registry:r,draggableId:o,forceSensorStop:a,sourceEvent:i}){if(!pM({lockAPI:e,store:t,registry:r,draggableId:o}))return null;const u=r.draggable.getById(o),c=nY(n,u.descriptor.id);if(!c||i&&!u.options.canDragInteractiveElements&&XX(c,i))return null;const f=e.claim(a||ls);let h="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function v(){return e.isActive(f)}function b(A,N){cp({expected:A,phase:h,isLockActive:v,shouldWarn:!0})&&t.dispatch(N())}const x=b.bind(null,"DRAGGING");function w(A){function N(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(N(),Ne()),t.dispatch(JG(A.liftActionArgs)),h="DRAGGING";function k(M,I={shouldBlockNextClick:!1}){if(A.cleanup(),I.shouldBlockNextClick){const P=Do(window,[{eventName:"click",fn:rY,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}N(),t.dispatch(Xk({reason:M}))}return{isActive:()=>cp({expected:"DRAGGING",phase:h,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:m,drop:M=>k("DROP",M),cancel:M=>k("CANCEL",M),...A.actions}}function S(A){const N=Gd(M=>{x(()=>qk({client:M}))});return{...w({liftActionArgs:{id:o,clientSelection:A,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function E(){const A={moveUp:()=>x(sq),moveRight:()=>x(uq),moveDown:()=>x(lq),moveLeft:()=>x(cq)};return w({liftActionArgs:{id:o,clientSelection:YX(c),movementMode:"SNAP"},cleanup:ls,actions:A})}function R(){cp({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!0})&&e.release()}return{isActive:()=>cp({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:S,snapLift:E,abort:R}}const aY=[BX,UX,GX];function iY({contextId:e,store:n,registry:t,customSensors:r,enableDefaultSensors:o}){const a=[...o?aY:[],...r||[]],i=T.useState(()=>CX())[0],s=et(function(w,S){Jd(w)&&!Jd(S)&&i.tryAbandon()},[i]);so(function(){let w=n.getState();return n.subscribe(()=>{const E=n.getState();s(w,E),w=E})},[i,n,s]),so(()=>i.tryAbandon,[i.tryAbandon]);const u=et(x=>pM({lockAPI:i,registry:t,store:n,draggableId:x}),[i,t,n]),c=et((x,w,S)=>oY({lockAPI:i,registry:t,contextId:e,store:n,draggableId:x,forceSensorStop:w||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[e,i,t,n]),f=et(x=>tY(e,x),[e]),h=et(x=>{const w=t.draggable.findById(x);return w?w.options:null},[t.draggable]),m=et(function(){i.isClaimed()&&(i.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Cw()))},[i,n]),v=et(()=>i.isClaimed(),[i]),b=Nt(()=>({canGetLock:u,tryGetLock:c,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:v}),[u,c,f,h,m,v]);for(let x=0;x<a.length;x++)a[x](b)}const sY=e=>({onBeforeCapture:n=>{const t=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Ku.flushSync(t)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),lY=e=>({...Qd,...e.autoScrollerOptions,durationDampening:{...Qd.durationDampening,...e.autoScrollerOptions}});function Sd(e){return e.current||Ne(),e.current}function uY(e){const{contextId:n,setCallbacks:t,sensors:r,nonce:o,dragHandleUsageInstructions:a}=e,i=T.useRef(null),s=lM(e),u=et(()=>sY(s.current),[s]),c=et(()=>lY(s.current),[s]),f=bX(n),h=SX({contextId:n,text:a}),m=fX(n,o),v=et(P=>{Sd(i).dispatch(P)},[]),b=Nt(()=>rT({publishWhileDragging:eq,updateDroppableScroll:nq,updateDroppableIsEnabled:rq,updateDroppableIsCombineEnabled:oq,collectionStarting:tq},v),[v]),x=vX(),w=Nt(()=>Wq(x,b),[x,b]),S=Nt(()=>sX({scrollWindow:$q,scrollDroppable:w.scrollDroppable,getAutoScrollerOptions:c,...rT({move:qk},v)}),[w.scrollDroppable,v,c]),E=pX(n),R=Nt(()=>zq({announce:f,autoScroller:S,dimensionMarshal:w,focusMarshal:E,getResponders:u,styleMarshal:m}),[f,S,w,E,u,m]);i.current=R;const D=et(()=>{const P=Sd(i);P.getState().phase!=="IDLE"&&P.dispatch(Cw())},[]),A=et(()=>{const P=Sd(i).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),N=Nt(()=>({isDragging:A,tryAbort:D}),[A,D]);t(N);const k=et(P=>nM(Sd(i).getState(),P),[]),M=et(()=>Ws(Sd(i).getState()),[]),I=Nt(()=>({marshal:w,focus:E,contextId:n,canLift:k,isMovementAllowed:M,dragHandleUsageInstructionsId:h,registry:x}),[n,w,h,E,k,M,x]);return iY({contextId:n,store:R,registry:x,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),T.useEffect(()=>D,[D]),ft.createElement(Dv.Provider,{value:I},ft.createElement(O$,{context:Nw,store:R},e.children))}function cY(){return ft.useId()}function dY(e){const n=cY(),t=e.dragHandleUsageInstructions||jp.dragHandleUsageInstructions;return ft.createElement(U$,null,r=>ft.createElement(uY,{nonce:e.nonce,contextId:n,setCallbacks:r,dragHandleUsageInstructions:t,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const MT={dragging:5e3,dropAnimating:4500},fY=(e,n)=>n?kd.drop(n.duration):e?kd.snap:kd.fluid,hY=(e,n)=>{if(e)return n?Kd.opacity.drop:Kd.opacity.combining},pY=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function mY(e){const t=e.dimension.client,{offset:r,combineWith:o,dropping:a}=e,i=!!o,s=pY(e),u=!!a,c=u?sx.drop(r,i):sx.moveTo(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:fY(s,a),transform:c,opacity:hY(i,u),zIndex:u?MT.dropAnimating:MT.dragging,pointerEvents:"none"}}function vY(e){return{transform:sx.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function gY(e){return e.type==="DRAGGING"?mY(e):vY(e)}function yY(e,n,t=qn){const r=window.getComputedStyle(n),o=n.getBoundingClientRect(),a=wk(o,r),i=nm(a,t),s={client:a,tagName:n.tagName.toLowerCase(),display:r.display},u={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:s,displaceBy:u,client:a,page:i}}function bY(e){const n=kw("draggable"),{descriptor:t,registry:r,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:s}=e,u=Nt(()=>({canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:s}),[a,s,i]),c=et(v=>{const b=o();return b||Ne(),yY(t,b,v)},[t,o]),f=Nt(()=>({uniqueId:n,descriptor:t,options:u,getDimension:c}),[t,c,u,n]),h=T.useRef(f),m=T.useRef(!0);so(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),so(()=>{if(m.current){m.current=!1;return}const v=h.current;h.current=f,r.draggable.update(f,v)},[f,r.draggable])}var Iw=ft.createContext(null);function sm(e){const n=T.useContext(e);return n||Ne(),n}function xY(e){e.preventDefault()}const wY=e=>{const n=T.useRef(null),t=et((N=null)=>{n.current=N},[]),r=et(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:i}=sm(Dv),{type:s,droppableId:u}=sm(Iw),c=Nt(()=>({id:e.draggableId,index:e.index,type:s,droppableId:u}),[e.draggableId,e.index,s,u]),{children:f,draggableId:h,isEnabled:m,shouldRespectForcePress:v,canDragInteractiveElements:b,isClone:x,mapped:w,dropAnimationFinished:S}=e;if(!x){const N=Nt(()=>({descriptor:c,registry:i,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:v,isEnabled:m}),[c,i,r,b,v,m]);bY(N)}const E=Nt(()=>m?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:xY}:null,[o,a,h,m]),R=et(N=>{w.type==="DRAGGING"&&w.dropping&&N.propertyName==="transform"&&Ku.flushSync(S)},[S,w]),D=Nt(()=>{const N=gY(w),k=w.type==="DRAGGING"&&w.dropping?R:void 0;return{innerRef:t,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":h,style:N,onTransitionEnd:k},dragHandleProps:E}},[o,E,h,w,R,t]),A=Nt(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return ft.createElement(ft.Fragment,null,f(D,w.snapshot,A))};var mM=(e,n)=>e===n,vM=e=>{const{combine:n,destination:t}=e;return t?t.droppableId:n?n.droppableId:null};const SY=e=>e.combine?e.combine.draggableId:null,CY=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function EY(){const e=$n((o,a)=>({x:o,y:a})),n=$n((o,a,i=null,s=null,u=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:o,draggingOver:i,combineWith:s,combineTargetFor:null})),t=$n((o,a,i,s,u=null,c=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:c,mode:a,offset:o,dimension:i,forceShouldAnimate:f,snapshot:n(a,s,u,c,null)}}));return(o,a)=>{if(Jd(o)){if(o.critical.draggable.id!==a.draggableId)return null;const i=o.current.client.offset,s=o.dimensions.draggables[a.draggableId],u=io(o.impact),c=CY(o.impact),f=o.forceShouldAnimate;return t(e(i.x,i.y),o.movementMode,s,a.isClone,u,c,f)}if(o.phase==="DROP_ANIMATING"){const i=o.completed;if(i.result.draggableId!==a.draggableId)return null;const s=a.isClone,u=o.dimensions.draggables[a.draggableId],c=i.result,f=c.mode,h=vM(c),m=SY(c),b={duration:o.dropDuration,curve:Rw.drop,moveTo:o.newHomeClientOffset,opacity:m?Kd.opacity.drop:null,scale:m?Kd.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:u,dropping:b,draggingOver:h,combineWith:m,mode:f,forceShouldAnimate:null,snapshot:n(f,s,h,m,b)}}}return null}}function gM(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const RY={mapped:{type:"SECONDARY",offset:qn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:gM(null)}};function _Y(){const e=$n((i,s)=>({x:i,y:s})),n=$n(gM),t=$n((i,s=null,u)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:s,shouldAnimateDisplacement:u,snapshot:n(s)}})),r=i=>i?t(qn,i,!0):null,o=(i,s,u,c)=>{const f=u.displaced.visible[i],h=!!(c.inVirtualList&&c.effected[i]),m=Ev(u),v=m&&m.draggableId===i?s:null;if(!f){if(!h)return r(v);if(u.displaced.invisible[i])return null;const w=cc(c.displacedBy.point),S=e(w.x,w.y);return t(S,v,!0)}if(h)return r(v);const b=u.displacedBy.point,x=e(b.x,b.y);return t(x,v,f.shouldAnimate)};return(i,s)=>{if(Jd(i))return i.critical.draggable.id===s.draggableId?null:o(s.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const u=i.completed;return u.result.draggableId===s.draggableId?null:o(s.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const TY=()=>{const e=EY(),n=_Y();return(r,o)=>e(r,o)||n(r,o)||RY},DY={dropAnimationFinished:Yk},AY=xk(TY,DY,null,{context:Nw,areStatePropsEqual:mM})(wY);function yM(e){return sm(Iw).isUsingCloneFor===e.draggableId&&!e.isClone?null:ft.createElement(AY,e)}function IT(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,t=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ft.createElement(yM,Uu({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:t,shouldRespectForcePress:r}))}const bM=e=>n=>e===n,NY=bM("scroll"),kY=bM("auto"),OT=(e,n)=>n(e.overflowX)||n(e.overflowY),MY=e=>{const n=window.getComputedStyle(e),t={overflowX:n.overflowX,overflowY:n.overflowY};return OT(t,NY)||OT(t,kY)},IY=()=>!1,xM=e=>e==null?null:e===document.body?IY()?e:null:e===document.documentElement?null:MY(e)?e:xM(e.parentElement);var cx=e=>({x:e.scrollLeft,y:e.scrollTop});const wM=e=>e?window.getComputedStyle(e).position==="fixed"?!0:wM(e.parentElement):!1;var OY=e=>{const n=xM(e),t=wM(e);return{closestScrollable:n,isFixedOnPage:t}},PY=({descriptor:e,isEnabled:n,isCombineEnabled:t,isFixedOnPage:r,direction:o,client:a,page:i,closest:s})=>{const u=(()=>{if(!s)return null;const{scrollSize:m,client:v}=s,b=Zk({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:b,diff:{value:qn,displacement:qn}}}})(),c=o==="vertical"?yw:Mk,f=Vu({page:i,withPlaceholder:null,axis:c,frame:u});return{descriptor:e,isCombineEnabled:t,isFixedOnPage:r,axis:c,isEnabled:n,client:a,page:i,frame:u,subject:f}};const jY=(e,n)=>{const t=Sk(e);if(!n||e!==n)return t;const r=t.paddingBox.top-n.scrollTop,o=t.paddingBox.left-n.scrollLeft,a=r+n.scrollHeight,i=o+n.scrollWidth,u=pw({top:r,right:i,bottom:a,left:o},t.border);return mw({borderBox:u,margin:t.margin,border:t.border,padding:t.padding})};var BY=({ref:e,descriptor:n,env:t,windowScroll:r,direction:o,isDropDisabled:a,isCombineEnabled:i,shouldClipSubject:s})=>{const u=t.closestScrollable,c=jY(e,u),f=nm(c,r),h=(()=>{if(!u)return null;const v=Sk(u),b={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:nm(v,r),scroll:cx(u),scrollSize:b,shouldClipSubject:s}})();return PY({descriptor:n,isEnabled:!a,isCombineEnabled:i,isFixedOnPage:t.isFixedOnPage,direction:o,client:c,page:f,closest:h})};const FY={passive:!1},LY={passive:!0};var PT=e=>e.shouldPublishImmediately?FY:LY;const dp=e=>e&&e.env.closestScrollable||null;function zY(e){const n=T.useRef(null),t=sm(Dv),r=kw("droppable"),{registry:o,marshal:a}=t,i=lM(e),s=Nt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),u=T.useRef(s),c=Nt(()=>$n((D,A)=>{n.current||Ne();const N={x:D,y:A};a.updateDroppableScroll(s.id,N)}),[s.id,a]),f=et(()=>{const D=n.current;return!D||!D.env.closestScrollable?qn:cx(D.env.closestScrollable)},[]),h=et(()=>{const D=f();c(D.x,D.y)},[f,c]),m=Nt(()=>Gd(h),[h]),v=et(()=>{const D=n.current,A=dp(D);if(D&&A||Ne(),D.scrollOptions.shouldPublishImmediately){h();return}m()},[m,h]),b=et((D,A)=>{n.current&&Ne();const N=i.current,k=N.getDroppableRef();k||Ne();const M=OY(k),I={ref:k,descriptor:s,env:M,scrollOptions:A};n.current=I;const P=BY({ref:k,descriptor:s,env:M,windowScroll:D,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),L=M.closestScrollable;return L&&(L.setAttribute(DT.contextId,t.contextId),L.addEventListener("scroll",v,PT(I.scrollOptions))),P},[t.contextId,s,v,i]),x=et(()=>{const D=n.current,A=dp(D);return D&&A||Ne(),cx(A)},[]),w=et(()=>{const D=n.current;D||Ne();const A=dp(D);n.current=null,A&&(m.cancel(),A.removeAttribute(DT.contextId),A.removeEventListener("scroll",v,PT(D.scrollOptions)))},[v,m]),S=et(D=>{const A=n.current;A||Ne();const N=dp(A);N||Ne(),N.scrollTop+=D.y,N.scrollLeft+=D.x},[]),E=Nt(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:x,dragStopped:w,scroll:S}),[w,b,x,S]),R=Nt(()=>({uniqueId:r,descriptor:s,callbacks:E}),[E,s,r]);so(()=>(u.current=R.descriptor,o.droppable.register(R),()=>{n.current&&w(),o.droppable.unregister(R)}),[E,s,w,R,a,o.droppable]),so(()=>{n.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),so(()=>{n.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function X0(){}const jT={width:0,height:0,margin:X$},UY=({isAnimatingOpenOnMount:e,placeholder:n,animate:t})=>e||t==="close"?jT:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},VY=({isAnimatingOpenOnMount:e,placeholder:n,animate:t})=>{const r=UY({isAnimatingOpenOnMount:e,placeholder:n,animate:t});return{display:n.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:t!=="none"?kd.placeholder:null}},HY=e=>{const n=T.useRef(null),t=et(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:a,contextId:i}=e,[s,u]=T.useState(e.animate==="open");T.useEffect(()=>s?r!=="open"?(t(),u(!1),X0):n.current?X0:(n.current=setTimeout(()=>{n.current=null,u(!1)}),t):X0,[r,s,t]);const c=et(h=>{h.propertyName==="height"&&(o(),r==="close"&&a())},[r,a,o]),f=VY({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return ft.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":i,onTransitionEnd:c,ref:e.innerRef})};var WY=ft.memo(HY);class $Y extends ft.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,t){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const GY=e=>{const n=T.useContext(Dv);n||Ne();const{contextId:t,isMovementAllowed:r}=n,o=T.useRef(null),a=T.useRef(null),{children:i,droppableId:s,type:u,mode:c,direction:f,ignoreContainerClipping:h,isDropDisabled:m,isCombineEnabled:v,snapshot:b,useClone:x,updateViewportMaxScroll:w,getContainerForClone:S}=e,E=et(()=>o.current,[]),R=et((L=null)=>{o.current=L},[]);et(()=>a.current,[]);const D=et((L=null)=>{a.current=L},[]),A=et(()=>{r()&&w({maxScroll:tM()})},[r,w]);zY({droppableId:s,type:u,mode:c,direction:f,isDropDisabled:m,isCombineEnabled:v,ignoreContainerClipping:h,getDroppableRef:E});const N=Nt(()=>ft.createElement($Y,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:L,data:F,animate:Y})=>ft.createElement(WY,{placeholder:F,onClose:L,innerRef:D,animate:Y,contextId:t,onTransitionEnd:A})),[t,A,e.placeholder,e.shouldAnimatePlaceholder,D]),k=Nt(()=>({innerRef:R,placeholder:N,droppableProps:{"data-rfd-droppable-id":s,"data-rfd-droppable-context-id":t}}),[t,s,N,R]),M=x?x.dragging.draggableId:null,I=Nt(()=>({droppableId:s,type:u,isUsingCloneFor:M}),[s,M,u]);function P(){if(!x)return null;const{dragging:L,render:F}=x,Y=ft.createElement(yM,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(W,X)=>F(W,X,L));return Cu.createPortal(Y,S())}return ft.createElement(Iw.Provider,{value:I},i(k,b),P())};function qY(){return document.body||Ne(),document.body}const BT={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:qY},SM=e=>{let n={...e},t;for(t in BT)e[t]===void 0&&(n={...n,[t]:BT[t]});return n},Y0=(e,n)=>e===n.droppable.type,FT=(e,n)=>n.draggables[e.draggable.id],XY=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},t=$n(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=$n((a,i,s,u,c,f)=>{const h=c.descriptor.id;if(c.descriptor.droppableId===a){const b=f?{render:f,dragging:t(c.descriptor)}:null,x={isDraggingOver:s,draggingOverWith:s?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:b}}if(!i)return n;if(!u)return e;const v={isDraggingOver:s,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(a,i)=>{const s=SM(i),u=s.droppableId,c=s.type,f=!s.isDropDisabled,h=s.renderClone;if(Jd(a)){const m=a.critical;if(!Y0(c,m))return n;const v=FT(m,a.dimensions),b=io(a.impact)===u;return r(u,f,b,b,v,h)}if(a.phase==="DROP_ANIMATING"){const m=a.completed;if(!Y0(c,m.critical))return n;const v=FT(m.critical,a.dimensions);return r(u,f,vM(m.result)===u,io(m.impact)===u,v,h)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const m=a.completed;if(!Y0(c,m.critical))return n;const v=io(m.impact)===u,b=!!(m.impact.at&&m.impact.at.type==="COMBINE"),x=m.critical.droppable.id===u;return v?b?e:n:x?e:n}return n}},YY={updateViewportMaxScroll:iq},LT=xk(XY,YY,(e,n,t)=>({...SM(t),...e,...n}),{context:Nw,areStatePropsEqual:mM})(GY);function CM(e,n){return function(){return e.apply(n,arguments)}}const{toString:KY}=Object.prototype,{getPrototypeOf:Ow}=Object,{iterator:Nv,toStringTag:EM}=Symbol,kv=(e=>n=>{const t=KY.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ra=e=>(e=e.toLowerCase(),n=>kv(n)===e),Mv=e=>n=>typeof n===e,{isArray:hc}=Array,Zd=Mv("undefined");function Tf(e){return e!==null&&!Zd(e)&&e.constructor!==null&&!Zd(e.constructor)&&Lr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const RM=ra("ArrayBuffer");function QY(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&RM(e.buffer),n}const JY=Mv("string"),Lr=Mv("function"),_M=Mv("number"),Df=e=>e!==null&&typeof e=="object",ZY=e=>e===!0||e===!1,Bp=e=>{if(kv(e)!=="object")return!1;const n=Ow(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(EM in e)&&!(Nv in e)},eK=e=>{if(!Df(e)||Tf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},tK=ra("Date"),nK=ra("File"),rK=ra("Blob"),oK=ra("FileList"),aK=e=>Df(e)&&Lr(e.pipe),iK=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Lr(e.append)&&((n=kv(e))==="formdata"||n==="object"&&Lr(e.toString)&&e.toString()==="[object FormData]"))},sK=ra("URLSearchParams"),[lK,uK,cK,dK]=["ReadableStream","Request","Response","Headers"].map(ra),fK=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Af(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),hc(e))for(r=0,o=e.length;r<o;r++)n.call(null,e[r],r,e);else{if(Tf(e))return;const a=t?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(r=0;r<i;r++)s=a[r],n.call(null,e[s],s,e)}}function TM(e,n){if(Tf(e))return null;n=n.toLowerCase();const t=Object.keys(e);let r=t.length,o;for(;r-- >0;)if(o=t[r],n===o.toLowerCase())return o;return null}const Js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DM=e=>!Zd(e)&&e!==Js;function dx(){const{caseless:e}=DM(this)&&this||{},n={},t=(r,o)=>{const a=e&&TM(n,o)||o;Bp(n[a])&&Bp(r)?n[a]=dx(n[a],r):Bp(r)?n[a]=dx({},r):hc(r)?n[a]=r.slice():n[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Af(arguments[r],t);return n}const hK=(e,n,t,{allOwnKeys:r}={})=>(Af(n,(o,a)=>{t&&Lr(o)?e[a]=CM(o,t):e[a]=o},{allOwnKeys:r}),e),pK=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mK=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},vK=(e,n,t,r)=>{let o,a,i;const s={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],(!r||r(i,e,n))&&!s[i]&&(n[i]=e[i],s[i]=!0);e=t!==!1&&Ow(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},gK=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},yK=e=>{if(!e)return null;if(hc(e))return e;let n=e.length;if(!_M(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},bK=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&Ow(Uint8Array)),xK=(e,n)=>{const r=(e&&e[Nv]).call(e);let o;for(;(o=r.next())&&!o.done;){const a=o.value;n.call(e,a[0],a[1])}},wK=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},SK=ra("HTMLFormElement"),CK=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),zT=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),EK=ra("RegExp"),AM=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};Af(t,(o,a)=>{let i;(i=n(o,a,e))!==!1&&(r[a]=i||o)}),Object.defineProperties(e,r)},RK=e=>{AM(e,(n,t)=>{if(Lr(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(Lr(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_K=(e,n)=>{const t={},r=o=>{o.forEach(a=>{t[a]=!0})};return hc(e)?r(e):r(String(e).split(n)),t},TK=()=>{},DK=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function AK(e){return!!(e&&Lr(e.append)&&e[EM]==="FormData"&&e[Nv])}const NK=e=>{const n=new Array(10),t=(r,o)=>{if(Df(r)){if(n.indexOf(r)>=0)return;if(Tf(r))return r;if(!("toJSON"in r)){n[o]=r;const a=hc(r)?[]:{};return Af(r,(i,s)=>{const u=t(i,o+1);!Zd(u)&&(a[s]=u)}),n[o]=void 0,a}}return r};return t(e,0)},kK=ra("AsyncFunction"),MK=e=>e&&(Df(e)||Lr(e))&&Lr(e.then)&&Lr(e.catch),NM=((e,n)=>e?setImmediate:n?((t,r)=>(Js.addEventListener("message",({source:o,data:a})=>{o===Js&&a===t&&r.length&&r.shift()()},!1),o=>{r.push(o),Js.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Lr(Js.postMessage)),IK=typeof queueMicrotask<"u"?queueMicrotask.bind(Js):typeof process<"u"&&process.nextTick||NM,OK=e=>e!=null&&Lr(e[Nv]),pe={isArray:hc,isArrayBuffer:RM,isBuffer:Tf,isFormData:iK,isArrayBufferView:QY,isString:JY,isNumber:_M,isBoolean:ZY,isObject:Df,isPlainObject:Bp,isEmptyObject:eK,isReadableStream:lK,isRequest:uK,isResponse:cK,isHeaders:dK,isUndefined:Zd,isDate:tK,isFile:nK,isBlob:rK,isRegExp:EK,isFunction:Lr,isStream:aK,isURLSearchParams:sK,isTypedArray:bK,isFileList:oK,forEach:Af,merge:dx,extend:hK,trim:fK,stripBOM:pK,inherits:mK,toFlatObject:vK,kindOf:kv,kindOfTest:ra,endsWith:gK,toArray:yK,forEachEntry:xK,matchAll:wK,isHTMLForm:SK,hasOwnProperty:zT,hasOwnProp:zT,reduceDescriptors:AM,freezeMethods:RK,toObjectSet:_K,toCamelCase:CK,noop:TK,toFiniteNumber:DK,findKey:TM,global:Js,isContextDefined:DM,isSpecCompliantForm:AK,toJSONObject:NK,isAsyncFn:kK,isThenable:MK,setImmediate:NM,asap:IK,isIterable:OK};function vt(e,n,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}pe.inherits(vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const kM=vt.prototype,MM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{MM[e]={value:e}});Object.defineProperties(vt,MM);Object.defineProperty(kM,"isAxiosError",{value:!0});vt.from=(e,n,t,r,o,a)=>{const i=Object.create(kM);return pe.toFlatObject(e,i,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),vt.call(i,e.message,n,t,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const PK=null;function fx(e){return pe.isPlainObject(e)||pe.isArray(e)}function IM(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function UT(e,n,t){return e?e.concat(n).map(function(o,a){return o=IM(o),!t&&a?"["+o+"]":o}).join(t?".":""):n}function jK(e){return pe.isArray(e)&&!e.some(fx)}const BK=pe.toFlatObject(pe,{},null,function(n){return/^is[A-Z]/.test(n)});function Iv(e,n,t){if(!pe.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=pe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!pe.isUndefined(w[x])});const r=t.metaTokens,o=t.visitor||f,a=t.dots,i=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(n);if(!pe.isFunction(o))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(pe.isDate(b))return b.toISOString();if(pe.isBoolean(b))return b.toString();if(!u&&pe.isBlob(b))throw new vt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(b)||pe.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,x,w){let S=b;if(b&&!w&&typeof b=="object"){if(pe.endsWith(x,"{}"))x=r?x:x.slice(0,-2),b=JSON.stringify(b);else if(pe.isArray(b)&&jK(b)||(pe.isFileList(b)||pe.endsWith(x,"[]"))&&(S=pe.toArray(b)))return x=IM(x),S.forEach(function(R,D){!(pe.isUndefined(R)||R===null)&&n.append(i===!0?UT([x],D,a):i===null?x:x+"[]",c(R))}),!1}return fx(b)?!0:(n.append(UT(w,x,a),c(b)),!1)}const h=[],m=Object.assign(BK,{defaultVisitor:f,convertValue:c,isVisitable:fx});function v(b,x){if(!pe.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(b),pe.forEach(b,function(S,E){(!(pe.isUndefined(S)||S===null)&&o.call(n,S,pe.isString(E)?E.trim():E,x,m))===!0&&v(S,x?x.concat(E):[E])}),h.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return v(e),n}function VT(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function Pw(e,n){this._pairs=[],e&&Iv(e,this,n)}const OM=Pw.prototype;OM.append=function(n,t){this._pairs.push([n,t])};OM.toString=function(n){const t=n?function(r){return n.call(this,r,VT)}:VT;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function FK(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function PM(e,n,t){if(!n)return e;const r=t&&t.encode||FK;pe.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(n,t):a=pe.isURLSearchParams(n)?n.toString():new Pw(n,t).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class HT{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){pe.forEach(this.handlers,function(r){r!==null&&n(r)})}}const jM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LK=typeof URLSearchParams<"u"?URLSearchParams:Pw,zK=typeof FormData<"u"?FormData:null,UK=typeof Blob<"u"?Blob:null,VK={isBrowser:!0,classes:{URLSearchParams:LK,FormData:zK,Blob:UK},protocols:["http","https","file","blob","url","data"]},jw=typeof window<"u"&&typeof document<"u",hx=typeof navigator=="object"&&navigator||void 0,HK=jw&&(!hx||["ReactNative","NativeScript","NS"].indexOf(hx.product)<0),WK=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$K=jw&&window.location.href||"http://localhost",GK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jw,hasStandardBrowserEnv:HK,hasStandardBrowserWebWorkerEnv:WK,navigator:hx,origin:$K},Symbol.toStringTag,{value:"Module"})),ur={...GK,...VK};function qK(e,n){return Iv(e,new ur.classes.URLSearchParams,{visitor:function(t,r,o,a){return ur.isNode&&pe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...n})}function XK(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function YK(e){const n={},t=Object.keys(e);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],n[a]=e[a];return n}function BM(e){function n(t,r,o,a){let i=t[a++];if(i==="__proto__")return!0;const s=Number.isFinite(+i),u=a>=t.length;return i=!i&&pe.isArray(o)?o.length:i,u?(pe.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!s):((!o[i]||!pe.isObject(o[i]))&&(o[i]=[]),n(t,r,o[i],a)&&pe.isArray(o[i])&&(o[i]=YK(o[i])),!s)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const t={};return pe.forEachEntry(e,(r,o)=>{n(XK(r),o,t,0)}),t}return null}function KK(e,n,t){if(pe.isString(e))try{return(n||JSON.parse)(e),pe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const Nf={transitional:jM,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,a=pe.isObject(n);if(a&&pe.isHTMLForm(n)&&(n=new FormData(n)),pe.isFormData(n))return o?JSON.stringify(BM(n)):n;if(pe.isArrayBuffer(n)||pe.isBuffer(n)||pe.isStream(n)||pe.isFile(n)||pe.isBlob(n)||pe.isReadableStream(n))return n;if(pe.isArrayBufferView(n))return n.buffer;if(pe.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qK(n,this.formSerializer).toString();if((s=pe.isFileList(n))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Iv(s?{"files[]":n}:n,u&&new u,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),KK(n)):n}],transformResponse:[function(n){const t=this.transitional||Nf.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(pe.isResponse(n)||pe.isReadableStream(n))return n;if(n&&pe.isString(n)&&(r&&!this.responseType||o)){const i=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(s){if(i)throw s.name==="SyntaxError"?vt.from(s,vt.ERR_BAD_RESPONSE,this,null,this.response):s}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{Nf.headers[e]={}});const QK=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JK=e=>{const n={};let t,r,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),t=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!t||n[t]&&QK[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},WT=Symbol("internals");function Cd(e){return e&&String(e).trim().toLowerCase()}function Fp(e){return e===!1||e==null?e:pe.isArray(e)?e.map(Fp):String(e)}function ZK(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const eQ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function K0(e,n,t,r,o){if(pe.isFunction(r))return r.call(this,n,t);if(o&&(n=t),!!pe.isString(n)){if(pe.isString(r))return n.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(n)}}function tQ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function nQ(e,n){const t=pe.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(o,a,i){return this[r].call(this,n,o,a,i)},configurable:!0})})}let zr=class{constructor(n){n&&this.set(n)}set(n,t,r){const o=this;function a(s,u,c){const f=Cd(u);if(!f)throw new Error("header name must be a non-empty string");const h=pe.findKey(o,f);(!h||o[h]===void 0||c===!0||c===void 0&&o[h]!==!1)&&(o[h||u]=Fp(s))}const i=(s,u)=>pe.forEach(s,(c,f)=>a(c,f,u));if(pe.isPlainObject(n)||n instanceof this.constructor)i(n,t);else if(pe.isString(n)&&(n=n.trim())&&!eQ(n))i(JK(n),t);else if(pe.isObject(n)&&pe.isIterable(n)){let s={},u,c;for(const f of n){if(!pe.isArray(f))throw TypeError("Object iterator must return a key-value pair");s[c=f[0]]=(u=s[c])?pe.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}i(s,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=Cd(n),n){const r=pe.findKey(this,n);if(r){const o=this[r];if(!t)return o;if(t===!0)return ZK(o);if(pe.isFunction(t))return t.call(this,o,r);if(pe.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=Cd(n),n){const r=pe.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||K0(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let o=!1;function a(i){if(i=Cd(i),i){const s=pe.findKey(r,i);s&&(!t||K0(r,r[s],s,t))&&(delete r[s],o=!0)}}return pe.isArray(n)?n.forEach(a):a(n),o}clear(n){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const a=t[r];(!n||K0(this,this[a],a,n,!0))&&(delete this[a],o=!0)}return o}normalize(n){const t=this,r={};return pe.forEach(this,(o,a)=>{const i=pe.findKey(r,a);if(i){t[i]=Fp(o),delete t[a];return}const s=n?tQ(a):String(a).trim();s!==a&&delete t[a],t[s]=Fp(o),r[s]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return pe.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=n&&pe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(o=>r.set(o)),r}static accessor(n){const r=(this[WT]=this[WT]={accessors:{}}).accessors,o=this.prototype;function a(i){const s=Cd(i);r[s]||(nQ(o,i),r[s]=!0)}return pe.isArray(n)?n.forEach(a):a(n),this}};zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(zr.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});pe.freezeMethods(zr);function Q0(e,n){const t=this||Nf,r=n||t,o=zr.from(r.headers);let a=r.data;return pe.forEach(e,function(s){a=s.call(t,a,o.normalize(),n?n.status:void 0)}),o.normalize(),a}function FM(e){return!!(e&&e.__CANCEL__)}function pc(e,n,t){vt.call(this,e??"canceled",vt.ERR_CANCELED,n,t),this.name="CanceledError"}pe.inherits(pc,vt,{__CANCEL__:!0});function LM(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new vt("Request failed with status code "+t.status,[vt.ERR_BAD_REQUEST,vt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function rQ(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function oQ(e,n){e=e||10;const t=new Array(e),r=new Array(e);let o=0,a=0,i;return n=n!==void 0?n:1e3,function(u){const c=Date.now(),f=r[a];i||(i=c),t[o]=u,r[o]=c;let h=a,m=0;for(;h!==o;)m+=t[h++],h=h%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<n)return;const v=f&&c-f;return v?Math.round(m*1e3/v):void 0}}function aQ(e,n){let t=0,r=1e3/n,o,a;const i=(c,f=Date.now())=>{t=f,o=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const f=Date.now(),h=f-t;h>=r?i(c,f):(o=c,a||(a=setTimeout(()=>{a=null,i(o)},r-h)))},()=>o&&i(o)]}const lm=(e,n,t=3)=>{let r=0;const o=oQ(50,250);return aQ(a=>{const i=a.loaded,s=a.lengthComputable?a.total:void 0,u=i-r,c=o(u),f=i<=s;r=i;const h={loaded:i,total:s,progress:s?i/s:void 0,bytes:u,rate:c||void 0,estimated:c&&s&&f?(s-i)/c:void 0,event:a,lengthComputable:s!=null,[n?"download":"upload"]:!0};e(h)},t)},$T=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},GT=e=>(...n)=>pe.asap(()=>e(...n)),iQ=ur.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,ur.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,sQ=ur.hasStandardBrowserEnv?{write(e,n,t,r,o,a){const i=[e+"="+encodeURIComponent(n)];pe.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),pe.isString(r)&&i.push("path="+r),pe.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function uQ(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function zM(e,n,t){let r=!lQ(n);return e&&(r||t==!1)?uQ(e,n):n}const qT=e=>e instanceof zr?{...e}:e;function sl(e,n){n=n||{};const t={};function r(c,f,h,m){return pe.isPlainObject(c)&&pe.isPlainObject(f)?pe.merge.call({caseless:m},c,f):pe.isPlainObject(f)?pe.merge({},f):pe.isArray(f)?f.slice():f}function o(c,f,h,m){if(pe.isUndefined(f)){if(!pe.isUndefined(c))return r(void 0,c,h,m)}else return r(c,f,h,m)}function a(c,f){if(!pe.isUndefined(f))return r(void 0,f)}function i(c,f){if(pe.isUndefined(f)){if(!pe.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function s(c,f,h){if(h in n)return r(c,f);if(h in e)return r(void 0,c)}const u={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(c,f,h)=>o(qT(c),qT(f),h,!0)};return pe.forEach(Object.keys({...e,...n}),function(f){const h=u[f]||o,m=h(e[f],n[f],f);pe.isUndefined(m)&&h!==s||(t[f]=m)}),t}const UM=e=>{const n=sl({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:s}=n;n.headers=i=zr.from(i),n.url=PM(zM(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let u;if(pe.isFormData(t)){if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[c,...f]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...f].join("; "))}}if(ur.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(n)),r||r!==!1&&iQ(n.url))){const c=o&&a&&sQ.read(a);c&&i.set(o,c)}return n},cQ=typeof XMLHttpRequest<"u",dQ=cQ&&function(e){return new Promise(function(t,r){const o=UM(e);let a=o.data;const i=zr.from(o.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:c}=o,f,h,m,v,b;function x(){v&&v(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function S(){if(!w)return;const R=zr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),A={data:!s||s==="text"||s==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:R,config:e,request:w};LM(function(k){t(k),x()},function(k){r(k),x()},A),w=null}"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(S)},w.onabort=function(){w&&(r(new vt("Request aborted",vt.ECONNABORTED,e,w)),w=null)},w.onerror=function(){r(new vt("Network Error",vt.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let D=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const A=o.transitional||jM;o.timeoutErrorMessage&&(D=o.timeoutErrorMessage),r(new vt(D,A.clarifyTimeoutError?vt.ETIMEDOUT:vt.ECONNABORTED,e,w)),w=null},a===void 0&&i.setContentType(null),"setRequestHeader"in w&&pe.forEach(i.toJSON(),function(D,A){w.setRequestHeader(A,D)}),pe.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),s&&s!=="json"&&(w.responseType=o.responseType),c&&([m,b]=lm(c,!0),w.addEventListener("progress",m)),u&&w.upload&&([h,v]=lm(u),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(f=R=>{w&&(r(!R||R.type?new pc(null,e,w):R),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const E=rQ(o.url);if(E&&ur.protocols.indexOf(E)===-1){r(new vt("Unsupported protocol "+E+":",vt.ERR_BAD_REQUEST,e));return}w.send(a||null)})},fQ=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,o;const a=function(c){if(!o){o=!0,s();const f=c instanceof Error?c:this.reason;r.abort(f instanceof vt?f:new pc(f instanceof Error?f.message:f))}};let i=n&&setTimeout(()=>{i=null,a(new vt(`timeout ${n} of ms exceeded`,vt.ETIMEDOUT))},n);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>pe.asap(s),u}},hQ=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,o;for(;r<t;)o=r+n,yield e.slice(r,o),r=o},pQ=async function*(e,n){for await(const t of mQ(e))yield*hQ(t,n)},mQ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},XT=(e,n,t,r)=>{const o=pQ(e,n);let a=0,i,s=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:f}=await o.next();if(c){s(),u.close();return}let h=f.byteLength;if(t){let m=a+=h;t(m)}u.enqueue(new Uint8Array(f))}catch(c){throw s(c),c}},cancel(u){return s(u),o.return()}},{highWaterMark:2})},Ov=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",VM=Ov&&typeof ReadableStream=="function",vQ=Ov&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),HM=(e,...n)=>{try{return!!e(...n)}catch{return!1}},gQ=VM&&HM(()=>{let e=!1;const n=new Request(ur.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),YT=64*1024,px=VM&&HM(()=>pe.isReadableStream(new Response("").body)),um={stream:px&&(e=>e.body)};Ov&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!um[n]&&(um[n]=pe.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new vt(`Response type '${n}' is not supported`,vt.ERR_NOT_SUPPORT,r)})})})(new Response);const yQ=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(ur.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await vQ(e)).byteLength},bQ=async(e,n)=>{const t=pe.toFiniteNumber(e.getContentLength());return t??yQ(n)},xQ=Ov&&(async e=>{let{url:n,method:t,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:u,responseType:c,headers:f,withCredentials:h="same-origin",fetchOptions:m}=UM(e);c=c?(c+"").toLowerCase():"text";let v=fQ([o,a&&a.toAbortSignal()],i),b;const x=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let w;try{if(u&&gQ&&t!=="get"&&t!=="head"&&(w=await bQ(f,r))!==0){let A=new Request(n,{method:"POST",body:r,duplex:"half"}),N;if(pe.isFormData(r)&&(N=A.headers.get("content-type"))&&f.setContentType(N),A.body){const[k,M]=$T(w,lm(GT(u)));r=XT(A.body,YT,k,M)}}pe.isString(h)||(h=h?"include":"omit");const S="credentials"in Request.prototype;b=new Request(n,{...m,signal:v,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:S?h:void 0});let E=await fetch(b,m);const R=px&&(c==="stream"||c==="response");if(px&&(s||R&&x)){const A={};["status","statusText","headers"].forEach(I=>{A[I]=E[I]});const N=pe.toFiniteNumber(E.headers.get("content-length")),[k,M]=s&&$T(N,lm(GT(s),!0))||[];E=new Response(XT(E.body,YT,k,()=>{M&&M(),x&&x()}),A)}c=c||"text";let D=await um[pe.findKey(um,c)||"text"](E,e);return!R&&x&&x(),await new Promise((A,N)=>{LM(A,N,{data:D,headers:zr.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:b})})}catch(S){throw x&&x(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new vt("Network Error",vt.ERR_NETWORK,e,b),{cause:S.cause||S}):vt.from(S,S&&S.code,e,b)}}),mx={http:PK,xhr:dQ,fetch:xQ};pe.forEach(mx,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const KT=e=>`- ${e}`,wQ=e=>pe.isFunction(e)||e===null||e===!1,WM={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:n}=e;let t,r;const o={};for(let a=0;a<n;a++){t=e[a];let i;if(r=t,!wQ(t)&&(r=mx[(i=String(t)).toLowerCase()],r===void 0))throw new vt(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+a]=r}if(!r){const a=Object.entries(o).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=n?a.length>1?`since :
`+a.map(KT).join(`
`):" "+KT(a[0]):"as no adapter specified";throw new vt("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:mx};function J0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new pc(null,e)}function QT(e){return J0(e),e.headers=zr.from(e.headers),e.data=Q0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WM.getAdapter(e.adapter||Nf.adapter)(e).then(function(r){return J0(e),r.data=Q0.call(e,e.transformResponse,r),r.headers=zr.from(r.headers),r},function(r){return FM(r)||(J0(e),r&&r.response&&(r.response.data=Q0.call(e,e.transformResponse,r.response),r.response.headers=zr.from(r.response.headers))),Promise.reject(r)})}const $M="1.11.0",Pv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Pv[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const JT={};Pv.transitional=function(n,t,r){function o(a,i){return"[Axios v"+$M+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,s)=>{if(n===!1)throw new vt(o(i," has been removed"+(t?" in "+t:"")),vt.ERR_DEPRECATED);return t&&!JT[i]&&(JT[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,i,s):!0}};Pv.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function SQ(e,n,t){if(typeof e!="object")throw new vt("options must be an object",vt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=n[a];if(i){const s=e[a],u=s===void 0||i(s,a,e);if(u!==!0)throw new vt("option "+a+" must be "+u,vt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new vt("Unknown option "+a,vt.ERR_BAD_OPTION)}}const Lp={assertOptions:SQ,validators:Pv},fa=Lp.validators;let nl=class{constructor(n){this.defaults=n||{},this.interceptors={request:new HT,response:new HT}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=sl(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:a}=t;r!==void 0&&Lp.assertOptions(r,{silentJSONParsing:fa.transitional(fa.boolean),forcedJSONParsing:fa.transitional(fa.boolean),clarifyTimeoutError:fa.transitional(fa.boolean)},!1),o!=null&&(pe.isFunction(o)?t.paramsSerializer={serialize:o}:Lp.assertOptions(o,{encode:fa.function,serialize:fa.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Lp.assertOptions(t,{baseUrl:fa.spelling("baseURL"),withXsrfToken:fa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&pe.merge(a.common,a[t.method]);a&&pe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),t.headers=zr.concat(i,a);const s=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(u=u&&x.synchronous,s.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let f,h=0,m;if(!u){const b=[QT.bind(this),void 0];for(b.unshift(...s),b.push(...c),m=b.length,f=Promise.resolve(t);h<m;)f=f.then(b[h++],b[h++]);return f}m=s.length;let v=t;for(h=0;h<m;){const b=s[h++],x=s[h++];try{v=b(v)}catch(w){x.call(this,w);break}}try{f=QT.call(this,v)}catch(b){return Promise.reject(b)}for(h=0,m=c.length;h<m;)f=f.then(c[h++],c[h++]);return f}getUri(n){n=sl(this.defaults,n);const t=zM(n.baseURL,n.url,n.allowAbsoluteUrls);return PM(t,n.params,n.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(n){nl.prototype[n]=function(t,r){return this.request(sl(r||{},{method:n,url:t,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(n){function t(r){return function(a,i,s){return this.request(sl(s||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}nl.prototype[n]=t(),nl.prototype[n+"Form"]=t(!0)});let CQ=class GM{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(s=>{r.subscribe(s),a=s}).then(o);return i.cancel=function(){r.unsubscribe(a)},i},n(function(a,i,s){r.reason||(r.reason=new pc(a,i,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new GM(function(o){n=o}),cancel:n}}};function EQ(e){return function(t){return e.apply(null,t)}}function RQ(e){return pe.isObject(e)&&e.isAxiosError===!0}const vx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vx).forEach(([e,n])=>{vx[n]=e});function qM(e){const n=new nl(e),t=CM(nl.prototype.request,n);return pe.extend(t,nl.prototype,n,{allOwnKeys:!0}),pe.extend(t,n,null,{allOwnKeys:!0}),t.create=function(o){return qM(sl(e,o))},t}const wt=qM(Nf);wt.Axios=nl;wt.CanceledError=pc;wt.CancelToken=CQ;wt.isCancel=FM;wt.VERSION=$M;wt.toFormData=Iv;wt.AxiosError=vt;wt.Cancel=wt.CanceledError;wt.all=function(n){return Promise.all(n)};wt.spread=EQ;wt.isAxiosError=RQ;wt.mergeConfig=sl;wt.AxiosHeaders=zr;wt.formToJSON=e=>BM(pe.isHTMLForm(e)?new FormData(e):e);wt.getAdapter=WM.getAdapter;wt.HttpStatusCode=vx;wt.default=wt;const{Axios:Nie,AxiosError:kie,CanceledError:Mie,isCancel:Iie,CancelToken:Oie,VERSION:Pie,all:jie,Cancel:Bie,isAxiosError:Fie,spread:Lie,toFormData:zie,AxiosHeaders:Uie,HttpStatusCode:Vie,formToJSON:Hie,getAdapter:Wie,mergeConfig:$ie}=wt,ZT=[{type:"heading",label:"Heading",icon:EH},{type:"paragraph",label:"Paragraph",icon:wH},{type:"image",label:"Image",icon:Zp},{type:"breakline",label:"Break Line",icon:g9},{type:"horizontalline",label:"Horizontal Line",icon:eH},{type:"audio",label:"Audio",icon:uH},{type:"video",label:"Video",icon:Jb},{type:"timer",label:"Timer",icon:O9},{type:"orderedlist",label:"Ordered List",icon:oH},{type:"unorderedlist",label:"Unordered List",icon:iH},{type:"randominteger",label:"Random Integer",icon:hH},{type:"videorecording",label:"Video Recording",icon:uk},{type:"audiorecording",label:"Audio Recording",icon:lk}];function _Q({element:e,onTimeUpdate:n}){const[t,r]=T.useState(0),[o,a]=T.useState(!0);T.useEffect(()=>{let s;return o?s=setInterval(()=>{r(u=>{const c=u+1;return n&&n(c),c})},1e3):!o&&t!==0&&clearInterval(s),()=>clearInterval(s)},[o,n]);const i=s=>{const u=Math.floor(s/60),c=s%60;return`${u.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`};return y.jsxs(re,{style:{textAlign:e.align||"left",padding:8},children:[y.jsx(de,{fw:600,size:"md",mb:4,children:"Page Timer"}),y.jsx(de,{size:"lg",fw:700,style:{fontFamily:"monospace"},children:i(t)}),y.jsx(de,{size:"xs",color:"dimmed",mt:4,children:"Time spent on this page"})]})}function eD(e,n,t,r,o,a){const i={cursor:"pointer",position:"relative",marginBottom:16},s=({children:u})=>y.jsxs(re,{style:{...i,outline:t?"2px solid #2988f4":"none",outlineOffset:2},onMouseEnter:c=>{if(!t){const f=c.currentTarget.querySelector(".element-actions");f&&(f.style.display="block")}},onMouseLeave:c=>{if(!t){const f=c.currentTarget.querySelector(".element-actions");f&&(f.style.display="none")}},children:[u,y.jsx(re,{className:"element-actions",style:{position:"absolute",top:-10,right:-10,display:t?"block":"none",background:"rgba(0,0,0,0.8)",borderRadius:6,padding:4,zIndex:10},children:y.jsxs(ze,{spacing:4,children:[!["videorecording","audiorecording"].includes(e.type)&&y.jsx(Mo,{label:"Properties",position:"top",children:y.jsx(Wn,{size:"sm",variant:"subtle",color:"white",onClick:c=>{c.stopPropagation(),o()},children:y.jsx(bH,{size:14})})}),y.jsx(Mo,{label:"Delete",position:"top",children:y.jsx(Wn,{size:"sm",variant:"subtle",color:"red",onClick:c=>{c.stopPropagation(),r()},children:y.jsx(Sv,{size:14})})})]})})]});switch(e.type){case"heading":return y.jsx(s,{children:y.jsx(de,{fw:700,size:e.size||"xl",style:{textAlign:e.align||"left",color:"#000",marginBottom:8},onClick:n,children:e.content||"Tap to Edit Heading"})});case"paragraph":return y.jsx(s,{children:y.jsx(de,{style:{color:"#333",textAlign:e.align||"left",lineHeight:1.6,marginBottom:8},onClick:n,children:e.content||"Tap to Edit Paragraph"})});case"image":return y.jsx(s,{children:y.jsx(re,{style:{textAlign:e.align||"left"},onClick:n,children:e.url||e.fileUrl?y.jsx("img",{src:e.url||e.fileUrl,alt:e.fileName||"Image",style:{maxWidth:e.width?`${e.width}px`:"100%",height:e.height?`${e.height}px`:"auto"}}):y.jsx(re,{style:{width:e.width?`${e.width}px`:"300px",height:e.height?`${e.height}px`:"200px",border:"2px dashed #ddd",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:y.jsxs("div",{style:{textAlign:"center"},children:[y.jsx(Zp,{size:40,color:"#ccc"}),y.jsx(de,{color:"dimmed",size:"sm",children:"Click to upload image"})]})})})});case"breakline":return y.jsx(s,{children:y.jsx("br",{})});case"horizontalline":return y.jsx(s,{children:y.jsx(Fr,{color:"#ddd"})});case"audio":return y.jsx(s,{children:y.jsx(re,{style:{textAlign:e.align||"left"},onClick:n,children:e.url||e.fileUrl?y.jsxs("div",{children:[y.jsxs(de,{size:"sm",fw:500,mb:8,children:["Audio: ",e.fileName||"From URL"]}),y.jsxs("audio",{controls:!0,style:{width:e.width?`${e.width}px`:"100%",height:e.height?`${e.height}px`:"auto"},children:[y.jsx("source",{src:e.url||e.fileUrl,type:"audio/mpeg"}),"Your browser does not support the audio element."]})]}):y.jsx(re,{style:{width:e.width?`${e.width}px`:"300px",height:e.height?`${e.height}px`:"60px",border:"1px dashed #ddd",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:y.jsx(de,{color:"dimmed",size:"sm",children:"[Audio - Upload audio file]"})})})});case"video":return y.jsx(s,{children:y.jsx(re,{style:{textAlign:e.align||"left"},onClick:n,children:e.url||e.fileUrl?y.jsxs("div",{children:[y.jsxs(de,{size:"sm",fw:500,mb:8,children:["Video: ",e.fileName||"From URL"]}),y.jsxs("video",{controls:!0,style:{width:e.width?`${e.width}px`:"400px",height:e.height?`${e.height}px`:"auto"},children:[y.jsx("source",{src:e.url||e.fileUrl,type:"video/mp4"}),"Your browser does not support the video element."]})]}):y.jsx(re,{style:{width:e.width?`${e.width}px`:"400px",height:e.height?`${e.height}px`:"250px",border:"1px dashed #ddd",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent"},children:y.jsx(de,{color:"dimmed",size:"sm",children:"[Video - Upload video file]"})})})});case"timer":return y.jsx(s,{children:y.jsx(_Q,{element:e,onTimeUpdate:u=>console.log("Time spent:",u)})});case"orderedlist":return y.jsx(s,{children:y.jsx("ol",{style:{color:"#333",textAlign:e.align||"left",marginBottom:8,paddingLeft:20},onClick:n,children:e.listItems?e.listItems.map((u,c)=>y.jsx("li",{style:{marginBottom:4},children:u},c)):y.jsxs(y.Fragment,{children:[y.jsx("li",{style:{marginBottom:4},children:"Tap to Edit Item 1"}),y.jsx("li",{style:{marginBottom:4},children:"Tap to Edit Item 2"})]})})});case"unorderedlist":return y.jsx(s,{children:y.jsx("ul",{style:{color:"#333",textAlign:e.align||"left",marginBottom:8,paddingLeft:20},onClick:n,children:e.listItems?e.listItems.map((u,c)=>y.jsx("li",{style:{marginBottom:4},children:u},c)):y.jsxs(y.Fragment,{children:[y.jsx("li",{style:{marginBottom:4},children:"Tap to Edit Item 1"}),y.jsx("li",{style:{marginBottom:4},children:"Tap to Edit Item 2"})]})})});case"randominteger":return y.jsx(s,{children:y.jsxs(re,{style:{textAlign:e.align||"left",padding:"12px",border:"1px solid #e0e0e0",borderRadius:"6px",backgroundColor:"#f8f9fa"},onClick:n,children:[y.jsx(de,{fw:500,size:"sm",mb:8,color:"#333",children:"Random Integer"}),y.jsx(de,{size:"lg",fw:700,style:{fontFamily:"monospace",color:e.content?"#007CFF":"#999"},children:e.content||"Click to set number"}),y.jsxs(de,{size:"xs",color:"dimmed",mt:4,children:["Integer value: ",e.content||"Not set"]})]})});case"videorecording":return y.jsx(s,{children:y.jsxs(re,{style:{textAlign:"center",padding:"20px",border:"2px dashed #ff6b35",borderRadius:"8px",backgroundColor:"#fff5f0"},children:[y.jsx(uk,{size:48,color:"#ff6b35",style:{marginBottom:8}}),y.jsx(de,{fw:600,size:"md",color:"#ff6b35",mb:4,children:"Video Recording"}),y.jsx(de,{size:"sm",color:"dimmed",children:"Users will be able to record video here"})]})});case"audiorecording":return y.jsx(s,{children:y.jsxs(re,{style:{textAlign:"center",padding:"20px",border:"2px dashed #007CFF",borderRadius:"8px",backgroundColor:"#f0f7ff"},children:[y.jsx(lk,{size:48,color:"#007CFF",style:{marginBottom:8}}),y.jsx(de,{fw:600,size:"md",color:"#007CFF",mb:4,children:"Audio Recording"}),y.jsx(de,{size:"sm",color:"dimmed",children:"Users will be able to record audio here"})]})});default:return y.jsx("span",{})}}function TQ({selectedElement:e,onPropertyChange:n,onClose:t}){const[r,o]=T.useState(""),[a,i]=T.useState(e?.url||"");if(ft.useEffect(()=>{e?.listItems&&o(e.listItems.join(`
`)),i(e?.url||"")},[e]),!e)return y.jsxs(re,{style:{width:300,background:"#2c2c2c",color:"#fff",padding:20,height:"100%"},children:[y.jsx(de,{size:"lg",fw:600,mb:"md",children:"Properties"}),y.jsx(de,{color:"dimmed",children:"Select an element to edit its properties"})]});if(["videorecording","audiorecording"].includes(e.type))return y.jsxs(re,{style:{width:300,background:"#2c2c2c",color:"#fff",padding:20,height:"100%"},children:[y.jsx(de,{size:"lg",fw:600,mb:"md",children:"Recording Element"}),y.jsx(de,{color:"dimmed",children:"Recording elements don't have configurable properties. The recording functionality will be handled in the user dashboard."}),y.jsx(Oe,{size:"xs",variant:"subtle",onClick:t,mt:"md",children:"Close"})]});const s=h=>{if(h){const m=URL.createObjectURL(h);n("fileName",h.name),n("fileUrl",m),n("url",""),i("")}},u=h=>{i(h),n("url",h),n("fileName",null),n("fileUrl",null)},c=h=>{o(h);const m=h.split(`
`).filter(v=>v.trim()!=="");n("listItems",m)},f=()=>{switch(e.type){case"heading":return"Heading Properties";case"paragraph":return"Paragraph Properties";case"image":return"Image Properties";case"audio":return"Audio Properties";case"video":return"Video Properties";case"timer":return"Timer Properties";case"orderedlist":return"Ordered List Properties";case"unorderedlist":return"Unordered List Properties";case"randominteger":return"Random Integer Properties";default:return"Element Properties"}};return y.jsx(re,{style:{width:300,background:"#2c2c2c",color:"#fff",height:"100%"},children:y.jsx(jo,{style:{height:"100%"},children:y.jsxs(re,{style:{padding:20},children:[y.jsxs(ze,{justify:"space-between",mb:"md",children:[y.jsx(de,{size:"lg",fw:600,children:f()}),y.jsx(Oe,{size:"xs",variant:"subtle",onClick:t,children:""})]}),y.jsxs(Sr,{spacing:"md",children:[["heading"].includes(e.type)&&y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:"Content"}),y.jsx(ui,{value:e.content||"",onChange:h=>n("content",h.target.value),placeholder:"Enter heading text"})]}),["paragraph"].includes(e.type)&&y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:"Content"}),y.jsx(Kp,{value:e.content||"",onChange:h=>n("content",h.target.value),placeholder:"Enter paragraph text",rows:6})]}),["randominteger"].includes(e.type)&&y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:"Integer Value"}),y.jsx(Nu,{value:parseInt(e.content)||"",onChange:h=>n("content",h?h.toString():""),placeholder:"Enter an integer number",min:-999999,max:999999,stepHoldDelay:500,stepHoldInterval:100}),y.jsxs(de,{size:"xs",color:"dimmed",mt:4,children:["Enter any integer number. This will be stored as: ",e.content||"empty"]})]}),["orderedlist","unorderedlist"].includes(e.type)&&y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:"List Items (one per line)"}),y.jsx(Kp,{value:r,onChange:h=>c(h.target.value),placeholder:"Enter list items, one per line",rows:4})]}),["image","audio","video"].includes(e.type)&&y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:e.type==="image"?"Image File or URL":e.type==="audio"?"Audio File or URL":"Video File or URL"}),y.jsx(ui,{placeholder:"Enter URL (e.g. https://example.com/media.mp4)",leftSection:y.jsx(nH,{size:16}),value:a,onChange:h=>u(h.target.value),mb:"md",disabled:!!e.fileUrl}),y.jsx(zb,{placeholder:`Or upload ${e.type} file`,accept:e.type==="image"?"image/*":e.type==="audio"?"audio/*":"video/*",onChange:s,leftSection:y.jsx(_H,{size:14}),disabled:!!a}),e.fileName&&y.jsxs(de,{size:"xs",color:"green",mt:4,children:["Current file: ",e.fileName]}),a&&y.jsxs(de,{size:"xs",color:"green",mt:4,children:["Using URL: ",a]})]}),["image","audio","video"].includes(e.type)&&y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:"Size"}),y.jsxs(ze,{children:[y.jsx(Nu,{placeholder:"300",value:e.width||"",onChange:h=>n("width",h),size:"xs",style:{width:80}}),y.jsx(de,{size:"xs",children:"PX"}),y.jsx(Nu,{placeholder:"200",value:e.height||"",onChange:h=>n("height",h),size:"xs",style:{width:80}}),y.jsx(de,{size:"xs",children:"PX"})]}),y.jsxs(ze,{mt:4,children:[y.jsx(de,{size:"xs",color:"dimmed",children:"Width"}),y.jsx(de,{size:"xs",color:"dimmed",ml:"auto",children:"Height"})]})]}),e.type==="heading"&&y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:"Size"}),y.jsx(ri,{value:e.size||"xl",onChange:h=>n("size",h),data:[{value:"xs",label:"Extra Small"},{value:"sm",label:"Small"},{value:"md",label:"Medium"},{value:"lg",label:"Large"},{value:"xl",label:"Extra Large"}]})]}),!["breakline","horizontalline"].includes(e.type)&&y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:"Alignment"}),y.jsxs(ze,{children:[y.jsx(Oe,{size:"xs",variant:e.align==="left"?"filled":"subtle",onClick:()=>n("align","left"),children:"LEFT"}),y.jsx(Oe,{size:"xs",variant:e.align==="center"?"filled":"subtle",onClick:()=>n("align","center"),children:"CENTER"}),y.jsx(Oe,{size:"xs",variant:e.align==="right"?"filled":"subtle",onClick:()=>n("align","right"),children:"RIGHT"})]}),y.jsx(de,{size:"xs",color:"dimmed",mt:4,children:"Select how the content is aligned horizontally"})]}),y.jsxs(re,{children:[y.jsx(de,{size:"sm",mb:4,children:"Duplicate Field"}),y.jsx(Oe,{variant:"light",size:"sm",children:"DUPLICATE"}),y.jsx(de,{size:"xs",color:"dimmed",mt:4,children:"Duplicate this field with all saved settings"})]})]})]})})})}function DQ(){const e=na(),n=bs(),[t,r]=T.useState("New Jotform"),[o,a]=T.useState([[]]),[i,s]=T.useState(0),[u,c]=T.useState(null),[f,h]=T.useState(!1),[m,v]=T.useState(!1);T.useEffect(()=>{e.state?.jotformName&&r(e.state.jotformName)},[e.state]);const b=I=>{const{source:P,destination:L}=I;if(L){if(P.droppableId==="elements"&&L.droppableId==="canvas"){const F={...ZT[P.index],content:"",id:Date.now()},Y=Array.from(o);Y[i]=[...Y[i].slice(0,L.index),F,...Y[i].slice(L.index)],a(Y)}else if(P.droppableId==="canvas"&&L.droppableId==="canvas"){const F=Array.from(o[i]),[Y]=F.splice(P.index,1);F.splice(L.index,0,Y);const W=Array.from(o);W[i]=F,a(W)}}},x=I=>{c(I);const P=o[i][I];["videorecording","audiorecording"].includes(P.type)||h(!0)},w=I=>{const P=Array.from(o);P[i].splice(I,1),a(P),c(null),h(!1)},S=(I,P)=>{if(u===null)return;const L=[...o];L[i][u]={...L[i][u],[I]:P},a(L)},E=()=>{a([...o,[]]),s(o.length)},R=()=>{i>0&&s(i-1)},D=()=>{i<o.length-1&&s(i+1)},A=()=>{console.log("Form submitted!",{jotformName:t,pages:o})},N=async()=>{const I=o.map((L,F)=>{const Y=L.map((W,X)=>{let j;switch(W.type){case"heading":case"paragraph":j=W.content||`Default ${W.type} content`;break;case"randominteger":j=W.content||"0";break;case"videorecording":case"audiorecording":j="";break;case"image":case"audio":case"video":W.url?j=W.url:W.fileName?j={fileName:W.fileName,fileUrl:W.fileUrl,mimeType:W.mimeType||"application/octet-stream",size:W.fileSize||0}:j=`No content for ${W.type}`;break;case"orderedlist":case"unorderedlist":j=W.listItems?W.listItems.join(", "):`Default list items for ${W.type}`;break;case"timer":j="Timer element - tracks time spent on page";break;case"breakline":j="Line break";break;case"horizontalline":j="Horizontal divider line";break;default:j=`${W.type} element`;break}return{id:W.id||`element_${F}_${X}`,tagName:W.type,elementName:W.type,content:j,sequence:X+1,page:F+1}});return{page:F+1,totalElements:Y.length,elements:Y}}),P={jotformName:t,totalPages:o.length,pages:I};console.log("=== LEARNING MATERIAL DATA (ALL PAGES) ==="),console.log("Jotform Name:",t),console.log("Total Pages:",o.length),console.log("All Pages Data:",P),console.log("Detailed Pages:"),I.forEach(L=>{console.log(`
Page ${L.page} (Total Elements: ${L.totalElements}):`),console.table(L.elements)}),console.log("=======================================");try{console.log(P);const L=await wt.post("http://localhost:8081/api/jotforms",P,{headers:{"Content-Type":"application/json"}});nn.show({title:"Success!",message:"Learning material saved successfully",color:"green"}),console.log(" Saved to database:",L.data),console.log(P),n("/jotformmanagment")}catch(L){console.error(" Failed to save learning material:",L),nn.show({title:"Error",message:"Failed to save learning material. Please try again.",color:"red"})}},k=i===0,M=i===o.length-1;return y.jsxs(re,{style:{height:"100vh",display:"flex",flexDirection:"column",background:"#f0f0f0"},children:[y.jsxs(re,{style:{background:"#ff6b35",padding:"12px 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs(ze,{children:[y.jsx(Oe,{size:"sm",variant:"white",leftSection:y.jsx(Kb,{size:16}),onClick:()=>v(!m),children:m?"Edit":"Preview"}),y.jsx(Oe,{size:"sm",variant:"white",leftSection:y.jsx(x9,{size:16}),onClick:N,style:{background:"#4CAF50",color:"white",border:"none"},children:"Create Learning Material"})]}),y.jsxs(ze,{children:[y.jsxs(de,{size:"sm",style:{color:"white",fontWeight:600},children:["Page ",i+1," of ",o.length]}),y.jsx(Oe,{size:"sm",variant:"white",onClick:E,children:"+ Add Page"})]})]}),y.jsx(re,{style:{flex:1,display:"flex"},children:y.jsxs(dY,{onDragEnd:b,children:[!m&&y.jsxs(re,{style:{width:200,background:"#2c2c2c",color:"#fff",padding:16,borderRight:"1px solid #444"},children:[y.jsx(de,{fw:700,size:"sm",mb:"md",style:{color:"#ff6b35"},children:"FORM ELEMENTS"}),y.jsx(LT,{droppableId:"elements",isDropDisabled:!0,children:I=>y.jsxs("div",{ref:I.innerRef,...I.droppableProps,children:[ZT.map((P,L)=>y.jsx(IT,{draggableId:P.type,index:L,children:F=>y.jsxs(ze,{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,style:{background:"#3c3c3c",borderRadius:8,padding:"8px 12px",marginBottom:8,cursor:"grab",fontSize:13,...F.draggableProps.style},spacing:8,children:[y.jsx(P.icon,{size:16}),P.label]})},P.type)),I.placeholder]})})]}),y.jsx(re,{style:{flex:1,background:"#f5f5f5",display:"flex",justifyContent:"center",padding:20},children:y.jsx(re,{style:{width:"100%",maxWidth:800,background:"#fff",minHeight:"calc(100vh - 120px)",boxShadow:"0 0 10px rgba(0,0,0,0.1)",position:"relative"},children:y.jsx(jo,{style:{height:"calc(100vh - 120px)"},children:y.jsxs(re,{style:{padding:"40px 60px"},children:[y.jsx(de,{fw:700,size:"xl",align:"center",mb:"xl",style:{color:"#333"},children:t}),m?y.jsx("div",{children:(o[i]||[]).map((I,P)=>y.jsx(re,{mb:"md",children:eD(I,()=>{},!1,()=>{},()=>{})},P))}):y.jsx(LT,{droppableId:"canvas",children:I=>y.jsxs("div",{ref:I.innerRef,...I.droppableProps,style:{minHeight:400},children:[(o[i]||[]).length===0&&y.jsx(de,{align:"center",color:"gray",style:{padding:40},children:"Drag your first question here from the left"}),(o[i]||[]).map((P,L)=>y.jsx(IT,{draggableId:`canvas-element-${L}`,index:L,children:F=>y.jsx("div",{ref:F.innerRef,...F.draggableProps,...F.dragHandleProps,style:{...F.draggableProps.style},children:eD(P,()=>x(L),u===L,()=>w(L),()=>x(L))})},`${P.id||L}-${P.type}`)),I.placeholder]})}),y.jsxs(ze,{justify:"center",mt:"xl",spacing:"md",style:{paddingTop:40},children:[!k&&y.jsx(Oe,{size:"md",variant:"outline",onClick:R,children:"Back"}),M?y.jsx(Oe,{size:"md",style:{background:"#00C851"},onClick:A,children:"Submit"}):y.jsx(Oe,{size:"md",style:{background:"#007CFF"},onClick:D,children:"Next"})]})]})})})}),!m&&f&&y.jsx(TQ,{selectedElement:u!==null?o[i][u]:null,onPropertyChange:S,onClose:()=>h(!1)})]})})]})}const tD=["BL","BE","BM"];function XM(e){const[n,t]=T.useState("learning"),[r,o]=T.useState(!1),[a,i]=T.useState([]),[s,u]=T.useState([]),[c,f]=T.useState(!1),h=async()=>{o(!0);try{const S=await wt.get("http://localhost:8081/api/jotforms/names");i(S.data)}catch(S){console.error("Error fetching jotform names",S),i([])}finally{o(!1)}},m=async()=>{f(!0);try{const S=await wt.get("http://localhost:8081/api/courses/names");u(S.data)}catch(S){console.error("Error fetching existing courses",S),u([])}finally{f(!1)}};T.useEffect(()=>{h(),m()},[]);const v=$d({initialValues:{courseName:"",jotformName:"",group:"",imageFile:null,pdfFile:null},validate:{courseName:S=>S.trim().length>0?null:"Please enter a course name",jotformName:S=>S?null:"Please select a Jotform",group:S=>S?null:"Please select a group"}}),b=async S=>{try{const E=new FormData;E.append("courseName",S.courseName),E.append("jotformName",S.jotformName),E.append("group",S.group),S.imageFile&&E.append("imageFile",S.imageFile),S.pdfFile&&E.append("pdfFile",S.pdfFile),console.log(E);const R=await wt.post("http://localhost:8081/api/courses/learning",E,{headers:{"Content-Type":"multipart/form-data"}});console.log("Mapping submission response:",R.data),alert("Learning form mapped successfully!")}catch(E){console.error("Error submitting learning form mapping",E),alert("Failed to submit mapping")}},x=$d({initialValues:{courseName:"",jotformName:"",group:""},validate:{courseName:S=>S?null:"Please select a course name",jotformName:S=>S?null:"Please select a jotform",group:S=>S?null:"Please select a group"}}),w=async S=>{try{const E={courseName:S.courseName,jotformName:S.jotformName,group:S.group},R=await wt.post("http://localhost:8081/api/courses/assignment",E,{headers:{"Content-Type":"application/json"}});console.log("Assignment mapping response:",R.data),alert("Assignment form mapped successfully!")}catch(E){console.error("Error submitting assignment mapping",E),alert("Failed to submit assignment mapping")}};return y.jsxs(fi,{className:dw.formPaper,radius:"md",p:"lg",withBorder:!0,...e,style:{maxWidth:400,margin:"0 auto"},children:[y.jsx(de,{size:"lg",fw:500,ta:"center",children:"Jotform Mapping"}),y.jsx(ze,{position:"center",mt:"md",mb:"lg",children:y.jsx(ac,{value:n,onChange:t,data:[{label:"Jotform Learning",value:"learning"},{label:"Jotform Assignment",value:"assignment"}],color:"blue",size:"md"})}),y.jsx(Fr,{label:"Select mapping details",labelPosition:"center",my:"lg"}),n==="learning"?y.jsx("form",{onSubmit:v.onSubmit(b),children:y.jsxs(Sr,{children:[y.jsx(ui,{label:"Course Name",placeholder:"Enter course name",required:!0,value:v.values.courseName,onChange:S=>v.setFieldValue("courseName",S.currentTarget.value),error:v.errors.courseName,radius:"md"}),y.jsx(ri,{label:"Jotform Name",placeholder:r?"Loading...":"Select existing jotform",required:!0,searchable:!0,data:a,value:v.values.jotformName,onChange:S=>v.setFieldValue("jotformName",S),error:v.errors.jotformName,radius:"md",disabled:r}),y.jsx(ri,{label:"Group",placeholder:"Select group",required:!0,data:tD,value:v.values.group,onChange:S=>v.setFieldValue("group",S),error:v.errors.group,radius:"md"}),y.jsx(zb,{label:"Upload Image",placeholder:"Select image file",accept:"image/*",value:v.values.imageFile,onChange:S=>v.setFieldValue("imageFile",S),radius:"md",clearable:!0}),y.jsx(zb,{label:"Upload PDF",placeholder:"Select pdf file",accept:"application/pdf",value:v.values.pdfFile,onChange:S=>v.setFieldValue("pdfFile",S),radius:"md",clearable:!0}),y.jsx(Oe,{type:"submit",radius:"xl",mt:"md",children:"Map Learning Jotform"})]})}):y.jsx("form",{onSubmit:x.onSubmit(w),children:y.jsxs(Sr,{children:[y.jsx(ri,{label:"Course Name",placeholder:c?"Loading...":"Select existing course",required:!0,searchable:!0,data:s,value:x.values.courseName,onChange:S=>x.setFieldValue("courseName",S),error:x.errors.courseName,radius:"md",disabled:c}),y.jsx(ri,{label:"Jotform Name",placeholder:"Select jotform",required:!0,data:a,value:x.values.jotformName,onChange:S=>x.setFieldValue("jotformName",S),error:x.errors.jotformName,radius:"md"}),y.jsx(ri,{label:"Group",placeholder:"Select group",required:!0,data:tD,value:x.values.group,onChange:S=>x.setFieldValue("group",S),error:x.errors.group,radius:"md"}),y.jsx(Oe,{type:"submit",radius:"xl",mt:"md",children:"Map Assignment Jotform"})]})})]})}function AQ(){const[e,n]=T.useState("BL"),[t,r]=T.useState([]),[o,a]=T.useState(!1),[i,s]=T.useState(!1),[u,c]=T.useState(!1),[f,h]=T.useState(null),m=async()=>{a(!0);try{const S=await wt.get(`http://localhost:8081/api/courses?group=${e}`);console.log(S.data),r(S.data)}catch(S){console.error(`Error fetching courses for group ${e}:`,S),r([])}finally{a(!1)}};T.useEffect(()=>{m()},[e]);const v=S=>{console.log("Editing course:",S)},b=S=>{h(S),c(!0)},x=()=>{h(null),c(!1)},w=async()=>{if(f)try{await wt.delete(`http://localhost:8081/api/courses/${f.id}`),r(t.filter(S=>S.id!==f.id)),x()}catch(S){console.error(`Error deleting course ${f.courseName}:`,S)}};return y.jsxs(Zt,{size:"lg",py:"xl",children:[y.jsxs(ze,{justify:"space-between",mb:"md",children:[y.jsx($t,{order:2,children:"Course Management"}),y.jsx(Oe,{onClick:()=>s(!0),children:"Map Jotforms"})]}),y.jsx(ze,{justify:"center",mb:"xl",children:y.jsx(ac,{value:e,onChange:n,data:[{label:"BL",value:"BL"},{label:"BE",value:"BE"},{label:"BM",value:"BM"}],size:"md",color:"blue"})}),o?y.jsx(de,{ta:"center",c:"dimmed",children:"Loading courses..."}):t.length>0?y.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,children:[y.jsx(Re.Thead,{children:y.jsxs(Re.Tr,{children:[y.jsx(Re.Th,{children:"Course Name"}),y.jsx(Re.Th,{children:"Jotform Learning"}),y.jsx(Re.Th,{children:"Jotform Assignment"}),y.jsx(Re.Th,{children:"Mind Map"}),y.jsx(Re.Th,{children:"Actions"})]})}),y.jsx(Re.Tbody,{children:t.map(S=>y.jsxs(Re.Tr,{children:[y.jsx(Re.Td,{children:S.courseName}),y.jsx(Re.Td,{children:S.learningJotformName||"N/A"}),y.jsx(Re.Td,{children:S.assignmentJotformName||"N/A"}),y.jsx(Re.Td,{children:S.imageFileName||"N/A"}),y.jsx(Re.Td,{children:y.jsxs(ze,{gap:"xs",justify:"center",children:[y.jsx(Mo,{label:"Edit Course",children:y.jsx(Wn,{variant:"subtle",color:"blue",onClick:()=>v(S),children:y.jsx(wv,{size:18})})}),y.jsx(Mo,{label:"Delete Course",children:y.jsx(Wn,{variant:"subtle",color:"red",onClick:()=>b(S),children:y.jsx(Sv,{size:18})})})]})})]},S.id))})]}):y.jsx(de,{ta:"center",c:"dimmed",children:"No courses available for this group."}),y.jsx(Er,{opened:i,onClose:()=>s(!1),title:"Map Jotform to Course",size:"xl",children:y.jsx(XM,{onSuccess:()=>{s(!1),m()}})}),y.jsxs(Er,{opened:u,onClose:x,title:`Delete ${f?.courseName||"Course"}`,centered:!0,children:[y.jsx(de,{children:"Are you sure you want to delete this course? This action cannot be undone."}),y.jsxs(ze,{justify:"flex-end",mt:"md",children:[y.jsx(Oe,{variant:"default",onClick:x,children:"Cancel"}),y.jsx(Oe,{color:"red",onClick:w,children:"Delete Course"})]})]})]})}const Z0=[{rank:1,username:"sanskar1419",score:115},{rank:2,username:"bhav380-2",score:105},{rank:3,username:"ShabanaShaik1987",score:100},{rank:4,username:"shubham7522",score:80},{rank:5,username:"rishavd3v",score:80},{rank:6,username:"inv-amalusudhakaran",score:70},{rank:7,username:"Dev-Code24",score:65},{rank:8,username:"shubham-sanvariya",score:60},{rank:30,username:"Navya",score:10}],NQ=[...Z0.slice(0,8),"SKIP",Z0[Z0.length-1]];function kQ({userRank:e=30,username:n="Navya",score:t=10}){return y.jsxs(Zt,{size:"md",py:"xl",children:[y.jsx(ze,{justify:"center",mb:"md",align:"center",children:y.jsx($t,{order:2,style:{color:"#e0e8f4",letterSpacing:1,fontWeight:700},children:"Analytic Leader Dashboard"})}),y.jsx(fi,{withBorder:!0,radius:"md",p:0,mt:"md",style:{overflow:"hidden",background:"#161c23",boxShadow:"0 2px 16px 0 rgba(36, 133, 255, 0.07)"},children:y.jsx(jo,{type:"auto",style:{maxHeight:480},children:y.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,children:[y.jsx(Re.Thead,{children:y.jsxs(Re.Tr,{children:[y.jsx(Re.Th,{children:"Rank"}),y.jsx(Re.Th,{children:"Username"}),y.jsx(Re.Th,{children:"Score"})]})}),y.jsx(Re.Tbody,{children:NQ.map((r,o)=>r==="SKIP"?y.jsxs(Re.Tr,{style:{background:"#212232"},children:[y.jsx(Re.Td,{align:"center",style:{color:"#444d5b",fontWeight:600,textAlign:"center"},children:"."}),y.jsx(Re.Td,{align:"center",style:{color:"#444d5b",fontWeight:600,textAlign:"center"},children:"."}),y.jsx(Re.Td,{align:"center",style:{color:"#444d5b",fontWeight:600,textAlign:"center"},children:"."})]},"skip"):y.jsxs(Re.Tr,{style:{background:r.rank===e?"linear-gradient(90deg, #13436c 0%, #2669a6 100%)":"#222733",fontWeight:r.rank===e?700:400,color:r.rank===e?"#fff":"#d4ddf3",transition:"background 0.2s"},children:[y.jsx(Re.Td,{style:{border:"none"},children:r.rank}),y.jsx(Re.Td,{style:{border:"none"},children:r.username}),y.jsx(Re.Td,{style:{border:"none"},children:r.score})]},r.rank))})]})})})]})}function MQ({element:e}){const{content:n,tagName:t,align:r,width:o,height:a,required:i,style:s={},placeholder:u}=e,c={textAlign:r||"left",width:o||"auto",height:a||"auto",...s};switch(t){case"heading":return y.jsxs(de,{fw:700,size:e.size||"xl",mb:"md",style:c,children:[n,i&&y.jsx("span",{style:{color:"red"},children:" *"})]});case"paragraph":return y.jsx(de,{size:e.size||"md",mb:"md",style:{...c,lineHeight:1.6},children:n});case"image":return y.jsxs(re,{mb:"md",style:c,children:[y.jsx(Ud,{src:typeof n=="string"?n:n.fileUrl,alt:e.elementName||u||"Image",width:o||void 0,height:a||void 0,fit:"contain"}),typeof n=="object"&&y.jsx(de,{size:"xs",mt:4,c:"dimmed",children:n.fileName})]});case"video":return y.jsx(re,{mb:"md",style:c,children:y.jsxs("video",{width:o||"100%",height:a||"auto",controls:!0,children:[y.jsx("source",{src:n,type:"video/mp4"}),"Your browser does not support the video tag."]})});case"audio":return y.jsx(re,{mb:"md",style:c,children:y.jsxs("audio",{controls:!0,children:[y.jsx("source",{src:n,type:"audio/mpeg"}),"Your browser does not support the audio element."]})});case"horizontalline":case"breakline":return y.jsx(Fr,{my:"md",style:c});case"orderedlist":return y.jsx("ol",{style:c,children:n.split(",").map((f,h)=>y.jsx("li",{children:f.trim()},h))});case"unorderedlist":return y.jsx("ul",{style:c,children:n.split(",").map((f,h)=>y.jsx("li",{children:f.trim()},h))});case"randominteger":return y.jsxs(re,{mb:"md",style:c,children:[y.jsx(de,{fw:500,size:"md",mb:4,children:"Random Integer"}),y.jsx(de,{size:"xl",fw:700,style:{fontFamily:"monospace",color:"#007CFF",padding:"8px 12px",background:"#f0f7ff",borderRadius:"4px",display:"inline-block"},children:n||"0"})]});case"videorecording":return y.jsx(re,{mb:"md",style:c,children:y.jsxs(re,{style:{textAlign:"center",padding:"20px",border:"2px dashed #ff6b35",borderRadius:"8px",backgroundColor:"#fff5f0"},children:[y.jsx(de,{fw:600,size:"md",color:"#ff6b35",mb:4,children:"Video Recording Element"}),y.jsx(de,{size:"sm",color:"dimmed",children:"This element will enable video recording functionality in assignments"})]})});case"audiorecording":return y.jsx(re,{mb:"md",style:c,children:y.jsxs(re,{style:{textAlign:"center",padding:"20px",border:"2px dashed #007CFF",borderRadius:"8px",backgroundColor:"#f0f7ff"},children:[y.jsx(de,{fw:600,size:"md",color:"#007CFF",mb:4,children:"Audio Recording Element"}),y.jsx(de,{size:"sm",color:"dimmed",children:"This element will enable audio recording functionality in assignments"})]})});case"timer":return y.jsx(re,{mb:"md",style:c,children:y.jsxs(re,{style:{padding:"16px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#f8f9fa",textAlign:"center"},children:[y.jsx(de,{fw:600,size:"md",mb:8,children:"Page Timer"}),y.jsx(de,{size:"lg",fw:700,style:{fontFamily:"monospace"},children:"00:00"}),y.jsx(de,{size:"xs",color:"dimmed",mt:4,children:"Time tracking will be active during assignments"})]})});default:return y.jsx(de,{style:c,children:n})}}function YM({jotformName:e,onBack:n,hideBackButton:t=!1,onSubmit:r}){const[o,a]=T.useState(null),[i,s]=T.useState(!0),[u,c]=T.useState(null),[f,h]=T.useState(0);T.useEffect(()=>{if(!e){s(!1),c("No Jotform name provided.");return}(async()=>{s(!0),c(null),h(0);try{const R=(await wt.get("http://localhost:8081/api/jotforms")).data.find(D=>D.jotformName===e);R?a(R):c(`Jotform with name "${e}" not found.`)}catch(E){c("Failed to load the form. Please check the network connection."),console.error("Fetch Jotform Error:",E)}finally{s(!1)}})()},[e]);const m=()=>{f>0&&h(f-1)},v=()=>{f<o.totalPages-1&&h(f+1)},b=()=>{r?r(o):(console.log("Form submitted:",o),alert("Form submitted successfully!"))},x=()=>{if(!o||o.totalPages<=1)return null;const S=f===0,E=f===o.totalPages-1;return y.jsxs(ze,{justify:"center",mt:"xl",children:[!S&&y.jsx(Oe,{variant:"outline",onClick:m,size:"md",children:"Back"}),E?y.jsx(Oe,{onClick:b,size:"md",color:"green",children:"Submit"}):y.jsx(Oe,{onClick:v,size:"md",children:"Next"})]})},w=()=>{if(i)return y.jsxs(re,{ta:"center",mt:"xl",children:[y.jsx(Ma,{}),y.jsx(de,{mt:"md",children:"Loading Form..."})]});if(u)return y.jsx(de,{color:"red",ta:"center",children:u});if(o&&o.pages&&o.pages[f]){const S=o.pages[f];return y.jsxs(re,{style:{maxWidth:800,margin:"0 auto",padding:"40px",background:"#fff",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",minHeight:"60vh"},children:[y.jsx(de,{fw:800,size:"xl",ta:"center",mb:"md",children:o.jotformName}),o.totalPages>1&&y.jsxs(de,{ta:"center",size:"sm",color:"dimmed",mb:"xl",children:["Page ",f+1," of ",o.totalPages]}),y.jsx(re,{mb:"xl",children:S.elements.sort((E,R)=>E.sequence-R.sequence).map(E=>y.jsx(MQ,{element:E},E.id))}),x()]})}return y.jsx(re,{ta:"center",mt:"xl",children:y.jsx(de,{color:"dimmed",children:"No content available"})})};return y.jsxs(re,{p:t?"md":"xl",children:[!t&&y.jsx("button",{onClick:n,style:{background:"#333",color:"white",padding:"8px 16px",borderRadius:"6px",marginBottom:"20px",cursor:"pointer",border:"none",fontSize:"14px"},children:" Back to Courses"}),w()]})}function KM({jotformName:e,courseName:n}){const t=bs(),r=()=>{t(`/assignment/${e}?course=${encodeURIComponent(n)}`)};return y.jsx(Zt,{size:"md",py:"xl",children:y.jsxs(Vn,{shadow:"sm",padding:"xl",radius:"md",children:[y.jsxs(ze,{mb:"md",children:[y.jsx(Qb,{size:24,color:"blue"}),y.jsxs($t,{order:2,children:["Exam Instructions - ",n]})]}),y.jsx(Ho,{icon:y.jsx(Eu,{size:16}),color:"blue",mb:"xl",children:"Please read all instructions carefully before proceeding."}),y.jsxs(Sr,{spacing:"lg",children:[y.jsxs(re,{children:[y.jsx($t,{order:4,mb:"sm",children:" General Instructions"}),y.jsxs(hn,{spacing:"sm",children:[y.jsx(hn.Item,{children:"Ensure you have a stable internet connection"}),y.jsx(hn.Item,{children:"Find a quiet, well-lit environment"}),y.jsx(hn.Item,{children:"Keep your student ID ready for verification"}),y.jsx(hn.Item,{children:"Close all other applications and browser tabs"}),y.jsx(hn.Item,{children:"Do not use any unauthorized materials during the exam"})]})]}),y.jsx(Fr,{}),y.jsxs(re,{children:[y.jsx($t,{order:4,mb:"sm",children:" Security & Monitoring"}),y.jsxs(hn,{spacing:"sm",children:[y.jsx(hn.Item,{children:"Your camera and microphone will be monitored throughout the exam"}),y.jsx(hn.Item,{children:"Screen recording and monitoring will be active"}),y.jsx(hn.Item,{children:"Switching tabs or applications may be flagged as suspicious"}),y.jsx(hn.Item,{children:"Any violations may result in automatic exam termination"})]})]}),y.jsx(Fr,{}),y.jsxs(re,{children:[y.jsx($t,{order:4,mb:"sm",children:" Identity Verification"}),y.jsxs(hn,{spacing:"sm",children:[y.jsx(hn.Item,{children:"Take a clear photo of yourself for identity verification"}),y.jsx(hn.Item,{children:"Ensure your face is clearly visible and well-lit"})]})]}),y.jsx(Fr,{}),y.jsxs(re,{children:[y.jsx($t,{order:4,mb:"sm",children:" Technical Requirements"}),y.jsxs(hn,{spacing:"sm",children:[y.jsx(hn.Item,{children:"Camera and microphone access is mandatory"}),y.jsx(hn.Item,{children:"Exam will run in fullscreen mode"}),y.jsx(hn.Item,{children:"Recording capabilities must be enabled"}),y.jsx(hn.Item,{children:"Modern browser with HTML5 support required"})]})]}),y.jsx(Ho,{icon:y.jsx(Eu,{size:16}),color:"orange",mt:"md",children:y.jsx(de,{size:"sm",weight:500,children:`By clicking "I Understand and Agree", you will proceed to the assignment where you'll complete camera setup, identity verification, and begin the exam.`})})]}),y.jsx(ze,{justify:"center",mt:"xl",children:y.jsx(Oe,{size:"lg",onClick:r,leftSection:y.jsx(Zi,{size:16}),children:"I Understand and Agree"})})]})})}const IQ="_backButton_1hvfn_50",OQ="_courseTitle_1hvfn_61",PQ="_courseGroup_1hvfn_69",jQ="_navigationContainer_1hvfn_75",BQ="_navButton_1hvfn_84",du={backButton:IQ,courseTitle:OQ,courseGroup:PQ,navigationContainer:jQ,navButton:BQ};function FQ({course:e,onBack:n}){const[t,r]=T.useState(e.learningJotformName?"learning":"assignment");return y.jsxs(re,{style:{display:"flex",height:"100vh",backgroundColor:"#f8f9fa",margin:0,padding:0,overflow:"hidden"},children:[y.jsxs(re,{style:{flex:"0 0 300px",background:"linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%)",color:"white",padding:"24px",boxShadow:"2px 0 10px rgba(0, 0, 0, 0.1)",overflowY:"auto",display:"flex",flexDirection:"column",boxSizing:"border-box"},children:[y.jsx(Oe,{variant:"subtle",color:"gray",leftSection:y.jsx(Pp,{size:16}),onClick:n,mb:"xl",size:"sm",className:du.backButton,children:"Back to Courses"}),y.jsxs(re,{mb:"xl",children:[y.jsx($t,{order:3,className:du.courseTitle,children:e.courseName}),y.jsxs(de,{size:"sm",className:du.courseGroup,children:["Group: ",e.groupName]})]}),y.jsxs(re,{className:du.navigationContainer,children:[e.learningJotformName&&y.jsx(Oe,{variant:t==="learning"?"filled":"subtle",color:"blue",fullWidth:!0,leftSection:y.jsx(cw,{size:16}),onClick:()=>r("learning"),mb:"md",className:du.navButton,children:"Learning Material"}),e.assignmentJotformName&&y.jsx(Oe,{variant:t==="assignment"?"filled":"subtle",color:"orange",fullWidth:!0,leftSection:y.jsx(sk,{size:16}),onClick:()=>r("assignment"),mb:"md",className:du.navButton,children:"Assignment"})]})]}),y.jsx(re,{style:{flex:1,overflowY:"auto",backgroundColor:"#f8f9fa",padding:0,margin:0,boxSizing:"border-box"},children:y.jsxs(re,{style:{padding:"24px",minHeight:"100%"},children:[t==="learning"&&e.learningJotformName&&y.jsx(YM,{jotformName:e.learningJotformName,onBack:n,hideBackButton:!0}),t==="assignment"&&e.assignmentJotformName&&y.jsx(KM,{jotformName:e.assignmentJotformName,courseName:e.courseName})]})})]})}const LQ="_card_rce81_1",zQ="_image_rce81_13",UQ="_overlay_rce81_26",VQ="_content_rce81_36",HQ="_title_rce81_45",WQ="_bodyText_rce81_50",$Q="_author_rce81_55",Ki={card:LQ,image:zQ,overlay:UQ,content:VQ,title:HQ,bodyText:WQ,author:$Q};function GQ({course:e,onSelectCourse:n}){const t=()=>{const o={BL:"https://images.unsplash.com/photo-1521737711867-e3b97375f902?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",BE:"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",BM:"https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"};return o[e.groupName]||o.BL},r=()=>e.imageFileName&&e.imageFile?`data:image/jpeg;base64,${e.imageFile}`:(e.imageFileName,t());return y.jsxs(Vn,{p:"lg",shadow:"lg",className:Ki.card,radius:"md",onClick:()=>n(e),children:[y.jsx("div",{className:Ki.image,style:{backgroundImage:`url(${r()})`}}),y.jsx("div",{className:Ki.overlay}),y.jsx("div",{className:Ki.content,children:y.jsxs("div",{children:[y.jsx(de,{size:"lg",className:Ki.title,fw:500,children:e.courseName}),y.jsxs(ze,{justify:"space-between",gap:"xs",children:[y.jsxs(de,{size:"sm",className:Ki.author,children:["Group: ",e.groupName]}),y.jsxs(ze,{gap:"lg",children:[e.learningJotformName&&y.jsxs(ze,{gap:4,children:[y.jsx(cw,{size:16,color:"white"}),y.jsx(de,{size:"sm",className:Ki.bodyText,children:"Learning"})]}),e.assignmentJotformName&&y.jsxs(ze,{gap:4,children:[y.jsx(sk,{size:16,color:"white"}),y.jsx(de,{size:"sm",className:Ki.bodyText,children:"Assignment"})]})]})]})]})})]})}function qQ(){const[e,n]=T.useState([]),[t,r]=T.useState("BL"),[o,a]=T.useState(!0),[i,s]=T.useState(null),[u,c]=T.useState(null);T.useEffect(()=>{(async()=>{a(!0),s(null);try{const v=await wt.get(`http://localhost:8081/api/courses?group=${t}`);n(v.data)}catch(v){s("Failed to fetch courses. Please try again later."),console.error(v)}finally{a(!1)}})()},[t]);const f=m=>{c(m)},h=()=>{c(null)};return u?y.jsx(FQ,{course:u,onBack:h}):y.jsxs(Zt,{size:"xl",py:"xl",children:[y.jsx($t,{order:2,ta:"center",mb:"md",children:"Course Catalog"}),y.jsx(ze,{justify:"center",mb:"xl",children:y.jsx(ac,{value:t,onChange:r,data:[{label:"BL",value:"BL"},{label:"BE",value:"BE"},{label:"BM",value:"BM"}]})}),o?y.jsxs(ze,{justify:"center",children:[y.jsx(Ma,{}),y.jsx(de,{children:"Loading courses..."})]}):i?y.jsx(de,{ta:"center",c:"red",children:i}):e.length>0?y.jsx(ic,{cols:{base:1,sm:2,md:3,lg:4},spacing:"lg",children:e.map(m=>y.jsx(GQ,{course:m,onSelectCourse:f},m.id))}):y.jsxs(de,{ta:"center",c:"dimmed",children:["No courses available for the '",t,"' group."]})]})}function XQ(){const[e,n]=T.useState([]),[t,r]=T.useState(!0),[o,a]=T.useState(!1),i=async()=>{r(!0);try{const m=await wt.get("http://localhost:8081/api/jotforms");n(m.data)}catch(m){console.error("Error fetching Jotforms:",m),n([])}finally{r(!1)}};T.useEffect(()=>{i()},[]);const s=m=>{console.log(`Edit Jotform with ID: ${m}`),alert("Edit functionality to be implemented.")},u=async m=>{try{await wt.delete(`http://localhost:8081/api/jotforms/${m.id}`),n(v=>v.filter(b=>b.id!==m.id))}catch(v){console.error(`Error deleting jotform ${m.id}:`,v),alert("Failed to delete Jotform.")}},c=m=>{L3.openConfirmModal({title:"Delete Jotform",centered:!0,children:y.jsxs(de,{size:"sm",children:["Are you sure you want to delete the form"," ",y.jsxs(de,{span:!0,fw:700,children:['"',m.jotformName,'"']}),"? This action is permanent."]}),labels:{confirm:"Delete Jotform",cancel:"Cancel"},confirmProps:{color:"red"},onConfirm:()=>u(m)})},f=e.map(m=>y.jsxs(Re.Tr,{children:[y.jsx(Re.Td,{children:m.jotformName}),y.jsx(Re.Td,{children:y.jsxs(ze,{gap:"sm",children:[y.jsx(Mo,{label:"Edit Form",children:y.jsx(Wn,{variant:"subtle",color:"blue",onClick:()=>s(m.id),children:y.jsx(wv,{size:16})})}),y.jsx(Mo,{label:"Delete Form",children:y.jsx(Wn,{variant:"subtle",color:"red",onClick:()=>c(m),children:y.jsx(Sv,{size:16})})})]})})]},m.id)),h=()=>{a(!1),i()};return y.jsxs(Zt,{size:"lg",py:"xl",children:[y.jsxs(ze,{justify:"space-between",mb:"xl",children:[y.jsx($t,{order:2,children:"Jotform Management"}),y.jsx(Oe,{onClick:()=>a(!0),children:"Create Jotform"})]}),t?y.jsx(Ir,{children:y.jsx(Ma,{})}):y.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,children:[y.jsx(Re.Thead,{children:y.jsxs(Re.Tr,{children:[y.jsx(Re.Th,{children:"Jotform Name"}),y.jsx(Re.Th,{children:"Actions"})]})}),y.jsx(Re.Tbody,{children:f.length>0?f:y.jsx(Re.Tr,{children:y.jsx(Re.Td,{colSpan:2,children:y.jsx(de,{c:"dimmed",ta:"center",children:"No Jotforms found."})})})})]}),y.jsx(Er,{opened:o,onClose:()=>a(!1),title:"Create New Jotform",centered:!0,children:y.jsx(fk,{onSuccess:h})})]})}function YQ(){const[e,n]=T.useState([]),[t,r]=T.useState(!0),[o,a]=T.useState(!1),i=async()=>{r(!0);try{const h=await wt.get("http://localhost:8081/api/user-mappings");n(h.data)}catch(h){console.error("Error fetching user mappings:",h),n([])}finally{r(!1)}};T.useEffect(()=>{i()},[]);const s=()=>{a(!1),i()},u=async h=>{try{await wt.delete(`http://localhost:8081/api/user-mappings/${h.id}`),n(m=>m.filter(v=>v.id!==h.id))}catch(m){console.error(`Error deleting user ${h.email}:`,m)}},c=h=>{L3.openConfirmModal({title:"Delete User Mapping",centered:!0,children:y.jsxs(de,{size:"sm",children:["Are you sure you want to delete the mapping for ",y.jsx(de,{span:!0,fw:700,children:h.email}),"? This action cannot be undone."]}),labels:{confirm:"Delete Mapping",cancel:"Cancel"},confirmProps:{color:"red"},onConfirm:()=>u(h)})},f=e.map(h=>y.jsxs(Re.Tr,{children:[y.jsx(Re.Td,{children:h.email}),y.jsx(Re.Td,{children:h.groupName}),y.jsx(Re.Td,{children:y.jsxs(ze,{gap:"xs",justify:"center",children:[y.jsx(Mo,{label:"Edit Mapping",children:y.jsx(Wn,{variant:"subtle",color:"blue",children:y.jsx(wv,{size:18})})}),y.jsx(Mo,{label:"Delete Mapping",children:y.jsx(Wn,{variant:"subtle",color:"red",onClick:()=>c(h),children:y.jsx(Sv,{size:18})})})]})})]},h.id));return y.jsxs(Zt,{p:"lg",children:[y.jsx(Er,{opened:o,onClose:()=>a(!1),title:"Map New User to Group",centered:!0,children:y.jsx(dk,{onSuccess:s,onClose:()=>a(!1)})}),y.jsxs(ze,{justify:"space-between",mb:"xl",children:[y.jsx($t,{order:2,children:"User Management"}),y.jsx(Oe,{onClick:()=>a(!0),children:"Map User"})]}),t?y.jsx(de,{ta:"center",c:"dimmed",children:"Loading users..."}):y.jsxs(Re,{withTableBorder:!0,withColumnBorders:!0,highlightOnHover:!0,children:[y.jsx(Re.Thead,{children:y.jsxs(Re.Tr,{children:[y.jsx(Re.Th,{children:"User Email"}),y.jsx(Re.Th,{children:"Group"}),y.jsx(Re.Th,{ta:"center",children:"Actions"})]})}),y.jsx(Re.Tbody,{children:f.length>0?f:y.jsx(Re.Tr,{children:y.jsx(Re.Td,{colSpan:3,children:y.jsx(de,{c:"dimmed",ta:"center",children:"No users found."})})})})]})]})}function KQ(){const[e,n]=T.useState("BL"),[t,r]=T.useState([]),[o,a]=T.useState(!1),i=bs(),s=async()=>{a(!0);try{const c=await wt.get(`http://localhost:8081/api/results?group=${e}`);r(c.data)}catch(c){console.error(`Error fetching results for group ${e}:`,c),r([])}finally{a(!1)}};T.useEffect(()=>{s()},[e]);const u=c=>{i(`/user-results/${c.id}`,{state:{courseName:c.courseName}})};return y.jsxs(Zt,{size:"lg",py:"xl",children:[y.jsx($t,{order:2,mb:"xl",children:"Result Management"}),y.jsx(ze,{justify:"center",mb:"xl",children:y.jsx(ac,{value:e,onChange:n,data:[{label:"BL",value:"BL"},{label:"BE",value:"BE"},{label:"BM",value:"BM"}],size:"md",color:"blue"})}),o?y.jsx(de,{ta:"center",c:"dimmed",children:"Loading results..."}):t.length>0?y.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,children:[y.jsx(Re.Thead,{children:y.jsxs(Re.Tr,{children:[y.jsx(Re.Th,{children:"Course Name"}),y.jsx(Re.Th,{children:"Average Score"})]})}),y.jsx(Re.Tbody,{children:t.map(c=>y.jsxs(Re.Tr,{onClick:()=>u(c),style:{cursor:"pointer"},children:[y.jsx(Re.Td,{children:c.courseName}),y.jsxs(Re.Td,{children:[c.averageScore.toFixed(2),"%"]})]},c.id))})]}):y.jsx(de,{ta:"center",c:"dimmed",children:"No results available for this group."})]})}function QQ(){const{courseId:e}=aw(),n=na(),t=bs(),{courseName:r}=n.state||{courseName:"Course"},[o,a]=T.useState([]),[i,s]=T.useState(!1);T.useEffect(()=>{e&&(async()=>{s(!0);try{const f=await wt.get(`http://localhost:8081/api/results/course/${e}`);a(f.data)}catch(f){console.error(`Error fetching user results for course ${e}:`,f),a([])}finally{s(!1)}})()},[e]);const u=c=>{t(`/assignment-review/${e}/${c.userId}`,{state:{username:c.username}})};return y.jsxs(Zt,{size:"lg",py:"xl",children:[y.jsxs($t,{order:2,mb:"xl",children:[r," - User Results"]}),i?y.jsx(de,{ta:"center",c:"dimmed",children:"Loading user results..."}):o.length>0?y.jsxs(Re,{highlightOnHover:!0,withTableBorder:!0,children:[y.jsx(Re.Thead,{children:y.jsxs(Re.Tr,{children:[y.jsx(Re.Th,{children:"Username"}),y.jsx(Re.Th,{children:"Score"}),y.jsx(Re.Th,{children:"Actions"})]})}),y.jsx(Re.Tbody,{children:o.map(c=>y.jsxs(Re.Tr,{children:[y.jsx(Re.Td,{children:c.username}),y.jsx(Re.Td,{children:c.score.toFixed(2)}),y.jsx(Re.Td,{children:y.jsx(Oe,{variant:"outline",size:"xs",onClick:()=>u(c),children:"View Details"})})]},c.userId))})]}):y.jsx(de,{ta:"center",c:"dimmed",children:"No user results found for this course."})]})}function JQ(){const{courseId:e,userId:n}=aw(),t=na(),{username:r}=t.state||{username:"User"},[o,a]=T.useState([]),[i,s]=T.useState(!1);T.useEffect(()=>{e&&n&&(async()=>{s(!0);try{const b=(await wt.get(`http://localhost:8081/api/assignment/${e}/${n}`)).data.map(x=>({...x,editing:!1,tempScore:x.finalScore}));a(b)}catch(v){console.error("Error fetching assignment details:",v),a([])}finally{s(!1)}})()},[e,n]);const u=m=>{a(o.map(v=>v.id===m?{...v,editing:!v.editing,tempScore:v.finalScore}:v))},c=(m,v)=>{a(o.map(b=>b.id===m?{...b,tempScore:v}:b))},f=async m=>{const v=o.find(b=>b.id===m);if(v)try{await wt.put(`http://localhost:8081/api/assignment/score/${m}`,{finalScore:v.tempScore}),a(o.map(b=>b.id===m?{...b,finalScore:v.tempScore,editing:!1}:b))}catch(b){console.error("Error updating score:",b)}},h=o.reduce((m,v)=>m+v.finalScore,0);return y.jsxs(Zt,{size:"xl",py:"xl",children:[y.jsx(ze,{justify:"space-between",mb:"xl",children:y.jsxs($t,{order:3,children:["Assignment Review for: ",r]})}),i?y.jsx(de,{children:"Loading assignment details..."}):y.jsxs(Re,{withTableBorder:!0,withColumnBorders:!0,children:[y.jsx(Re.Thead,{children:y.jsxs(Re.Tr,{children:[y.jsx(Re.Th,{children:"Question"}),y.jsx(Re.Th,{children:"User Answer"}),y.jsx(Re.Th,{children:"Content Link"}),y.jsx(Re.Th,{children:"GPT Score"}),y.jsx(Re.Th,{children:"Final Score"}),y.jsx(Re.Th,{children:"Actions"})]})}),y.jsx(Re.Tbody,{children:o.map(m=>y.jsxs(Re.Tr,{children:[y.jsx(Re.Td,{children:m.question}),y.jsx(Re.Td,{children:m.userAnswer}),y.jsx(Re.Td,{children:y.jsx("a",{href:m.contentLink,target:"_blank",rel:"noopener noreferrer",children:"View Content"})}),y.jsx(Re.Td,{children:m.gptScore}),y.jsx(Re.Td,{children:m.editing?y.jsx(Nu,{value:m.tempScore,onChange:v=>c(m.id,v),min:0,max:100,size:"xs",style:{width:80}}):m.finalScore}),y.jsx(Re.Td,{children:m.editing?y.jsx(Wn,{variant:"subtle",color:"green",onClick:()=>f(m.id),children:y.jsx(V9,{size:18})}):y.jsx(Wn,{variant:"subtle",color:"blue",onClick:()=>u(m.id),children:y.jsx(wv,{size:18})})})]},m.id))}),y.jsx(Re.Tfoot,{children:y.jsxs(Re.Tr,{children:[y.jsx(Re.Td,{colSpan:4,style:{textAlign:"right",fontWeight:"bold"},children:"Total Score"}),y.jsx(Re.Td,{style:{fontWeight:"bold"},children:h}),y.jsx(Re.Td,{})]})})]})]})}var zp={exports:{}},ZQ=zp.exports,nD;function eJ(){return nD||(nD=1,(function(e,n){(function(r,o){e.exports=o(df())})(ZQ,function(t){return(function(r){var o={};function a(i){if(o[i])return o[i].exports;var s=o[i]={i,l:!1,exports:{}};return r[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=r,a.c=o,a.d=function(i,s,u){a.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:u})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,s){if(s&1&&(i=a(i)),s&8||s&4&&typeof i=="object"&&i&&i.__esModule)return i;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:i}),s&2&&typeof i!="string")for(var c in i)a.d(u,c,(function(f){return i[f]}).bind(null,c));return u},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s="./src/react-webcam.tsx")})({"./src/react-webcam.tsx":(function(r,o,a){a.r(o);var i=a("react"),s=(function(){var m=function(v,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])},m(v,b)};return function(v,b){m(v,b);function x(){this.constructor=v}v.prototype=b===null?Object.create(b):(x.prototype=b.prototype,new x)}})(),u=function(){return u=Object.assign||function(m){for(var v,b=1,x=arguments.length;b<x;b++){v=arguments[b];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(m[w]=v[w])}return m},u.apply(this,arguments)},c=function(m,v){var b={};for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&v.indexOf(x)<0&&(b[x]=m[x]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,x=Object.getOwnPropertySymbols(m);w<x.length;w++)v.indexOf(x[w])<0&&Object.prototype.propertyIsEnumerable.call(m,x[w])&&(b[x[w]]=m[x[w]]);return b};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(v){var b=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return b?new Promise(function(x,w){b.call(navigator,v,x,w)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function f(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var h=(function(m){s(v,m);function v(b){var x=m.call(this,b)||this;return x.canvas=null,x.ctx=null,x.requestUserMediaId=0,x.unmounted=!1,x.state={hasUserMedia:!1},x}return v.prototype.componentDidMount=function(){var b=this,x=b.state,w=b.props;if(this.unmounted=!1,!f()){w.onUserMediaError("getUserMedia not supported");return}x.hasUserMedia||this.requestUserMedia(),w.children&&typeof w.children!="function"&&console.warn("children must be a function")},v.prototype.componentDidUpdate=function(b){var x=this.props;if(!f()){x.onUserMediaError("getUserMedia not supported");return}var w=JSON.stringify(b.audioConstraints)!==JSON.stringify(x.audioConstraints),S=JSON.stringify(b.videoConstraints)!==JSON.stringify(x.videoConstraints),E=b.minScreenshotWidth!==x.minScreenshotWidth,R=b.minScreenshotHeight!==x.minScreenshotHeight;(S||E||R)&&(this.canvas=null,this.ctx=null),(w||S)&&(this.stopAndCleanup(),this.requestUserMedia())},v.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},v.stopMediaStream=function(b){b&&(b.getVideoTracks&&b.getAudioTracks?(b.getVideoTracks().map(function(x){b.removeTrack(x),x.stop()}),b.getAudioTracks().map(function(x){b.removeTrack(x),x.stop()})):b.stop())},v.prototype.stopAndCleanup=function(){var b=this.state;b.hasUserMedia&&(v.stopMediaStream(this.stream),b.src&&window.URL.revokeObjectURL(b.src))},v.prototype.getScreenshot=function(b){var x=this,w=x.state,S=x.props;if(!w.hasUserMedia)return null;var E=this.getCanvas(b);return E&&E.toDataURL(S.screenshotFormat,S.screenshotQuality)},v.prototype.getCanvas=function(b){var x=this,w=x.state,S=x.props;if(!this.video||!w.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var E=this.video.videoWidth,R=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var D=E/R;E=S.minScreenshotWidth||this.video.clientWidth,R=E/D,S.minScreenshotHeight&&R<S.minScreenshotHeight&&(R=S.minScreenshotHeight,E=R*D)}this.canvas=document.createElement("canvas"),this.canvas.width=b?.width||E,this.canvas.height=b?.height||R,this.ctx=this.canvas.getContext("2d")}var A=this,N=A.ctx,k=A.canvas;return N&&k&&(k.width=b?.width||k.width,k.height=b?.height||k.height,S.mirrored&&(N.translate(k.width,0),N.scale(-1,1)),N.imageSmoothingEnabled=S.imageSmoothing,N.drawImage(this.video,0,0,b?.width||k.width,b?.height||k.height),S.mirrored&&(N.scale(-1,1),N.translate(-k.width,0))),k},v.prototype.requestUserMedia=function(){var b=this,x=this.props,w=function(R,D){var A={video:typeof D<"u"?D:!0};x.audio&&(A.audio=typeof R<"u"?R:!0),b.requestUserMediaId++;var N=b.requestUserMediaId;navigator.mediaDevices.getUserMedia(A).then(function(k){b.unmounted||N!==b.requestUserMediaId?v.stopMediaStream(k):b.handleUserMedia(null,k)}).catch(function(k){b.handleUserMedia(k)})};if("mediaDevices"in navigator)w(x.audioConstraints,x.videoConstraints);else{var S=function(R){return{optional:[{sourceId:R}]}},E=function(R){var D=R.deviceId;return typeof D=="string"?D:Array.isArray(D)&&D.length>0?D[0]:typeof D=="object"&&D.ideal?D.ideal:null};MediaStreamTrack.getSources(function(R){var D=null,A=null;R.forEach(function(M){M.kind==="audio"?D=M.id:M.kind==="video"&&(A=M.id)});var N=E(x.audioConstraints);N&&(D=N);var k=E(x.videoConstraints);k&&(A=k),w(S(D),S(A))})}},v.prototype.handleUserMedia=function(b,x){var w=this.props;if(b||!x){this.setState({hasUserMedia:!1}),w.onUserMediaError(b);return}this.stream=x;try{this.video&&(this.video.srcObject=x),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(x)})}w.onUserMedia(x)},v.prototype.render=function(){var b=this,x=this,w=x.state,S=x.props,E=S.audio;S.forceScreenshotSourceSize;var R=S.disablePictureInPicture;S.onUserMedia,S.onUserMediaError,S.screenshotFormat,S.screenshotQuality,S.minScreenshotWidth,S.minScreenshotHeight,S.audioConstraints,S.videoConstraints,S.imageSmoothing;var D=S.mirrored,A=S.style,N=A===void 0?{}:A,k=S.children,M=c(S,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),I=D?u(u({},N),{transform:(N.transform||"")+" scaleX(-1)"}):N,P={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",u({autoPlay:!0,disablePictureInPicture:R,src:w.src,muted:!E,playsInline:!0,ref:function(L){b.video=L},style:I},M)),k&&k(P))},v.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},v})(i.Component);o.default=h}),react:(function(r,o){r.exports=t})}).default})})(zp)),zp.exports}var tJ=eJ();const fp=cf(tJ);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var QM=function(e,n){return(QM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])})(e,n)};function oa(e,n){function t(){this.constructor=e}QM(e,n),e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function Ve(e,n,t,r){return new(t||(t=Promise))((function(o,a){function i(c){try{u(r.next(c))}catch(f){a(f)}}function s(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):new t((function(f){f(c.value)})).then(i,s)}u((r=r.apply(e,[])).next())}))}function He(e,n){var t,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return(function(f){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(o=2&f[0]?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[2&f[0],o.value]),f[0]){case 0:case 1:o=f;break;case 4:return i.label++,{value:f[1],done:!1};case 5:i.label++,r=f[1],f=[0];continue;case 7:f=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){i=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){i.label=f[1];break}if(f[0]===6&&i.label<o[1]){i.label=o[1],o=f;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(f);break}o[2]&&i.ops.pop(),i.trys.pop();continue}f=n.call(e,i)}catch(h){f=[6,h],r=0}finally{t=o=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}})([u,c])}}}var nJ=(function(){function e(n){this.global=n,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(n,t){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=n,this.platform=t},e.prototype.registerFlag=function(n,t,r){if(this.flagRegistry[n]={evaluationFn:t,setHook:r},this.urlFlags[n]!=null){var o=this.urlFlags[n];console.warn("Setting feature override from URL "+n+": "+o+"."),this.set(n,o)}},e.prototype.get=function(n){return n in this.flags?this.flags[n]:(this.flags[n]=this.evaluateFlag(n),this.flags[n])},e.prototype.getNumber=function(n){return this.get(n)},e.prototype.getBool=function(n){return this.get(n)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(n,t){if(this.flagRegistry[n]==null)throw new Error("Cannot set flag "+n+" as it has not been registered.");this.flags[n]=t,this.flagRegistry[n].setHook!=null&&this.flagRegistry[n].setHook(t)},e.prototype.evaluateFlag=function(n){if(this.flagRegistry[n]==null)throw new Error("Cannot evaluate flag '"+n+"': no evaluation function found.");return this.flagRegistry[n].evaluationFn()},e.prototype.setFlags=function(n){this.flags=Object.assign({},n)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var n=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var t,r,o=(t=this.global.location.search,r={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(a){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return rJ(r,i[0],i[1]),i.join("=")})),r);"tfjsflags"in o&&o.tfjsflags.split(",").forEach((function(a){var i=a.split(":"),s=i[0],u=i[1];n.urlFlags[s]=(function(c,f){if((f=f.toLowerCase())==="true"||f==="false")return f==="true";if(""+ +f===f)return+f;throw new Error("Could not parse value flag value "+f+" for flag "+c+".")})(s,u)}))}},e})();function rJ(e,n,t){e[decodeURIComponent(n)]=decodeURIComponent(t||"")}function ve(){return JM}var JM=null,cm=new Map,gx=new Map;function ZM(e,n){var t=t4(e,n);return cm.get(t)}function oJ(e){return gx.get(e)}function rD(e){for(var n=cm.entries(),t=[];;){var r=n.next(),o=r.done,a=r.value;if(o)break;var i=a[0],s=a[1];i.split("_")[0]===e&&t.push(s)}return t}function e4(e){var n=e.kernelName,t=e.backendName,r=t4(n,t);if(cm.has(r))throw new Error("The kernel '"+n+"' for backend '"+t+"' is already registered");cm.set(r,e)}function aJ(e){var n=e.kernelName;gx.has(n)&&console.warn("Overriding the gradient for '"+n+"'"),gx.set(n,e)}function t4(e,n){return n+"_"+e}function yx(e,n,t){return Math.max(e,Math.min(n,t))}function n4(e){return e%2==0?e:e+1}function iJ(e){for(var n=0,t=0;t<e.length;t++)n+=e[t];return n}function $(e,n){if(!e)throw new Error(typeof n=="string"?n:n())}function Bt(e,n,t){t===void 0&&(t=""),$(Gn(e,n),(function(){return t+" Shapes "+e+" and "+n+" must match"}))}function mc(e){$(e!=null,(function(){return"The input to the tensor constructor must be a non-null value."}))}function $u(e,n,t){if(n===void 0&&(n=[]),t===void 0&&(t=!1),n==null&&(n=[]),Array.isArray(e)||Ea(e)&&!t)for(var r=0;r<e.length;++r)$u(e[r],n,t);else n.push(e);return n}function qe(e){if(e.length===0)return 1;for(var n=e[0],t=1;t<e.length;t++)n*=e[t];return n}function Gn(e,n){if(e===n)return!0;if(e==null||n==null||e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function gn(e){return e%1==0}function sJ(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var n=Math.exp(2*e);return(n-1)/(n+1)}function bx(e){var n=Math.ceil(Math.sqrt(e));return[n,Math.ceil(e/n)]}function ku(e,n){return n<=e.length?e:e+" ".repeat(n-e.length)}function oD(e,n,t){return n===void 0&&(n=function(r){return 0}),new Promise((function(r,o){var a=0,i=function(){if(e())r();else{a++;var s=n(a);t!=null&&a>=t?o():setTimeout(i,s)}};i()}))}function lJ(e,n){for(var t=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)t*=e[o];else if(e[o]===-1){if(r!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(r===-1){if(n>0&&n!==t)throw Error("Size("+n+") must match the product of shape "+e);return e}if(t===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(n%t!=0)throw Error("The implicit shape can't be a fractional number. Got "+n+" / "+t);var a=e.slice();return a[r]=n/t,a}function On(e,n){var t=n.length;return $((e=e==null?n.map((function(r,o){return o})):[].concat(e)).every((function(r){return r>=-t&&r<t})),(function(){return"All values in axis param must be in range [-"+t+", "+t+") but got axis "+e})),$(e.every((function(r){return gn(r)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(r){return r<0?t+r:r}))}function Ys(e,n){for(var t=[],r=[],o=n!=null&&Array.isArray(n)&&n.length===0,a=n==null||o?null:On(n,e).sort(),i=0,s=0;s<e.length;++s){if(a!=null){if(a[i]===s&&e[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(a[i]==null||a[i]>s)&&e[s]===1&&(t.push(e[s]),r.push(s)),a[i]<=s&&i++}e[s]!==1&&(t.push(e[s]),r.push(s))}return{newShape:t,keptDims:r}}function ef(e,n){var t=null;if(e==null||e==="float32")t=new Float32Array(n);else if(e==="int32")t=new Int32Array(n);else{if(e!=="bool")throw new Error("Unknown data type "+e);t=new Uint8Array(n)}return t}function dm(e,n){var t=null;if(e==null||e==="float32")t=new Float32Array(n);else if(e==="int32")t=new Int32Array(n);else if(e==="bool")t=new Uint8Array(n);else{if(e!=="string")throw new Error("Unknown data type "+e);t=new Array(n)}return t}function uJ(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+n+" being uploaded contains "+r+".")}}function cJ(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function dJ(e,n){return n!=="complex64"&&(n!=="float32"||e==="complex64")&&(n!=="int32"||e==="float32"||e==="complex64")&&(n!=="bool"||e!=="bool")}function Ea(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function r4(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function fJ(e){if(e==null)return 0;var n=0;return e.forEach((function(t){return n+=t.length})),n}function Bw(e){return typeof e=="string"||e instanceof String}function hJ(e){return typeof e=="boolean"}function pJ(e){return typeof e=="number"}function kf(e){return Array.isArray(e)?kf(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":pJ(e)?"float32":Bw(e)?"string":hJ(e)?"bool":"float32"}function xx(e){return!!(e&&e.constructor&&e.call&&e.apply)}function wx(e,n){for(var t=n;t<e;++t)if(e%t==0)return t;return e}function Ra(e){var n=e.length;if(n<2)return[];var t=new Array(n-1);t[n-2]=e[n-1];for(var r=n-3;r>=0;--r)t[r]=t[r+1]*e[r+1];return t}function o4(e,n,t){if(n==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=$u(e)),t&&uJ(e,n),(function(a,i){return a instanceof Float32Array&&i==="float32"||a instanceof Int32Array&&i==="int32"||a instanceof Uint8Array&&i==="bool"})(e,n))return e;if(n==null||n==="float32"||n==="complex64")return new Float32Array(e);if(n==="int32")return new Int32Array(e);if(n==="bool"){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)Math.round(e[o])!==0&&(r[o]=1);return r}throw new Error("Unknown data type "+n)}function aD(e,n){if(e.length===0)return n[0];var t=e.reduce((function(r,o){return r*o}));if(t===0)return[];if(t!==n.length)throw new Error("["+e+"] does not match the input size.");return(function r(o,a,i){var s=new Array;if(a.length===1)for(var u=a[0],c=0;c<u;c++)s[c]=i[o+c];else{u=a[0];var f=a.slice(1),h=f.reduce((function(m,v){return m*v}));for(c=0;c<u;c++)s[c]=r(o+c*h,f,i)}return s})(0,e,n)}function a4(e,n){for(var t=Mf(e,n),r=0;r<t.length;r++)t[r]=1;return t}function Mf(e,n){if(n==null||n==="float32"||n==="complex64")return new Float32Array(e);if(n==="int32")return new Int32Array(e);if(n==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+n)}function va(){return ve().platform.now()}function i4(e){e.forEach((function(n){$(Number.isInteger(n)&&n>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function mJ(e,n){return n===void 0&&(n="utf-8"),n=n||"utf-8",ve().platform.encode(e,n)}function fm(e,n){return n===void 0&&(n="utf-8"),n=n||"utf-8",ve().platform.decode(e,n)}function iD(e,n,t){if(n===0)return 0;if(n===1)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=t[o]*e[o];return r}function vJ(e,n,t){if(n===0)return[];if(n===1)return[e];for(var r=new Array(n),o=0;o<r.length-1;++o)r[o]=Math.floor(e/t[o]),e-=r[o]*t[o];return r[r.length-1]=e,r}var gJ=(function(){function e(n,t){this.backendTimer=n,this.logger=t,t==null&&(this.logger=new yJ)}return e.prototype.profileKernel=function(n,t,r){var o,a=this,i=this.backendTimer.time((function(){o=r()}));return o.forEach((function(s){s.data().then((function(u){(function(c,f,h){if(f!=="float32")return!1;for(var m=0;m<c.length;m++){var v=c[m];if(isNaN(v)||!isFinite(v))return console.warn("Found "+v+" in the result of '"+h+"'"),!0}})(u,s.dtype,n),i.then((function(c){var f="";c.getExtraProfileInfo!=null&&(f=c.getExtraProfileInfo()),a.logger.logKernelProfile(n,s,u,c.kernelMs,t,f)}))}))})),o},e})(),yJ=(function(){function e(){}return e.prototype.logKernelProfile=function(n,t,r,o,a,i){var s=typeof o=="number"?ku(o+"ms",9):o.error,u=ku(n,25),c=t.rank,f=t.size,h=ku(t.shape.toString(),14),m="";for(var v in a){var b=a[v].shape||t.shape,x=b.length;m+=v+": "+x+"D "+(x>0?b:"")+" "}console.log("%c"+u+"	%c"+s+"	%c"+c+"D "+h+"	%c"+f+"	%c"+m+"	%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e})(),sD=20,Ed=3,eb=7;function bJ(e,n,t,r){var o=Ra(n),a=(function(c,f,h,m){var v=qe(f),b=m[m.length-1],x=new Array(b).fill(0),w=f.length,S=h==="complex64"?_d(c):c;if(w>1)for(var E=0;E<v/b;E++)for(var R=E*b,D=0;D<b;D++)x[D]=Math.max(x[D],Rd(S[R+D],0,h).length);return x})(e,n,t,o),i=n.length,s=(function c(f,h,m,v,b,x){x===void 0&&(x=!0);var w=m==="complex64"?2:1,S=h[0],E=h.length;if(E===0)return m==="complex64"?[Rd(_d(f)[0],0,m)]:m==="bool"?[s4(f[0])]:[f[0].toString()];if(E===1){if(S>sD){var R=Ed*w,D=Array.from(f.slice(0,R)),A=Array.from(f.slice((S-Ed)*w,S*w));return m==="complex64"&&(D=_d(D),A=_d(A)),["["+D.map((function(X,j){return Rd(X,b[j],m)})).join(", ")+", ..., "+A.map((function(X,j){return Rd(X,b[S-Ed+j],m)})).join(", ")+"]"]}return["["+(m==="complex64"?_d(f):Array.from(f)).map((function(X,j){return Rd(X,b[j],m)})).join(", ")+"]"]}var N=h.slice(1),k=v.slice(1),M=v[0]*w,I=[];if(S>sD){for(var P=0;P<Ed;P++){var L=(F=P*M)+M;I.push.apply(I,c(f.slice(F,L),N,m,k,b,!1))}for(I.push("..."),P=S-Ed;P<S;P++)L=(F=P*M)+M,I.push.apply(I,c(f.slice(F,L),N,m,k,b,P===S-1))}else for(P=0;P<S;P++){var F;L=(F=P*M)+M,I.push.apply(I,c(f.slice(F,L),N,m,k,b,P===S-1))}var Y=E===2?",":"";for(I[0]="["+I[0]+Y,P=1;P<I.length-1;P++)I[P]=" "+I[P]+Y;var W=`,
`;for(P=2;P<E;P++)W+=`
`;return I[I.length-1]=" "+I[I.length-1]+"]"+(x?"":W),I})(e,n,t,o,a),u=["Tensor"];return r&&(u.push("  dtype: "+t),u.push("  rank: "+i),u.push("  shape: ["+n+"]"),u.push("  values:")),u.push(s.map((function(c){return"    "+c})).join(`
`)),u.join(`
`)}function Rd(e,n,t){return ku(Array.isArray(e)?parseFloat(e[0].toFixed(eb))+" + "+parseFloat(e[1].toFixed(eb))+"j":Bw(e)?"'"+e+"'":t==="bool"?s4(e):parseFloat(e.toFixed(eb)).toString(),n)}function s4(e){return e===0?"false":"true"}function _d(e){for(var n=[],t=0;t<e.length;t+=2)n.push([e[t],e[t+1]]);return n}var tf=(function(){function e(n,t,r){var o=this;if(this.dtype=t,this.shape=n.slice(),this.size=qe(n),r!=null){var a=r.length;$(a===this.size,(function(){return"Length of values '"+a+"' does not match the size inferred by the shape '"+o.size+"'."}))}if(t==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||dm(t,this.size),this.strides=Ra(n)}return e.prototype.set=function(n){for(var t=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];r.length===0&&(r=[0]),$(r.length===this.rank,(function(){return"The number of provided coordinates ("+r.length+") must match the rank ("+t.rank+")"}));var a=this.locToIndex(r);this.values[a]=n},e.prototype.get=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];n.length===0&&(n=[0]);for(var r=0,o=0,a=n;o<a.length;o++){var i=a[o];if(i<0||i>=this.shape[r]){var s="Requested out of range element at "+n+".   Buffer shape="+this.shape;throw new Error(s)}r++}for(var u=n[n.length-1],c=0;c<n.length-1;++c)u+=this.strides[c]*n[c];return this.values[u]},e.prototype.locToIndex=function(n){if(this.rank===0)return 0;if(this.rank===1)return n[0];for(var t=n[n.length-1],r=0;r<n.length-1;++r)t+=this.strides[r]*n[r];return t},e.prototype.indexToLoc=function(n){if(this.rank===0)return[];if(this.rank===1)return[n];for(var t=new Array(this.shape.length),r=0;r<t.length-1;++r)t[r]=Math.floor(n/this.strides[r]),n-=t[r]*this.strides[r];return t[t.length-1]=n,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return ya().makeTensor(this.values,this.shape,this.dtype)},e})(),ya=null,fe=null,l4=null,an=(function(){function e(n,t,r,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=n.slice(),this.dtype=t||"float32",this.size=qe(n),this.strides=Ra(n),this.dataId=r,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),$(this.size===1,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(n,t){return this.throwIfDisposed(),this.reshape([n,t])},e.prototype.as3D=function(n,t,r){return this.throwIfDisposed(),this.reshape([n,t,r])},e.prototype.as4D=function(n,t,r,o){return this.throwIfDisposed(),this.reshape([n,t,r,o])},e.prototype.as5D=function(n,t,r,o,a){return this.throwIfDisposed(),this.reshape([n,t,r,o,a])},e.prototype.asType=function(n){return this.throwIfDisposed(),fe.cast(this,n)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return Ve(this,void 0,void 0,(function(){var n;return He(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return n=t.sent(),[2,fe.buffer(this.shape,this.dtype,n)]}}))}))},e.prototype.bufferSync=function(){return fe.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return Ve(this,void 0,void 0,(function(){var n;return He(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return n=t.sent(),[2,aD(this.shape,n)]}}))}))},e.prototype.arraySync=function(){return aD(this.shape,this.dataSync())},e.prototype.data=function(){return Ve(this,void 0,void 0,(function(){var n,t;return He(this,(function(r){switch(r.label){case 0:return this.throwIfDisposed(),n=ya().read(this.dataId),this.dtype!=="string"?[3,2]:[4,n];case 1:t=r.sent();try{return[2,t.map((function(o){return fm(o)}))]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}r.label=2;case 2:return[2,n]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var n=ya().readSync(this.dataId);if(this.dtype==="string")try{return n.map((function(t){return fm(t)}))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return n},e.prototype.bytes=function(){return Ve(this,void 0,void 0,(function(){var n;return He(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,ya().read(this.dataId)];case 1:return n=t.sent(),this.dtype==="string"?[2,n]:[2,new Uint8Array(n.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(ya().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(n){return n===void 0&&(n=!1),fe.print(this,n)},e.prototype.reshape=function(n){return this.throwIfDisposed(),fe.reshape(this,n)},e.prototype.reshapeAs=function(n){return this.throwIfDisposed(),this.reshape(n.shape)},e.prototype.expandDims=function(n){return n===void 0&&(n=0),fe.expandDims(this,n)},e.prototype.cumsum=function(n,t,r){return n===void 0&&(n=0),t===void 0&&(t=!1),r===void 0&&(r=!1),fe.cumsum(this,n,t,r)},e.prototype.squeeze=function(n){return this.throwIfDisposed(),fe.squeeze(this,n)},e.prototype.clone=function(){return this.throwIfDisposed(),fe.clone(this)},e.prototype.oneHot=function(n,t,r){return this.throwIfDisposed(),fe.oneHot(this,n,t,r)},e.prototype.toString=function(n){return n===void 0&&(n=!1),bJ(this.dataSync(),this.shape,this.dtype,n)},e.prototype.tile=function(n){return this.throwIfDisposed(),fe.tile(this,n)},e.prototype.gather=function(n,t){return t===void 0&&(t=0),this.throwIfDisposed(),fe.gather(this,n,t)},e.prototype.matMul=function(n,t,r){return t===void 0&&(t=!1),r===void 0&&(r=!1),this.throwIfDisposed(),fe.matMul(this,n,t,r)},e.prototype.dot=function(n){return this.throwIfDisposed(),fe.dot(this,n)},e.prototype.norm=function(n,t,r){return n===void 0&&(n="euclidean"),t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),fe.norm(this,n,t,r)},e.prototype.slice=function(n,t){return this.throwIfDisposed(),fe.slice(this,n,t)},e.prototype.reverse=function(n){return this.throwIfDisposed(),fe.reverse(this,n)},e.prototype.concat=function(n,t){return t===void 0&&(t=0),this.throwIfDisposed(),n instanceof e&&(n=[n]),fe.concat([this].concat(n),t)},e.prototype.split=function(n,t){return t===void 0&&(t=0),this.throwIfDisposed(),fe.split(this,n,t)},e.prototype.stack=function(n,t){return t===void 0&&(t=0),fe.stack([this,n],t)},e.prototype.unstack=function(n){return n===void 0&&(n=0),fe.unstack(this,n)},e.prototype.pad=function(n,t){return t===void 0&&(t=0),fe.pad(this,n,t)},e.prototype.batchNormalization=function(n,t,r,o,a){return r===void 0&&(r=.001),l4("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(n,t,a,o,r)},e.prototype.batchNorm=function(n,t,r,o,a){return a===void 0&&(a=.001),this.throwIfDisposed(),fe.batchNorm(this,n,t,r,o,a)},e.prototype.all=function(n,t){return n===void 0&&(n=null),t===void 0&&(t=!1),this.throwIfDisposed(),fe.all(this,n,t)},e.prototype.any=function(n,t){return n===void 0&&(n=null),t===void 0&&(t=!1),this.throwIfDisposed(),fe.any(this,n,t)},e.prototype.logSumExp=function(n,t){return n===void 0&&(n=null),t===void 0&&(t=!1),this.throwIfDisposed(),fe.logSumExp(this,n,t)},e.prototype.sum=function(n,t){return n===void 0&&(n=null),t===void 0&&(t=!1),this.throwIfDisposed(),fe.sum(this,n,t)},e.prototype.prod=function(n,t){return n===void 0&&(n=null),t===void 0&&(t=!1),this.throwIfDisposed(),fe.prod(this,n,t)},e.prototype.mean=function(n,t){return n===void 0&&(n=null),t===void 0&&(t=!1),this.throwIfDisposed(),fe.mean(this,n,t)},e.prototype.min=function(n,t){return n===void 0&&(n=null),t===void 0&&(t=!1),this.throwIfDisposed(),fe.min(this,n,t)},e.prototype.max=function(n,t){return n===void 0&&(n=null),t===void 0&&(t=!1),this.throwIfDisposed(),fe.max(this,n,t)},e.prototype.argMin=function(n){return n===void 0&&(n=null),this.throwIfDisposed(),fe.argMin(this,n)},e.prototype.argMax=function(n){return n===void 0&&(n=null),this.throwIfDisposed(),fe.argMax(this,n)},e.prototype.cast=function(n){return this.throwIfDisposed(),fe.cast(this,n)},e.prototype.add=function(n){return this.throwIfDisposed(),fe.add(this,n)},e.prototype.addStrict=function(n){return this.throwIfDisposed(),fe.addStrict(this,n)},e.prototype.atan2=function(n){return this.throwIfDisposed(),fe.atan2(this,n)},e.prototype.sub=function(n){return this.throwIfDisposed(),fe.sub(this,n)},e.prototype.subStrict=function(n){return this.throwIfDisposed(),fe.subStrict(this,n)},e.prototype.pow=function(n){return this.throwIfDisposed(),fe.pow(this,n)},e.prototype.powStrict=function(n){return this.throwIfDisposed(),fe.powStrict(this,n)},e.prototype.mul=function(n){return this.throwIfDisposed(),fe.mul(this,n)},e.prototype.mulStrict=function(n){return this.throwIfDisposed(),fe.mulStrict(this,n)},e.prototype.div=function(n){return this.throwIfDisposed(),fe.div(this,n)},e.prototype.divNoNan=function(n){return this.throwIfDisposed(),fe.divNoNan(this,n)},e.prototype.floorDiv=function(n){return this.throwIfDisposed(),fe.floorDiv(this,n)},e.prototype.divStrict=function(n){return this.throwIfDisposed(),fe.divStrict(this,n)},e.prototype.minimum=function(n){return this.throwIfDisposed(),fe.minimum(this,n)},e.prototype.minimumStrict=function(n){return this.throwIfDisposed(),fe.minimumStrict(this,n)},e.prototype.maximum=function(n){return this.throwIfDisposed(),fe.maximum(this,n)},e.prototype.maximumStrict=function(n){return this.throwIfDisposed(),fe.maximumStrict(this,n)},e.prototype.mod=function(n){return this.throwIfDisposed(),fe.mod(this,n)},e.prototype.modStrict=function(n){return this.throwIfDisposed(),fe.modStrict(this,n)},e.prototype.squaredDifferenceStrict=function(n){return this.throwIfDisposed(),fe.squaredDifferenceStrict(this,n)},e.prototype.transpose=function(n){return this.throwIfDisposed(),fe.transpose(this,n)},e.prototype.notEqual=function(n){return this.throwIfDisposed(),fe.notEqual(this,n)},e.prototype.notEqualStrict=function(n){return this.throwIfDisposed(),fe.notEqualStrict(this,n)},e.prototype.less=function(n){return this.throwIfDisposed(),fe.less(this,n)},e.prototype.lessStrict=function(n){return this.throwIfDisposed(),fe.lessStrict(this,n)},e.prototype.equal=function(n){return this.throwIfDisposed(),fe.equal(this,n)},e.prototype.equalStrict=function(n){return this.throwIfDisposed(),fe.equalStrict(this,n)},e.prototype.lessEqual=function(n){return this.throwIfDisposed(),fe.lessEqual(this,n)},e.prototype.lessEqualStrict=function(n){return this.throwIfDisposed(),fe.lessEqualStrict(this,n)},e.prototype.greater=function(n){return this.throwIfDisposed(),fe.greater(this,n)},e.prototype.greaterStrict=function(n){return this.throwIfDisposed(),fe.greaterStrict(this,n)},e.prototype.greaterEqual=function(n){return this.throwIfDisposed(),fe.greaterEqual(this,n)},e.prototype.greaterEqualStrict=function(n){return this.throwIfDisposed(),fe.greaterEqualStrict(this,n)},e.prototype.logicalAnd=function(n){return this.throwIfDisposed(),fe.logicalAnd(this,n)},e.prototype.logicalOr=function(n){return this.throwIfDisposed(),fe.logicalOr(this,n)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),fe.logicalNot(this)},e.prototype.logicalXor=function(n){return this.throwIfDisposed(),fe.logicalXor(this,n)},e.prototype.where=function(n,t){return this.throwIfDisposed(),fe.where(n,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),fe.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),fe.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),fe.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),fe.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),fe.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),fe.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),fe.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),fe.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),fe.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),fe.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),fe.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),fe.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),fe.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),fe.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),fe.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),fe.abs(this)},e.prototype.clipByValue=function(n,t){return this.throwIfDisposed(),fe.clipByValue(this,n,t)},e.prototype.relu=function(){return this.throwIfDisposed(),fe.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),fe.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),fe.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),fe.selu(this)},e.prototype.leakyRelu=function(n){return n===void 0&&(n=.2),this.throwIfDisposed(),fe.leakyRelu(this,n)},e.prototype.prelu=function(n){return this.throwIfDisposed(),fe.prelu(this,n)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),fe.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),fe.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),fe.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),fe.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),fe.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),fe.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),fe.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),fe.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),fe.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),fe.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),fe.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),fe.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),fe.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),fe.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),fe.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),fe.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),fe.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),fe.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),fe.round(this)},e.prototype.step=function(n){return n===void 0&&(n=0),this.throwIfDisposed(),fe.step(this,n)},e.prototype.softmax=function(n){return n===void 0&&(n=-1),this.throwIfDisposed(),fe.softmax(this,n)},e.prototype.logSoftmax=function(n){return n===void 0&&(n=-1),this.throwIfDisposed(),fe.logSoftmax(this,n)},e.prototype.resizeBilinear=function(n,t){return t===void 0&&(t=!1),this.throwIfDisposed(),fe.image.resizeBilinear(this,n,t)},e.prototype.resizeNearestNeighbor=function(n,t){return t===void 0&&(t=!1),this.throwIfDisposed(),fe.image.resizeNearestNeighbor(this,n,t)},e.prototype.conv1d=function(n,t,r,o,a,i){return o===void 0&&(o="NWC"),a===void 0&&(a=1),this.throwIfDisposed(),fe.conv1d(this,n,t,r,o,a,i)},e.prototype.conv2d=function(n,t,r,o,a,i){return o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]),this.throwIfDisposed(),fe.conv2d(this,n,t,r,o,a,i)},e.prototype.conv2dTranspose=function(n,t,r,o,a){return this.throwIfDisposed(),fe.conv2dTranspose(this,n,t,r,o,a)},e.prototype.depthwiseConv2D=function(n,t,r,o,a,i){return o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]),this.throwIfDisposed(),fe.depthwiseConv2d(this,n,t,r,o,a,i)},e.prototype.separableConv2d=function(n,t,r,o,a,i){return a===void 0&&(a=[1,1]),i===void 0&&(i="NHWC"),this.throwIfDisposed(),fe.separableConv2d(this,n,t,r,o,a,i)},e.prototype.avgPool=function(n,t,r,o){return this.throwIfDisposed(),fe.avgPool(this,n,t,r,o)},e.prototype.maxPool=function(n,t,r,o){return this.throwIfDisposed(),fe.maxPool(this,n,t,r,o)},e.prototype.localResponseNormalization=function(n,t,r,o){return n===void 0&&(n=5),t===void 0&&(t=1),r===void 0&&(r=1),o===void 0&&(o=.5),fe.localResponseNormalization(this,n,t,r,o)},e.prototype.pool=function(n,t,r,o,a){return this.throwIfDisposed(),fe.pool(this,n,t,r,o,a)},e.prototype.variable=function(n,t,r){return n===void 0&&(n=!0),this.throwIfDisposed(),ya().makeVariable(this,n,t,r)},e.prototype.unsortedSegmentSum=function(n,t){return this.throwIfDisposed(),fe.unsortedSegmentSum(this,n,t)},e.prototype.batchToSpaceND=function(n,t){return this.throwIfDisposed(),fe.batchToSpaceND(this,n,t)},e.prototype.spaceToBatchND=function(n,t){return this.throwIfDisposed(),fe.spaceToBatchND(this,n,t)},e.prototype.topk=function(n,t){return n===void 0&&(n=1),t===void 0&&(t=!0),this.throwIfDisposed(),fe.topk(this,n,t)},e.prototype.stridedSlice=function(n,t,r,o,a,i,s,u){return o===void 0&&(o=0),a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=0),this.throwIfDisposed(),fe.stridedSlice(this,n,t,r,o,a,i,s,u)},e.prototype.depthToSpace=function(n,t){return this.throwIfDisposed(),fe.depthToSpace(this,n,t)},e.prototype.fft=function(){return this.throwIfDisposed(),fe.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),fe.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),fe.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),fe.spectral.irfft(this)},e})();Object.defineProperty(an,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var lD,Sx,Cx,Ex,Rx,Gu=(function(e){function n(t,r,o,a){var i=e.call(this,t.shape,t.dtype,t.dataId,a)||this;return i.trainable=r,i.name=o,i}return oa(n,e),n.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!Gn(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");ya().disposeTensor(this),this.dataId=t.dataId,ya().incRef(this,null)},n.prototype.dispose=function(){ya().disposeVariable(this),this.isDisposedInternal=!0},n})(an);Object.defineProperty(Gu,Symbol.hasInstance,{value:function(e){return e instanceof an&&e.assign!=null&&e.assign instanceof Function}}),(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(lD||(lD={})),(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(Sx||(Sx={})),(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(Cx||(Cx={})),(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(Ex||(Ex={})),(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(Rx||(Rx={}));var xJ={float32:Ex,int32:Sx,bool:Cx,complex64:Rx};function er(e,n){if(e==="string"||n==="string"){if(e==="string"&&n==="string")return"string";throw new Error("Can not upcast "+e+" with "+n)}return xJ[e][n]}function tb(e){return er(e,"int32")}function un(e,n){if(e.dtype===n.dtype)return[e,n];var t=er(e.dtype,n.dtype);return[e.cast(t),n.cast(t)]}function wJ(e,n){$(e.dtype===n.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+n.dtype+") input must match"}))}function u4(e){var n=[];return(function t(r,o,a){if(r!=null){if(r instanceof an)return void o.push(r);if(i=r,!(!Array.isArray(i)&&typeof i!="object")){var i,s=r;for(var u in s){var c=s[u];a.has(c)||(a.add(c),t(c,o,a))}}}})(e,n,new Set),n}var nb,uD=(function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var n in this.registeredVariables)this.registeredVariables[n].dispose()},e})(),SJ=(function(){function e(n){this.ENV=n,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new uD}return e.prototype.ready=function(){return Ve(this,void 0,void 0,(function(){var n,t,r;return He(this,(function(o){switch(o.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then((function(){}))];if(this.backendInstance!=null)return[2];n=this.getSortedBackends(),t=0,o.label=1;case 1:return t<n.length?(r=n[t],[4,this.initializeBackend(r).success]):[3,5];case 2:return o.sent()?[4,this.setBackend(r)]:[3,4];case 3:return o.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var n=this.initializeBackendsAndReturnBest(),t=n.name;if(n.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(n){return!(n in this.registry)&&(!(n in this.registryFactory)||this.initializeBackend(n).asyncInit)?null:this.registry[n]},e.prototype.findBackendFactory=function(n){return n in this.registryFactory?this.registryFactory[n].factory:null},e.prototype.registerBackend=function(n,t,r){return r===void 0&&(r=1),n in this.registryFactory?(console.warn(n+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[n]={factory:t,priority:r},!0)},e.prototype.setBackend=function(n){return Ve(this,void 0,void 0,(function(){var t,r,o;return He(this,(function(a){switch(a.label){case 0:if(this.registryFactory[n]==null)throw new Error("Backend name '"+n+"' not found in registry");return this.backendName=n,this.registry[n]!=null?[3,4]:(this.backendInstance=null,t=this.initializeBackend(n),r=t.success,t.asyncInit?[4,r]:[3,2]);case 1:return o=a.sent(),[3,3];case 2:o=r,a.label=3;case 3:if(!o)return[2,!1];a.label=4;case 4:return this.backendInstance=this.registry[n],this.setupRegisteredKernels(),this.profiler=new gJ(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var n=this;rD(this.backendName).forEach((function(t){t.setupFunc!=null&&t.setupFunc(n.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(n){var t=this;rD(n).forEach((function(r){r.disposeFunc!=null&&r.disposeFunc(t.registry[n])}))},e.prototype.initializeBackend=function(n){var t=this,r=this.registryFactory[n];if(r==null)throw new Error("Cannot initialize backend "+n+", no registration found.");try{var o=r.factory();if(Promise.resolve(o)===o){var a=++this.pendingBackendInitId,i=o.then((function(s){return!(a<t.pendingBackendInitId)&&(t.registry[n]=s,t.pendingBackendInit=null,!0)})).catch((function(s){return!(a<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+n+" failed"),console.warn(s.stack||s.message),!1)}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[n]=o,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+n+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(n){if(!(n in this.registryFactory))throw new Error(n+" backend not found in registry");this.backendName===n&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,n in this.registry&&(this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n]),delete this.registryFactory[n],this.backendName===n&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var n=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,r){return n.registryFactory[r].priority-n.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var n=this.getSortedBackends(),t=0;t<n.length;t++){var r=n[t],o=this.initializeBackend(r),a=o.success,i=o.asyncInit;if(i||a)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(n,t){var r=this.state.tensorInfo.get(t),o=r.backend,a=this.readSync(t);o.disposeData(t),r.backend=n,n.move(t,a,r.shape,r.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(n,t){var r,o=this,a=null;if(t==null){if(typeof n!="function")throw new Error("Please provide a function to tidy()");t=n}else{if(typeof n!="string"&&!(n instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof t!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=n}return this.scopedRun((function(){return o.startScope(a)}),(function(){return o.endScope(r)}),(function(){return(r=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r}))},e.prototype.scopedRun=function(n,t,r){n();try{var o=r();return t(),o}catch(a){throw t(),a}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(n){var t=this.makeTensorFromDataId(n.dataId,n.shape,n.dtype),r={x:n};return this.addTapeNode(this.state.activeScope.name,r,[t],(function(o){return{x:function(){return o.toFloat()}}}),[]),t},e.prototype.runKernel=function(n,t,r,o,a){return this.runKernelFunc(null,t,null,n,r,o,a)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(n,t,r){var o=this.backend.numDataIds(),a=0;r.forEach((function(u){a+=u.dtype==="complex64"?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=o-t-a-i;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+n+"'")},e.prototype.runKernelFunc=function(n,t,r,o,a,i,s){var u,c=this;i===void 0&&(i=[]),s===void 0&&(s=[]);var f=[],h=this.isTapeOn();o==null&&(o=this.state.activeScope!=null?this.state.activeScope.name:"");var m,v=function(E){h&&(f=E.map((function(R){return c.keep(c.clone(R))})))},b=this.state.numBytes,x=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var w,S=ZM(o,this.backendName);return m=S!=null?function(){var E=c.backend.numDataIds();w=S.kernelFunc({inputs:t,attrs:a,backend:c.backend});var R=Array.isArray(w)?w:[w];c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(o,E,R);var D=R.map((function(N){var k=N.dataId,M=N.shape,I=N.dtype;return c.makeTensorFromDataId(k,M,I)})),A=D.filter((function(N,k){return s[k]}));return v((i||[]).slice().concat(A)),D}:function(){var E=c.backend.numDataIds();w=c.tidy((function(){return n(c.backend,v)}));var R=Array.isArray(w)?w:[w];return c.shouldCheckForMemLeaks()&&c.checkKernelForMemLeak(o,E,R),R},this.scopedRun((function(){return c.state.kernelDepth++}),(function(){return c.state.kernelDepth--}),(function(){u=c.ENV.getBool("DEBUG")?c.profiler.profileKernel(o,t,(function(){return m()})):m()})),h&&this.addTapeNode(o,t,u,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:o,bytesAdded:this.state.numBytes-b,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-x,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(E){return t[E].shape})),outputShapes:u.map((function(E){return E.shape}))}),Array.isArray(w)?u:u[0]},e.prototype.makeTensor=function(n,t,r,o){if(n==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",o=o||this.backend;var a=n;r==="string"&&Bw(n[0])&&(a=n.map((function(f){return mJ(f)})));var i=o.write(a,t,r),s=new an(t,r,i,this.nextTensorId());if(this.incRef(s,o),r==="string"){var u=this.state.tensorInfo.get(i),c=fJ(a);this.state.numBytes+=c-u.bytes,u.bytes=c}return s},e.prototype.makeTensorFromDataId=function(n,t,r,o){var a=new an(t,r=r||"float32",n,this.nextTensorId());return this.incRef(a,o),a},e.prototype.makeVariable=function(n,t,r,o){t===void 0&&(t=!0),r=r||this.nextVariableId().toString(),o!=null&&o!==n.dtype&&(n=n.asType(o));var a=new Gu(n,t,r,this.nextTensorId());if(this.state.registeredVariables[a.name]!=null)throw new Error("Variable with name "+a.name+" was already registered");return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a},e.prototype.incRef=function(n,t){var r=this.state.tensorInfo.has(n.dataId)?this.state.tensorInfo.get(n.dataId).refCount:0;if(this.state.numTensors++,n.dtype==="string"&&this.state.numStringTensors++,r===0){this.state.numDataBuffers++;var o=0;n.dtype!=="complex64"&&n.dtype!=="string"&&(o=n.size*r4(n.dtype)),this.state.tensorInfo.set(n.dataId,{backend:t||this.backend,dtype:n.dtype,shape:n.shape,bytes:o,refCount:0}),this.state.numBytes+=o}this.state.tensorInfo.get(n.dataId).refCount++,n instanceof Gu||this.track(n)},e.prototype.disposeTensor=function(n){if(this.state.tensorInfo.has(n.dataId)){this.state.numTensors--,n.dtype==="string"&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(n.dataId);t.refCount<=1?(n.dtype!=="complex64"&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(n.dataId),this.state.tensorInfo.delete(n.dataId)):this.state.tensorInfo.get(n.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var n in this.state.registeredVariables){var t=this.state.registeredVariables[n];this.disposeVariable(t)}},e.prototype.disposeVariable=function(n){this.disposeTensor(n),this.state.registeredVariables[n.name]!=null&&delete this.state.registeredVariables[n.name]},e.prototype.memory=function(){var n=this.backend.memory();return n.numTensors=this.state.numTensors,n.numDataBuffers=this.state.numDataBuffers,n.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(n.unreliable=!0,n.reasons==null&&(n.reasons=[]),n.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),n},e.prototype.profile=function(n){return Ve(this,void 0,void 0,(function(){var t,r;return He(this,(function(o){return this.state.profiling=!0,t=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=n(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(a){return a.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-r,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(n,t,r,o,a){var i=this,s={id:this.state.nextTapeNodeId++,kernelName:n,inputs:t,outputs:r,saved:a},u=oJ(n);u!=null&&(o=u.gradFunc),o!=null&&(s.gradient=function(c){return c=c.map((function(f,h){if(f==null){var m=r[h],v=Mf(m.size,m.dtype);return i.makeTensor(v,m.shape,m.dtype)}return f})),o(c.length>1?c:c[0],a)}),this.state.activeTape.push(s)},e.prototype.keep=function(n){return n.kept=!0,n},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(n){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};n&&(t.name=n),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(n){for(var t=this,r=u4(n),o=new Set(r.map((function(u){return u.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||o.has(i.id)||i.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach((function(u){u.kept||u.scopeId!==s.id||t.track(u)}))},e.prototype.gradients=function(n,t,r,o){var a=this;if(o===void 0&&(o=!1),$(t.length>0,(function(){return"gradients() received an empty list of xs."})),r!=null&&r.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+r.dtype+"'");var i=this.scopedRun((function(){return a.startTape()}),(function(){return a.endTape()}),(function(){return a.tidy("forward",n)}));$(i instanceof an,(function(){return"The result y returned by f() must be a tensor."}));var s=(function(u,c,f){for(var h={},m={},v=0;v<c.length;v++)h[c[v].id]=!0;for(v=0;v<u.length;v++){var b=(N=u[v]).inputs;for(var x in b){for(var w=b[x],S=!1,E=0;E<c.length;E++)if(h[w.id]){N.outputs.forEach((function(P){return h[P.id]=!0})),S=!0,m[N.id]=!0;break}if(S)break}}var R={};R[f.id]=!0;var D={};for(v=u.length-1;v>=0;v--)for(b=(N=u[v]).inputs,E=0;E<N.outputs.length;E++)if(R[N.outputs[E].id]){for(var x in b)R[b[x].id]=!0,D[N.id]=!0;break}var A=[];for(v=0;v<u.length;v++){var N;if(m[(N=u[v]).id]&&D[N.id]){var k={};for(var x in N.inputs){var M=N.inputs[x];h[M.id]&&(k[x]=M)}var I=Object.assign({},N);I.inputs=k,I.outputs=N.outputs,A.push(I)}}return A})(this.state.activeTape,t,i);if(!o&&s.length===0&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var u,c,f={};f[i.id]=r??(u=i.shape,c=a4(qe(u),"float32"),ee.makeTensor(c,u,"float32")),(function(m,v,b){for(var x=function(S){var E=v[S],R=[];if(E.outputs.forEach((function(k){var M=m[k.id];M!=null?R.push(M):R.push(null)})),E.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+E.kernelName+".");var D=E.gradient(R),A=function(k){if(!(k in D))throw new Error("Cannot backprop through input "+k+". Available gradients found: "+Object.keys(D)+".");var M=b((function(){return D[k]()}));if(M.dtype!=="float32")throw new Error("Error in gradient for op "+E.kernelName+". The gradient of input "+k+" must have 'float32' dtype, but has '"+M.dtype+"'");var I=E.inputs[k];if(!Gn(M.shape,I.shape))throw new Error("Error in gradient for op "+E.kernelName+". The gradient of input '"+k+"' has shape '"+M.shape+"', which does not match the shape of the input '"+I.shape+"'");if(m[I.id]==null)m[I.id]=M;else{var P=m[I.id];m[I.id]=P.add(M),P.dispose()}};for(var N in E.inputs)A(N)},w=v.length-1;w>=0;w--)x(w)})(f,s,(function(m){return a.tidy(m)}));var h=t.map((function(m){return f[m.id]}));return a.state.gradientDepth===0&&(a.state.activeTape.forEach((function(m){for(var v=0,b=m.saved;v<b.length;v++)b[v].dispose()})),a.state.activeTape=null),{value:i,grads:h}}))},e.prototype.customGrad=function(n){var t=this;return $(xx(n),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var r,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];$(o.every((function(s){return s instanceof an})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};return o.forEach((function(s,u){i[u]=s})),t.runKernelFunc((function(s,u){return $((r=n.apply(void 0,o.concat([u]))).value instanceof an,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),$(xx(r.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),r.value}),i,(function(s,u){var c=r.gradFunc(s,u),f=Array.isArray(c)?c:[c];$(f.length===o.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),$(f.every((function(m){return m instanceof an})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var h={};return f.forEach((function(m,v){h[v]=function(){return m}})),h}))}},e.prototype.readSync=function(n){return this.state.tensorInfo.get(n).backend.readSync(n)},e.prototype.read=function(n){return this.state.tensorInfo.get(n).backend.read(n)},e.prototype.time=function(n){return Ve(this,void 0,void 0,(function(){var t,r;return He(this,(function(o){switch(o.label){case 0:return t=va(),[4,this.backend.time(n)];case 1:return(r=o.sent()).wallMs=va()-t,[2,r]}}))}))},e.prototype.track=function(n){return this.state.activeScope!=null&&(n.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(n)),n},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var n in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new uD,this.registry)this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e})(),ee=(function(){var e=(function(){if(nb==null){var t=void 0;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else{if(typeof self>"u")throw new Error("Could not find a global object");t=self}nb=t}return nb})();if(e._tfengine==null){var n=new nJ(e);e._tfengine=new SJ(n)}return(function(t){JM=t})(e._tfengine.ENV),ya=function(){return e._tfengine},e._tfengine})();function c4(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var ei=ve();ei.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),ei.registerFlag("IS_BROWSER",(function(){return c4()})),ei.registerFlag("IS_NODE",(function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0})),ei.registerFlag("IS_CHROME",(function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),ei.registerFlag("PROD",(function(){return!1})),ei.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return ei.getBool("DEBUG")})),ei.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),ei.registerFlag("IS_TEST",(function(){return!1}));var nf,ro,to,$s={},rb={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function CJ(e,n){$s[e]=n}function Pa(e){e in $s||($s[e]=(function(t){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var r=(function(o){if(typeof OffscreenCanvas<"u"&&o===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")})(t);return r.addEventListener("webglcontextlost",(function(o){o.preventDefault(),delete $s[t]}),!1),t===1?r.getContext("webgl",rb)||r.getContext("experimental-webgl",rb):r.getContext("webgl2",rb)})(e));var n=$s[e];return n.isContextLost()?(delete $s[e],Pa(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),$s[e])}function jv(e,n){return[n,e]}function Md(e){var n=qe(e);return bx(Math.ceil(n/4))}function If(e,n){return[Math.max(1,Math.ceil(n/2)),Math.max(1,Math.ceil(e/2))]}function Fw(e,n){var t,r,o,a,i,s,u,c,f,h=e;return ve().getNumber("WEBGL_VERSION")===2?(t=h.R32F,r=h.R16F,o=h.RGBA16F,a=h.RGBA32F,i=h.RED,s=4,u=1,c=h.HALF_FLOAT,f=h.FLOAT):(t=e.RGBA,r=e.RGBA,o=e.RGBA,a=h.RGBA,i=e.RGBA,s=4,u=4,c=n!=null?n.HALF_FLOAT_OES:null,f=e.FLOAT),{internalFormatFloat:t,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:a,textureFormatFloat:i,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:c,textureTypeFloat:f}}function Ye(e,n,t){var r=t();return n&&(function(o){var a=o.getError();if(a!==o.NO_ERROR)throw new Error("WebGL Error: "+TJ(o,a))})(e),r}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(nf||(nf={})),(function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"})(ro||(ro={})),(function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(to||(to={}));var EJ=596e-10,RJ=65504;function _J(e){return!!(ve().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||EJ<Math.abs(e)&&Math.abs(e)<RJ)}function TJ(e,n){switch(n){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+n}}function hp(e,n,t){return yi(e,n,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function DJ(e,n,t){var r=yi(e,n,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Ye(e,n,(function(){return e.shaderSource(r,t)})),Ye(e,n,(function(){return e.compileShader(r)})),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function AJ(e,n,t){var r=yi(e,n,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Ye(e,n,(function(){return e.shaderSource(r,t)})),Ye(e,n,(function(){return e.compileShader(r)})),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw(function(o,a){var i=NJ.exec(a);if(i==null)return console.log("Couldn't parse line number in error: "+a),void console.log(o);for(var s=+i[1],u=o.split(`
`),c=u.length.toString().length+2,f=u.map((function(w,S){return ku((S+1).toString(),c)+w})),h=0,m=0;m<f.length;m++)h=Math.max(f[m].length,h);var v=f.slice(0,s-1),b=f.slice(s-1,s),x=f.slice(s);console.log(v.join(`
`)),console.log(a.split(`
`)[0]),console.log("%c "+ku(b[0],h),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(x.join(`
`))})(t,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var ob,ab,NJ=/ERROR: [0-9]+:([0-9]+):/g;function kJ(e,n){return yi(e,n,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function MJ(e,n,t){if(Ye(e,n,(function(){return e.linkProgram(t)})),e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function ib(e,n,t){if(Ye(e,n,(function(){return e.validateProgram(t)})),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function IJ(e,n,t){var r=yi(e,n,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Ye(e,n,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Ye(e,n,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),r}function OJ(e,n,t){var r=yi(e,n,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Ye(e,n,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),Ye(e,n,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),r}function PJ(e,n){return yi(e,n,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function jJ(e,n){var t=ve().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||n<=0){var r="["+e+"x"+n+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>t||n>t)throw r="["+e+"x"+n+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+("["+t+"x"+t+"]")+".")}function BJ(e,n){return yi(e,n,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function cD(e,n,t,r,o,a,i,s){var u=e.getAttribLocation(t,r);return u!==-1&&(Ye(e,n,(function(){return e.bindBuffer(e.ARRAY_BUFFER,o)})),Ye(e,n,(function(){return e.vertexAttribPointer(u,a,e.FLOAT,!1,i,s)})),Ye(e,n,(function(){return e.enableVertexAttribArray(u)})),!0)}function FJ(e,n,t,r){HJ(e,r),Ye(e,n,(function(){return e.activeTexture(e.TEXTURE0+r)})),Ye(e,n,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}function LJ(e,n,t,r){return yi(e,n,(function(){return e.getUniformLocation(t,r)}),'uniform "'+r+'" not present in program.')}function zJ(e,n,t){return e.getUniformLocation(n,t)}function UJ(e,n,t,r,o,a){Ye(e,n,(function(){return FJ(e,n,r,a)})),Ye(e,n,(function(){return e.uniform1i(o,a)}))}function sb(e,n,t,r){Ye(e,n,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),Ye(e,n,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function dD(e,n,t){Ye(e,n,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),Ye(e,n,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function pp(e){var n=e.checkFramebufferStatus(e.FRAMEBUFFER);if(n!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+VJ(e,n))}function VJ(e,n){switch(n){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+n}}function yi(e,n,t,r){var o=Ye(e,n,(function(){return t()}));if(o==null)throw new Error(r);return o}function HJ(e,n){var t=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=n+e.TEXTURE0;if(r<e.TEXTURE0||r>t)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+t+"]")+".")}function hm(e,n){return n===void 0&&(n=2),qe(e.slice(0,e.length-n))}function pm(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function lb(e){var n=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(n=[hm(e)].concat(pm(e))),n}function WJ(e,n){var t;n===void 0&&(n=!1);var r=ve().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n&&(r*=2,(e=e.map((function(c,f){return f>=e.length-2?n4(e[f]):e[f]}))).length===1&&(e=[2,e[0]])),e.length!==2){var o=Ys(e);e=o.newShape}var a=qe(e);if(e.length<=1&&a<=r)return[1,a];if(e.length===2&&e[0]<=r&&e[1]<=r)return e;if(e.length===3&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(n){var i=hm(e),s=2,u=2;return e.length&&(s=(t=pm(e))[0],u=t[1]),bx(a=i*(s/2)*(u/2)).map((function(c){return 2*c}))}return bx(a)}function mp(e){return e%2==0}function vp(e,n){if(Gn(e=e.slice(-2),n=n.slice(-2))||!e.length||!n.length||e[0]===0||e[1]===0||n[0]===0||n[1]===0)return!0;if(e.length!==n.length){var t=e.slice(-1)[0],r=n.slice(-1)[0];if(t===r||mp(t)&&mp(r)&&(e[0]===1||n[0]===1))return!0}return e[1]===n[1]&&mp(e[0])&&mp(n[0])}function $J(e){if(ob==null){var n=Pa(e);ob=n.getParameter(n.MAX_TEXTURE_SIZE)}return ob}function GJ(e){if(ab==null){var n=Pa(e);ab=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,ab)}function qJ(e){if(e===0)return 0;var n=Pa(e);return Ao(n,"EXT_disjoint_timer_query_webgl2")&&e===2?2:Ao(n,"EXT_disjoint_timer_query")?1:0}function Ao(e,n){return e.getExtension(n)!=null}function fD(e){try{if(Pa(e)!=null)return!0}catch{return!1}return!1}function XJ(e){if(e===0)return!1;var n=Pa(e);if(e===1){if(!Ao(n,"OES_texture_float"))return!1}else if(!Ao(n,"EXT_color_buffer_float"))return!1;return _x(n)}function YJ(e){if(e===0)return!1;var n=Pa(e);if(e!==1){if(Ao(n,"EXT_color_buffer_float"))return _x(n);if(Ao(n,"EXT_color_buffer_half_float")){var t=n.getExtension("EXT_color_buffer_half_float");return(function(r,o){var a=Fw(r,o),i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texImage2D(r.TEXTURE_2D,0,a.internalFormatHalfFloat,1,1,0,a.textureFormatFloat,a.textureTypeHalfFloat,null);var s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0);var u=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(i),r.deleteFramebuffer(s),u})(n,t)}return!1}return!!Ao(n,"OES_texture_float")&&!!Ao(n,"WEBGL_color_buffer_float")&&_x(n)}function _x(e){var n=Fw(e),t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatFloat,1,1,0,n.textureFormatFloat,n.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(r),o}function KJ(e){return e===2&&Pa(e).fenceSync!=null}var dt=ve();function d4(e){ve().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Le(e,n){return ee.tidy(e,n)}function Ur(e){u4(e).forEach((function(n){return n.dispose()}))}function QJ(e){return ee.keep(e)}function mm(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];ve().getBool("IS_TEST")||console.warn.apply(console,e)}function xs(e,n){var t=e;if(Ea(e))return n==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(t)||Ea(t)&&n!=="string";)r.push(t.length),t=t[0];return Array.isArray(e)&&ve().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&(function o(a,i,s){if(s=s||[],!Array.isArray(a)&&!Ea(a))return void $(i.length===0,(function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+i[0]+" elements"}));$(i.length>0,(function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+a.length+" elements"})),$(a.length===i[0],(function(){return"Element arr["+s.join("][")+"] should have "+i[0]+" elements, but has "+a.length+" elements"}));for(var u=i.slice(1),c=0;c<a.length;++c)o(a[c],u,s.concat(c))})(e,r,[]),r}function hD(e,n,t,r){if(e!=null&&(e!=="numeric"&&e!==n||e==="numeric"&&n==="string"))throw new Error("Argument '"+t+"' passed to '"+r+"' must be "+e+" tensor, but got "+n+" tensor")}function H(e,n,t,r){if(r===void 0&&(r="numeric"),e instanceof an)return hD(r,e.dtype,n,t),e;var o=kf(e);if(o!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),hD(r,o,n,t),e==null||!Ea(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var a=e==null?"null":e.constructor.name;throw new Error("Argument '"+n+"' passed to '"+t+"' must be a Tensor or TensorLike, but got '"+a+"'")}var i=xs(e,o);Ea(e)||Array.isArray(e)||(e=[e]);var s=o!=="string"?o4(e,o,ve().getBool("DEBUG")):$u(e,[],!0);return ee.makeTensor(s,i,o)}function vm(e,n,t,r){if(r===void 0&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+n+" passed to "+t+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(o,a){return H(o,n+"["+a+"]",t)}),r)}function f4(e,n){for(var t=0;t<e.length;++t)if(e[e.length-t-1]!==n-1-t)return!1;return!0}function JJ(e,n,t){for(var r=e.length+n.length,o=[],a=0,i=0,s=0;s<r;s++)t.indexOf(s)===-1?o.push(e[a++]):o.push(n[i++]);return o}function ir(e,n){for(var t=[],r=e.length,o=0;o<r;o++)n.indexOf(o)===-1&&t.push(e[o]);return[t,n.map((function(a){return e[a]}))]}function Hr(e,n){return JJ(e,n.map((function(t){return 1})),n)}function eo(e,n,t){$(f4(n,t),(function(){return e+" supports only inner-most axes for now. Got axes "+n+" and rank-"+t+" input."}))}function ja(e,n){if(f4(e,n))return null;for(var t=[],r=0;r<n;++r)e.indexOf(r)===-1&&t.push(r);return e.forEach((function(o){return t.push(o)})),t}function Lw(e){return e.map((function(n,t){return[t,n]})).sort((function(n,t){return n[1]-t[1]})).map((function(n){return n[0]}))}function Ba(e,n){for(var t=[],r=n-e;r<n;++r)t.push(r);return t}function ZJ(e,n){var t=e[0].length;e.forEach((function(o,a){$(o.length===t,(function(){return"Error in concat"+t+"D: rank of tensors["+a+"] must be the same as the rank of the rest ("+t+")"}))})),$(n>=0&&n<t,(function(){return"Error in concat"+t+"D: axis must be between 0 and "+(t-1)+"."}));var r=e[0];e.forEach((function(o,a){for(var i=0;i<t;i++)$(i===n||o[i]===r[i],(function(){return"Error in concat"+t+"D: Shape of tensors["+a+"] ("+o+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+a+"."}))}))}function qu(e,n){for(var t=e[0].slice(),r=1;r<e.length;r++)t[n]+=e[r][n];return t}function Q(e){var n=Object.keys(e);if(n.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+n.length+" keys.");var t=n[0],r=e[t];t.endsWith("_")&&(t=t.substring(0,t.length-1));var o=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];ee.startScope(t);try{var s=r.apply(void 0,a);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),ee.endScope(s),s}catch(u){throw ee.endScope(null),u}};return Object.defineProperty(o,"name",{value:t,configurable:!0}),o}dt.registerFlag("HAS_WEBGL",(function(){return dt.getNumber("WEBGL_VERSION")>0})),dt.registerFlag("WEBGL_VERSION",(function(){return fD(2)?2:fD(1)?1:0})),dt.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return dt.get("WEBGL_VERSION")===2})),dt.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),dt.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),dt.registerFlag("WEBGL_PACK",(function(){return dt.getBool("HAS_WEBGL")})),dt.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_PACK_CLIP",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),dt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_PACK_REDUCE",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_CONV_IM2COL",(function(){return dt.getBool("WEBGL_PACK")})),dt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return $J(dt.getNumber("WEBGL_VERSION"))})),dt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return GJ(dt.getNumber("WEBGL_VERSION"))})),dt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=dt.getNumber("WEBGL_VERSION");return e===0?0:qJ(e)})),dt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return dt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),dt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return XJ(dt.getNumber("WEBGL_VERSION"))})),dt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!dt.getBool("WEBGL_FORCE_F16_TEXTURES")&&dt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),dt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return YJ(dt.getNumber("WEBGL_VERSION"))})),dt.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return KJ(dt.getNumber("WEBGL_VERSION"))})),dt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return dt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),l4=d4;var Zn=Q({complex_:function(e,n){var t=H(e,"real","complex"),r=H(n,"imag","complex");return Bt(t.shape,r.shape,"real and imag shapes, "+t.shape+" and "+r.shape+", must match in call to tf.complex()."),ee.runKernelFunc((function(o){return o.complex(t,r)}),{$real:t,$imag:r})}}),To=Q({real_:function(e){var n=H(e,"input","real");return ee.runKernelFunc((function(t){return t.real(n)}),{$input:n})}}),ba=Q({imag_:function(e){var n=H(e,"input","imag");return ee.runKernelFunc((function(t){return t.imag(n)}),{$input:n})}});function tr(e,n,t){return ws(e,n,xs(e,t),t)}function ws(e,n,t,r){if(r==null&&(r=kf(e)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Ea(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(n!=null){i4(n);var o=qe(n),a=qe(t);$(o===a,(function(){return"Based on the provided shape, ["+n+"], the tensor should have "+o+" values but has "+a}));for(var i=0;i<t.length;++i){var s=t[i],u=i!==t.length-1||s!==qe(n.slice(i));$(t[i]===n[i]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+t+") does not match the provided shape ("+n+"). "}))}}return Ea(e)||Array.isArray(e)||(e=[e]),n=n||t,e=r!=="string"?o4(e,r,ve().getBool("DEBUG")):$u(e,[],!0),ee.makeTensor(e,n,r)}function Ie(e,n){if((Ea(e)&&n!=="string"||Array.isArray(e))&&n!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(n==="string"&&Ea(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return ws(e,[],[],n)}function Sn(e,n){mc(e);var t=xs(e,n);if(t.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return ws(e,null,t,n)}function cs(e,n,t){if(mc(e),n!=null&&n.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var r=xs(e,t);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ws(e,n,r,t)}function zw(e,n,t){if(mc(e),n!=null&&n.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var r=xs(e,t);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ws(e,n,r,t)}function Or(e,n,t){if(mc(e),n!=null&&n.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var r=xs(e,t);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ws(e,n,r,t)}function eZ(e,n,t){if(mc(e),n!=null&&n.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var r=xs(e,t);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ws(e,n,r,t)}function tZ(e,n,t){if(mc(e),n!=null&&n.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var r=xs(e,t);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&n==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return ws(e,n=n||r,r,t)}function nZ(e,n,t,r){return n===void 0&&(n=!0),ee.makeVariable(e,n,t,r)}function vc(e,n){if(n===void 0&&(n="float32"),n==="complex64"){var t=vc(e,"float32"),r=Jt(e,"float32");return Zn(t,r)}var o=a4(qe(e),n);return ee.makeTensor(o,e,n)}function Jt(e,n){if(n===void 0&&(n="float32"),n==="complex64"){var t=Jt(e,"float32"),r=Jt(e,"float32");return Zn(t,r)}var o=Mf(qe(e),n);return ee.makeTensor(o,e,n)}function _a(e,n,t){return ee.runKernelFunc((function(r){return r.fill(e,n,t)}),{})}function rZ(e,n,t){if(t<=0)throw new Error("The number of values should be positive.");return ee.runKernelFunc((function(r){return r.linspace(e,n,t)}),{})}function gm(e,n,t,r){if(t===void 0&&(t=1),r===void 0&&(r="float32"),t===0)throw new Error("Cannot have a step of zero");if(e===n||e<n&&t<0||n<e&&t>1)return Jt([0],r);var o=Mf(Math.abs(Math.ceil((n-e)/t)),r);n<e&&t===1&&(t=-1),o[0]=e;for(var a=1;a<o.length;a++)o[a]=o[a-1]+t;return Sn(o,r)}var h4=Q({onesLike_:function(e){var n=H(e,"x","onesLike");if(n.dtype==="complex64"){var t=h4(To(n)),r=kt(ba(n));return Zn(t,r)}return ee.runKernelFunc((function(o){return o.onesLike(n)}),{$x:n},(function(o,a){return{$x:function(){return kt(o)}}}))}}),kt=Q({zerosLike_:function(e){var n=H(e,"x","zerosLike");return ee.runKernelFunc((function(t){return t.zerosLike(n)}),{$x:n},(function(t,r){return{$x:function(){return kt(t)}}}))}}),Dn=Q({concat_:function(e,n){n===void 0&&(n=0),$(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var t=vm(e,"tensors","concat");t[0].dtype==="complex64"&&t.forEach((function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")})),n=On(n,t[0].shape)[0];var r=qu(t.map((function(s){return s.shape})),n);if(qe(r)===0)return tr([],r);if((t=t.filter((function(s){return s.size>0}))).length===1)return t[0];var o=t.map((function(s){return s.shape}));ZJ(o,n);var a=t,i={axis:n};return ee.runKernelFunc((function(s){return s.concat(t,n)}),a,(function(s){var u=o.map((function(c){return c[n]}));return Uw(s,u,n).map((function(c){return function(){return c}}))}),"Concat",i)}}),oZ=Q({concat1d_:function(e){return Dn(e,0)}}),aZ=Q({concat2d_:function(e,n){return Dn(e,n)}}),iZ=Q({concat3d_:function(e,n){return Dn(e,n)}}),sZ=Q({concat4d_:function(e,n){return Dn(e,n)}}),Uw=Q({split_:function(e,n,t){t===void 0&&(t=0);var r,o=H(e,"x","split");return t=On(t,o.shape)[0],typeof n=="number"?($(o.shape[t]%n==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(n).fill(o.shape[t]/n)):($(o.shape[t]===n.reduce((function(a,i){return a+i})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=n),ee.runKernelFunc((function(a){return a.split(o,r,t)}),{$x:o},(function(a){return{$x:function(){return Dn(a,t)}}}))}});function ml(e,n){return e(n={exports:{}},n.exports),n.exports}var lZ=ml((function(e){(function(n,t,r){function o(s){var u,c=this,f=(u=4022871197,function(h){h=h.toString();for(var m=0;m<h.length;m++){var v=.02519603282416938*(u+=h.charCodeAt(m));v-=u=v>>>0,u=(v*=u)>>>0,u+=4294967296*(v-=u)}return 23283064365386963e-26*(u>>>0)});c.next=function(){var h=2091639*c.s0+23283064365386963e-26*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=h-(c.c=0|h)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(s),c.s0<0&&(c.s0+=1),c.s1-=f(s),c.s1<0&&(c.s1+=1),c.s2-=f(s),c.s2<0&&(c.s2+=1),f=null}function a(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function i(s,u){var c=new o(s),f=u&&u.state,h=c.next;return h.int32=function(){return 4294967296*c.next()|0},h.double=function(){return h()+11102230246251565e-32*(2097152*h()|0)},h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}t&&t.exports?t.exports=i:this.alea=i})(0,e)})),uZ=ml((function(e){(function(n,t,r){function o(s){var u=this,c="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var h=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^h^h>>>8},s===(0|s)?u.x=s:c+=s;for(var f=0;f<c.length+64;f++)u.x^=0|c.charCodeAt(f),u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function i(s,u){var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}t&&t.exports?t.exports=i:this.xor128=i})(0,e)})),cZ=ml((function(e){(function(n,t,r){function o(s){var u=this,c="";u.next=function(){var h=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^h^h<<1)|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(0|s)?u.x=s:c+=s;for(var f=0;f<c.length+64;f++)u.x^=0|c.charCodeAt(f),f==c.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function a(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function i(s,u){var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}t&&t.exports?t.exports=i:this.xorwow=i})(0,e)})),dZ=ml((function(e){(function(n,t,r){function o(s){var u=this;u.next=function(){var c,f,h=u.x,m=u.i;return c=h[m],f=(c^=c>>>7)^c<<24,f^=(c=h[m+1&7])^c>>>10,f^=(c=h[m+3&7])^c>>>3,f^=(c=h[m+4&7])^c<<7,c=h[m+7&7],f^=(c^=c<<13)^c<<9,h[m]=f,u.i=m+1&7,f},(function(c,f){var h,m=[];if(f===(0|f))m[0]=f;else for(f=""+f,h=0;h<f.length;++h)m[7&h]=m[7&h]<<15^f.charCodeAt(h)+m[h+1&7]<<13;for(;m.length<8;)m.push(0);for(h=0;h<8&&m[h]===0;++h);for(h==8?m[7]=-1:m[h],c.x=m,c.i=0,h=256;h>0;--h)c.next()})(u,s)}function a(s,u){return u.x=s.x.slice(),u.i=s.i,u}function i(s,u){s==null&&(s=+new Date);var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(f.x&&a(f,c),h.state=function(){return a(c,{})}),h}t&&t.exports?t.exports=i:this.xorshift7=i})(0,e)})),fZ=ml((function(e){(function(n,t,r){function o(s){var u=this;u.next=function(){var c,f,h=u.w,m=u.X,v=u.i;return u.w=h=h+1640531527|0,f=m[v+34&127],c=m[v=v+1&127],f^=f<<13,c^=c<<17,f^=f>>>15,c^=c>>>12,f=m[v]=f^c,u.i=v,f+(h^h>>>16)|0},(function(c,f){var h,m,v,b,x,w=[],S=128;for(f===(0|f)?(m=f,f=null):(f+="\0",m=0,S=Math.max(S,f.length)),v=0,b=-32;b<S;++b)f&&(m^=f.charCodeAt((b+32)%f.length)),b===0&&(x=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,b>=0&&(x=x+1640531527|0,v=(h=w[127&b]^=m+x)==0?v+1:0);for(v>=128&&(w[127&(f&&f.length||0)]=-1),v=127,b=512;b>0;--b)m=w[v+34&127],h=w[v=v+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,w[v]=m^h;c.w=x,c.X=w,c.i=v})(u,s)}function a(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function i(s,u){s==null&&(s=+new Date);var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(f.X&&a(f,c),h.state=function(){return a(c,{})}),h}t&&t.exports?t.exports=i:this.xor4096=i})(0,e)})),hZ=ml((function(e){(function(n,t,r){function o(s){var u=this,c="";u.next=function(){var h=u.b,m=u.c,v=u.d,b=u.a;return h=h<<25^h>>>7^m,m=m-v|0,v=v<<24^v>>>8^b,b=b-h|0,u.b=h=h<<20^h>>>12^m,u.c=m=m-v|0,u.d=v<<16^m>>>16^b,u.a=b-h|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=0|s):c+=s;for(var f=0;f<c.length+20;f++)u.b^=0|c.charCodeAt(f),u.next()}function a(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function i(s,u){var c=new o(s),f=u&&u.state,h=function(){return(c.next()>>>0)/4294967296};return h.double=function(){do var m=((c.next()>>>11)+(c.next()>>>0)/4294967296)/2097152;while(m===0);return m},h.int32=c.next,h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}t&&t.exports?t.exports=i:this.tychei=i})(0,e)})),Gs=ml((function(e){(function(n,t){var r,o=this,a=256,i=6,s="random",u=t.pow(a,i),c=t.pow(2,52),f=2*c,h=a-1;function m(S,E,R){var D=[],A=x((function M(I,P){var L,F=[],Y=typeof I;if(P&&Y=="object")for(L in I)try{F.push(M(I[L],P-1))}catch{}return F.length?F:Y=="string"?I:I+"\0"})((E=E==1?{entropy:!0}:E||{}).entropy?[S,w(n)]:S??(function(){try{var M;return r&&(M=r.randomBytes)?M=M(a):(M=new Uint8Array(a),(o.crypto||o.msCrypto).getRandomValues(M)),w(M)}catch{var I=o.navigator,P=I&&I.plugins;return[+new Date,o,P,o.screen,w(n)]}})(),3),D),N=new v(D),k=function(){for(var M=N.g(i),I=u,P=0;M<c;)M=(M+P)*a,I*=a,P=N.g(1);for(;M>=f;)M/=2,I/=2,P>>>=1;return(M+P)/I};return k.int32=function(){return 0|N.g(4)},k.quick=function(){return N.g(4)/4294967296},k.double=k,x(w(N.S),n),(E.pass||R||function(M,I,P,L){return L&&(L.S&&b(L,N),M.state=function(){return b(N,{})}),P?(t[s]=M,I):M})(k,A,"global"in E?E.global:this==t,E.state)}function v(S){var E,R=S.length,D=this,A=0,N=D.i=D.j=0,k=D.S=[];for(R||(S=[R++]);A<a;)k[A]=A++;for(A=0;A<a;A++)k[A]=k[N=h&N+S[A%R]+(E=k[A])],k[N]=E;(D.g=function(M){for(var I,P=0,L=D.i,F=D.j,Y=D.S;M--;)I=Y[L=h&L+1],P=P*a+Y[h&(Y[L]=Y[F=h&F+I])+(Y[F]=I)];return D.i=L,D.j=F,P})(a)}function b(S,E){return E.i=S.i,E.j=S.j,E.S=S.S.slice(),E}function x(S,E){for(var R,D=S+"",A=0;A<D.length;)E[h&A]=h&(R^=19*E[h&A])+D.charCodeAt(A++);return w(E)}function w(S){return String.fromCharCode.apply(0,S)}if(t["seed"+s]=m,x(t.random(),n),e.exports){e.exports=m;try{r=require("crypto")}catch{}}})([],Math)}));Gs.alea=lZ,Gs.xor128=uZ,Gs.xorwow=cZ,Gs.xorshift7=dZ,Gs.xor4096=fZ,Gs.tychei=hZ;var Bv=Gs.alea,Vw=(function(){function e(n,t,r,o,a){this.mean=n,this.stdDev=t,this.dtype=r,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=a||Math.random();this.random=Bv(i.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var n=this.nextVal;return this.nextVal=NaN,n}for(var t,r,o=!1;!o;){var a=void 0,i=void 0,s=void 0;do s=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i;while(s>=1||s===0);var u=Math.sqrt(-2*Math.log(s)/s);t=this.mean+this.stdDev*a*u,r=this.mean+this.stdDev*i*u,this.truncated&&!this.isValidTruncated(t)||(o=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(t)},e.prototype.convertValue=function(n){return this.dtype==null||this.dtype==="float32"?n:Math.round(n)},e.prototype.isValidTruncated=function(n){return n<=this.upper&&n>=this.lower},e})(),pZ=(function(){function e(n,t,r,o){this.alpha=n,this.beta=1/t,this.dtype=r;var a=o||Math.random();this.randu=Bv(a.toString()),this.randn=new Vw(0,1,r,!1,this.randu()),this.d=n<1?n+2/3:n-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var n,t,r,o,a,i;;){do o=this.randn.nextValue(),i=1+this.c*o;while(i<=0);if(i*=i*i,t=1-.331*(n=o*o)*n,r=.5*n+this.d*(1-i+Math.log(i)),(a=this.randu())<t||Math.log(a)<r)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},e.prototype.convertValue=function(n){return this.dtype==="float32"?n:Math.round(n)},e})(),mZ=(function(){function e(n,t,r,o){var a=this;if(n===void 0&&(n=0),t===void 0&&(t=1),this.canReturnFloat=function(){return a.dtype==null||a.dtype==="float32"},this.min=n,this.range=t-n,this.dtype=r,o==null&&(o=Math.random()),typeof o=="number"&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+n+" - "+t+" <= 1 and dtype is not float");this.random=Bv(o)}return e.prototype.convertValue=function(n){return this.canReturnFloat()?n:Math.round(n)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e})();function pt(e,n,t){return n===void 0&&(n="float32"),n=n||"float32",i4(e),new tf(e,n,t)}function vZ(e,n){n===void 0&&(n=!1),console.log(e.toString(n))}var p4=Q({batchToSpaceND_:function(e,n,t){var r=H(e,"x","batchToSpaceND"),o=n.reduce((function(a,i){return a*i}));return $(r.rank>=1+n.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+n.length})),$(t.length===n.length,(function(){return"crops.length is "+t.length+" but should be equal to blockShape.length  "+n.length})),$(r.shape[0]%o==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+n.join(" * ")+" === "+o})),ee.runKernelFunc((function(a){return a.batchToSpaceND(r,n,t)}),{$x:r},(function(a){return{$x:function(){return a.spaceToBatchND(n,t)}}}))}}),gZ=Q({broadcastTo_:function(e,n){var t=H(e,"broadcastTo","x"),r=t.shape;if(n.some((function(u){return!(u>0)||u%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+n+"].");if(n.length<t.rank)throw new Error("broadcastTo(): shape.length="+n.length+" < input.rank="+t.rank+".");if(n.length>t.rank){for(var o=t.shape.slice();o.length<n.length;)o.unshift(1);t=t.reshape(o)}for(var a=Array.from(n),i=n.length-1;i>=0;i--)if(t.shape[i]===n[i])a[i]=1;else if(t.shape[i]!==1)throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+n+"].");var s=a.map((function(u,c){return u>1?c:-1})).filter((function(u){return u>=0}));return s.length===0?t.clone():ee.runKernelFunc((function(u){return u.tile(t,a)}),{input:t},(function(u){return{input:function(){return u.sum(s,!0)}}}))}}),yZ=Q({cast_:function(e,n){var t=H(e,"x","cast");if(!cJ(n))throw new Error("Failed to cast to unknown dtype "+n);if(n==="string"&&t.dtype!=="string"||n!=="string"&&t.dtype==="string")throw new Error("Only strings can be casted to strings");var r={dtype:n};return ee.runKernelFunc((function(o){return o.cast(t,n)}),{x:t},(function(o){return{x:function(){return o.clone()}}}),"Cast",r)}}),bZ=Q({clone_:function(e){var n=H(e,"x","clone",null);return ee.runKernelFunc((function(){return ee.makeTensorFromDataId(n.dataId,n.shape,n.dtype)}),{$x:n},(function(t){return{$x:function(){return t.toFloat()}}}))}}),xZ=Q({cumsum_:function(e,n,t,r){n===void 0&&(n=0),t===void 0&&(t=!1),r===void 0&&(r=!1);var o=H(e,"x","cumsum"),a=ja([n|=0],o.rank),i=o;a!=null&&(i=o.transpose(a));var s=Ba(1,o.rank)[0],u=ee.runKernelFunc((function(c){return c.cumsum(i,s,t,r)}),{permutedX:i},(function(c){return{permutedX:function(){return c.cumsum(n,t,!r)}}}));return a!=null&&(u=u.transpose(a)),u}}),wZ=Q({depthToSpace_:function(e,n,t){t===void 0&&(t="NHWC");var r=H(e,"x","depthToSpace"),o=t==="NHWC"?r.shape[1]:r.shape[2],a=t==="NHWC"?r.shape[2]:r.shape[3],i=t==="NHWC"?r.shape[3]:r.shape[1];return $(o*n>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+o+" and "+n+`  for depthToSpace with input shape
      `+r.shape})),$(a*n>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+n+` for depthToSpace with input shape
          `+r.shape})),$(i%(n*n)==0,(function(){return"Dimension size must be evenly divisible by "+n*n+" but is "+i+" for depthToSpace with input shape "+r.shape})),ee.runKernelFunc((function(s){return s.depthToSpace(r,n,t)}),{$x:r})}}),_o=Q({expandDims_:function(e,n){n===void 0&&(n=0);var t=H(e,"x","expandDims",null);$(n<=t.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=t.shape.slice();return n<0&&($(-(t.rank+1)<=n,(function(){return"Axis must be in the interval ["+-(t.rank+1)+", "+t.rank+"]"})),n=t.rank+n+1),r.splice(n,0,1),Yo(t,r)}}),m4=Q({eye_:function(e,n,t,r){r===void 0&&(r="float32"),n==null&&(n=e);for(var o=pt([e,n],r),a=e<=n?e:n,i=0;i<a;++i)o.set(1,i,i);var s=o.toTensor().as2D(e,n);if(t==null)return s;if(t.length===1)return Mu(_o(s,0),[t[0],1,1]);if(t.length===2)return Mu(_o(_o(s,0),0),[t[0],t[1],1,1]);if(t.length===3)return Mu(_o(_o(_o(s,0),0),0),[t[0],t[1],t[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+t.length+"D.")}}),SZ=Q({multinomial_:function(e,n,t,r){r===void 0&&(r=!1);var o=H(e,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);t=t||Math.random();var s=i===1?o.as2D(1,-1):o,u=ee.runKernelFunc((function(c){return c.multinomial(s,r,n,t)}),{logits2D:s});return i===1?u.as1D():u}}),Tx=Q({oneHot_:function(e,n,t,r){if(t===void 0&&(t=1),r===void 0&&(r=0),n<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+n);var o=H(e,"indices","oneHot","int32"),a=o.shape.concat([n]);return o=o.flatten(),ee.runKernelFunc((function(i){return i.oneHot(o,n,t,r)}),{$indices:o},(function(i){return{$indices:function(){return Jt(o.shape,"float32")}}})).reshape(a)}}),vl=Q({pad_:function(e,n,t){t===void 0&&(t=0);var r=H(e,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:n,constantValue:t};return ee.runKernelFunc((function(a){return a.pad(r,n,t)}),{x:r},(function(a){var i=n.map((function(s){return s[0]}));return{x:function(){return a.slice(i,r.shape)}}}),"PadV2",o)}}),CZ=Q({pad1d_:function(e,n,t){return t===void 0&&(t=0),$(n.length===2,(function(){return"Invalid number of paddings. Must be length of 2."})),vl(e,[n],t)}}),EZ=Q({pad2d_:function(e,n,t){return t===void 0&&(t=0),$(n.length===2&&n[0].length===2&&n[1].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),vl(e,n,t)}}),RZ=Q({pad3d_:function(e,n,t){return t===void 0&&(t=0),$(n.length===3&&n[0].length===2&&n[1].length===2&&n[2].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),vl(e,n,t)}}),_Z=Q({pad4d_:function(e,n,t){return t===void 0&&(t=0),$(n.length===4&&n[0].length===2&&n[1].length===2&&n[2].length===2&&n[3].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),vl(e,n,t)}}),TZ=Q({rand_:function(e,n,t){var r=qe(e),o=null;if(t==null||t==="float32")o=new Float32Array(r);else if(t==="int32")o=new Int32Array(r);else{if(t!=="bool")throw new Error("Unknown data type "+t);o=new Uint8Array(r)}for(var a=0;a<r;a++)o[a]=n();return ee.makeTensor(o,e,t)}}),DZ=Q({randomNormal_:function(e,n,t,r,o){if(n===void 0&&(n=0),t===void 0&&(t=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var a=new Vw(n,t,r,!1,o),i=pt(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),AZ=Q({randomGamma_:function(e,n,t,r,o){if(t===void 0&&(t=1),r===void 0&&(r="float32"),t==null&&(t=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error("Unsupported data type "+r);for(var a=new pZ(n,t,r,o),i=pt(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),v4=Q({randomUniform_:function(e,n,t,r,o){n===void 0&&(n=0),t===void 0&&(t=1),r===void 0&&(r="float32");for(var a=pt(e,r),i=new mZ(n,t,null,o),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),Yo=Q({reshape_:function(e,n){var t=H(e,"x","reshape",null);n=lJ(n,t.size),$(t.size===qe(n),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:n};return ee.runKernelFunc((function(o){return o.reshape(t,n)}),{x:t},(function(o){return{x:function(){return o.reshape(t.shape)}}}),"Reshape",r)}}),g4=Q({spaceToBatchND_:function(e,n,t){var r=H(e,"x","spaceToBatchND");return $(r.rank>=1+n.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+n.length})),$(t.length===n.length,(function(){return"paddings.shape[0] "+t.length+" must be equal to [blockShape] "+n.length})),$(r.shape.reduce((function(o,a,i){return i>0&&i<=n.length?o&&(a+t[i-1][0]+t[i-1][1])%n[i-1]==0:o}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+t.toString()+" must be divisible by blockShapes "+n.toString()})),ee.runKernelFunc((function(o){return o.spaceToBatchND(r,n,t)}),{$x:r},(function(o){return{$x:function(){return o.batchToSpaceND(n,t)}}}))}}),y4=Q({squeeze_:function(e,n){var t=H(e,"x","squeeze");return Yo(t,Ys(t.shape,n).newShape)}}),lo=Q({stack_:function(e,n){n===void 0&&(n=0);var t=vm(e,"tensors","stack");if($(t.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),t.length===1)return t[0].expandDims(n);var r=t[0].rank,o=t[0].shape,a=t[0].dtype;$(n<=r,(function(){return"Axis must be <= rank of the tensor"})),t.forEach((function(s){Bt(o,s.shape,"All tensors passed to stack must have matching shapes")})),t.forEach((function(s){$(a===s.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=t.map((function(s){return s.expandDims(n)}));return Dn(i,n)}}),Mu=Q({tile_:function(e,n){var t=H(e,"x","tile",null);$(t.rank===n.length,(function(){return"Error in transpose: rank of input "+t.rank+" must match length of reps "+n+"."}));var r=[t],o={reps:n};return ee.runKernelFunc((function(a,i){var s=a.tile(t,n);return i([t]),s}),{x:t},(function(a,i){var s=i[0];return{x:function(){var u=kt(s);if(s.rank===1)for(var c=0;c<n[0];++c)u=u.add(a.slice([c*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(c=0;c<n[0];++c)for(var f=0;f<n[1];++f)u=u.add(a.slice([c*s.shape[0],f*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(c=0;c<n[0];++c)for(f=0;f<n[1];++f)for(var h=0;h<n[2];++h)u=u.add(a.slice([c*s.shape[0],f*s.shape[1],h*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(c=0;c<n[0];++c)for(f=0;f<n[1];++f)for(h=0;h<n[2];++h)for(var m=0;m<n[3];++m)u=u.add(a.slice([c*s.shape[0],f*s.shape[1],h*s.shape[2],m*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return u}}}),"Tile",o,r)}}),NZ=Q({truncatedNormal_:function(e,n,t,r,o){if(n===void 0&&(n=0),t===void 0&&(t=1),r!=null&&r==="bool")throw new Error("Unsupported data type "+r);for(var a=new Vw(n,t,r,!0,o),i=pt(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),An=Q({unstack_:function(e,n){n===void 0&&(n=0),n=n||0;var t=H(e,"x","unstack");$(n>=-t.shape.length&&n<t.shape.length,(function(){return"Axis = "+n+" is not in [-"+t.shape.length+", "+t.shape.length+")"})),n<0&&(n+=t.shape.length);var r={axis:n};return ee.runKernelFunc((function(o){return o.unstack(t,n)}),{x:t},(function(o){return{x:function(){return lo(o,n)}}}),"Unpack",r)}}),kZ=function(e,n){return Ve(this,void 0,void 0,(function(){var t,r,o,a,i,s,u,c,f,h;return He(this,(function(m){switch(m.label){case 0:return t=H(e,"x","setdiff1d"),r=H(n,"y","setdiff1d"),$(t.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+t.dtype+") and y ("+r.dtype+")."})),$(t.rank===1,(function(){return"x should be 1D tensor, but got x ("+t.shape+")."})),$(r.rank===1,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,t.data()];case 1:return o=m.sent(),[4,r.data()];case 2:for(a=m.sent(),i=new Set(a),s=0,f=0;f<o.length;f++)i.has(o[f])||s++;for(u=new tf([s],t.dtype),c=new tf([s],"int32"),f=0,h=0;f<o.length;f++)i.has(o[f])||(u.values[h]=o[f],c.values[h]=f,h++);return[2,[u.toTensor(),c.toTensor()]]}}))}))};function ym(e,n,t,r){r===void 0&&(r=!0);var o=[];if(r)(o=o.concat(n.slice(0))).push(e[0]/t),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var a=n.length,i=0;i<a;++i)o=o.concat([e[i+1]/n[i],n[i]]);o=o.concat(e.slice(a+1))}return o}function bm(e,n,t){t===void 0&&(t=!0);var r=[];if(t){r.push(n);for(var o=n+1;o<e;++o)o<=2*n?(r.push(o),r.push(o-(n+1))):r.push(o)}else{var a=[],i=[];for(o=1;o<e;++o)o>=2*n+1||o%2==1?i.push(o):a.push(o);r.push.apply(r,a),r.push(0),r.push.apply(r,i)}return r}function xm(e,n,t,r){r===void 0&&(r=!0);var o=[];r?o.push(e[0]/t):o.push(e[0]*t);for(var a=1;a<e.length;++a)a<=n.length?r?o.push(n[a-1]*e[a]):o.push(e[a]/n[a-1]):o.push(e[a]);return o}function b4(e,n){for(var t=[0],r=0;r<n;++r)t.push(e[r][0]);return t}function x4(e,n,t){for(var r=e.slice(0,1),o=0;o<t;++o)r.push(e[o+1]-n[o][0]-n[o][1]);return r}function w4(e,n){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(n.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if(n.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+n.dtype+".");if(n.shape[n.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+n.shape[n.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var t=n.shape,r=t[t.length-1],o=1,a=0;a<t.length-1;++a)o*=t[a];var i=e.shape,s=t.slice();s.pop();var u=1;for(a=r;a<e.rank;++a)u*=i[a],s.push(i[a]);var c=Ra(e.shape).map((function(f){return f/u})).concat([1]).slice(0,r);return[s,o,u,c]}var S4=30;function ub(e){return e<=S4?e:wx(e,Math.floor(Math.sqrt(e)))}function MZ(e,n,t){var r=n.rank>1?n.shape[n.rank-1]:1,o=n.rank>1?n.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+t.shape+", indices.shape: "+n.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(t.rank<o)throw new Error(a+" update.rank < "+o+". ");if(e.length<r+(t.rank-o))throw new Error(a+" Output shape length < "+(r+(t.rank-o)));if(t.rank!==o+e.length-r)throw new Error(a+" update.rank != "+(o+e.length-r));for(var i=0;i<o;++i)if(t.shape[i]!==n.shape[i])throw new Error(a+" updates.shape["+i+"] ("+t.shape[i]+") != indices.shape["+i+"] ("+n.shape[i]+").");for(i=0;i<t.rank-o;++i)if(t.shape[i+o]!==e[i+r])throw new Error(a+" updates.shape["+(i+o)+"] ("+t.shape[i+o]+") != shape["+(i+o)+"] ("+e[i+o]+")")}function IZ(e,n,t){if(n.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+n.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(n.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+n.dtype);if(t.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+t);if(t.length===0){if(n.size===0)throw new Error("Indices specified for empty output. indices shape: "+n.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}MZ(t,n,e)}function wm(e,n,t){for(var r=n.shape.length,o=r>1?n.shape[r-1]:1,a=t.length,i=1,s=o;s<a;++s)i*=t[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:qe(n.shape)/u,sliceSize:i,strides:Ra(t.slice(0,o)).concat([1]),outputSize:qe(t)}}function OZ(e,n,t){$(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+n+" must match the rank of the array ("+e.rank+")."})),$(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+t+" must match the rank of the array ("+e.rank+")."}));for(var r=function(a){$(n[a]+t[a]<=e.shape[a],(function(){return"Error in slice"+e.rank+"D: begin["+a+"] + size["+a+"] ("+(n[a]+t[a])+") would overflow input.shape["+a+"] ("+e.shape[a]+")"}))},o=0;o<e.rank;++o)r(o)}function pD(e){for(var n=[],t=0;e>0;)1&e&&n.push(t),e/=2,t++;return n}function Hw(e,n,t){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((n[o]-e[o])/t[o]);return r}function PZ(e,n,t,r,o){var a=n[o],i=t[o]||1;(e&1<<o||a==null)&&(a=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),a=yx(0,a,s-1)}function jZ(e,n,t,r,o){var a=n[o],i=t[o]||1;(e&1<<o||a==null)&&(a=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),a=i>0?yx(0,a,s):yx(-1,a,s-1)}function C4(e,n,t){for(var r=t.length,o=0;o<t.length;o++)if(t[o]>1){r=o;break}for(o=r+1;o<t.length;o++)if(n[o]>0||t[o]!==e[o])return!1;return!0}function E4(e,n){for(var t=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)t+=e[r]*n[r];return t}function BZ(e,n){$(xx(e),(function(){return"The f passed in variableGrads(f) must be a function"})),$(n==null||Array.isArray(n)&&n.every((function(f){return f instanceof Gu})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var t=n!=null;if(!t)for(var r in n=[],ee.registeredVariables)n.push(ee.registeredVariables[r]);var o=t?n.filter((function(f){return!f.trainable})):null,a=n.length;$((n=n.filter((function(f){return f.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."}));var i=ee.gradients(e,n,null,!0),s=i.value,u=i.grads;$(u.some((function(f){return f!=null})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),$(s.rank===0,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var c={};return n.forEach((function(f,h){u[h]!=null&&(c[f.name]=u[h])})),o?.forEach((function(f){return c[f.name]=null})),{value:s,grads:c}}function Fv(e){return ee.customGrad(e)}var bi=Q({softmax_:function(e,n){n===void 0&&(n=-1);var t=H(e,"logits","softmax","float32");if(n===-1&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and dim was "+n);return ee.runKernelFunc((function(r,o){var a=r.softmax(t,n);return o([a]),a}),{logits:t},(function(r,o){var a=o[0],i=r.mul(a);return{logits:function(){return i.sub(i.sum([n],!0).mul(a))}}}),"Softmax",{dim:n},[],[!0])}}),FZ=Q({logSoftmax_:function(e,n){n===void 0&&(n=-1);var t=H(e,"logits","logSoftmax");if(n===-1&&(n=t.rank-1),n!==t.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and axis was "+n);return Fv((function(r,o){var a=r.max(n,!0),i=r.sub(a),s=i.toFloat().sub(i.exp().sum(n,!0).log());return o([s]),{value:s,gradFunc:function(u,c){var f=c[0].exp();return u.sub(u.sum(n,!0).mul(f))}}}))(t)}}),R4=(function(){function e(n,t){this.backend=n,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(n){return this.data.has(n)||this.dataMover.moveData(this.backend,n),this.data.get(n)},e.prototype.set=function(n,t){this.dataIdsCount++,this.data.set(n,t)},e.prototype.has=function(n){return this.data.has(n)},e.prototype.delete=function(n){return this.dataIdsCount--,this.data.delete(n)},e.prototype.numDataIds=function(){return this.dataIdsCount},e})(),_4=(function(){function e(){}return e.prototype.time=function(n){return ce("time")},e.prototype.read=function(n){return ce("read")},e.prototype.readSync=function(n){return ce("readSync")},e.prototype.numDataIds=function(){return ce("numDataIds")},e.prototype.disposeData=function(n){return ce("disposeData")},e.prototype.write=function(n,t,r){return ce("write")},e.prototype.move=function(n,t,r,o){return ce("move")},e.prototype.memory=function(){return ce("memory")},e.prototype.floatPrecision=function(){return ce("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(n,t,r,o){return ce("batchMatMul")},e.prototype.fusedBatchMatMul=function(n){return n.a,n.b,n.transposeA,n.transposeB,n.bias,n.activation,n.preluActivationWeights,ce("fusedBatchMatMul")},e.prototype.slice=function(n,t,r){return ce("slice")},e.prototype.stridedSlice=function(n,t,r,o){return ce("stridedSlice")},e.prototype.unstack=function(n,t){return ce("unstack")},e.prototype.reverse=function(n,t){return ce("reverse")},e.prototype.concat=function(n,t){return ce("concat")},e.prototype.neg=function(n){return ce("neg")},e.prototype.add=function(n,t){return ce("add")},e.prototype.addN=function(n){return ce("addN")},e.prototype.subtract=function(n,t){return ce("subtract")},e.prototype.multiply=function(n,t){return ce("multiply")},e.prototype.realDivide=function(n,t){return ce("realDivide")},e.prototype.floorDiv=function(n,t){return ce("floorDiv")},e.prototype.sum=function(n,t){return ce("sum")},e.prototype.prod=function(n,t){return ce("prod")},e.prototype.unsortedSegmentSum=function(n,t,r){return ce("unsortedSegmentSum")},e.prototype.argMin=function(n,t){return ce("argMin")},e.prototype.argMax=function(n,t){return ce("argMax")},e.prototype.equal=function(n,t){return ce("equal")},e.prototype.notEqual=function(n,t){return ce("notEqual")},e.prototype.less=function(n,t){return ce("less")},e.prototype.lessEqual=function(n,t){return ce("lessEqual")},e.prototype.greater=function(n,t){return ce("greater")},e.prototype.greaterEqual=function(n,t){return ce("greaterEqual")},e.prototype.logicalNot=function(n){return ce("logicalNot")},e.prototype.logicalAnd=function(n,t){return ce("logicalAnd")},e.prototype.logicalOr=function(n,t){return ce("logicalOr")},e.prototype.where=function(n){return ce("where")},e.prototype.select=function(n,t,r){return ce("select")},e.prototype.topk=function(n,t,r){return ce("topk")},e.prototype.min=function(n,t){return ce("min")},e.prototype.minimum=function(n,t){return ce("minimum")},e.prototype.mod=function(n,t){return ce("mod")},e.prototype.max=function(n,t){return ce("max")},e.prototype.maximum=function(n,t){return ce("maximum")},e.prototype.all=function(n,t){return ce("all")},e.prototype.any=function(n,t){return ce("any")},e.prototype.squaredDifference=function(n,t){return ce("squaredDifference")},e.prototype.ceil=function(n){return ce("ceil")},e.prototype.floor=function(n){return ce("floor")},e.prototype.round=function(n){return ce("round")},e.prototype.sign=function(n){return ce("sign")},e.prototype.isNaN=function(n){return ce("isNaN")},e.prototype.isInf=function(n){return ce("isInf")},e.prototype.isFinite=function(n){return ce("isFinite")},e.prototype.pow=function(n,t){return ce("pow")},e.prototype.exp=function(n){return ce("exp")},e.prototype.expm1=function(n){return ce("expm1")},e.prototype.softmax=function(n,t){return ce("softmax")},e.prototype.log=function(n){return ce("log")},e.prototype.log1p=function(n){return ce("log1p")},e.prototype.sqrt=function(n){return ce("sqrt")},e.prototype.rsqrt=function(n){return ce("rsqrt")},e.prototype.square=function(n){return ce("square")},e.prototype.reciprocal=function(n){return ce("reciprocal")},e.prototype.relu=function(n){return ce("relu")},e.prototype.relu6=function(n){return ce("relu6")},e.prototype.prelu=function(n,t){return ce("prelu")},e.prototype.elu=function(n){return ce("elu")},e.prototype.eluDer=function(n,t){return ce("eluDer")},e.prototype.selu=function(n){return ce("selu")},e.prototype.int=function(n){return ce("int")},e.prototype.clip=function(n,t,r){return ce("clip")},e.prototype.abs=function(n){return ce("abs")},e.prototype.complexAbs=function(n){return ce("complexAbs")},e.prototype.sigmoid=function(n){return ce("sigmoid")},e.prototype.softplus=function(n){return ce("softplus")},e.prototype.sin=function(n){return ce("sin")},e.prototype.cos=function(n){return ce("cos")},e.prototype.tan=function(n){return ce("tan")},e.prototype.asin=function(n){return ce("asin")},e.prototype.acos=function(n){return ce("acos")},e.prototype.atan=function(n){return ce("atan")},e.prototype.atan2=function(n,t){return ce("atan2")},e.prototype.sinh=function(n){return ce("sinh")},e.prototype.cosh=function(n){return ce("cosh")},e.prototype.tanh=function(n){return ce("tanh")},e.prototype.asinh=function(n){return ce("asinh")},e.prototype.acosh=function(n){return ce("acosh")},e.prototype.atanh=function(n){return ce("atanh")},e.prototype.erf=function(n){return ce("erf")},e.prototype.step=function(n,t){return ce("step")},e.prototype.fusedConv2d=function(n){return n.input,n.filter,n.convInfo,n.bias,n.activation,n.preluActivationWeights,ce("fusedConv2d")},e.prototype.conv2d=function(n,t,r){return ce("conv2d")},e.prototype.conv2dDerInput=function(n,t,r){return ce("conv2dDerInput")},e.prototype.conv2dDerFilter=function(n,t,r){return ce("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(n){return n.input,n.filter,n.convInfo,n.bias,n.activation,n.preluActivationWeights,ce("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(n,t,r){return ce("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(n,t,r){return ce("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(n,t,r){return ce("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(n,t,r){return ce("conv3d")},e.prototype.conv3dDerInput=function(n,t,r){return ce("conv3dDerInput")},e.prototype.conv3dDerFilter=function(n,t,r){return ce("conv3dDerFilter")},e.prototype.maxPool=function(n,t){return ce("maxPool")},e.prototype.maxPoolBackprop=function(n,t,r,o){return ce("maxPoolBackprop")},e.prototype.avgPool=function(n,t){return ce("avgPool")},e.prototype.avgPoolBackprop=function(n,t,r){return ce("avgPoolBackprop")},e.prototype.avgPool3d=function(n,t){return ce("avgPool3d")},e.prototype.avgPool3dBackprop=function(n,t,r){return ce("avgPool3dBackprop")},e.prototype.maxPool3d=function(n,t){return ce("maxPool3d")},e.prototype.maxPool3dBackprop=function(n,t,r,o){return ce("maxPool3dBackprop")},e.prototype.reshape=function(n,t){return ce("reshape")},e.prototype.cast=function(n,t){return ce("cast")},e.prototype.tile=function(n,t){return ce("tile")},e.prototype.pad=function(n,t,r){return ce("pad")},e.prototype.transpose=function(n,t){return ce("transpose")},e.prototype.gather=function(n,t,r){return ce("gather")},e.prototype.gatherND=function(n,t){return ce("gatherND")},e.prototype.scatterND=function(n,t,r){return ce("scatterND")},e.prototype.batchToSpaceND=function(n,t,r){return ce("batchToSpaceND")},e.prototype.spaceToBatchND=function(n,t,r){return ce("spaceToBatchND")},e.prototype.resizeBilinear=function(n,t,r,o){return ce("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(n,t,r){return ce("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(n,t,r,o){return ce("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(n,t,r){return ce("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(n,t,r,o,a,i){return ce("batchNormalization")},e.prototype.localResponseNormalization4D=function(n,t,r,o,a){return ce("localResponseNormalization4D")},e.prototype.LRNGrad=function(n,t,r,o,a,i,s){return ce("LRNGrad")},e.prototype.multinomial=function(n,t,r,o){return ce("multinomial")},e.prototype.oneHot=function(n,t,r,o){return ce("oneHot")},e.prototype.cumsum=function(n,t,r,o){return ce("cumsum")},e.prototype.nonMaxSuppression=function(n,t,r,o,a){return ce("nonMaxSuppression")},e.prototype.fft=function(n){return ce("fft")},e.prototype.ifft=function(n){return ce("ifft")},e.prototype.complex=function(n,t){return ce("complex")},e.prototype.real=function(n){return ce("real")},e.prototype.imag=function(n){return ce("imag")},e.prototype.cropAndResize=function(n,t,r,o,a,i){return ce("cropAndResize")},e.prototype.depthToSpace=function(n,t,r){return ce("depthToSpace")},e.prototype.split=function(n,t,r){return ce("split")},e.prototype.sparseToDense=function(n,t,r,o){return ce("sparseToDense")},e.prototype.diag=function(n){return ce("diag")},e.prototype.fill=function(n,t,r){return ce("fill")},e.prototype.onesLike=function(n){return ce("onesLike")},e.prototype.zerosLike=function(n){return ce("zerosLike")},e.prototype.linspace=function(n,t,r){return ce("linspace")},e.prototype.dispose=function(){return ce("dispose")},e})();function ce(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function rs(e,n){for(var t=e.length,r=[],o=0;o<t;o++){var a=t-1-o,i=e[a]||1;(n[n.length-1-o]||1)>1&&i===1&&r.unshift(a)}return r}function kn(e,n){for(var t=[],r=0;r<n.length;r++){var o=e[e.length-r-1],a=n.length-r-1,i=n[a];(o==null||o===1&&i>1)&&t.unshift(a)}return t}function _t(e,n){for(var t=[],r=Math.max(e.length,n.length),o=0;o<r;o++){var a=e[e.length-o-1];a==null&&(a=1);var i=n[n.length-o-1];if(i==null&&(i=1),a===1)t.unshift(i);else if(i===1)t.unshift(a);else{if(a!==i)throw Error("Operands could not be broadcast together with shapes "+e+" and "+n+".");t.unshift(a)}}return t}function rf(e,n,t,r,o,a,i){i===void 0&&(i="channelsLast");var s,u=Em(n),c=u[0],f=u[1];if(i==="channelsLast")s=[c,f,e[3],e[3]];else{if(i!=="channelsFirst")throw new Error("Unknown dataFormat "+i);s=[c,f,e[1],e[1]]}return gl(e,s,t,r,o,a,!1,i)}function Sm(e,n,t,r,o,a,i){i===void 0&&(i="NDHWC");var s,u,c=Dx(n),f=c[0],h=c[1],m=c[2];if(i==="NDHWC")u="channelsLast",s=[f,h,m,e[4],e[4]];else{if(i!=="NCDHW")throw new Error("Unknown dataFormat "+i);u="channelsFirst",s=[f,h,m,e[1],e[1]]}return Cm(e,s,t,r,o,!1,u,a)}function gl(e,n,t,r,o,a,i,s){i===void 0&&(i=!1),s===void 0&&(s="channelsLast");var u=[-1,-1,-1,-1],c=u[0],f=u[1],h=u[2],m=u[3];if(s==="channelsLast")c=e[0],f=e[1],h=e[2],m=e[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);c=e[0],m=e[1],f=e[2],h=e[3]}var v,b=n[0],x=n[1],w=n[3],S=Em(t),E=S[0],R=S[1],D=Em(r),A=D[0],N=D[1],k=Iu(b,A),M=Iu(x,N),I=(function(W,X,j,U,V,q,B,G){var J,ne,he;if(typeof W=="number"){J={top:W,bottom:W,left:W,right:W,type:W===0?"VALID":"NUMBER"};var Se=(function(je,Be,Te,We,ct){We==null&&(We=T4(je,Be,Te));var at=je[0],_e=je[1],De=Id((at-Be+2*We)/Te+1,ct);$(gn(De),(function(){return"The output # of rows ("+De+") must be an integer. Change the stride and/or zero pad parameters"}));var ke=Id((_e-Be+2*We)/Te+1,ct);return $(gn(ke),(function(){return"The output # of columns ("+ke+") must be an integer. Change the stride and/or zero pad parameters"})),[De,ke]})([X,j],q,U,W,G);ne=Se[0],he=Se[1]}else if(W==="same"){ne=Math.ceil(X/U),he=Math.ceil(j/V);var ae=Math.max(0,(ne-1)*U+q-X),le=Math.max(0,(he-1)*V+B-j),ge=Math.floor(ae/2),me=ae-ge,Pe=Math.floor(le/2);J={top:ge,bottom:me,left:Pe,right:le-Pe,type:"SAME"}}else{if(W!=="valid")throw Error("Unknown padding parameter: "+W);J={top:0,bottom:0,left:0,right:0,type:"VALID"},ne=Math.ceil((X-q+1)/U),he=Math.ceil((j-B+1)/V)}return{padInfo:J,outHeight:ne,outWidth:he}})(o,f,h,E,R,k,M,a),P=I.padInfo,L=I.outHeight,F=I.outWidth,Y=i?w*m:w;return s==="channelsFirst"?v=[c,Y,L,F]:s==="channelsLast"&&(v=[c,L,F,Y]),{batchSize:c,dataFormat:s,inHeight:f,inWidth:h,inChannels:m,outHeight:L,outWidth:F,outChannels:Y,padInfo:P,strideHeight:E,strideWidth:R,filterHeight:b,filterWidth:x,effectiveFilterHeight:k,effectiveFilterWidth:M,dilationHeight:A,dilationWidth:N,inShape:e,outShape:v,filterShape:n}}function Cm(e,n,t,r,o,a,i,s){a===void 0&&(a=!1),i===void 0&&(i="channelsLast");var u=[-1,-1,-1,-1,-1],c=u[0],f=u[1],h=u[2],m=u[3],v=u[4];if(i==="channelsLast")c=e[0],f=e[1],h=e[2],m=e[3],v=e[4];else{if(i!=="channelsFirst")throw new Error("Unknown dataFormat "+i);c=e[0],v=e[1],f=e[2],h=e[3],m=e[4]}var b,x=n[0],w=n[1],S=n[2],E=n[4],R=Dx(t),D=R[0],A=R[1],N=R[2],k=Dx(r),M=k[0],I=k[1],P=k[2],L=Iu(x,M),F=Iu(w,I),Y=Iu(S,P),W=(function(B,G,J,ne,he,Se,ae,le,ge,me,Pe){var je,Be,Te,We;if(typeof B=="number"){je={top:B,bottom:B,left:B,right:B,front:B,back:B,type:B===0?"VALID":"NUMBER"};var ct=(function(qt,Ae,Fe,it,Mt,Dt){Mt==null&&(Mt=T4(qt,Ae,it));var Pn=qt[0],Ft=qt[1],Qt=qt[2],Tr=Id((Pn-Ae+2*Mt)/it+1,Dt);$(gn(Tr),(function(){return"The output # of depths ("+Tr+") must be an integer. Change the stride and/or zero pad parameters"}));var $r=Id((Ft-Ae+2*Mt)/it+1,Dt);$(gn($r),(function(){return"The output # of rows ("+$r+") must be an integer. Change the stride and/or zero pad parameters"}));var vr=Id((Qt-Ae+2*Mt)/it+1,Dt);return $(gn(vr),(function(){return"The output # of columns ("+vr+") must be an integer. Change the stride and/or zero pad parameters"})),[Tr,$r,vr,Fe]})([G,J,ne,1],le,1,he,B,Pe);Be=ct[0],Te=ct[1],We=ct[2]}else if(B==="same"){Be=Math.ceil(G/he),Te=Math.ceil(J/Se),We=Math.ceil(ne/ae);var at=(Be-1)*he+le-G,_e=(Te-1)*Se+ge-J,De=(We-1)*ae+me-ne,ke=Math.floor(at/2),tt=at-ke,lt=Math.floor(_e/2),nt=_e-lt,$e=Math.floor(De/2);je={top:lt,bottom:nt,left:$e,right:De-$e,front:ke,back:tt,type:"SAME"}}else{if(B!=="valid")throw Error("Unknown padding parameter: "+B);je={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},Be=Math.ceil((G-le+1)/he),Te=Math.ceil((J-ge+1)/Se),We=Math.ceil((ne-me+1)/ae)}return{padInfo:je,outDepth:Be,outHeight:Te,outWidth:We}})(o,f,h,m,D,A,N,L,F,Y,s),X=W.padInfo,j=W.outDepth,U=W.outHeight,V=W.outWidth,q=a?E*v:E;return i==="channelsFirst"?b=[c,q,j,U,V]:i==="channelsLast"&&(b=[c,j,U,V,q]),{batchSize:c,dataFormat:i,inDepth:f,inHeight:h,inWidth:m,inChannels:v,outDepth:j,outHeight:U,outWidth:V,outChannels:q,padInfo:X,strideDepth:D,strideHeight:A,strideWidth:N,filterDepth:x,filterHeight:w,filterWidth:S,effectiveFilterDepth:L,effectiveFilterHeight:F,effectiveFilterWidth:Y,dilationDepth:M,dilationHeight:I,dilationWidth:P,inShape:e,outShape:b,filterShape:n}}function T4(e,n,t,r){r===void 0&&(r=1);var o=Iu(n,r);return Math.floor((e[0]*(t-1)-t+o)/2)}function Em(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function Dx(e){return typeof e=="number"?[e,e,e]:e}function Iu(e,n){return n<=1?e:e+(e-1)*(n-1)}function Id(e,n){if(!n)return e;switch(n){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+n)}}function Xu(e){var n=Em(e),t=n[0],r=n[1],o=n[2];return t===1&&r===1&&o===1}function Wr(e,n){return Xu(e)||Xu(n)}function Ww(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function D4(e,n,t){if(n==="complex64"){if(e.dtype==="complex64")return e.clone();var r=Jt(e.shape),o=e.toFloat(),a=t.complex(o,r);return r.dispose(),o.dispose(),a}if(!dJ(e.dtype,n))return ee.makeTensorFromDataId(e.dataId,e.shape,n);if(e.dtype==="complex64"){var i=t.real(e);return a=i.cast(n),i.dispose(),a}if(n==="int32")return t.int(e);if(n==="bool"){var s=Ie(0,e.dtype);return a=t.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+n)}function Ax(e,n){return ee.makeTensorFromDataId(e.dataId,n,e.dtype)}function A4(e,n,t){var r=(n-e)/(t-1),o=Mf(t,"float32");o[0]=e;for(var a=1;a<o.length;a++)o[a]=o[a-1]+r;return Sn(o,"float32")}function Nx(e,n){if(e.length!==n.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+n.length+".");for(var t=new Float32Array(2*e.length),r=0;r<t.length;r+=2)t[r]=e[r/2],t[r+1]=n[r/2];return t}function mD(e,n){return{real:e[2*n],imag:e[2*n+1]}}function LZ(e,n,t,r){e[2*r]=n,e[2*r+1]=t}function zZ(e,n,t){var r=(t?2:-2)*Math.PI*(e/n);return{real:Math.cos(r),imag:Math.sin(r)}}function UZ(e,n,t){var r=(function(a,i,s){return(function(u,c,f){for(var h=0,m=u.length,v=0,b=!1;h<m;){var x=f(c,u[v=h+(m-h>>>1)]);x>0?h=v+1:(m=v,b=!x)}return b?h:-h-1})(a,i,s||VZ)})(e,n,t),o=r<0?-(r+1):r;e.splice(o,0,n)}function VZ(e,n){return e>n?1:e<n?-1:0}function $w(e,n,t,r,o){return N4(e,n,t,r,o,0).selectedIndices}function Gw(e,n,t,r,o,a){var i=N4(e,n,t,r,o,a);return i.numValidOutputs.dispose(),{selectedIndices:i.selectedIndices,selectedScores:i.selectedScores}}function N4(e,n,t,r,o,a,i,s){s===void 0&&(s=!1);for(var u=Array.from(n).map((function(D,A){return{score:D,boxIndex:A,suppressBeginIndex:0}})).filter((function(D){return D.score>o})).sort(vD),c=a>0?-.5/a:0,f=[],h=[];f.length<t&&u.length>0;){var m=u.pop(),v=m.score,b=m.boxIndex,x=m.suppressBeginIndex;if(v<o)break;for(var w=!1,S=f.length-1;S>=x;--S){var E=HZ(e,b,f[S]);if(E>=r){w=!0;break}if(m.score=m.score*WZ(r,c,E),m.score<=o)break}m.suppressBeginIndex=f.length,w||(m.score===v?(f.push(b),h.push(m.score)):m.score>o&&UZ(u,m,vD))}var R=f.length;return s&&(f.fill(0,R),h.fill(0,R)),{selectedIndices:Sn(f,"int32"),selectedScores:Sn(h,"float32"),numValidOutputs:Ie(R,"int32")}}function HZ(e,n,t){var r=e.subarray(4*n,4*n+4),o=e.subarray(4*t,4*t+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(o[0],o[2]),f=Math.min(o[1],o[3]),h=Math.max(o[0],o[2]),m=Math.max(o[1],o[3]),v=(s-a)*(u-i),b=(h-c)*(m-f);if(v<=0||b<=0)return 0;var x=Math.max(a,c),w=Math.max(i,f),S=Math.min(s,h),E=Math.min(u,m),R=Math.max(S-x,0)*Math.max(E-w,0);return R/(v+b-R)}function WZ(e,n,t){var r=Math.exp(n*t*t);return t<=e?r:0}function vD(e,n){return e.score-n.score||e.score===n.score&&n.boxIndex-e.boxIndex}function k4(e,n,t){var r=new Array(e.rank).fill(0),o=e.shape.slice();return n.map((function(a){o[t]=a;var i=e.slice(r,o);return r[t]+=a,i}))}function M4(e,n){for(var t=new Array(e.rank),r=0;r<t.length;r++)t[r]=e.shape[r]*n[r];var o=pt(t,e.dtype);for(r=0;r<o.values.length;++r){for(var a=o.indexToLoc(r),i=new Array(e.rank),s=0;s<i.length;s++)i[s]=a[s]%e.shape[s];var u=e.locToIndex(i);o.values[r]=e.values[u]}return o.toTensor()}function I4(e,n,t,r,o){for(var a=n[n.length-1],i=[e.length/a,a],s=i[0],u=i[1],c=ef(t,s*r),f=ef("int32",s*r),h=0;h<s;h++){for(var m=h*u,v=e.subarray(m,m+u),b=[],x=0;x<v.length;x++)b.push({value:v[x],index:x});b.sort((function(D,A){return A.value-D.value}));var w=h*r,S=c.subarray(w,w+r),E=f.subarray(w,w+r);for(x=0;x<r;x++)S[x]=b[x].value,E[x]=b[x].index}var R=n.slice();return R[R.length-1]=r,[tr(c,R,t),tr(f,R,"int32")]}function qw(e,n){for(var t=[],r=0;r<n.length;r++)n[r]&&t.push(r);var o=pt(e,"int32"),a=pt([t.length,e.length],"int32");for(r=0;r<t.length;r++){var i=o.indexToLoc(t[r]),s=r*e.length;a.values.set(i,s)}return a.toTensor()}var $Z=function(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((function(o,a){return"T"+a}));var t=[];this.variableNames.forEach((function(o){t.push("float v"+o+" = get"+o+"AtOutCoords();")}));var r=this.variableNames.map((function(o){return"v"+o})).join(" + ");this.userCode=`
      void main() {
        `+t.join(`
        `)+`

        float result = `+r+`;
        setOutput(result);
      }
    `},GZ=function(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((function(o,a){return"T"+a}));var t=[];this.variableNames.forEach((function(o){t.push("vec4 v"+o+" = get"+o+"AtOutCoords();")}));var r=this.variableNames.map((function(o){return"v"+o})).join(" + ");this.userCode=`
      void main() {
        `+t.join(`
        `)+`

        vec4 result = `+r+`;
        setOutput(result);
      }
    `},qZ=function(e,n,t){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,a=e.inSize,i=Math.ceil(a/r);t||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var s=n==="max"?">":"<",u=t?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+r+`; i++) {
          int inIdx = `+u+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function O4(e,n){return["x","y","z","w","u","v"].slice(0,n).map((function(t){return e+"."+t}))}function Pr(e,n){return n===1?[e]:O4(e,n)}function cr(){var e,n,t,r,o,a,i,s,u,c;return ve().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",n="in",t="out",r="in",o="texture",a="outputColor",i="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,u="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",n="attribute",t="varying",r="varying",o="texture2D",a="gl_FragColor",i="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:n,varyingVs:t,varyingFs:r,texture2D:o,output:a,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function Zs(e,n,t){t===void 0&&(t="index");var r=Ra(n);return r.map((function(o,a){return"int "+e[a]+" = "+t+" / "+o+"; "+(a===r.length-1?"int "+e[a+1]+" = "+t+" - "+e[a]+" * "+o:"index -= "+e[a]+" * "+o)+";"})).join("")}function Xw(e){var n=Ra(e).map((function(t){return t.toString()}));return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+n[0]+" + coords.y * "+n[1]+` + coords.z;
  }
`}var P4=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function XZ(e,n,t,r){var o=[];e.forEach((function(v){var b=qe(v.shapeInfo.logicalShape);v.shapeInfo.isUniform?o.push("uniform float "+v.name+(b>1?"["+b+"]":"")+";"):(o.push("uniform sampler2D "+v.name+";"),o.push("uniform int offset"+v.name+";"))}));var a,i,s=o.join(`
`),u=e.map((function(v){return(function(b,x,w){w===void 0&&(w=!1);var S="";S+=w?j4(b):yu(b);var E=b.shapeInfo.logicalShape,R=x.logicalShape;return E.length<=R.length&&(S+=w?(function(D,A){var N,k=D.name,M=k.charAt(0).toUpperCase()+k.slice(1),I="get"+M+"AtOutCoords",P=D.shapeInfo.logicalShape.length,L=A.logicalShape.length,F=rs(D.shapeInfo.logicalShape,A.logicalShape),Y=Kt(L),W=L-P,X=["x","y","z","w","u","v"];N=P===0?"":L<2&&F.length>=1?"coords = 0;":F.map((function(J){return"coords."+X[J+W]+" = 0;"})).join(`
`);var j="";j=L<2&&P>0?"coords":D.shapeInfo.logicalShape.map((function(J,ne){return"coords."+X[ne+W]})).join(", ");var U="return outputValue;",V=qe(D.shapeInfo.logicalShape)===1,q=qe(A.logicalShape)===1;if(P!==1||V||q){if(V&&!q)U=L===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(F.length){var B=P-2,G=P-1;F.indexOf(B)>-1&&F.indexOf(G)>-1?U="return vec4(outputValue.x);":F.indexOf(B)>-1?U="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":F.indexOf(G)>-1&&(U="return vec4(outputValue.xx, outputValue.zz);")}}else U=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+I+`() {
      `+Y+` coords = getOutputCoords();
      `+N+`
      vec4 outputValue = get`+M+"("+j+`);
      `+U+`
    }
  `})(b,x):(function(D,A){var N=D.name,k=N.charAt(0).toUpperCase()+N.slice(1),M="get"+k+"AtOutCoords",I=A.texShape,P=D.shapeInfo.texShape,L=D.shapeInfo.logicalShape.length,F=A.logicalShape.length;if(!D.shapeInfo.isUniform&&L===F&&D.shapeInfo.flatOffset==null&&Gn(P,I))return`
      float `+M+`() {
        return sampleTexture(`+N+`, resultUV);
      }
    `;var Y,W=Kt(F),X=rs(D.shapeInfo.logicalShape,A.logicalShape),j=F-L,U=["x","y","z","w","u","v"];Y=L===0?"":F<2&&X.length>=1?"coords = 0;":X.map((function(q){return"coords."+U[q+j]+" = 0;"})).join(`
`);var V="";return V=F<2&&L>0?"coords":D.shapeInfo.logicalShape.map((function(q,B){return"coords."+U[B+j]})).join(", "),`
    float `+M+`() {
      `+W+` coords = getOutputCoords();
      `+Y+`
      return get`+k+"("+V+`);
    }
  `})(b,x)),S})(v,n,r)})).join(`
`),c=n.texShape,f=cr(),h=(function(v){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+v.texture2D+`(textureSampler, uv).r;
    }
  `})(f),m=(function(v){return v.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+v.varyingFs+` vec2 resultUV;
    `+v.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+v.defineSpecialNaN+`
    `+v.defineSpecialInf+`
    `+v.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+YZ+`
    `+KZ+`
    `+QZ+`
  `})(f);return n.isPacked?(a=(function(v,b){switch(v.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(D,A){var N=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)];return N[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+N[1]+`.0);
      }
    `:N[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+N[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+N[0]+", "+N[1]+`));
      return 2 * (resTexRC.x * `+N[1]+` + resTexRC.y);
    }
  `})(0,b);case 2:return(function(D,A){var N=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)];if(Gn(D,A))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+N[0]+", "+N[1]+`));
      }
    `;var k=Math.ceil(D[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+N[0]+", "+N[1]+`));

      int index = resTexRC.x * `+N[1]+` + resTexRC.y;
      int r = 2 * (index / `+k+`);
      int c = imod(index, `+k+`) * 2;

      return ivec2(r, c);
    }
  `})(v,b);case 3:return x=v,w=b,S=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)],E=Math.ceil(x[2]/2),R=E*Math.ceil(x[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));
      int index = resTexRC.x * `+S[1]+` + resTexRC.y;

      int b = index / `+R+`;
      index -= b * `+R+`;

      int r = 2 * (index / `+E+`);
      int c = imod(index, `+E+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return(function(D,A){for(var N=[Math.ceil(A[0]/2),Math.ceil(A[1]/2)],k=Math.ceil(D[D.length-1]/2),M=k*Math.ceil(D[D.length-2]/2),I=M,P="",L="b, r, c",F=2;F<D.length-1;F++)I*=D[D.length-F-1],P=`
      int b`+F+" = index / "+I+`;
      index -= b`+F+" * "+I+`;
    `+P,L="b"+F+", "+L;return`
    ivec`+D.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+N[0]+", "+N[1]+`));
      int index = resTexRC.x * `+N[1]+` + resTexRC.y;

      `+P+`

      int b = index / `+M+`;
      index -= b * `+M+`;

      int r = 2 * (index / `+k+`);
      int c = imod(index, `+k+`) * 2;

      return ivec`+D.length+"("+L+`);
    }
  `})(v,b)}var x,w,S,E,R})(n.logicalShape,c),i=(function(v){return`
    void setOutput(vec4 val) {
      `+v.output+` = val;
    }
  `})(f)):(a=(function(v,b){switch(v.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(S,E){return E[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+E[1]+`.0);
      }
    `:E[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+E[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      return resTexRC.x * `+E[1]+` + resTexRC.y;
    }
  `})(0,b);case 2:return(function(S,E){return Gn(S,E)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+E[0]+", "+E[1]+`));
      }
    `:S[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+E[0]+", "+E[1]+`));
        int index = resTexRC.x * `+E[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:S[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+E[0]+", "+E[1]+`));
        int index = resTexRC.x * `+E[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;
      int r = index / `+S[1]+`;
      int c = index - r * `+S[1]+`;
      return ivec2(r, c);
    }
  `})(v,b);case 3:return x=b,w=Zs(["r","c","d"],v),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+x[0]+", "+x[1]+`));
      int index = resTexRC.x * `+x[1]+` + resTexRC.y;
      `+w+`
      return ivec3(r, c, d);
    }
  `;case 4:return(function(S,E){var R=Zs(["r","c","d","d2"],S);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;
      `+R+`
      return ivec4(r, c, d, d2);
    }
  `})(v,b);case 5:return(function(S,E){var R=Zs(["r","c","d","d2","d3"],S);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+E[0]+`,
                             `+E[1]+`));

      int index = resTexRC.x * `+E[1]+` + resTexRC.y;

      `+R+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `})(v,b);case 6:return(function(S,E){var R=Zs(["r","c","d","d2","d3","d4"],S);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;

      `+R+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `})(v,b);default:throw new Error(v.length+"-D output sampling is not yet supported")}var x,w})(n.logicalShape,c),i=(function(v){return`
    void setOutput(float val) {
      `+v.output+` = vec4(val, 0, 0, 0);
    }
  `})(f)),r&&(m+=JZ),[m,h,i,s,a,u,t].join(`
`)}function yu(e){var n=e.shapeInfo.logicalShape;switch(n.length){case 0:return(function(t){var r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1);if(t.shapeInfo.isUniform)return"float "+o+"() {return "+r+";}";var a=t.shapeInfo.texShape,i=a[0],s=a[1];if(i===1&&s===1)return`
      float `+o+`() {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=t.shapeInfo.texShape,c=u[0],f=u[1],h=Us(r);return`
    float `+o+`() {
      vec2 uv = uvFromFlat(`+c+", "+f+", "+h+`);
      return sampleTexture(`+r+`, uv);
    }
  `})(e);case 1:return(function(t){var r=t.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1);if(t.shapeInfo.isUniform)return`
      float `+o+`(int index) {
        `+fu(t)+`
      }
    `;var a=t.shapeInfo.texShape,i=a[0],s=a[1];if(s===1&&i===1)return`
      float `+o+`(int index) {
        return sampleTexture(`+r+`, halfCR);
      }
    `;var u=Us(r);return s===1?`
      float `+o+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+u+") + 0.5) / "+i+`.0);
        return sampleTexture(`+r+`, uv);
      }
    `:i===1?`
      float `+o+`(int index) {
        vec2 uv = vec2((float(index + `+u+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+r+`, uv);
      }
    `:`
    float `+o+`(int index) {
      vec2 uv = uvFromFlat(`+i+", "+s+", index + "+u+`);
      return sampleTexture(`+r+`, uv);
    }
  `})(e);case 2:return(function(t){var r=t.shapeInfo.logicalShape,o=t.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=t.shapeInfo.texShape;if(i!=null&&Gn(r,i)){var s=i[0],u=i[1];return`
    float `+a+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+u+".0, "+s+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `}var c=Ys(r),f=c.newShape,h=c.keptDims,m=f;if(m.length<r.length){var v=bu(t,m);return`
      `+yu(v)+`
      float `+a+`(int row, int col) {
        return `+a+"("+xu(["row","col"],h)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+a+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+r[1]+`, 1)));
        `+fu(t)+`
      }
    `;var b=i[0],x=i[1],w=Us(o);return x===1?`
    float `+a+`(int row, int col) {
      float index = dot(vec3(row, col, `+w+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+b+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `:b===1?`
    float `+a+`(int row, int col) {
      float index = dot(vec3(row, col, `+w+"), vec3("+r[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+x+`.0, 0.5);
      return sampleTexture(`+o+`, uv);
    }
  `:`
  float `+a+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+r[1]+" + col + "+w+`;
    vec2 uv = uvFromFlat(`+b+", "+x+`, index);
    return sampleTexture(`+o+`, uv);
  }
`})(e);case 3:return(function(t){var r=t.shapeInfo.logicalShape,o=t.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=r[1]*r[2],s=r[2],u=Ys(r),c=u.newShape,f=u.keptDims,h=c;if(h.length<r.length){var m=bu(t,h);return`
        `+yu(m)+`
        float `+a+`(int row, int col, int depth) {
          return `+a+"("+xu(["row","col","depth"],f)+`);
        }
      `}if(t.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+i+", "+s+`, 1)));
        `+fu(t)+`
      }
    `;var v=t.shapeInfo.texShape,b=v[0],x=v[1],w=t.shapeInfo.flatOffset;if(x===i&&w==null)return`
        float `+a+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+x+".0, "+b+`.0);
          return sampleTexture(`+o+`, uv);
        }
      `;if(x===s&&w==null)return`
    float `+a+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+r[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+x+".0, "+b+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `;var S=Us(o);return`
      float `+a+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+i+" + col * "+s+" + depth + "+S+`;
        vec2 uv = uvFromFlat(`+b+", "+x+`, index);
        return sampleTexture(`+o+`, uv);
      }
  `})(e);case 4:return(function(t){var r=t.shapeInfo.logicalShape,o=t.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=r[3],s=r[2]*i,u=r[1]*s,c=Ys(r),f=c.newShape,h=c.keptDims;if(f.length<r.length){var m=bu(t,f);return`
      `+yu(m)+`
      float `+a+`(int row, int col, int depth, int depth2) {
        return `+a+"("+xu(["row","col","depth","depth2"],h)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+u+", "+s+", "+i+`, 1)));
        `+fu(t)+`
      }
    `;var v=t.shapeInfo.flatOffset,b=t.shapeInfo.texShape,x=b[0],w=b[1];if(w===u&&v==null)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+i+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+w+".0, "+x+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(w===i&&v==null)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+r[1]*r[2]+", "+r[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+w+".0, "+x+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var S=Us(o);return`
    float `+a+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+s+` +
          depth * `+i+` + depth2;
      vec2 uv = uvFromFlat(`+x+", "+w+", index + "+S+`);
      return sampleTexture(`+o+`, uv);
    }
  `})(e);case 5:return(function(t){var r=t.shapeInfo.logicalShape,o=t.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=r[4],s=r[3]*i,u=r[2]*s,c=r[1]*u,f=Ys(r),h=f.newShape,m=f.keptDims;if(h.length<r.length){var v=bu(t,h);return`
      `+yu(v)+`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        return `+a+"("+xu(["row","col","depth","depth2","depth3"],m)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+c+", "+u+", "+s+", "+i+`)) +
          depth3;
        `+fu(t)+`
      }
    `;var b=t.shapeInfo.flatOffset,x=t.shapeInfo.texShape,w=x[0],S=x[1];if(S===c&&b==null)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+u+", "+s+", "+i+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+S+".0, "+w+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(S===i&&b==null)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]+`,
               `+r[2]*r[3]+", "+r[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+S+".0, "+w+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var E=Us(o);return`
    float `+a+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+c+" + col * "+u+" + depth * "+s+` +
          depth2 * `+i+" + depth3 + "+E+`;
      vec2 uv = uvFromFlat(`+w+", "+S+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `})(e);case 6:return(function(t){var r=t.shapeInfo.logicalShape,o=t.name,a="get"+o.charAt(0).toUpperCase()+o.slice(1),i=Ys(r),s=i.newShape,u=i.keptDims;if(s.length<r.length){var c=bu(t,s);return`
      `+yu(c)+`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+a+"("+xu(["row","col","depth","depth2","depth3","depth4"],u)+`);
      }
    `}var f=r[5],h=r[4]*f,m=r[3]*h,v=r[2]*m,b=r[1]*v;if(t.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+b+", "+v+", "+m+", "+h+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+f+`, 1)));
        `+fu(t)+`
      }
    `;var x=t.shapeInfo.flatOffset,w=t.shapeInfo.texShape,S=w[0],E=w[1];if(E===b&&x==null)return`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+v+", "+m+", "+h+", "+f+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+E+".0, "+S+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(E===f&&x==null)return`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+r[1]*r[2]*r[3]*r[4]+`,
               `+r[2]*r[3]*r[4]+`,
               `+r[3]*r[4]+`,
               `+r[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+E+".0, "+S+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var R=Us(o);return`
    float `+a+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+b+" + col * "+v+" + depth * "+m+` +
          depth2 * `+h+" + depth3 * "+f+" + depth4 + "+R+`;
      vec2 uv = uvFromFlat(`+S+", "+E+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `})(e);default:throw new Error(n.length+"-D input sampling is not yet supported")}}function j4(e){var n,t,r;switch(e.shapeInfo.logicalShape.length){case 0:return n=e.name,t="get"+n.charAt(0).toUpperCase()+n.slice(1),r=cr(),`
    vec4 `+t+`() {
      return `+r.texture2D+"("+n+`, halfCR);
    }
  `;case 1:return(function(o){var a=o.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),s=o.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=cr();return`
    vec4 `+i+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+u[0]+", "+u[1]+`, index);
      return `+c.texture2D+"("+a+`, uv);
    }
  `})(e);case 2:return(function(o){var a=o.shapeInfo.logicalShape,i=o.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),u=o.shapeInfo.texShape,c=u[0],f=u[1],h=cr();if(u!=null&&Gn(a,u))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+f+".0, "+c+`.0);

        return `+h.texture2D+"("+i+`, uv);
      }
    `;var m=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],v=Math.ceil(a[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+v+", "+m[0]+", "+m[1]+`, row, col);
      return `+h.texture2D+"("+i+`, uv);
    }
  `})(e);case 3:return(function(o){var a=o.shapeInfo.logicalShape,i=o.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),u=o.shapeInfo.texShape,c=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];if(a[0]===1){var f=a.slice(1),h=bu(o,f);return`
        `+j4(h)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+xu(["b","row","col"],[1,2])+`);
        }
      `}var m=c[0],v=c[1],b=Math.ceil(a[2]/2),x=b*Math.ceil(a[1]/2),w=cr();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+m+", "+v+", "+x+", "+b+`, b, row, col);
      return `+w.texture2D+"("+i+`, uv);
    }
  `})(e);default:return(function(o){for(var a=o.shapeInfo.logicalShape,i=a.length,s=o.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),c=o.shapeInfo.texShape,f=[Math.ceil(c[0]/2),Math.ceil(c[1]/2)],h=f[0],m=f[1],v=Math.ceil(a[i-1]/2),b=v*Math.ceil(a[i-2]/2),x="int b, int row, int col",w="b * "+b+" + (row / 2) * "+v+" + (col / 2)",S=2;S<i-1;S++)x="int b"+S+", "+x,b*=a[i-S-1],w="b"+S+" * "+b+" + "+w;var E=cr();return`
    vec4 `+u+"("+x+`) {
      int index = `+w+`;
      int texR = index / `+m+`;
      int texC = index - texR * `+m+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+m+", "+h+`);
      return `+E.texture2D+"("+s+`, uv);
    }
  `})(e)}}var YZ=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,KZ=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,QZ=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,JZ=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Us(e){return"offset"+e}function fu(e){var n=e.name,t=qe(e.shapeInfo.logicalShape);return t<2?"return "+n+";":`
    for (int i = 0; i < `+t+`; i++) {
      if (i == index) {
        return `+n+`[i];
      }
    }
  `}function Kt(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function bu(e,n){var t=JSON.parse(JSON.stringify(e));return t.shapeInfo.logicalShape=n,t}function xu(e,n){return n.map((function(t){return e[t]})).join(", ")}var ZZ=function(e,n,t,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,$(e.length>2,(function(){return"Packed arg"+(t.charAt(0).toUpperCase()+t.slice(1))+" supports only inputs with rank above 2."}));var o=e[e.length-1],a=Math.ceil(o/n);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var i,s,u=this.outputShape,c=u.length,f=Kt(c),h=Pr("coords",c);if(a===1){var m=Kt(s=c+1);i=`
        `+m+" sourceLocR = "+m+"("+h.join()+`, 0);
        ++`+h[c-1]+`;
        `+m+" sourceLocG = "+m+"("+h.join()+`, 0);
        ++`+h[c-2]+`;
        `+m+" sourceLocA = "+m+"("+h.join()+`, 0);
        --`+h[c-1]+`;
        `+m+" sourceLocB = "+m+"("+h.join()+`, 0);
        --`+h[c-2]+";"}else s=c,i=`
        `+f+` sourceLocR = coords;
        ++`+h[c-1]+`;
        `+f+` sourceLocG = coords;
        ++`+h[c-2]+`;
        `+f+` sourceLocA = coords;
        --`+h[c-1]+`;
        `+f+` sourceLocB = coords;
        --`+h[c-2]+";";var v=["x","y","z","w","u","v"].slice(0,s),b="."+v[s-1],x=v.map((function(M){return"int "+M})),w=Pr("sourceLocR",s-1).concat("inIdx.r"),S=Pr("sourceLocG",s-1).concat("inIdx.g"),E=Pr("sourceLocB",s-1).concat("inIdx.b"),R=Pr("sourceLocA",s-1).concat("inIdx.a"),D=t==="max"?"greaterThan":"lessThan",A=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+w.join()+`),
                             getBestIndicesAChannel(`+S.join()+`),
                             getBestIndicesAChannel(`+E.join()+`),
                             getBestIndicesAChannel(`+R.join()+")));",N=`vec4(
            getAChannel(`+w.join()+`),
            hasNextCol ? getAChannel(`+S.join()+`) : 0.,
            hasNextRow ? getAChannel(`+E.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+R.join()+") : 0.)",k=r?"":`
      float getBestIndicesAChannel(`+x.join()+`) {
        return getChannel(getBestIndicesA(`+v.join()+`),
                                          vec2(`+v.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+x.join()+`) {
        return getChannel(getA(`+v.join()+`),
                               vec2(`+v.slice(-2).join()+`));
      }
      `+k+`
      void main() {
        `+f+` coords = getOutputCoords();
        bool hasNextCol = `+h[c-1]+" < "+(u[c-1]-1)+`;
        bool hasNextRow = `+h[c-2]+" < "+(u[c-2]-1)+`;
        `+i+`
        ivec4 srcIdx = ivec4(sourceLocR`+b+", sourceLocG"+b+`,
          sourceLocB`+b+", sourceLocA"+b+") * "+n+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+N+`;

        for (int i = 0; i < `+n+`; i++) {
          inIdx = srcIdx;
          `+A+`
          vec4 candidate = `+N+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+D+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},eee=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var n=e.filterHeight,t=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.top,f=u-1-e.padInfo.left,h=1/(n*t);this.userCode=`
      const ivec2 pads = ivec2(`+c+", "+f+`);
      const float avgMultiplier = float(`+h+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+a+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+u+`;
            wC+= `+i+`) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},tee=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var n=e.filterDepth,t=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,f=e.effectiveFilterDepth,h=e.effectiveFilterHeight,m=e.effectiveFilterWidth,v=f-1-e.padInfo.front,b=h-1-e.padInfo.top,x=m-1-e.padInfo.left,w=1/(n*t*r);this.userCode=`
      const ivec3 pads = ivec3(`+v+", "+b+", "+x+`);
      const float avgMultiplier = float(`+w+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+f+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+o+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+h+`;
              wR += `+u+`) {
            float dyR = float(dyRCorner + wR) / `+a+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+m+`;
                wC += `+c+`) {
              float dyC = float(dyCCorner + wC) / `+i+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},nee=function(e,n,t,r,o,a){this.outputShape=[],this.variableNames=["x","mean","variance"],_t(e,n),_t(e,t);var i="0.0";r!=null&&(_t(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="1.0";o!=null&&(_t(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+i+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+a+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},ree=function(e,n,t,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],_t(e,n),_t(e,t);var i="vec4(0.0)";r!=null&&(_t(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="vec4(1.0)";o!=null&&(_t(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+i+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+a+`));

        setOutput((x - mean) * inv + offset);
      }
    `},oee="return areal * breal - aimag * bimag;",aee="return areal * bimag + aimag * breal;",gD=function(e,n,t){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=_t(n,t),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},cb="return a + b;",db="return a - b;",yD="return a * b;",B4="return (a < 0.) ? b * a : a;",fn=function(e,n,t){this.variableNames=["A","B"],this.outputShape=_t(n,t),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},F4=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,ti=function(e,n,t,r){r===void 0&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=_t(n,t);var o=this.outputShape.length,a="";if(r)if(o===0||qe(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          `+Kt(o)+` coords = getOutputCoords();
        `,o===1)a+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var i=Pr("coords",o);a+=`
            bool nextRowOutOfBounds =
              (`+i[o-2]+" + 1) >= "+this.outputShape[o-2]+`;
            bool nextColOutOfBounds =
              (`+i[o-1]+" + 1) >= "+this.outputShape[o-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+a+`

        setOutput(result);
      }
    `},iee=(function(){function e(n){this.variableNames=["A"],this.outputShape=n,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(n,t){var r=this;return function(o,a){r.minLoc==null&&(r.minLoc=o.getUniformLocationNoThrow(a,"minVal"),r.maxLoc=o.getUniformLocationNoThrow(a,"maxVal")),o.gl.uniform1f(r.minLoc,n),o.gl.uniform1f(r.maxLoc,t)}},e})(),see=(function(){function e(n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(n,t){var r=this;return function(o,a){r.minLoc==null&&(r.minLoc=o.getUniformLocationNoThrow(a,"minVal"),r.maxLoc=o.getUniformLocationNoThrow(a,"maxVal")),o.gl.uniform1f(r.minLoc,n),o.gl.uniform1f(r.maxLoc,t)}},e})(),lee=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},uee=function(e){this.outputShape=[],this.outputShape=qu(e,1),this.variableNames=e.map((function(s,u){return"T"+u}));var n=new Array(e.length-1);n[0]=e[0][1];for(var t=1;t<n.length;t++)n[t]=n[t-1]+e[t][1];var r=["if (yC < "+n[0]+") setOutput(getT0(yR, yC));"];for(t=1;t<n.length;t++){var o=n[t-1];r.push("else if (yC < "+n[t]+") setOutput(getT"+t+"(yR, yC-"+o+"));")}var a=n.length,i=n[n.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+i+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+r.join(`
        `)+`
      }
    `},cee=function(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=qu(e,n);var t=this.outputShape,r=t.length,o=Kt(r),a=Pr("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(w,S){return"T"+S}));var s=new Array(e.length-1);s[0]=e[0][n];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][n];var c=i[n],f=i.slice(-2),h=i.join(),m="if ("+c+" < "+s[0]+`) {
        return getChannel(
            getT0(`+h+"), vec2("+f.join()+`));
        }`;for(u=1;u<s.length;u++){var v=s[u-1];m+=`
        if (`+c+" < "+s[u]+"  && "+c+" >= "+s[u-1]+`) {
          return getChannel(
            getT`+u+"("+gp(i,c,v)+`),
            vec2(`+gp(f,c,v)+`));
        }`}var b=s.length,x=s[s.length-1];m+=`
        return getChannel(
          getT`+b+"("+gp(i,c,x)+`),
          vec2(`+gp(f,c,x)+"));",this.userCode=`
      float getValue(`+i.map((function(w){return"int "+w}))+`) {
        `+m+`
      }

      void main() {
        `+o+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+a+`), 0., 0., 0.);

        `+a[r-1]+" = "+a[r-1]+` + 1;
        if (`+a[r-1]+" < "+t[r-1]+`) {
          result.g = getValue(`+a+`);
        }

        `+a[r-2]+" = "+a[r-2]+` + 1;
        if (`+a[r-2]+" < "+t[r-2]+`) {
          result.a = getValue(`+a+`);
        }

        `+a[r-1]+" = "+a[r-1]+` - 1;
        if (`+a[r-2]+" < "+t[r-2]+` &&
            `+a[r-1]+" < "+t[r-1]+`) {
          result.b = getValue(`+a+`);
        }
        setOutput(result);
      }
    `};function gp(e,n,t){var r=e.indexOf(n);return e.map((function(o,a){return a===r?o+" - "+t:o})).join()}var dee=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var n=e.strideHeight,t=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+n+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+t+" - "+o+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+a+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},fee=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var n=e.filterHeight,t=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dataFormat==="channelsLast",i=n-1-e.padInfo.top,s=t-1-e.padInfo.left,u=a?1:2,c=a?2:3,f=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+f+`];

        ivec2 dyCorner = ivec2(coords[`+u+"], coords["+c+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+n+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+n+` - 1 - wR;

          for (int wC = 0; wC < `+t+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+t+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+a+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},hee=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var n=e.strideDepth,t=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,a=e.padInfo.top,i=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+n+" - "+o+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+t+" - "+a+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+r+" - "+i+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},pee=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var n=e.filterDepth,t=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=n-1-e.padInfo.front,u=t-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+u+", "+c+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+n+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+o+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+n+` - 1 - wF;

          for (int wR = 0; wR < `+t+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+a+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+t+` - 1 - wR;

            for (int wC = 0; wC < `+r+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+i+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+r+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},mee=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var n=e.strideHeight,t=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+a+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+n+" - "+r+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+t+" - "+o+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},vee=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var n=e.filterHeight,t=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=n-1-e.padInfo.top,i=t-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+a+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+n+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+n+` - 1 - wR;

          for (int wC = 0; wC < `+t+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+t+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},bD=function(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,a=e.padInfo.left,i=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,f=e.filterHeight,h=e.filterWidth,m=4*Math.floor(e.inChannels/4),v=e.inChannels%4,b=e.dataFormat==="channelsLast",x=b?1:2,w=b?2:3,S=b?3:1,E="",R="";t&&(E=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`
          float activation(float x) {
            `+t+`
          }
        `,R="result = activation(result);");var D=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+E+`

      const ivec2 strides = ivec2(`+i+", "+s+`);
      const ivec2 pads = ivec2(`+o+", "+a+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+S+`];

        ivec2 xRCCorner =
            ivec2(coords[`+x+"], coords["+w+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+f+`; wR++) {
          int xR = xRCorner + wR * `+u+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+h+`; wC++) {
            int xC = xCCorner + wC * `+c+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+m+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+b+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(v===1)+`) {

              if (`+b+`) {
                dotProd +=
                    getX(batch, xR, xC, `+m+`) *
                    getW(wR, wC, `+m+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+m+`, xR, xC) *
                    getW(wR, wC, `+m+`, d2);
              }

            } else if (`+(v===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+m+`, d2),
                getW(wR, wC, `+m+` + 1, d2)
              );

              if (`+b+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+m+`),
                  getX(batch, xR, xC, `+m+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+m+`, xR, xC),
                  getX(batch, `+m+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(v===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+m+`, d2),
                getW(wR, wC, `+m+` + 1, d2),
                getW(wR, wC, `+m+` + 2, d2)
              );

              if (`+b+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+m+`),
                  getX(batch, xR, xC, `+m+` + 1),
                  getX(batch, xR, xC, `+m+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+m+`, xR, xC),
                  getX(batch, `+m+` + 1, xR, xC),
                  getX(batch, `+m+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+D+`
        `+R+`
        setOutput(result);
      }
    `},gee=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var n=e.padInfo.front,t=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,f=e.filterDepth,h=e.filterHeight,m=e.filterWidth,v=4*Math.floor(e.inChannels/4),b=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+o+", "+a+", "+i+`);
      const ivec3 pads = ivec3(`+n+", "+t+", "+r+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+f+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+h+`; wR++) {
            int xR = xRCorner + wR * `+u+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+m+`; wC++) {
              int xC = xCCorner + wC * `+c+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+v+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(b===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+v+`) *
                  getW(wF, wR, wC, `+v+`, d2);
              } else if (`+(b===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+v+`),
                  getX(batch, xF, xR, xC, `+v+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+v+`, d2),
                  getW(wF, wR, wC, `+v+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(b===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+v+`),
                  getX(batch, xF, xR, xC, `+v+` + 1),
                  getX(batch, xF, xR, xC, `+v+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+v+`, d2),
                  getW(wF, wR, wC, `+v+` + 1, d2),
                  getW(wF, wR, wC, `+v+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},xD=function(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,a=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,f=e.dilationHeight,h=e.dilationWidth,m=e.filterHeight,v=e.filterWidth,b=e.outChannels/e.inChannels,x="",w="";t&&(x=r?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`
          float activation(float x) {
            `+t+`
          }
        `,w="result = activation(result);");var S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+x+`

      const ivec2 strides = ivec2(`+u+", "+c+`);
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+b+`;
        int q = d2 - d1 * `+b+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+m+`; wR++) {
          int xR = xRCorner + wR * `+f+`;

          if (xR < 0 || xR >= `+o+`) {
            continue;
          }

          for (int wC = 0; wC < `+v+`; wC++) {
            int xC = xCCorner + wC * `+h+`;

            if (xC < 0 || xC >= `+a+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+S+`
        `+w+`
        setOutput(result);
      }
    `},wD=function(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=null),r===void 0&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,a=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,f=e.dilationHeight,h=e.dilationWidth,m=e.filterHeight,v=e.filterWidth,b=v,x="int xR; int xC; int xCOffset;",w=0;w<m;w++)for(var S=0;S<v;S++)x+=`
          vec4 xTexelR`+w+"C"+2*S+` = vec4(0.);
          vec4 wR`+w+"C"+S+` = vec4(0.);
          vec4 xR`+w+"C"+S+" = vec4(0.);";for(w=0;w<m;w++)for(var E=0;E<b;E++){if(x+=`
          xR = xRCorner + `+w*f+`;
          xC = xCCorner + `+(S=2*E)*h+`;
        `,c===1){if(S<v&&(x+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+a+`) {
                    xTexelR`+w+"C"+S+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+a+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+a+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+w+"C"+S+" = vec4(previous.zw, xTexelR"+w+"C"+S+`.xy);
                } else {
                  xR`+w+"C"+S+" = vec4(0, 0, xTexelR"+w+"C"+S+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+o+" && xC >= 0 && xC < "+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xR`+w+"C"+S+" = xTexelR"+w+"C"+S+`;
              `,S+1<v)){var R=s%2==0?n4(h):h;h%2==0&&s%2==1||h%2!=0&&s%2!=1?(x+=`
                  xCOffset = xC + `+s%2+" + "+R+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+a+`) {
                    xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,h>1&&(x+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+o+` &&
                      xCOffset >= 0 && xCOffset < `+a+`) {
                      xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+w+"C"+S+` = vec4(0.);
                    }
                  `),x+=`
                  xR`+w+"C"+(S+1)+` = vec4(
                    xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.xy);
                `):x+=`
                  xCOffset = xC + `+R+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+a+`) {
                    xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+w+"C"+(S+1)+" = xTexelR"+w+"C"+(S+2)+`;
                `}}else S<v&&(x+=`
              if(xR >= 0 && xR < `+o+`) {
            `,s%2==1?(x+=`
                xCOffset = xC + 1 - `+c+`;
                if(xCOffset >= 0 && xCOffset < `+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+a+`) {
                  xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+w+"C"+(S+2)+` = vec4(0.);
                }

                xR`+w+"C"+S+` = vec4(
                  xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.zw);
              `,S+1<v&&(x+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+c+`;
                  if(xCOffset >= 0 && xCOffset < `+a+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+w+"C"+(S+1)+" = vec4(xTexelR"+w+"C"+(S+2)+`.xy, final.xy);
                `)):(x+=`
                if(xC >= 0 && xC < `+a+`) {
                  xTexelR`+w+"C"+S+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+w+"C"+S+` = vec4(0.);
                }

                xCOffset = xC + `+c+`;
                if(xCOffset >= 0 && xCOffset < `+a+`) {
                  xTexelR`+w+"C"+(S+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+w+"C"+(S+2)+` = vec4(0.);
                }

                xR`+w+"C"+S+` = vec4(
                  xTexelR`+w+"C"+S+".xy, xTexelR"+w+"C"+(S+2)+`.xy);
              `,S+1<v&&(x+=`
                  xR`+w+"C"+(S+1)+` = vec4(
                    xTexelR`+w+"C"+S+".zw, xTexelR"+w+"C"+(S+2)+`.zw);
                `)),x+="}");S<v&&(x+=`
            vec4 wTexelR`+w+"C"+S+" = getW("+w+", "+S+`, d1, q);
            wR`+w+"C"+S+" = vec4(wTexelR"+w+"C"+S+".xz, wTexelR"+w+"C"+S+`.xz);
          `,S+1<v&&(x+=`
              vec4 wTexelR`+w+"C"+(S+1)+" = getW("+w+", "+(S+1)+`, d1, q);
              wR`+w+"C"+(S+1)+` =
                vec4(wTexelR`+w+"C"+(S+1)+".xz, wTexelR"+w+"C"+(S+1)+".xz);"))}for(w=0;w<m;w++)for(S=0;S<v;S++)x+="dotProd += xR"+w+"C"+S+" * wR"+w+"C"+S+";";var D="",A="";t&&(D=r?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`vec4 activation(vec4 x) {
          `+t+`
        }`,A="result = activation(result);");var N=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+D+`

      const ivec2 strides = ivec2(`+u+", "+c+`);
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+x+`

        vec4 result = dotProd;
        `+N+`
        `+A+`
        setOutput(result);
      }
    `},yee=function(e,n,t,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],i=e[1],s=e[2],u=e[3],c=n[0],f=t[0],h=t[1];this.outputShape=[c,f,h,u];var m=r==="bilinear"?1:0,v=[i-1+".0",s-1+".0"],b=v[0],x=v[1],w=f>1?[""+(i-1)/(f-1),"(y2-y1) * height_ratio","y1*"+b+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+b],S=w[0],E=w[1],R=w[2],D=h>1?[""+(s-1)/(h-1),"(x2-x1) * width_ratio","x1*"+x+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+x],A=D[0],N=D[1],k=D[2];this.userCode=`
      const float height_ratio = float(`+S+`);
      const float width_ratio = float(`+A+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+a+`) {
          return;
        }

        float height_scale = `+E+`;
        float width_scale = `+N+`;

        float in_y = `+R+`;
        if( in_y < 0.0 || in_y > `+b+` ) {
          setOutput(float(`+o+`));
          return;
        }
        float in_x = `+k+`;
        if( in_x < 0.0 || in_x > `+x+` ) {
          setOutput(float(`+o+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+m+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},bee=function(e,n,t){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],a=t?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(t?"return "+o+" -i - 1;":"return i;")+`
      }

      void main() {
        `+Kt(r)+` coords = getOutputCoords();
        int end = `+SD(r,"coords")+`;
        float val = 0.0;
        for (int i = `+o+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+a+` end) {
            continue;
          }
          if (idx == end && `+n+`) {
            continue;
          }
          `+SD(r,"coords")+` = idx;
          val += getX(`+(function(i,s){if(i===1)return""+s;if(i===2)return s+".x, "+s+".y";if(i===3)return s+".x, "+s+".y, "+s+".z";if(i===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+i+" is not yet supported")})(r,"coords")+`);
        }
        setOutput(val);
      }
    `};function SD(e,n){if(e===1)return""+n;if(e===2)return n+".y";if(e===3)return n+".z";if(e===4)return n+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var xee=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=nf.DENSE;var n=Md(e),t=cr();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Zs(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+n[0]+", "+n[1]+`));
        int index = 4 * (resTexRC.x * `+n[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+t.output+` = result;
      }
    `},wee=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=nf.DENSE;var n=Md(e),t=cr();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Zs(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+n[0]+", "+n[1]+`));
        int index = 4 * (resTexRC.x * `+n[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+t.output+` = result;
      }
    `},See=(function(){function e(n,t,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=n,this.blockSize=t,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+t+`;
      int offset_h = imod(h, `+t+`);
      int in_w = w / `+t+`;
      int offset_w = imod(w, `+t+`);
      int offset_d = (offset_h * `+t+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e})(),Cee=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},Eee=function(e){this.variableNames=["A"],this.outTexUsage=ro.DOWNLOAD;var n=cr();this.outputShape=e,this.userCode=`
      `+P4+`

      void main() {
        float x = getAAtOutCoords();
        `+n.output+` = encode_float(x);
      }
    `},Ree=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=ro.DOWNLOAD;var n=cr();this.outputShape=e,this.userCode=`
      `+P4+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+n.output+` = encode_float(x);
      }
    `},_ee=function(e,n,t){t===void 0&&(t=!1),this.variableNames=["A"];var r=cr(),o=n[0],a=n[1];this.outputShape=e;var i="result";t&&(i="floor(result * 255. + 0.5)"),this.userCode=`
      `+Xw(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+a+`;
        int c = imod(flatIndex, `+a+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+a+".0, "+o+`.0);
        vec4 values = `+r.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+r.output+" = vec4("+i+`, 0., 0., 0.);
      }
    `},Tee=function(e,n,t){t===void 0&&(t=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=cr(),o=n[0],a=n[1];this.outputShape=e;var i="",s="result";t&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var c=0;c<=1;c++){var f=2*u+c;i+=`
          localCoords = coords;
          if(localCoords[2] + `+c+" < "+e[2]+`) {
            localCoords[2] += `+c+`;
            if(localCoords[1] + `+u+" < "+e[1]+`) {
              localCoords[1] += `+u+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+a+`;
              c = imod(flatIndex, `+a+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+a+".0, "+o+`.0);
              values = `+r.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+f+`] = values[0];
              } else if(offset == 1) {
                result[`+f+`] = values[1];
              } else if(offset == 2) {
                result[`+f+`] = values[2];
              } else {
                result[`+f+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+Xw(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+i+`

        `+r.output+" = "+s+`;
      }
    `},Dee="return real * expR - imag * expI;",Aee="return real * expI + imag * expR;",CD=function(e,n,t){this.variableNames=["real","imag"];var r=n[1];this.outputShape=n;var o=t?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=t?r+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+o+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+r+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+r+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+a+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},Nee=(function(){function e(n,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=n,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(n){var t=this;return function(r,o){t.valueLoc==null&&(t.valueLoc=r.getUniformLocationNoThrow(o,"value")),r.gl.uniform1f(t.valueLoc,n)}},e})(),kee=function(e,n,t){this.variableNames=["A","indices"];var r=e.slice();r[t]=n,this.outputShape=r,this.rank=r.length;var o=Kt(this.rank),a=(function(i,s){var u=i.length;if(u>4)throw Error("Gather for rank "+u+" is not yet supported");if(u===1)return"int(getIndices(resRC))";for(var c=["resRC.x","resRC.y","resRC.z","resRC.w"],f=[],h=0;h<i.length;h++)h===s?f.push("int(getIndices("+c[h]+"))"):f.push(""+c[h]);return f.join()})(e,t);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+a+`));
      }
    `},Mee=function(e,n,t){this.sliceDim=e,this.strides=n,this.variableNames=["x","indices"],this.outputShape=t;var r=Kt(n.length),o=Kt(t.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+r+" strides = "+r+"("+this.strides+`);
         void main() {
          `+o+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+a+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function Iee(e,n){var t=cr();return DJ(e,n,t.version+`
    precision highp float;
    `+t.attribute+` vec3 clipSpacePos;
    `+t.attribute+` vec2 uv;
    `+t.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function Oee(e,n){return IJ(e,n,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Pee(e,n){return OJ(e,n,new Uint16Array([0,1,2,2,1,3]))}function Of(e,n,t,r,o,a,i){jJ(t,r);var s=PJ(e,n),u=e.TEXTURE_2D;return Ye(e,n,(function(){return e.bindTexture(u,s)})),Ye(e,n,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),Ye(e,n,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),Ye(e,n,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),Ye(e,n,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),Ye(e,n,(function(){return e.texImage2D(u,0,o,t,r,0,a,i,null)})),Ye(e,n,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function jee(e,n,t,r,o){var a=jv(t,r);return Of(e,n,a[0],a[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function Bee(e,n,t,r,o){var a=jv(t,r);return Of(e,n,a[0],a[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function Fee(e,n,t,r,o){var a=jv(t,r);return Of(e,n,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Lee(e,n,t,r,o){var a=If(t,r);return Of(e,n,a[0],a[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function zee(e,n,t,r,o){var a=If(t,r);return Of(e,n,a[0],a[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function Uee(e,n,t,r){return Ye(e,n,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),cD(e,n,t,"clipSpacePos",r,3,20,0)&&cD(e,n,t,"uv",r,2,20,12)}function Vee(e,n,t,r,o,a,i){var s,u,c;Ye(e,n,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(s=new Uint8Array(r*o*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(r*o*4),u=e.FLOAT,c=i.internalFormatPackedFloat),s.set(a),Ye(e,n,(function(){return e.texImage2D(e.TEXTURE_2D,0,c,r,o,0,e.RGBA,u,s)})),Ye(e,n,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Hee(e,n,t,r){Ye(e,n,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),r.data instanceof Uint8Array?Ye(e,n,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):Ye(e,n,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),Ye(e,n,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Wee(e,n,t,r,o){var a=e.createBuffer();Ye(e,n,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var i=16*t*r;return Ye(e,n,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),Ye(e,n,(function(){return e.readPixels(0,0,r,t,e.RGBA,e.FLOAT,0)})),Ye(e,n,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}function $ee(e,n,t){var r=e,o=new Float32Array(t);return r.bindBuffer(r.PIXEL_PACK_BUFFER,n),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function Gee(e,n,t,r,o){var a=jv(t,r),i=a[0],s=a[1],u=new Uint8Array(t*r*4);return Ye(e,n,(function(){return e.readPixels(0,0,i,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function qee(e,n,t,r,o,a,i,s){var u=e,c=new Float32Array((function(f,h){var m=If(f,h);return m[0]*m[1]*4})(a,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,n),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function Xee(e,n,t,r){var o=new Float32Array(t*r*4);return Ye(e,n,(function(){return e.readPixels(0,0,r,t,e.RGBA,e.FLOAT,o)})),o}var Yee=(function(){function e(n){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=ve().getNumber("WEBGL_VERSION");n!=null?(this.gl=n,CJ(t,n)):this.gl=Pa(t);var r="WEBGL_color_buffer_float";if(ve().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=hp(this.gl,this.debug,"OES_texture_float"),Ao(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=hp(this.gl,this.debug,"OES_texture_half_float");else if(ve().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Ao(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=hp(this.gl,this.debug,"EXT_color_buffer_half_float");else if(ve().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Ao(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Ao(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Oee(this.gl,this.debug),this.indexBuffer=Pee(this.gl,this.debug),this.framebuffer=BJ(this.gl,this.debug),this.textureConfig=Fw(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return ve().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var n=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Ye(t,this.debug,(function(){return t.finish()})),Ye(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Ye(t,this.debug,(function(){return t.deleteFramebuffer(n.framebuffer)})),Ye(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),Ye(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),Ye(t,this.debug,(function(){return t.deleteBuffer(n.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(n,t){return this.throwIfDisposed(),jee(this.gl,this.debug,n,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(n,t){return this.throwIfDisposed(),Bee(this.gl,this.debug,n,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(n,t){return this.throwIfDisposed(),Fee(this.gl,this.debug,n,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(n,t){this.throwIfDisposed(),Hee(this.gl,this.debug,n,t)},e.prototype.uploadDenseMatrixToTexture=function(n,t,r,o){this.throwIfDisposed(),Vee(this.gl,this.debug,n,t,r,o,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(n,t){return this.throwIfDisposed(),zee(this.gl,this.debug,n,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(n,t){return this.throwIfDisposed(),Lee(this.gl,this.debug,n,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(n){var t=this;this.throwIfDisposed(),this.outputTexture===n&&(dD(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Ye(this.gl,this.debug,(function(){return t.gl.deleteTexture(n)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(n,t,r){var o=this;return this.downloadMatrixDriver(n,(function(){return Gee(o.gl,o.debug,t,r,o.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(n,t,r,o,a,i){return qee(this.gl,n,0,0,0,a,i,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(n,t){return $ee(this.gl,n,t)},e.prototype.createBufferFromTexture=function(n,t,r){this.bindTextureToFrameBuffer(n);var o=Wee(this.gl,this.debug,t,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),o},e.prototype.createAndWaitForFence=function(){var n=this.createFence(this.gl);return this.pollFence(n)},e.prototype.createFence=function(n){var t,r,o=this;if(ve().getBool("WEBGL_FENCE_API_ENABLED")){var a=n,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);n.flush(),r=function(){var s=a.clientWaitSync(i,0,0);return s===a.ALREADY_SIGNALED||s===a.CONDITION_SATISFIED},t=i}else ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),r=function(){return o.isQueryAvailable(t,ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):r=function(){return!0};return{query:t,isFencePassed:r}},e.prototype.downloadMatrixFromPackedTexture=function(n,t,r){var o=this;return this.downloadMatrixDriver(n,(function(){return Xee(o.gl,o.debug,t,r)}))},e.prototype.createProgram=function(n){this.throwIfDisposed();var t=this.gl,r=AJ(t,this.debug,n),o=Iee(t,this.debug),a=kJ(t,this.debug);return Ye(t,this.debug,(function(){return t.attachShader(a,o)})),Ye(t,this.debug,(function(){return t.attachShader(a,r)})),MJ(t,this.debug,a),this.debug&&ib(t,this.debug,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=Uee(t,this.debug,this.program,this.vertexBuffer)),a},e.prototype.deleteProgram=function(n){var t=this;this.throwIfDisposed(),n===this.program&&(this.program=null),n!=null&&Ye(this.gl,this.debug,(function(){return t.gl.deleteProgram(n)}))},e.prototype.setProgram=function(n){var t=this;this.throwIfDisposed(),this.program=n,this.program!=null&&this.debug&&ib(this.gl,this.debug,this.program),Ye(this.gl,this.debug,(function(){return t.gl.useProgram(n)}))},e.prototype.getUniformLocation=function(n,t,r){return r===void 0&&(r=!0),this.throwIfDisposed(),r?LJ(this.gl,this.debug,n,t):zJ(this.gl,n,t)},e.prototype.getAttributeLocation=function(n,t){var r=this;return this.throwIfDisposed(),Ye(this.gl,this.debug,(function(){return r.gl.getAttribLocation(n,t)}))},e.prototype.getUniformLocationNoThrow=function(n,t){return this.throwIfDisposed(),this.gl.getUniformLocation(n,t)},e.prototype.setInputMatrixTexture=function(n,t,r){this.throwIfDisposed(),this.throwIfNoProgram(),UJ(this.gl,this.debug,this.program,n,t,r)},e.prototype.setOutputMatrixTexture=function(n,t,r){this.setOutputMatrixTextureDriver(n,r,t)},e.prototype.setOutputPackedMatrixTexture=function(n,t,r){this.throwIfDisposed();var o=If(t,r),a=o[0],i=o[1];this.setOutputMatrixTextureDriver(n,a,i)},e.prototype.setOutputMatrixWriteRegion=function(n,t,r,o){this.setOutputMatrixWriteRegionDriver(r,n,o,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(n,t,r,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&ib(this.gl,this.debug,this.program),pp(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var n=this.gl;this.debug&&this.debugValidate(),Ye(n,this.debug,(function(){return n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var n=this;this.throwIfDisposed(),Ye(this.gl,this.debug,(function(){return n.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=hp(this.gl,this.debug,ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var n=this.gl,t=this.getQueryTimerExtensionWebGL2(),r=n.createQuery();return n.beginQuery(t.TIME_ELAPSED_EXT,r),r}var o=this.getQueryTimerExtensionWebGL1(),a=o.createQueryEXT();return o.beginQueryEXT(o.TIME_ELAPSED_EXT,a),a},e.prototype.endQuery=function(){if(ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var n=this.getQueryTimerExtensionWebGL1();n.endQueryEXT(n.TIME_ELAPSED_EXT)}else{var t=this.gl,r=this.getQueryTimerExtensionWebGL2();t.endQuery(r.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(n){return Ve(this,void 0,void 0,(function(){var t=this;return He(this,(function(r){switch(r.label){case 0:return[4,oD((function(){return t.disposed||t.isQueryAvailable(n,ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return r.sent(),[2,this.getQueryTime(n,ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(n,t){if(t===0)return null;if(t===2){var r=this.gl;return r.getQueryParameter(n,r.QUERY_RESULT)/1e6}var o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(n,t){if(t===0)return!0;if(t===2){var r=this.gl,o=this.getQueryTimerExtensionWebGL2(),a=r.getQueryParameter(n,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),a&&!this.disjoint}return a=(o=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(n,o.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),a&&!this.disjoint},e.prototype.pollFence=function(n){var t=this;return new Promise((function(r){t.addItemToPoll((function(){return n.isFencePassed()}),(function(){return r()}))}))},e.prototype.pollItems=function(){for(var n=(function(r){for(var o=0;o<r.length&&r[o]();++o);return o-1})(this.itemsToPoll.map((function(r){return r.isDoneFn}))),t=0;t<=n;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(n+1)},e.prototype.addItemToPoll=function(n,t){var r=this;this.itemsToPoll.push({isDoneFn:n,resolveFn:t}),this.itemsToPoll.length>1||oD((function(){return r.pollItems(),r.itemsToPoll.length===0}))},e.prototype.bindTextureToFrameBuffer=function(n){this.throwIfDisposed(),sb(this.gl,this.debug,n,this.framebuffer),this.debug&&pp(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(sb(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&pp(this.gl)):dD(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(n,t){this.bindTextureToFrameBuffer(n);var r=t();return this.unbindTextureToFrameBuffer(),r},e.prototype.setOutputMatrixTextureDriver=function(n,t,r){this.throwIfDisposed();var o=this.gl;sb(o,this.debug,n,this.framebuffer),this.debug&&pp(o),this.outputTexture=n,Ye(o,this.debug,(function(){return o.viewport(0,0,t,r)})),Ye(o,this.debug,(function(){return o.scissor(0,0,t,r)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(n,t,r,o){var a=this;this.throwIfDisposed(),Ye(this.gl,this.debug,(function(){return a.gl.scissor(n,t,r,o)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e})();function ED(e,n){if(e.length!==n.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+n.length+" inputs");e.forEach((function(t,r){var o=t.logicalShape,a=n[r],i=a.shape;if(!Gn(o,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+o+" and "+i+" must match");if(!t.isUniform||!a.isUniform){var s=t.texShape,u=a.isUniform?null:a.texData.texShape;if(!Gn(s,u))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+u+" must match")}}))}var Kee=function(e,n,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=t.filterWidth,o=t.inChannels,a=t.strideWidth,i=t.strideHeight,s=t.padInfo,u=t.outWidth,c=t.dilationWidth,f=t.dilationHeight,h=t.dataFormat,m=s.left,v=s.top,b=o*r,x=cr(),w=h==="channelsLast",S=w?0:1,E=w?1:2,R="",D=0;D<=1;D++)for(var A=0;A<=1;A++)R+=`
          blockIndex = rc.y + `+A+`;
          pos = rc.x + `+D+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+u+")) * "+i+" - "+v+`;
            d0 = offsetY + `+f+" * (pos / "+b+`);

            if(d0 < `+n[S]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+u+".) * "+a+". - "+m+`.);
              d1 = offsetX + `+c+" * (int(mod(float(pos), "+b+".) / "+o+`.));

              if(d1 < `+n[E]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+o+`.));

                if (`+w+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*D+A)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*D+A)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+R+`

        `+x.output+` = result;
      }
    `},Qee=function(e,n,t,r,o){this.variableNames=["x"],this.outputShape=[];var a,i=n,s=e[3]-1;this.outputShape=e;var u="float("+t+") + float("+r+") * sum";a=o===.5?"inversesqrt("+u+")":o===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+i+"; j <= "+i+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+a+`;
        setOutput(val);
      }
    `},Jee=function(e,n,t,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=t,this.alpha=r,this.beta=o,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+n+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+n+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+r+") * norm + float("+t+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+r+`)
                * float(`+o+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+o+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},Zee=function(e,n,t,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,i=n,s=e[3]-1;this.outputShape=e;var u="float("+t+") + float("+r+") * sum";a=o===.5?"inversesqrt("+u+")":o===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+i+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+i+"; j <= "+i+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+a+`;
        setOutput(result);
      }
    `},ete=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var n=e.strideHeight,t=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,a=e.effectiveFilterWidth,i=o-1-e.padInfo.top,s=a-1-e.padInfo.left,u=o*a-1;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+o+`;
          wR += `+r+`) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+a+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+t+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+u+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+a+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},tte=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var n=e.strideDepth,t=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,f=s-1-e.padInfo.front,h=u-1-e.padInfo.top,m=c-1-e.padInfo.left,v=s*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(`+f+", "+h+", "+m+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+o+`) {
          float dyD = float(dyDCorner + wD) / `+n+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+u+`;
              wR += `+a+`) {
            float dyR = float(dyRCorner + wR) / `+t+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+c+`;
                wC += `+i+`) {
              float dyC = float(dyCCorner + wC) / `+r+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+v+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+u+" * "+c+` +
                  wR * `+c+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},fb=function(e,n,t,r,o,a,i){t===void 0&&(t=!1),r===void 0&&(r=!1),o===void 0&&(o=!1),a===void 0&&(a=null),i===void 0&&(i=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;var s=t?e[1]:e[2],u=Math.ceil(s/2),c=t?"i * 2, rc.y":"rc.y, i * 2",f=r?"rc.z, i * 2":"i * 2, rc.z",h=t?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",b="";a&&(v=i?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+a+`
        }`:`vec4 activation(vec4 x) {
          `+a+`
        }`,b="result = activation(result);");var x=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+v+`

      const float sharedDimension = `+u+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+u+`; i++) {
          vec4 a = getMatrixA(rc.x, `+c+`);
          vec4 b = getMatrixB(rc.x, `+f+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+h[0]+" * "+m[0]+`);
          result += (`+h[1]+" * "+m[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+x+`

        `+b+`

        setOutput(result);
      }
    `},nte=(function(){function e(n,t,r){this.variableNames=["probs"],this.outputShape=[n,r],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(t-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(t-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(n){var t=this;return function(r,o){t.seedLoc==null&&(t.seedLoc=r.getUniformLocation(o,"seed")),r.gl.uniform1f(t.seedLoc,n)}},e})(),rte=function(e,n,t,r){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+r+"), float("+t+`),
                      float(index == coords.y)));
      }
    `},ote=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var n=e.length;if(n===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var t=Pr("rc",n),r=Kt(n),o=(function(s,u,c){if(s===1)return"rc > "+u[0];for(var f="",h=s-2;h<s;h++)f+=c[h]+" >= "+u[h],h<s-1&&(f+="||");return f})(n,e,t),a=(function(s,u,c,f){if(s===1)return"";var h=f.slice(-2);return`
    int r = `+h[0]+`;
    int c = `+h[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+u+`;
    bool rEdge = rp1 >= `+c+`;
  `})(n,e[e.length-1],e[e.length-2],t),i=(function(s,u){var c=s.length,f=(function(h,m){for(var v=[],b=0;b<=1;b++)for(var x=0;x<=1;x++){for(var w=(b===0?"r":"rp1")+", "+(x===0?"c":"cp1"),S=2;S<h;S++)w=m[m.length-1-S]+","+w;v.push(w)}return v})(c,u);return c===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+f[0]+`),
          cEdge ? 0. : getA(`+f[1]+`),
          rEdge ? 0. : getA(`+f[2]+`),
          rEdge || cEdge ? 0. : getA(`+f[3]+")"})(e,t);this.userCode=`
        void main() {
          `+r+` rc = getOutputCoords();

          if(`+o+`) {
            setOutput(vec4(0));
          } else {
            `+a+`

            setOutput(vec4(`+i+`));
          }
        }
      `}},ate=function(e,n,t){this.variableNames=["x"],this.outputShape=n.map((function(u,c){return u[0]+e[c]+u[1]}));var r=e.length,o=Kt(r),a=n.map((function(u){return u[0]})).join(","),i=n.map((function(u,c){return u[0]+e[c]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=r!==1?`
      `+o+" start = "+o+"("+a+`);
      `+o+" end = "+o+"("+i+`);

      void main() {
        `+o+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+t+`));
        } else {
          `+o+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+a+`;
        int end = `+i+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+t+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},ite=function(e,n,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(w,S){return w[0]+e[S]+w[1]}));for(var r=e.length,o=Kt(r),a=n.map((function(w){return w[0]})).join(","),i=n.map((function(w,S){return w[0]+e[S]})).join(","),s=Pr("rc",r),u=Pr("source",r),c=s[r-1]+" < "+this.outputShape[r-1],f=r===1?"source":"vec2("+u.slice(-2).join()+")",h=[o+" rc = outputLoc;",s[r-1]+` += 1;
       if(`+c+`) {
      `,r===1?"":`}
       rc = outputLoc;
       `+s[r-2]+` += 1;
       if(`+s[r-2]+" < "+this.outputShape[r-2]+") {",r===1?"":"  "+s[r-1]+` += 1;
         if(`+c+") {"],m=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",v="",b=0,x=r===1?2:4;b<x;b++)v+=`
        `+h[b]+`
        if (`+m+`) {
          result[`+b+"] = float("+t+`);
        } else {
          `+o+` source = rc - start;
          result[`+b+"] = getChannel(getX("+u.join()+"), "+f+`);
        }
      `;v+=r===1?"} ":"}}",this.userCode=`
      const `+o+" start = "+o+"("+a+`);
      const `+o+" end = "+o+"("+i+`);

      void main() {
        `+o+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+v+`
        setOutput(result);
      }
    `},hb=function(e,n,t){if(this.variableNames=["x"],n==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,f=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;var m=n==="avg",v="0.0";if(m||(v="-1.0 / 1e-20"),t)this.userCode=`
        const ivec2 strides = ivec2(`+o+", "+a+`);
        const ivec2 pads = ivec2(`+f+", "+h+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+u+`;
              wR += `+i+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+c+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+c+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var b=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(b="avgValue / count");var x=4*Math.floor(r/4),w=r%4,S=`
      if (`+m+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+o+", "+a+`);
      const ivec2 pads = ivec2(`+f+", "+h+`);
      const float initializationValue = `+v+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+v+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+u+`;
            wR += `+i+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+x+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+S+`
          }

          int xC = xCCorner + `+x+`;
          if (`+(w===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+S+`
          } else if (`+(w===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+S+`
          } else if (`+(w===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+S+`
          }
        }
        setOutput(`+b+`);
      }
    `}},pb=function(e,n,t){if(this.variableNames=["x"],n==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,f=e.effectiveFilterDepth,h=e.effectiveFilterHeight,m=e.effectiveFilterWidth,v=e.padInfo.front,b=e.padInfo.top,x=e.padInfo.left;this.outputShape=e.outShape;var w=n==="avg",S="0.0";if(w||(S="-1.0 / 1e-20"),t)this.userCode=`
        const ivec3 strides =
            ivec3(`+o+", "+a+", "+i+`);
        const ivec3 pads = ivec3(`+v+", "+b+", "+x+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+f+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+h+`;
                wR += `+u+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+m+`;
                  wC += `+c+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+h+" * "+m+` +
                      wR * `+m+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var E=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="avg"&&(E="avgValue / count");var R=4*Math.floor(r/4),D=r%4,A=`
      if (`+w+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+o+", "+a+", "+i+`);
      const ivec3 pads = ivec3(`+v+", "+b+", "+x+`);
      const float initializationValue = `+S+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+S+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+f+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+h+`;
            wR += `+u+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+R+`; wC += 4) {
              int xC = xCCorner + wC * `+c+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+c+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+c+`, ch)
              );

              `+A+`
            }

            int xC = xCCorner + `+R+`;
            if (`+(D===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+A+`
            } else if (`+(D===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                initializationValue,
                initializationValue
              );

              `+A+`
            } else if (`+(D===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+c+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+c+`, ch),
                initializationValue
              );

              `+A+`
            }
          }
          setOutput(`+E+`);
        }
      }
    `}},ste=function(e,n){this.variableNames=["x"];var t=e.windowSize,r=e.batchSize,o=e.inSize,a=Math.ceil(o/t);this.outputShape=[r,a];var i="0.0",s="";n==="prod"?i="1.0":n==="min"?(i="1.0 / 1e-20",s="min"):n==="max"&&(i="-1.0 / 1e-20",s="max");var u=n+"("+n+"("+n+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");var c=4*Math.floor(t/4),f=t%4,h=`
      if (`+(n==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(n==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,m="vec4";n==="all"?(i="1.0",h=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,m="bvec4"):n==="any"&&(i="0.0",h=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,m="bvec4");var v="";o%t>0&&(v=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+i+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+v+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+t+`;

        vec4 minMaxValue = vec4(`+i+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+c+`; i += 4) {
          int inIdx = inOffset + i;
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+h+`
        }

        int inIdx = inOffset + `+c+`;
        if (`+(f===1)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+h+`
        } else if (`+(f===2)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+h+`
        } else if (`+(f===3)+`) {
          `+m+" values = "+m+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+h+`
        }
        setOutput(`+u+`);
      }
    `},lte=function(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var t="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),t+=`
        `+o+`
        `+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+r+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(r>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+Zs(["r","c","d"],n)+`
      return ivec3(r, c, d);
    }
  
      `+Xw(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+t+`

        setOutput(result);
      }
    `},ute=function(e,n,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var r=n.shape,o=r[1],a=r[2],i=e.shape,s=i[1],u=i[2],c=[t&&s>1?o-1:o,t&&u>1?a-1:a],f=[t&&s>1?s-1:s,t&&u>1?u-1:u],h=c[0]/f[0],m=c[1]/f[1],v=1/h,b=1/m,x=2*Math.ceil(v)+2,w=2*Math.ceil(b)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+h+`);
        const float widthScale = float(`+m+`);

        const float invHeightScale = float(`+v+`);
        const float invWidthScale = float(`+b+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+w+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(o-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(a-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},cte=function(e,n,t,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,n,t,s];var u=[r&&n>1?a-1:a,r&&t>1?i-1:i],c=[r&&n>1?n-1:n,r&&t>1?t-1:t];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`);
      const vec2 inputShapeRC = vec2(`+a+".0, "+i+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},dte=function(e,n,t,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,n,t,s];var u=[r&&n>1?a-1:a,r&&t>1?i-1:i],c=[r&&n>1?n-1:n,r&&t>1?t-1:t];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`,
          `+u[1]/c[1]+`);
      const vec3 inputShapeRC = vec3(`+a+".0, "+i+`.0,
                                     `+i+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(t-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},fte=function(e,n,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var r=n.shape,o=r[1],a=r[2],i=e.shape,s=i[1],u=i[2],c=[t&&s>1?o-1:o,t&&u>1?a-1:a],f=[t&&s>1?s-1:s,t&&u>1?u-1:u],h=c[0]/f[0],m=c[1]/f[1],v=1/h,b=1/m,x=2*Math.ceil(v)+2,w=2*Math.ceil(b)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+h+`);
        const float widthScale = float(`+m+`);

        const float invHeightScale = float(`+v+`);
        const float invWidthScale = float(`+b+`);

        const int winHeight = int(`+x+`);
        const int winWidth = int(`+w+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float sourceFracRow =
              float(`+c[0]+`) *
                (float(dyR) / float(`+f[0]+`));

            float sourceFracCol =
                float(`+c[1]+`) *
                  (float(dyC) / float(`+f[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+o+`) - 1),
                `+t+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+a+`) - 1),
                `+t+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},hte=function(e,n,t,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,n,t,s];var u=[r&&n>1?a-1:a,r&&t>1?i-1:i],c=[r&&n>1?n-1:n,r&&t>1?t-1:t],f=r?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/c[0]+`,
          `+u[1]/c[1]+`);
      const vec2 inputShapeRC = vec2(`+a+".0, "+i+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+f+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},pte=function(e,n){this.variableNames=["x"];var t=e.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");if(this.outputShape=e,t!==1){var r=e.map((function(a,i){return(function(s){return n.indexOf(s)!==-1&&e[s]!==1?e[s]+" - coords["+s+"] - 1":"coords["+s+"]"})(i)})).join(","),o=Kt(t);this.userCode=`
      void main() {
        `+o+` coords = getOutputCoords();
        setOutput(getX(`+r+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},mte=function(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var t=e.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");this.outputShape=e;var r=Pr("rc",t),o=r[t-1]+" + 1 < "+this.outputShape[t-1],a=r[t-2]+" + 1 < "+this.outputShape[t-2],i=Kt(t);function s(u){var c=e.map((function(f,h){return(function(m,v){return n.indexOf(m)!==-1&&e[m]!==1?e[m]+" - "+v[m]+" - 1":""+v[m]})(h,u)}));return"getChannel(getX("+c.join(",")+"), vec2("+c.slice(-2).join(",")+"))"}this.userCode=t===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+o+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+i+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+(function(u){return s(u)})(r.slice())+`;
          if(`+o+`){
            result.g = `+(function(u){return u[t-1]="("+u[t-1]+" + 1)",s(u)})(r.slice())+`;
          }
          if(`+a+`) {
            result.b = `+(function(u){return u[t-2]="("+u[t-2]+" + 1)",s(u)})(r.slice())+`;
            if(`+o+`) {
              result.a = `+(function(u){return u[t-1]="("+u[t-1]+" + 1)",u[t-2]="("+u[t-2]+" + 1)",s(u)})(r.slice())+`;
            }
          }
          setOutput(result);
        }
    `},RD=function(e,n,t,r,o,a,i){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=Kt(o.length),u=Kt(a.length),c="";t===1?c="i":t===2&&(c="i, j");var f="getIndices("+c+")",h="";r===1?h="i":r===2&&(h="i, coords[1]");var m="getUpdates("+h+")",v=n>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+o+`);

        void main() {
          `+u+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+n+`; j++) {
              int index = round(`+f+`);
              flattenedIndex += index * `+v+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+m+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},vte=function(e,n){this.variableNames=["x","segmentIds"];var t=e.windowSize,r=e.batchSize,o=e.inSize,a=e.numSegments,i=a*Math.ceil(o/t);this.outputShape=[r,i];var s=4*Math.floor(t/4),u=t%4,c=`
        sumValue += dot(values, segFilter);
    `,f="";o%t>0&&(f=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `);var h="";o%t>0&&(h=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+f+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+h+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+a+")) * float("+t+`));
        int currentSeg = int(mod(float(outIdx), float(`+a+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+c+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(u===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+c+`
        } else if (`+(u===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+c+`
        } else if (`+(u===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+c+`
        }
        setOutput(sumValue);
      }
    `},gte=function(e,n,t){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=n,t>4)throw Error("Where for rank "+t+" is not yet supported");if(t===1)o="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[],u=0;u<n.length;u++)s.push(""+a[u]),u<e&&i.push(""+a[u]);r=i.join(),o=s.join()}var c=Kt(t);this.userCode=`
      void main() {
        `+c+` resRC = getOutputCoords();
        float cVal = getC(`+r+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+o+`));
        } else {
          setOutput(getB(`+o+`));
        }
      }
    `},yte=(function(){function e(n){this.variableNames=["source"],this.outputShape=n,this.rank=n.length;var t,r=Kt(this.rank),o="uniform int start["+this.rank+"];",a=(function(i){if(i===1)return"sourceLoc";if(i<=6)return mb.slice(0,i).map((function(s){return"sourceLoc."+s})).join(",");throw Error("Slicing for rank "+i+" is not yet supported")})(this.rank);t=`
        `+r+` sourceLoc;
        `+r+` coords = getOutputCoords();
        `+n.map((function(i,s){return"sourceLoc."+mb[s]+" = start["+s+"] + coords."+mb[s]+";"})).join(`
`)+`
      `,this.userCode=`
      `+o+`
      void main() {
        `+t+`
        setOutput(getSource(`+a+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(n){var t=this;if(n.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+n.length+")");return function(r,o){t.startLoc==null&&(t.startLoc=r.getUniformLocationNoThrow(o,"start"),t.startLoc==null)||r.gl.uniform1iv(t.startLoc,n)}},e})(),mb=["x","y","z","w","u","v"],bte=(function(){function e(n){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.rank=n.length;var t=Kt(this.rank),r=Pr("coords",this.rank),o=Pr("sourceLoc",this.rank),a=this.rank===1?"sourceLoc":"vec2("+o.slice(-2).join()+")",i="getChannel(getSource("+o.join()+"), "+a+")",s=`
      result.x = `+i+`;
      if (++`+r[this.rank-1]+" < "+n[this.rank-1]+`) {
        ++`+o[this.rank-1]+`;
        result.y = `+i+`;
        --`+o[this.rank-1]+`;
      }
    `,u=this.rank===1?"":`
      --`+r[this.rank-1]+`;
      if (++`+r[this.rank-2]+" < "+n[this.rank-2]+`) {
        ++`+o[this.rank-2]+`;
        result.z = `+i+`;
        if (++`+r[this.rank-1]+" < "+n[this.rank-1]+`) {
          ++`+o[this.rank-1]+`;
          result.w = `+i+`;
        }
      }
    `,c=this.rank<=4?`sourceLoc = coords +
            `+t+"("+n.map((function(f,h){return"start["+h+"]"})).join()+");":n.map((function(f,h){return o[h]+" = "+r[h]+" + start["+h+"];"})).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+t+` coords = getOutputCoords();
        `+t+` sourceLoc;
        `+c+`
        vec4 result = vec4(0.);
        `+s+`
        `+u+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(n){var t=this;if(n.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+n.length+")");return function(r,o){t.startLoc==null&&(t.startLoc=r.getUniformLocationNoThrow(o,"start"),t.startLoc==null)||r.gl.uniform1iv(t.startLoc,n)}},e})(),xte=function(e,n,t){this.variableNames=["x"],this.outputShape=t;var r=t.length,o=Kt(t.length),a=Kt(t.length),i="";if(r===1)i="coords * strides + begin";else{var s=0;i=t.map((function(u,c){return s++,t.length===1?"coords * strides["+c+"] + begin["+c+"]":"coords["+(s-1)+"] * strides["+c+"] + begin["+c+"]"})).join(",")}this.userCode=`
      `+o+" begin = "+o+"("+e+`);
      `+o+" strides = "+o+"("+n+`);

      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+i+`));
      }
    `},wte=(function(){function e(n){this.gpgpu=n,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(n,t,r){var o,a=_D(t,r),i=TD(n,a,r);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[i].shift();return this.usedTextures[i].push(s),s}return this.numUsedTextures++,this.log(),a===to.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(n[0],n[1]):a===to.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(n[0],n[1]):a===to.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(n[0],n[1]):a===to.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(n[0],n[1]):a===to.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(n[0],n[1])),this.usedTextures[i].push(o),o},e.prototype.releaseTexture=function(n,t,r,o){if(this.freeTextures!=null){var a=TD(t,_D(r,o),o);a in this.freeTextures||(this.freeTextures[a]=[]),this.freeTextures[a].push(n),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[a],s=i.indexOf(n);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(s,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var n=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+n+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var n=this;if(this.freeTextures!=null){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(r){n.gpgpu.deleteMatrixTexture(r)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(o){n.gpgpu.deleteMatrixTexture(o)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e})();function _D(e,n){if(e===ro.UPLOAD)return to.PACKED_2X2_FLOAT32;if(e===ro.RENDER||e==null)return(function(t){return ve().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?to.PACKED_2X2_FLOAT32:to.UNPACKED_FLOAT32:t?to.PACKED_2X2_FLOAT16:to.UNPACKED_FLOAT16})(n);if(e===ro.DOWNLOAD||e===ro.PIXELS)return to.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function TD(e,n,t){return e[0]+"_"+e[1]+"_"+n+"_"+t}var Ste=function(e,n){this.variableNames=["A"];for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=e[r]*n[r];this.outputShape=t,this.rank=t.length;var o=Kt(this.rank),a=(function(i){var s=i.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+i[0]+")";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],c=[],f=0;f<i.length;f++)c.push("imod("+u[f]+", "+i[f]+")");return c.join()})(e);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+a+`));
      }
    `},Cte=function(e,n){this.variableNames=["A"];for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=e[n[r]];this.outputShape=t,this.rank=t.length;var o=Kt(this.rank),a=(function(i){var s=i.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],c=new Array(s),f=0;f<i.length;f++)c[i[f]]=u[f];return c.join()})(n);this.userCode=`
    void main() {
      `+o+` resRC = getOutputCoords();
      setOutput(getA(`+a+`));
    }
    `},Ete=function(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=e[n[r]];if(this.outputShape=t,this.rank=t.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=Kt(this.rank),a=O4("rc",this.rank),i=new Array(this.rank);for(r=0;r<n.length;r++)i[n[r]]=a[r];var s="vec2("+i.slice(-2).join()+")",u="++"+a[this.rank-1]+" < "+t[this.rank-1],c="getChannel(getA("+i.join()+"), "+s+")";this.userCode=`
    void main() {
      `+o+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+c+`;
      if(`+u+`) {
        result[1] = `+c+`;
      }
      --`+a[this.rank-1]+`;
      if(++`+a[this.rank-2]+" < "+t[this.rank-2]+`) {
        result[2] = `+c+`;
        if(`+u+`) {
          result[3] = `+c+`;
        }
      }
      setOutput(result);
    }
    `},Yw=1.7580993408473768,Kw=1.0507009873554805,yt=function(e,n){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+n+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},aa="if (isnan(x)) return x;",Rte="return x;",DD="return abs(x);",L4=aa+`
  return (x < 0.0) ? 0.0 : x;
`,z4=aa+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,U4="return (x >= 0.0) ? x : (exp(x) - 1.0);",_te=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+Yw+`;
  float scale = `+Kw+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,AD="return -x;",ND="return ceil(x);",kD="return floor(x);",MD="return exp(x);",ID="return exp(x) - 1.0;",Tte=aa+`
  return sin(x);
`,Dte=aa+`
  return cos(x);
`,Ate=aa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Nte=aa+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,kte=aa+`
  return atan(x);
`,Mte=aa+"return log(x + sqrt(x * x + 1.0));",Ite=aa+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,Ote=aa+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,yp="return x;",Pte="return x;",V4=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,H4=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,W4=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,Td=function(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+n+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},jte=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var n=e.length,t=Pr("rc",n),r=Kt(n),o=(function(s,u){if(s===1)return"rc";for(var c="",f=0;f<s;f++)c+=u[f],f<s-1&&(c+=",");return c})(n,t),a=t.slice(-2),i=n<=1?"rc":"vec2("+a.join(",")+")";this.userCode=`
      void main() {
        `+r+` rc = getOutputCoords();
        vec4 packedInput = getA(`+o+`);

        setOutput(getChannel(packedInput, `+i+`));
      }
    `},bp={};function xp(e,n){if(n===void 0&&(n=!1),e==="linear")return n?Pte:Rte;if(e==="relu")return n?V4:L4;if(e==="elu")return n?W4:U4;if(e==="relu6")return n?H4:z4;if(e==="prelu")return n?F4:B4;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var Bte=600,Fte=(function(e){function n(t){var r,o=e.call(this)||this;if(o.pendingRead=new WeakMap,o.pendingDisposal=new WeakSet,o.dataRefCount=new WeakMap,o.numBytesInGPU=0,o.uploadWaitMs=0,o.downloadWaitMs=0,o.warnedAboutMemory=!1,o.pendingDeletes=0,o.disposed=!1,!ve().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(t==null){var a=Pa(ve().getNumber("WEBGL_VERSION"));o.binaryCache=((r=ve().getNumber("WEBGL_VERSION"))in bp||(bp[r]={}),bp[r]),o.gpgpu=new Yee(a),o.canvas=a.canvas,o.gpgpuCreatedLocally=!0}else o.gpgpu=t,o.binaryCache={},o.gpgpuCreatedLocally=!1,o.canvas=t.gl.canvas;return o.textureManager=new wte(o.gpgpu),o.numMBBeforeWarning=ve().global.screen==null?1024:ve().global.screen.height*ve().global.screen.width*window.devicePixelRatio*Bte/1024/1024,o.texData=new R4(o,ee),o}return oa(n,e),n.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},n.prototype.write=function(t,r,o){if(ve().getBool("DEBUG")&&this.checkNumericalProblems(t),o==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var a={};return this.texData.set(a,{shape:r,dtype:o,values:t,usage:ro.UPLOAD}),a},n.prototype.move=function(t,r,o,a){if(ve().getBool("DEBUG")&&this.checkNumericalProblems(r),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:o,dtype:a,values:r,usage:ro.UPLOAD})},n.prototype.readSync=function(t){var r=this.texData.get(t),o=r.values,a=r.dtype,i=r.complexTensors,s=r.slice,u=r.shape,c=r.isPacked;if(s!=null){var f=void 0;f=c?new Td(u,yp):new yt(u,yp);var h=this.runWebGLProgram(f,[{dataId:t,shape:u,dtype:a}],a),m=this.readSync(h.dataId);return this.disposeData(h.dataId),m}if(o!=null)return this.convertAndCacheOnCPU(t);if(a==="string")return o;var v,b,x=this.activeTimers!=null;return x&&(v=va()),a==="complex64"?b=Nx(i.real.dataSync(),i.imag.dataSync()):b=this.getValuesFromTexture(t),x&&(this.downloadWaitMs+=va()-v),this.convertAndCacheOnCPU(t,b)},n.prototype.read=function(t){return Ve(this,void 0,void 0,(function(){var r,o,a,i,s,u,c,f,h,m,v,b,x,w,S,E,R,D,A,N,k,M;return He(this,(function(I){switch(I.label){case 0:if(this.pendingRead.has(t))return r=this.pendingRead.get(t),[2,new Promise((function(P){return r.push(P)}))];if(o=this.texData.get(t),a=o.values,i=o.shape,s=o.slice,u=o.dtype,c=o.complexTensors,f=o.isPacked,s!=null)return h=void 0,h=f?new Td(i,yp):new yt(i,yp),m=this.runWebGLProgram(h,[{dataId:t,shape:i,dtype:u}],u),v=this.read(m.dataId),this.disposeData(m.dataId),[2,v];if(a!=null)return[2,this.convertAndCacheOnCPU(t)];if(!ve().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&ve().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return b=null,u!=="complex64"&&ve().get("WEBGL_BUFFER_SUPPORTED")&&(x=this.decode(t),w=this.texData.get(x.dataId),b=(M=this.gpgpu).createBufferFromTexture.apply(M,[w.texture].concat(Md(i)))),this.pendingRead.set(t,[]),u==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:I.sent(),I.label=2;case 2:return u!=="complex64"?[3,4]:[4,Promise.all([c.real.data(),c.imag.data()])];case 3:return E=I.sent(),R=E[0],D=E[1],S=Nx(R,D),[3,5];case 4:b==null?S=this.getValuesFromTexture(t):(A=qe(i),S=this.gpgpu.downloadFloat32MatrixFromBuffer(b,A)),I.label=5;case 5:return x!=null&&this.disposeData(x.dataId),N=this.convertAndCacheOnCPU(t,S),k=this.pendingRead.get(t),this.pendingRead.delete(t),k.forEach((function(P){return P(N)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t),this.pendingDeletes--),[2,N]}}))}))},n.prototype.checkNumericalProblems=function(t){if(t!=null)for(var r=0;r<t.length;r++){var o=t[r];if(!_J(o))throw ve().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+o+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+o+" cannot be represented on this device.")}},n.prototype.getValuesFromTexture=function(t){var r,o=this.texData.get(t),a=o.shape,i=o.dtype,s=o.isPacked,u=qe(a);if(ve().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var c=this.decode(t),f=this.texData.get(c.dataId),h=(r=this.gpgpu).downloadMatrixFromPackedTexture.apply(r,[f.texture].concat(Md(a))).subarray(0,u);return this.disposeData(c.dataId),h}var m=ve().getBool("WEBGL_PACK")&&s===!0,v=m?lb(a):a,b=m?new Ree(v):new Eee(v),x=this.runWebGLProgram(b,[{shape:v,dtype:i,dataId:t}],"float32"),w=this.texData.get(x.dataId),S=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(w.texture,w.texShape[0],w.texShape[1]).subarray(0,u);return this.disposeData(x.dataId),S},n.prototype.time=function(t){return Ve(this,void 0,void 0,(function(){var r,o,a,i,s,u,c;return He(this,(function(f){switch(f.label){case 0:return r=this.activeTimers,o=[],a=!1,this.programTimersStack==null?(this.programTimersStack=o,a=!0):this.activeTimers.push(o),this.activeTimers=o,t(),i=$u(this.activeTimers.map((function(h){return h.query}))).filter((function(h){return h!=null})),s=$u(this.activeTimers.map((function(h){return h.name}))).filter((function(h){return h!=null})),this.activeTimers=r,a&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return c=f.sent(),u.kernelMs=iJ(c),u.getExtraProfileInfo=function(){return c.map((function(h,m){return{name:s[m],ms:h}})).map((function(h){return h.name+": "+h.ms})).join(", ")},[3,3];case 2:u.kernelMs={error:"WebGL query timers are not supported in this environment."},f.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}}))}))},n.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},n.prototype.startTimer=function(){return ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:va(),endMs:null}},n.prototype.endTimer=function(t){return ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=va(),t)},n.prototype.getQueryTime=function(t){return Ve(this,void 0,void 0,(function(){var r;return He(this,(function(o){return ve().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(r=t).endMs-r.startMs]}))}))},n.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var r=this.texData.get(t).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.texData.delete(t)}}},n.prototype.releaseGPUData=function(t){var r=this.texData.get(t),o=r.texture,a=r.dtype,i=r.texShape,s=r.usage,u=r.isPacked,c=r.slice,f=c&&c.origDataId||t,h=this.dataRefCount.get(f);h>1?this.dataRefCount.set(f,h-1):(this.dataRefCount.delete(f),o!=null&&(this.numBytesInGPU-=this.computeBytes(i,a),this.textureManager.releaseTexture(o,i,s,u)));var m=this.texData.get(t);m.texture=null,m.texShape=null,m.isPacked=!1,m.slice=null},n.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},n.prototype.getDataInfo=function(t){return this.texData.get(t)},n.prototype.getCPUBackend=function(){return ve().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=ee.findBackend("cpu")),this.cpuBackend):null},n.prototype.shouldExecuteOnCPU=function(t,r){var o=this;return r===void 0&&(r=128),this.getCPUBackend()!=null&&t.every((function(a){return o.texData.get(a.dataId).texture==null&&a.size<r}))},n.prototype.getGPGPUContext=function(){return this.gpgpu},n.prototype.complex=function(t,r){var o=this.makeOutput(t.shape,"complex64");return this.texData.get(o.dataId).complexTensors={real:ee.keep(t.clone()),imag:ee.keep(r.clone())},o},n.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},n.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},n.prototype.slice=function(t,r,o){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,r,o);if(qe(o)===0)return tr([],o,t.dtype);var a=this.texData.get(t.dataId).isPacked,i=C4(t.shape,r,o);if(a||!i){var s=ve().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bte(o):new yte(o),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[t],null,u)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,r,o)},n.prototype.shallowSlice=function(t,r,o){var a=this.texData.get(t.dataId),i=this.makeOutput(o,t.dtype),s=this.texData.get(i.dataId);Object.assign(s,a),s.shape=o,s.dtype=t.dtype;var u=E4(r,t.strides);a.slice&&(u+=a.slice.flatOffset),s.slice={flatOffset:u,origDataId:a.slice&&a.slice.origDataId||t.dataId};var c=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,c+1),i},n.prototype.stridedSlice=function(t,r,o,a){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,r,o,a);var i=Hw(r,o,a);if(i.some((function(u){return u===0})))return tr([],i);var s=new xte(r,a,i);return this.compileAndRun(s,[t])},n.prototype.reverse=function(t,r){var o=ve().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mte(t.shape,r):new pte(t.shape,r);return this.compileAndRun(o,[t])},n.prototype.concat=function(t,r){if(t[0].dtype==="complex64"){var o=t.map((function(v){return To(v)})),a=t.map((function(v){return ba(v)}));return Zn(this.concat(o,r),this.concat(a,r))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,r);if(t.length===1)return t[0];if(t.length>ve().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(t.length/2),s=this.concat(t.slice(0,i),r),u=this.concat(t.slice(i),r);return this.concat([s,u],r)}if(ve().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var c=new cee(t.map((function(v){return v.shape})),r);return this.compileAndRun(c,t)}var f=qu(t.map((function(v){return v.shape})),r),h=t.map((function(v){return v.as2D(-1,qe(v.shape.slice(r)))})),m=new uee(h.map((function(v){return v.shape})));return this.compileAndRun(m,h).reshape(f)},n.prototype.neg=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(ve().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,AD,t.dtype);var r=new yt(t.shape,AD);return this.compileAndRun(r,[t])},n.prototype.batchMatMul=function(t,r,o,a){var i=o?t.shape[2]:t.shape[1],s=a?r.shape[1]:r.shape[2],u=o?t.shape[1]:t.shape[2],c=t.shape[0];if((i===1||s===1)&&u>1e3){o&&(t=t.transpose([0,2,1])),a&&(r=r.transpose([0,2,1]));var f=s===1?t:t.as3D(c,u,1),h=s===1?2:1,m=s===1?r.as3D(c,1,u):r;return this.multiply(f,m).sum(h,!0)}var v=er(t.dtype,r.dtype),b=new fb(t.shape,[c,i,s],o,a);return this.compileAndRun(b,[t,r],v)},n.prototype.fusedBatchMatMul=function(t){var r=t.a,o=t.b,a=t.transposeA,i=t.transposeB,s=t.bias,u=t.activation,c=t.preluActivationWeights,f=a?r.shape[2]:r.shape[1],h=i?o.shape[1]:o.shape[2],m=r.shape[0],v=er(r.dtype,o.dtype),b=s!=null,x=c!=null,w=u?xp(u,!0):null,S=new fb(r.shape,[m,f,h],a,i,b,w,x),E=[r,o];return s&&E.push(s),c&&E.push(c),this.compileAndRun(S,E,v)},n.prototype.multiply=function(t,r){if(t.dtype==="complex64"){var o=this.texData.get(t.dataId),a=this.texData.get(r.dataId),i=new gD(oee,t.shape,r.shape),s=new gD(aee,t.shape,r.shape),u=[this.makeComplexComponentTensorInfo(t,o.complexTensors.real),this.makeComplexComponentTensorInfo(t,o.complexTensors.imag),this.makeComplexComponentTensorInfo(r,a.complexTensors.real),this.makeComplexComponentTensorInfo(r,a.complexTensors.imag)],c=this.compileAndRun(i,u),f=this.compileAndRun(s,u),h=this.complex(c,f);return c.dispose(),f.dispose(),h}if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.multiply(t,r);if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,yD,t.dtype);var m=new fn(yD,t.shape,r.shape);return this.compileAndRun(m,[t,r],t.dtype)},n.prototype.batchNormalization=function(t,r,o,a,i,s){var u=[t,r,o],c=null;s!=null&&(c=s.shape,u.push(s));var f=null;if(i!=null&&(f=i.shape,u.push(i)),ve().getBool("WEBGL_PACK_NORMALIZATION")){var h=new ree(t.shape,r.shape,o.shape,c,f,a);return this.compileAndRun(h,u)}var m=new nee(t.shape,r.shape,o.shape,c,f,a);return this.compileAndRun(m,u)},n.prototype.localResponseNormalization4D=function(t,r,o,a,i){var s=ve().getBool("WEBGL_PACK_NORMALIZATION")?new Zee(t.shape,r,o,a,i):new Qee(t.shape,r,o,a,i);return this.compileAndRun(s,[t])},n.prototype.LRNGrad=function(t,r,o,a,i,s,u){var c=new Jee(r.shape,a,i,s,u);return this.compileAndRun(c,[r,o,t])},n.prototype.tile=function(t,r){if(t.dtype==="string"){var o=this.readSync(t.dataId).map((function(i){return fm(i)}));return M4(pt(t.shape,t.dtype,o),r)}var a=new Ste(t.shape,r);return this.compileAndRun(a,[t])},n.prototype.pad=function(t,r,o){var a=ve().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ite(t.shape,r,o):new ate(t.shape,r,o);return this.compileAndRun(a,[t])},n.prototype.transpose=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.transpose(t,r);var o=ve().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ete(t.shape,r):new Cte(t.shape,r);return this.compileAndRun(o,[t])},n.prototype.gather=function(t,r,o){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.gather(t,r,o);var a=new kee(t.shape,r.size,o);return this.compileAndRun(a,[t,r])},n.prototype.batchToSpaceND=function(t,r,o){$(t.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var a=r.reduce((function(h,m){return h*m})),i=ym(t.shape,r,a),s=bm(i.length,r.length),u=xm(t.shape,r,a),c=b4(o,r.length),f=x4(u,o,r.length);return t.reshape(i).transpose(s).reshape(u).slice(c,f)},n.prototype.spaceToBatchND=function(t,r,o){$(t.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var a=r.reduce((function(m,v){return m*v})),i=[[0,0]];i.push.apply(i,o);for(var s=1+r.length;s<t.shape.length;++s)i.push([0,0]);var u=t.pad(i),c=ym(u.shape,r,a,!1),f=bm(c.length,r.length,!1),h=xm(u.shape,r,a,!1);return u.reshape(c).transpose(f).reshape(h)},n.prototype.reduce=function(t,r,o){var a=t.shape[0],i=t.shape[1],s=ub(i),u=new ste({windowSize:s,inSize:i,batchSize:a},r),c=this.compileAndRun(u,[t],o);return c.shape[1]===1?c:this.reduce(c,r,o)},n.prototype.argReduce=function(t,r,o){o===void 0&&(o=null);var a=t.shape[0],i=t.shape[1];o!=null&&(a=o.shape[0],i=o.shape[1]);var s=ub(i),u=new qZ({windowSize:s,inSize:i,batchSize:a},r,o==null),c=[t];o!=null&&c.push(o);var f=this.compileAndRun(u,c,"int32");return f.shape[1]===1?f:this.argReduce(t,r,f)},n.prototype.argReducePacked=function(t,r,o){o===void 0&&(o=null);var a=o!=null?o.shape:t.shape,i=ub(a[a.length-1]),s=new ZZ(a,i,r,o==null),u=o==null?[t]:[t,o],c=this.compileAndRun(s,u,"int32");return c.rank===t.rank?this.argReducePacked(t,r,c):c},n.prototype.sum=function(t,r){eo("sum",r,t.rank);var o=ir(t.shape,r),a=o[0],i=qe(o[1]),s=t.as2D(-1,i),u=tb(t.dtype);return this.reduce(s,"sum",u).reshape(a)},n.prototype.prod=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,r);var o=ir(t.shape,r),a=o[0],i=qe(o[1]),s=t.as2D(-1,i),u=tb(t.dtype);return this.reduce(s,"prod",u).reshape(a)},n.prototype.unsortedSegmentSum=function(t,r,o){var a=0,i=ja([a],t.rank),s=t;i!=null&&(s=t.transpose(i),a=Ba(1,t.rank)[0]);var u=(function(v,b,x){for(var w=[],S=v.length,E=0;E<S;E++)E!==b?w.push(v[E]):w.push(x);return w})(s.shape,a,o),c=qe([s.shape[a]]),f=s.as2D(-1,c),h=tb(t.dtype),m=this.segOpCompute(f,"unsortedSegmentSum",r,h,o).reshape(u);return i!=null&&(m=m.transpose(Lw(i))),m},n.prototype.segOpCompute=function(t,r,o,a,i){var s=t.shape[0],u=t.shape[1],c=(function(m,v){var b,x=!1;for(m<=S4?(b=m,x=!0):b=wx(m,Math.floor(Math.sqrt(m)));!x;)b>v||b===m?x=!0:b=wx(m,b+1);return b})(u,i),f=new vte({windowSize:c,inSize:u,batchSize:s,numSegments:i}),h=this.compileAndRun(f,[t,o],a);return h.shape[1]===i?h:(o=gm(0,i).tile([u/c]),this.segOpCompute(h,r,o,a,i))},n.prototype.argMinMaxReduce=function(t,r,o){var a=[r];if(eo("arg"+o.charAt(0).toUpperCase()+o.slice(1),a,t.rank),!ve().getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var i=ir(t.shape,a),s=i[0],u=qe(i[1]),c=t.as2D(-1,u);return this.argReduce(c,o).reshape(s)}return this.argReducePacked(t,o)},n.prototype.argMin=function(t,r){return this.argMinMaxReduce(t,r,"min")},n.prototype.argMax=function(t,r){return this.argMinMaxReduce(t,r,"max")},n.prototype.cumsum=function(t,r,o,a){if(r!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+r);var i=new bee(t.shape,o,a);return this.compileAndRun(i,[t])},n.prototype.equal=function(t,r){if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  return vec4(equal(a, b));
`,"bool");var o=new fn("return float(a == b);",t.shape,r.shape);return this.compileAndRun(o,[t,r],"bool")},n.prototype.notEqual=function(t,r){if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  return vec4(notEqual(a, b));
`,"bool");var o=new fn("return float(a != b);",t.shape,r.shape);return this.compileAndRun(o,[t,r],"bool")},n.prototype.less=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.less(t,r);if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  return vec4(lessThan(a, b));
`,"bool");var o=new fn("return float(a < b);",t.shape,r.shape);return this.compileAndRun(o,[t,r],"bool")},n.prototype.lessEqual=function(t,r){if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  return vec4(lessThanEqual(a, b));
`,"bool");var o=new fn("return float(a <= b);",t.shape,r.shape);return this.compileAndRun(o,[t,r],"bool")},n.prototype.greater=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.greater(t,r);if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  return vec4(greaterThan(a, b));
`,"bool");var o=new fn("return float(a > b);",t.shape,r.shape);return this.compileAndRun(o,[t,r],"bool")},n.prototype.greaterEqual=function(t,r){if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var o=new fn("return float(a >= b);",t.shape,r.shape);return this.compileAndRun(o,[t,r],"bool")},n.prototype.logicalNot=function(t){var r=new yt(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(r,[t])},n.prototype.logicalAnd=function(t,r){if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var o=new fn("return float(a >= 1.0 && b >= 1.0);",t.shape,r.shape);return this.compileAndRun(o,[t,r],"bool")},n.prototype.logicalOr=function(t,r){if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var o=new fn("return float(a >= 1.0 || b >= 1.0);",t.shape,r.shape);return this.compileAndRun(o,[t,r],"bool")},n.prototype.select=function(t,r,o){var a=new gte(t.rank,r.shape,r.rank);return this.compileAndRun(a,[t,r,o],er(r.dtype,o.dtype))},n.prototype.where=function(t){mm("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var r=t.dataSync();return qw(t.shape,r)},n.prototype.topk=function(t,r,o){return I4(t.dataSync(),t.shape,t.dtype,r)},n.prototype.min=function(t,r){eo("min",r,t.rank);var o=ir(t.shape,r),a=o[0],i=qe(o[1]),s=t.as2D(-1,i);return this.reduce(s,"min",s.dtype).reshape(a)},n.prototype.minimum=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.minimum(t,r);var o=ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ti(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,r.shape):new fn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,t.shape,r.shape);return this.compileAndRun(o,[t,r])},n.prototype.mod=function(t,r){var o=ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ti(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,r.shape):new fn(`if (b == 0.0) return NAN;
  return mod(a, b);`,t.shape,r.shape);return this.compileAndRun(o,[t,r])},n.prototype.max=function(t,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,r);eo("max",r,t.rank);var o=ir(t.shape,r),a=o[0],i=qe(o[1]),s=t.as2D(-1,i);return this.reduce(s,"max",s.dtype).reshape(a)},n.prototype.maximum=function(t,r){if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.maximum(t,r);var o=ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ti(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,r.shape):new fn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,t.shape,r.shape);return this.compileAndRun(o,[t,r])},n.prototype.all=function(t,r){eo("all",r,t.rank);var o=ir(t.shape,r),a=o[0],i=qe(o[1]),s=t.as2D(-1,i);return this.reduce(s,"all",s.dtype).reshape(a)},n.prototype.any=function(t,r){eo("any",r,t.rank);var o=ir(t.shape,r),a=o[0],i=qe(o[1]),s=t.as2D(-1,i);return this.reduce(s,"any",s.dtype).reshape(a)},n.prototype.realDivide=function(t,r){if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var o=new fn(`
if (a == b) {
  return 1.0;
};
return a / b;`,t.shape,r.shape);return this.compileAndRun(o,[t,r],"float32")},n.prototype.floorDiv=function(t,r){if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var o=new fn(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,t.shape,r.shape);return this.compileAndRun(o,[t,r],"int32")},n.prototype.add=function(t,r){if(t.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(t,r,cb);if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.add(t,r);var o=er(t.dtype,r.dtype);if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,cb,o);var a=new fn(cb,t.shape,r.shape);return this.compileAndRun(a,[t,r],o)},n.prototype.packedUnaryOp=function(t,r,o){var a=new Td(t.shape,r);return this.compileAndRun(a,[t],o)},n.prototype.packedBinaryOp=function(t,r,o,a,i){i===void 0&&(i=!1);var s=new ti(o,t.shape,r.shape,i);return this.compileAndRun(s,[t,r],a)},n.prototype.complexSeparableBinaryOp=function(t,r,o){var a=this,i=this.texData.get(t.dataId),s=this.texData.get(r.dataId),u=[[i.complexTensors.real,s.complexTensors.real],[i.complexTensors.imag,s.complexTensors.imag]].map((function(m){var v=m[0],b=m[1],x=a.makeComplexComponentTensorInfo(t,v),w=a.makeComplexComponentTensorInfo(r,b),S=new fn(o,t.shape,r.shape);return a.compileAndRun(S,[x,w],er(v.dtype,b.dtype))})),c=u[0],f=u[1],h=this.complex(c,f);return c.dispose(),f.dispose(),h},n.prototype.makeComplexComponentTensorInfo=function(t,r){return{dataId:r.dataId,dtype:r.dtype,shape:t.shape}},n.prototype.addN=function(t){if(t.length===1)return t[0];if(t.length>ve().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var r=Math.floor(t.length/2),o=this.addN(t.slice(0,r)),a=this.addN(t.slice(r));return this.addN([o,a])}var i=t.map((function(c){return c.dtype})).reduce((function(c,f){return er(c,f)})),s=t.map((function(c){return c.shape})),u=ve().getBool("WEBGL_PACK")?new GZ(t[0].shape,s):new $Z(t[0].shape,s);return this.compileAndRun(u,t,i)},n.prototype.subtract=function(t,r){if(t.dtype==="complex64"&&r.dtype==="complex64")return this.complexSeparableBinaryOp(t,r,db);if(this.shouldExecuteOnCPU([t,r]))return this.cpuBackend.subtract(t,r);var o=er(t.dtype,r.dtype);if(ve().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,r,db,t.dtype);var a=new fn(db,t.shape,r.shape);return this.compileAndRun(a,[t,r],o)},n.prototype.pow=function(t,r){var o=ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ti(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,r.shape):new fn(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,t.shape,r.shape),a=er(t.dtype,r.dtype);return this.compileAndRun(o,[t,r],a)},n.prototype.ceil=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(ve().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,ND,t.dtype);var r=new yt(t.shape,ND);return this.compileAndRun(r,[t])},n.prototype.floor=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(ve().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,kD,t.dtype);var r=new yt(t.shape,kD);return this.compileAndRun(r,[t])},n.prototype.sign=function(t){var r=new yt(t.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(r,[t])},n.prototype.isNaN=function(t){var r=new yt(t.shape,"return float(isnan(x));");return this.compileAndRun(r,[t],"bool")},n.prototype.isInf=function(t){var r=new yt(t.shape,"return float(isinf(x));");return this.compileAndRun(r,[t],"bool")},n.prototype.isFinite=function(t){var r=new yt(t.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(r,[t],"bool")},n.prototype.round=function(t){var r=new yt(t.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(r,[t])},n.prototype.exp=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(ve().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,MD,t.dtype);var r=new yt(t.shape,MD);return this.compileAndRun(r,[t])},n.prototype.expm1=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(ve().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,ID,t.dtype);var r=new yt(t.shape,ID);return this.compileAndRun(r,[t])},n.prototype.softmax=function(t,r){var o=On([r],t.shape),a=this.max(t,o),i=Hr(a.shape,o),s=this.subtract(t,a.reshape(i)),u=this.exp(s),c=this.sum(u,o).reshape(i);return this.realDivide(u,c)},n.prototype.log=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(ve().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,t.dtype);var r=new yt(t.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(r,[t])},n.prototype.log1p=function(t){var r=new yt(t.shape,"return log(1.0 + x);");return this.compileAndRun(r,[t])},n.prototype.sqrt=function(t){var r=new yt(t.shape,"return sqrt(x);");return this.compileAndRun(r,[t])},n.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var r=new yt(t.shape,"return inversesqrt(x);");return this.compileAndRun(r,[t])},n.prototype.reciprocal=function(t){var r=new yt(t.shape,"return 1.0 / x;");return this.compileAndRun(r,[t])},n.prototype.relu=function(t){var r;return r=ve().getBool("WEBGL_PACK")?new Td(t.shape,V4):new yt(t.shape,L4),this.compileAndRun(r,[t])},n.prototype.relu6=function(t){var r;return r=ve().getBool("WEBGL_PACK")?new Td(t.shape,H4):new yt(t.shape,z4),this.compileAndRun(r,[t])},n.prototype.prelu=function(t,r){var o=ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ti(F4,t.shape,r.shape):new fn(B4,t.shape,r.shape);return this.compileAndRun(o,[t,r])},n.prototype.elu=function(t){if(ve().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,W4,t.dtype);var r=new yt(t.shape,U4);return this.compileAndRun(r,[t])},n.prototype.eluDer=function(t,r){var o=ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ti(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,t.shape,r.shape):new fn("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,r.shape);return this.compileAndRun(o,[t,r])},n.prototype.selu=function(t){var r=new yt(t.shape,_te);return this.compileAndRun(r,[t])},n.prototype.int=function(t){var r=new yt(t.shape,"return float(int(x));");return this.compileAndRun(r,[t],"int32")},n.prototype.clip=function(t,r,o){var a,i=(a=ve().getBool("WEBGL_PACK_CLIP")?new see(t.shape):new iee(t.shape)).getCustomSetupFunc(r,o);return this.compileAndRun(a,[t],null,i)},n.prototype.abs=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(ve().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,DD,t.dtype);var r=new yt(t.shape,DD);return this.compileAndRun(r,[t])},n.prototype.complexAbs=function(t){var r=this.texData.get(t.dataId),o=new lee(t.shape),a=[this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)];return this.compileAndRun(o,a)},n.prototype.sigmoid=function(t){var r=new yt(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(r,[t])},n.prototype.softplus=function(t){var r=new yt(t.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(r,[t])},n.prototype.sin=function(t){var r=new yt(t.shape,Tte);return this.compileAndRun(r,[t])},n.prototype.cos=function(t){var r=new yt(t.shape,Dte);return this.compileAndRun(r,[t])},n.prototype.tan=function(t){var r=new yt(t.shape,"return tan(x);");return this.compileAndRun(r,[t])},n.prototype.asin=function(t){var r=new yt(t.shape,Ate);return this.compileAndRun(r,[t])},n.prototype.acos=function(t){var r=new yt(t.shape,Nte);return this.compileAndRun(r,[t])},n.prototype.atan=function(t){var r=new yt(t.shape,kte);return this.compileAndRun(r,[t])},n.prototype.atan2=function(t,r){var o=ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ti(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,r.shape):new fn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,t.shape,r.shape);return this.compileAndRun(o,[t,r])},n.prototype.sinh=function(t){var r=new yt(t.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[t])},n.prototype.cosh=function(t){var r=new yt(t.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(r,[t])},n.prototype.tanh=function(t){var r=new yt(t.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(r,[t])},n.prototype.asinh=function(t){var r=new yt(t.shape,Mte);return this.compileAndRun(r,[t])},n.prototype.acosh=function(t){var r=new yt(t.shape,Ite);return this.compileAndRun(r,[t])},n.prototype.atanh=function(t){var r=new yt(t.shape,Ote);return this.compileAndRun(r,[t])},n.prototype.erf=function(t){var r=new yt(t.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(r,[t])},n.prototype.step=function(t,r){var o=new yt(t.shape,(function(a){return a===void 0&&(a=0),aa+`
    return x > 0.0 ? 1.0 : float(`+a+`);
  `})(r));return this.compileAndRun(o,[t])},n.prototype.conv2dByMatMul=function(t,r,o,a,i,s){var u=t.shape,c=this.texData.get(t.dataId),f=o.inChannels,h=u[0]*u[1]*u[2],m=o.outChannels,v=o.dataFormat==="channelsLast",b=(h===1||m===1)&&f>1e3,x=u[2]%2!=0&&!!c.isPacked;if(b||!ve().getBool("WEBGL_LAZILY_UNPACK")||!ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!x){var w=v?u[0]*u[1]*u[2]:u[0]*u[2]*u[3],S=this.reshape(t,[1,w,o.inChannels]),E=this.reshape(r,[1,o.inChannels,o.outChannels]);return this.reshape(this.fusedBatchMatMul({a:S,b:E,transposeA:!1,transposeB:!1,bias:a,activation:i,preluActivationWeights:s}),o.outShape)}var R=v?u[0]*u[1]*(u[2]+1):u[0]*u[2]*(u[3]+1),D={dataId:t.dataId,shape:[1,R,o.inChannels],dtype:t.dtype},A=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,$(vp(c.shape,D.shape),(function(){return"packed reshape "+c.shape+" to "+D.shape+" isn't free"}));var N=this.reshape(r,[1,o.inChannels,o.outChannels]),k=this.fusedBatchMatMul({a:D,b:N,transposeA:!1,transposeB:!1,bias:a,activation:i,preluActivationWeights:s}),M=this.texData.get(k.dataId);return $(M.isPacked,(function(){return"batchMatMul result is expected to be packed"})),c.shape=A,M.shape=o.outShape,ee.makeTensorFromDataId(k.dataId,o.outShape,k.dtype)},n.prototype.conv2dWithIm2Row=function(t,r,o,a,i,s){var u=o.filterWidth,c=o.filterHeight,f=o.inChannels,h=o.outWidth,m=o.outHeight,v=o.dataFormat==="channelsLast",b=u*c*f,x=m*h,w=[b,x],S=t.squeeze([0]),E=r.reshape([1,b,-1]),R=new Kee(w,S.shape,o),D=this.compileAndRun(R,[S]).reshape([1,w[0],w[1]]),A=a!=null,N=s!=null,k=i?xp(i,!0):null,M=new fb(D.shape,[1,x,o.outChannels],!0,!1,A,k,N),I=[D,E];a&&I.push(a),N&&I.push(s);var P=this.compileAndRun(M,I);return v?P.reshape([1,m,h,o.outChannels]):P.reshape([1,o.outChannels,m,h])},n.prototype.fusedConv2d=function(t){var r=t.input,o=t.filter,a=t.convInfo,i=t.bias,s=t.activation,u=t.preluActivationWeights;if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(r,o,a,i,s,u);if(ve().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,o,a,i,s,u);var c=i!=null,f=u!=null,h=s?xp(s,!1):null,m=new bD(a,c,h,f),v=[r,o];return i&&v.push(i),u&&v.push(u),this.compileAndRun(m,v)},n.prototype.conv2d=function(t,r,o){if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(t,r,o);if(ve().getBool("WEBGL_CONV_IM2COL")&&t.shape[0]===1)return this.conv2dWithIm2Row(t,r,o);var a=new bD(o);return this.compileAndRun(a,[t,r])},n.prototype.conv2dDerInput=function(t,r,o){var a=new fee(o);return this.compileAndRun(a,[t,r])},n.prototype.conv2dDerFilter=function(t,r,o){var a=new dee(o);return this.compileAndRun(a,[t,r])},n.prototype.fusedDepthwiseConv2D=function(t){var r,o=t.input,a=t.filter,i=t.convInfo,s=t.bias,u=t.activation,c=t.preluActivationWeights,f=ve().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,h=u?xp(u,f):null,m=[o,a],v=s!=null,b=c!=null;return v&&m.push(s),b&&m.push(c),f?(r=new wD(i,v,h,b),this.compileAndRun(r,m)):(r=new xD(i,v,h,b),this.compileAndRun(r,m))},n.prototype.depthwiseConv2D=function(t,r,o){var a;return ve().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1?(a=new wD(o),this.compileAndRun(a,[t,r])):(a=new xD(o),this.compileAndRun(a,[t,r]))},n.prototype.depthwiseConv2DDerInput=function(t,r,o){var a=new vee(o);return this.compileAndRun(a,[t,r])},n.prototype.depthwiseConv2DDerFilter=function(t,r,o){var a=new mee(o);return this.compileAndRun(a,[t,r])},n.prototype.conv3d=function(t,r,o){var a=new gee(o);return this.compileAndRun(a,[t,r])},n.prototype.conv3dDerInput=function(t,r,o){var a=new pee(o);return this.compileAndRun(a,[t,r])},n.prototype.conv3dDerFilter=function(t,r,o){var a=new hee(o);return this.compileAndRun(a,[t,r])},n.prototype.maxPool=function(t,r){var o=new hb(r,"max",!1);return this.compileAndRun(o,[t])},n.prototype.avgPool=function(t,r){var o=new hb(r,"avg",!1);return this.compileAndRun(o,[t],"float32")},n.prototype.maxPoolBackprop=function(t,r,o,a){var i=new hb(a,"max",!0),s=this.compileAndRun(i,[r]),u=new ete(a),c=this.compileAndRun(u,[t,s],r.dtype);return s.dispose(),c},n.prototype.avgPoolBackprop=function(t,r,o){var a=new eee(o);return this.compileAndRun(a,[t],r.dtype)},n.prototype.cast=function(t,r){return D4(t,r,this)},n.prototype.unstack=function(t,r){for(var o=t.shape[r],a=new Array(t.rank-1),i=0,s=0;s<t.rank;s++)s!==r&&(a[i++]=t.shape[s]);var u=new Array(t.rank).fill(0),c=t.shape.slice();c[r]=1;var f=new Array(o);for(s=0;s<f.length;s++)u[r]=s,f[s]=this.slice(t,u,c).reshape(a);return f},n.prototype.avgPool3d=function(t,r){var o=new pb(r,"avg",!1);return this.compileAndRun(o,[t],"float32")},n.prototype.avgPool3dBackprop=function(t,r,o){var a=new tee(o);return this.compileAndRun(a,[t],r.dtype)},n.prototype.maxPool3d=function(t,r){var o=new pb(r,"max",!1);return this.compileAndRun(o,[t],"float32")},n.prototype.maxPool3dBackprop=function(t,r,o,a){var i=new pb(a,"max",!0),s=this.compileAndRun(i,[r]),u=new tte(a),c=this.compileAndRun(u,[t,s],r.dtype);return s.dispose(),c},n.prototype.reshape=function(t,r){var o=this.texData.get(t.dataId);if(o.isPacked&&!vp(t.shape,r)&&(o.texture===null||!vp(o.shape,r))){var a=this.packedReshape(t,r);return ee.makeTensorFromDataId(a.dataId,a.shape,a.dtype)}return Ax(t,r)},n.prototype.resizeBilinear=function(t,r,o,a){var i=ve().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new dte(t.shape,r,o,a):new cte(t.shape,r,o,a);return this.compileAndRun(i,[t],"float32")},n.prototype.resizeBilinearBackprop=function(t,r,o){var a=new ute(t,r,o);return this.compileAndRun(a,[t])},n.prototype.resizeNearestNeighbor=function(t,r,o,a){var i=new hte(t.shape,r,o,a);return this.compileAndRun(i,[t])},n.prototype.resizeNearestNeighborBackprop=function(t,r,o){var a=new fte(t,r,o);return this.compileAndRun(a,[t])},n.prototype.multinomial=function(t,r,o,a){var i=r?t:bi(t),s=i.shape[0],u=i.shape[1],c=new nte(s,u,o),f=c.getCustomSetupFunc(a);return this.compileAndRun(c,[i],"int32",f)},n.prototype.oneHot=function(t,r,o,a){var i=new rte(t.size,r,o,a);return this.compileAndRun(i,[t])},n.prototype.diag=function(t){var r=new Cee(t.size);return this.compileAndRun(r,[t])},n.prototype.nonMaxSuppression=function(t,r,o,a,i){return mm("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),$w(t.dataSync(),r.dataSync(),o,a,i)},n.prototype.cropAndResize=function(t,r,o,a,i,s){var u=new yee(t.shape,r.shape,a,i,s);return this.compileAndRun(u,[t,r,o],"float32")},n.prototype.depthToSpace=function(t,r,o){$(r>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+r}));var a=t.shape[0],i=o==="NHWC"?t.shape[1]:t.shape[2],s=o==="NHWC"?t.shape[2]:t.shape[3],u=o==="NHWC"?t.shape[3]:t.shape[1],c=i*r,f=s*r,h=u/(r*r),m=new See(o==="NHWC"?[a,c,f,h]:[a,h,c,f],r,o);return this.compileAndRun(m,[t])},n.prototype.split=function(t,r,o){return k4(t,r,o)},n.prototype.scatterND=function(t,r,o){var a=wm(0,t,o),i=a.sliceRank,s=a.numUpdates,u=a.sliceSize,c=a.strides,f=a.outputSize,h=[f/u,u],m=t.reshape([s,i]),v=r.reshape([s,u]);if(f===0)return Ax(tr([]),o);var b=Ie(0),x=new RD(s,i,m.rank,v.rank,c,h);return this.compileAndRun(x,[v,m,b]).reshape(o)},n.prototype.sparseToDense=function(t,r,o,a){var i=wm(0,t,o),s=i.sliceRank,u=i.numUpdates,c=i.strides,f=i.outputSize,h=new RD(u,s,t.rank,r.rank,c,[f,1]);return this.compileAndRun(h,[r,t,a]).reshape(o)},n.prototype.fft=function(t){return this.fftImpl(t,!1)},n.prototype.ifft=function(t){return this.fftImpl(t,!0)},n.prototype.fftImpl=function(t,r){var o=this.texData.get(t.dataId),a=new CD(Dee,t.shape,r),i=new CD(Aee,t.shape,r),s=[this.makeComplexComponentTensorInfo(t,o.complexTensors.real),this.makeComplexComponentTensorInfo(t,o.complexTensors.imag)],u=this.compileAndRun(a,s),c=this.compileAndRun(i,s),f=this.complex(u,c).as2D(t.shape[0],t.shape[1]);return u.dispose(),c.dispose(),f},n.prototype.gatherND=function(t,r){var o=r.shape,a=o[o.length-1],i=w4(t,r),s=i[0],u=i[1],c=i[2],f=i[3],h=r.reshape([u,a]),m=t.reshape([t.size/c,c]),v=new Mee(a,f,[u,c]);return this.compileAndRun(v,[m,h]).reshape(s)},n.prototype.fill=function(t,r,o){if((o=o||kf(r))==="string"){var a=dm(o,qe(t));return a.fill(r),ee.makeTensor(a,t,o,this)}var i=new Nee(t,r),s=i.getCustomSetupFunc(r);return this.compileAndRun(i,[],o,s)},n.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)},n.prototype.zerosLike=function(t){return this.fill(t.shape,t.dtype==="string"?"":0,t.dtype)},n.prototype.linspace=function(t,r,o){return A4(t,r,o)},n.prototype.makeTensorInfo=function(t,r){var o=this.write(null,t,r);return this.texData.get(o).usage=null,{dataId:o,shape:t,dtype:r}},n.prototype.makeOutput=function(t,r){var o=this.makeTensorInfo(t,r).dataId;return ee.makeTensorFromDataId(o,t,r,this)},n.prototype.unpackTensor=function(t){var r=new jte(t.shape);return this.runWebGLProgram(r,[t],t.dtype)},n.prototype.packTensor=function(t){var r=new ote(t.shape);return this.runWebGLProgram(r,[t],t.dtype,null,!0)},n.prototype.packedReshape=function(t,r){var o=[hm(t.shape)].concat(pm(t.shape)),a={dtype:t.dtype,shape:o,dataId:t.dataId},i=[hm(r)].concat(pm(r)),s=new lte(i,o),u=this.runWebGLProgram(s,[a],t.dtype,null,!0);return{dataId:u.dataId,shape:r,dtype:u.dtype}},n.prototype.decode=function(t){var r,o=this.texData.get(t),a=o.isPacked,i=o.shape,s=o.dtype,u=lb(i);return r=a?new wee(u):new xee(u),{dtype:s,shape:i,dataId:this.runWebGLProgram(r,[{shape:u,dtype:s,dataId:t}],s,null,!0).dataId}},n.prototype.runWebGLProgram=function(t,r,o,a,i){var s=this;i===void 0&&(i=!1);var u=this.makeTensorInfo(t.outputShape,o),c=this.texData.get(u.dataId);if(t.packedOutput&&(c.isPacked=!0),t.outPackingScheme===nf.DENSE){var f=Md(t.outputShape);c.texShape=f.map((function(R){return 2*R}))}if(t.outTexUsage!=null&&(c.usage=t.outTexUsage),qe(u.shape)===0)return c.values=ef(u.dtype,0),u;var h=[],m=r.map((function(R){if(R.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var D=s.texData.get(R.dataId);if(D.texture==null){if(!t.packedInputs&&qe(R.shape)<=ve().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:R.shape,texData:null,isUniform:!0,uniformValues:D.values};t.packedInputs&&(D.isPacked=!0,D.shape=R.shape)}else if(!!D.isPacked!=!!t.packedInputs)R=D.isPacked?s.unpackTensor(R):s.packTensor(R),h.push(R),D=s.texData.get(R.dataId);else if(D.isPacked&&!vp(D.shape,R.shape)){var A=R,N=R.shape;R.shape=D.shape,R=s.packedReshape(R,N),h.push(R),D=s.texData.get(R.dataId),A.shape=N}return s.uploadToGPU(R.dataId),{shape:R.shape,texData:D,isUniform:!1}}));this.uploadToGPU(u.dataId);var v,b={shape:u.shape,texData:c,isUniform:!1},x=(function(R,D,A){var N="";D.concat(A).forEach((function(I){var P=I.texData!=null&&I.texData.slice!=null&&I.texData.slice.flatOffset>0,L=I.isUniform?"uniform":I.texData.texShape;N+=I.shape+"_"+L+"_"+P}));var k=R.userCode,M=R.constructor.name;return M+="_"+N+"_"+k})(t,m,b),w=this.getAndSaveBinary(x,(function(){return(function(R,D,A,N){var k=D.userCode,M=A.map((function(V,q){var B={logicalShape:V.shape,texShape:V.isUniform?null:V.texData.texShape,isUniform:V.isUniform,isPacked:!V.isUniform&&V.texData.isPacked,flatOffset:null};return V.texData!=null&&V.texData.slice!=null&&V.texData.slice.flatOffset>0&&(B.flatOffset=V.texData.slice.flatOffset),{name:D.variableNames[q],shapeInfo:B}})),I=M.map((function(V){return V.shapeInfo})),P={logicalShape:N.shape,texShape:N.texData.texShape,isUniform:!1,isPacked:N.texData.isPacked,flatOffset:null},L=XZ(M,P,k,D.packedInputs),F=R.createProgram(L),Y=null,W=R.getUniformLocation(F,"NAN",!1);ve().getNumber("WEBGL_VERSION")===1&&(Y=R.getUniformLocation(F,"INFINITY",!1));for(var X={},j=0;j<D.variableNames.length;j++){var U=D.variableNames[j];X[U]=R.getUniformLocation(F,U,!1),X["offset"+U]=R.getUniformLocation(F,"offset"+U,!1)}return{program:D,source:L,webGLProgram:F,uniformLocations:X,inShapeInfos:I,outShapeInfo:P,infLoc:Y,nanLoc:W}})(s.gpgpu,t,m,b)})),S=this.activeTimers!=null;if(S&&(v=this.startTimer()),(function(R,D,A,N,k){ED(D.inShapeInfos,A),ED([D.outShapeInfo],[N]);var M=N.texData.texture,I=N.texData.texShape;N.texData.isPacked?R.setOutputPackedMatrixTexture(M,I[0],I[1]):R.setOutputMatrixTexture(M,I[0],I[1]),R.setProgram(D.webGLProgram),ve().getNumber("WEBGL_VERSION")===1&&D.infLoc!==null&&R.gl.uniform1f(D.infLoc,1/0),D.nanLoc!==null&&R.gl.uniform1f(D.nanLoc,NaN),A.forEach((function(P,L){var F=D.program.variableNames[L],Y=D.uniformLocations[F],W=D.uniformLocations["offset"+F];if(Y!=null)if(P.isUniform)if(qe(P.shape)<2)R.gl.uniform1f(Y,P.uniformValues[0]);else{var X=P.uniformValues;X instanceof Float32Array||(X=new Float32Array(X)),R.gl.uniform1fv(Y,X)}else P.texData.slice!=null&&W!=null&&R.gl.uniform1i(W,P.texData.slice.flatOffset),R.setInputMatrixTexture(P.texData.texture,Y,L)})),k?.(R,D.webGLProgram),R.executeProgram()})(this.gpgpu,w,m,b,a),h.forEach((function(R){return s.disposeData(R.dataId)})),S&&(v=this.endTimer(v),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(v)})),!ve().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&i===!1){var E=this.unpackTensor(u);return this.disposeData(u.dataId),E}return u},n.prototype.compileAndRun=function(t,r,o,a,i){i===void 0&&(i=!1),o=o||r[0].dtype;var s=this.runWebGLProgram(t,r,o,a,i);return ee.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},n.prototype.getAndSaveBinary=function(t,r){return t in this.binaryCache||(this.binaryCache[t]=r()),this.binaryCache[t]},n.prototype.getTextureManager=function(){return this.textureManager},n.prototype.dispose=function(){var t=this;this.disposed||(ve().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(r){t.gpgpu.deleteProgram(t.binaryCache[r].webGLProgram),delete t.binaryCache[r]})),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},n.prototype.floatPrecision=function(){var t=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Le((function(){if(!ve().get("WEBGL_RENDER_FLOAT32_ENABLED")){var r=ve().getBool("DEBUG");ve().set("DEBUG",!1);var o=t.abs(Ie(1e-8)).dataSync()[0];if(ve().set("DEBUG",r),o>0)return 32}return 16}))),this.floatPrecisionValue},n.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},n.prototype.uploadToGPU=function(t){var r,o=this.texData.get(t),a=o.shape,i=o.dtype,s=o.values,u=o.texture,c=o.usage,f=o.isPacked;if(u==null){var h,m=this.activeTimers!=null;m&&(h=va());var v=o.texShape;if(v==null&&(v=WJ(a,f),o.texShape=v),s!=null){var b=lb(a),x=void 0,w=v[1],S=v[0],E=s instanceof Uint8Array;f?(w=(r=If(v[0],v[1]))[0],S=r[1],x=new Tee(b,[S,w],E)):x=new _ee(b,[S,w],E);var R=this.makeTensorInfo([S,w],i);this.texData.get(R.dataId).usage=E?ro.PIXELS:ro.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(R.dataId),w,S,s);var D=this.runWebGLProgram(x,[R],i,null,!0),A=this.texData.get(D.dataId);o.texture=A.texture,o.texShape=A.texShape,o.isPacked=A.isPacked,o.usage=A.usage,this.disposeData(R.dataId),this.texData.delete(D.dataId),o.values=null,m&&(this.uploadWaitMs+=va()-h)}else{var N=this.acquireTexture(v,c,i,f);o.texture=N}}},n.prototype.convertAndCacheOnCPU=function(t,r){var o=this.texData.get(t),a=o.dtype;return this.releaseGPUData(t),r!=null&&(o.values=(function(i,s){if(s==="float32"||s==="complex64")return i;if(s==="int32"||s==="bool"){for(var u=s==="int32"?new Int32Array(i.length):new Uint8Array(i.length),c=0;c<u.length;++c)u[c]=Math.round(i[c]);return u}throw new Error("Unknown dtype "+s)})(r,a)),o.values},n.prototype.acquireTexture=function(t,r,o,a){if(this.numBytesInGPU+=this.computeBytes(t,o),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(t,r,a)},n.prototype.computeBytes=function(t,r){return t[0]*t[1]*r4(r)},n})(_4);c4()&&ee.registerBackend("webgl",(function(){return new Fte}),2);var Lte=Q({square_:function(e){var n=H(e,"x","square"),t=[n];return ee.runKernelFunc((function(r,o){return o([n]),r.square(n)}),{x:n},null,"Square",{},t,[])}}),of="SquaredDifference",$4=Q({squaredDifference_:function(e,n){var t,r=H(e,"a","squaredDifference"),o=H(n,"b","squaredDifference");t=un(r,o),r=t[0],o=t[1],_t(r.shape,o.shape);var a={a:r,b:o},i=[r,o];return ee.runKernelFunc((function(s,u){var c=s.squaredDifference(r,o);return u([r,o]),c}),a,(function(s,u){var c=u[0],f=u[1],h=Ie(2);return{a:function(){return s.mul(c.sub(f).mul(h))},b:function(){return s.mul(f.sub(c).mul(h))}}}),of,{},i,[])}}),zte=Q({abs_:function(e){var n=H(e,"x","abs");return n.dtype==="complex64"?ee.runKernelFunc((function(t){return t.complexAbs(n)}),{$x:n}):ee.runKernelFunc((function(t,r){var o=t.abs(n);return r([n]),o}),{x:n},(function(t,r){var o=r[0];return{x:function(){return t.mul(o.toFloat().step(-1))}}}),"Abs")}}),Ute=Q({acos_:function(e){var n=H(e,"x","acos");return ee.runKernelFunc((function(t,r){var o=t.acos(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.divStrict(Ie(1).sub(o.toFloat().square()).sqrt()).neg()}}}))}}),Vte=Q({acosh_:function(e){var n=H(e,"x","acosh");return ee.runKernelFunc((function(t,r){var o=t.acosh(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.divStrict(o.toFloat().square().sub(1).sqrt())}}}))}}),Hte=Q({asin_:function(e){var n=H(e,"x","asin");return ee.runKernelFunc((function(t,r){var o=t.asin(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.divStrict(Ie(1).sub(o.toFloat().square()).sqrt())}}}))}}),Wte=Q({asinh_:function(e){var n=H(e,"x","asinh");return ee.runKernelFunc((function(t,r){var o=t.asinh(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.divStrict(Ie(1).add(o.toFloat().square()).sqrt())}}}))}}),$te=Q({atan_:function(e){var n=H(e,"x","atan");return ee.runKernelFunc((function(t,r){var o=t.atan(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.div(o.toFloat().square().add(1))}}}))}}),Gte=Q({atanh_:function(e){var n=H(e,"x","atanh");return ee.runKernelFunc((function(t,r){var o=t.atanh(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.div(Ie(1).sub(o.toFloat().square()))}}}))}}),qte=Q({ceil_:function(e){var n=H(e,"x","ceil");return ee.runKernelFunc((function(t){return t.ceil(n)}),{$x:n},(function(t){return{$x:function(){return kt(t)}}}))}}),Qw=Q({clipByValue_:function(e,n,t){var r=H(e,"x","clipByValue");$(n<=t,(function(){return"Error in clip: min ("+n+") must be less than or equal to max ("+t+")."}));var o=[r],a={min:n,max:t};return ee.runKernelFunc((function(i,s){var u=i.clip(r,n,t);return s([r]),u}),{x:r},(function(i,s){var u=s[0];return{x:function(){return i.where(u.greaterEqual(n).logicalAnd(u.lessEqual(t)),kt(i))}}}),"ClipByValue",a,o)}}),Xte=Q({cos_:function(e){var n=H(e,"x","cos"),t=[n];return ee.runKernelFunc((function(r,o){var a=r.cos(n);return o([n]),a}),{x:n},(function(r,o){var a=o[0];return{x:function(){return a.toFloat().sin().neg().mul(r)}}}),"Cos",{},t)}}),Yte=Q({cosh_:function(e){var n=H(e,"x","cosh");return ee.runKernelFunc((function(t,r){var o=t.cosh(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return o.toFloat().sinh().mulStrict(t)}}}))}}),Kte=Q({erf_:function(e){var n=H(e,"x","erf");return $(n.dtype==="int32"||n.dtype==="float32",(function(){return"Input dtype must be `int32` or `float32`."})),n.dtype==="int32"&&(n=n.toFloat()),ee.runKernelFunc((function(t,r){var o=t.erf(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.mul(o.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),kx=Q({exp_:function(e){var n=H(e,"x","exp");return ee.runKernelFunc((function(t,r){var o=t.exp(n);return r([o]),o}),{x:n},(function(t,r){return{x:function(){return t.mulStrict(r[0])}}}),"Exp",{},[],[!0])}}),Qte=Q({expm1_:function(e){var n=H(e,"x","expm1");return ee.runKernelFunc((function(t,r){var o=t.expm1(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.mul(o.exp())}}}))}}),Jte=Q({floor_:function(e){var n=H(e,"x","floor");return ee.runKernelFunc((function(t){return t.floor(n)}),{$x:n},(function(t){return{$x:function(){return kt(t)}}}))}}),Zte=Q({log_:function(e){var n=H(e,"x","log"),t=[n];return ee.runKernelFunc((function(r,o){var a=r.log(n);return o([n]),a}),{x:n},(function(r,o){var a=o[0];return{x:function(){return r.div(a.toFloat())}}}),"Log",{},t)}}),ene=Q({log1p_:function(e){var n=H(e,"x","log1p");return ee.runKernelFunc((function(t,r){var o=t.log1p(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.div(o.add(1))}}}))}}),tne=Q({logSigmoid_:function(e){var n=H(e,"x","logSigmoid");return ee.runKernelFunc((function(t,r){var o=t.softplus(n.neg()).neg();return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.mul(o.neg().sigmoid())}}}))}}),Rm=Q({neg_:function(e){var n=H(e,"x","neg"),t=[n];return ee.runKernelFunc((function(r){return r.neg(n)}),{x:n},(function(r){return{x:function(){return r.neg()}}}),"Neg",{},t)}}),nne=Q({reciprocal_:function(e){var n=H(e,"x","reciprocal");return ee.runKernelFunc((function(t,r){var o=t.reciprocal(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.div(o.square().neg())}}}))}}),rne=Q({round_:function(e){var n=H(e,"x","round");return ee.runKernelFunc((function(t){return t.round(n)}),{$x:n},(function(t){return{$x:function(){return kt(t)}}}))}}),G4=Q({rsqrt_:function(e){var n=H(e,"x","rsqrt"),t=[n];return ee.runKernelFunc((function(r,o){var a=r.rsqrt(n);return o([n]),a}),{x:n},(function(r,o){var a=o[0];return{x:function(){return r.div(a.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},t)}}),q4=Q({sigmoid_:function(e){var n=H(e,"x","sigmoid");return ee.runKernelFunc((function(t,r){var o=t.sigmoid(n);return r([o]),o}),{x:n},(function(t,r){var o=r[0];return{x:function(){return t.mul(o.mul(Ie(1).sub(o)))}}}),"Sigmoid")}}),one=Q({sign_:function(e){var n=H(e,"x","sign");return ee.runKernelFunc((function(t){return t.sign(n)}),{$x:n},(function(t){return{$x:function(){return kt(t)}}}))}}),ane=Q({isNaN_:function(e){var n=H(e,"x","isNaN");return ee.runKernelFunc((function(t){return t.isNaN(n)}),{$x:n},(function(t){return{$x:function(){return kt(t)}}}))}}),ine=Q({isInf_:function(e){var n=H(e,"x","isInf");return ee.runKernelFunc((function(t){return t.isInf(n)}),{$x:n},(function(t){return{$x:function(){return kt(t)}}}))}}),sne=Q({isFinite_:function(e){var n=H(e,"x","isFinite");return ee.runKernelFunc((function(t){return t.isFinite(n)}),{$x:n},(function(t){return{$x:function(){return kt(t)}}}))}}),lne=Q({sin_:function(e){var n=H(e,"x","sin"),t=[n];return ee.runKernelFunc((function(r,o){var a=r.sin(n);return o([n]),a}),{x:n},(function(r,o){var a=o[0];return{x:function(){return a.toFloat().cos().mul(r)}}}),"Sin",{},t)}}),une=Q({sinh_:function(e){var n=H(e,"x","sinh");return ee.runKernelFunc((function(t,r){var o=t.sinh(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return o.toFloat().cosh().mulStrict(t)}}}))}}),cne=Q({softplus_:function(e){var n=H(e,"x","softplus");return ee.runKernelFunc((function(t,r){var o=t.softplus(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.mul(o.sigmoid())}}}))}}),dne=Q({sqrt_:function(e){var n=H(e,"x","sqrt");return ee.runKernelFunc((function(t,r){var o=t.sqrt(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.div(o.toFloat().sqrt().mul(2))}}}))}}),fne=Q({step_:function(e,n){n===void 0&&(n=0);var t=H(e,"x","step");return ee.runKernelFunc((function(r){return r.step(t,n)}),{$x:t},(function(r){return{$x:function(){return kt(r)}}}))}}),hne=Q({tan_:function(e){var n=H(e,"x","tan");return ee.runKernelFunc((function(t,r){var o=t.tan(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return t.div(o.cos().square())}}}))}}),pne=Q({tanh_:function(e){var n=H(e,"x","tanh");return ee.runKernelFunc((function(t,r){var o=t.tanh(n);return r([o]),o}),{x:n},(function(t,r){var o=r[0];return{x:function(){return Ie(1).sub(o.square()).mulStrict(t)}}}),"Tanh",{},null,[!0])}});function X4(e,n,t,r,o,a){var i,s,u=H(e,"x","batchNorm"),c=H(n,"mean","batchNorm"),f=H(t,"variance","batchNorm");return o!=null&&(i=H(o,"scale","batchNorm")),r!=null&&(s=H(r,"offset","batchNorm")),$(u.rank===2,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),$(c.rank===2||c.rank===1,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+c.rank+"."})),$(f.rank===2||f.rank===1,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+f.rank+"."})),i!=null&&$(i.rank===2||i.rank===1,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."})),s!=null&&$(s.rank===2||s.rank===1,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),Pf(u,c,f,s,i,a)}function Y4(e,n,t,r,o,a){var i,s,u=H(e,"x","batchNorm"),c=H(n,"mean","batchNorm"),f=H(t,"variance","batchNorm");return o!=null&&(i=H(o,"scale","batchNorm")),r!=null&&(s=H(r,"offset","batchNorm")),$(u.rank===3,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),$(c.rank===3||c.rank===1,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+c.rank+"."})),$(f.rank===3||f.rank===1,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+f.rank+"."})),i!=null&&$(i.rank===3||i.rank===1,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."})),s!=null&&$(s.rank===3||s.rank===1,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),Pf(u,c,f,s,i,a)}function K4(e,n,t,r,o,a){var i,s,u=H(e,"x","batchNorm"),c=H(n,"mean","batchNorm"),f=H(t,"variance","batchNorm");return o!=null&&(i=H(o,"scale","batchNorm")),r!=null&&(s=H(r,"offset","batchNorm")),$(u.rank===4,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),$(c.rank===4||c.rank===1,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+c.rank+"."})),$(f.rank===4||f.rank===1,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+f.rank+"."})),i!=null&&$(i.rank===4||i.rank===1,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."})),s!=null&&$(s.rank===4||s.rank===1,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),Pf(u,c,f,s,i,a)}function Pf(e,n,t,r,o,a){a==null&&(a=.001);var i,s,u,c=H(e,"x","batchNorm"),f=H(n,"mean","batchNorm"),h=H(t,"variance","batchNorm");o!=null&&(i=H(o,"scale","batchNorm")),r!=null&&(s=H(r,"offset","batchNorm")),$(f.rank===h.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),$(s==null||f.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),$(i==null||f.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),u=c.rank===0||c.rank===1?c.as4D(1,1,1,c.size):c.rank===2?c.as4D(1,1,c.shape[0],c.shape[1]):c.rank===3?c.as4D(1,c.shape[0],c.shape[1],c.shape[2]):c;var m=[c,f,h,i];return ee.runKernelFunc((function(v,b){var x=v.batchNormalization(u,wp(f),wp(h),a,wp(i),wp(s));return b([c,f,h,i]),x}),{x:c,mean:f,variance:h,scale:i,offset:s},(function(v,b){var x=b,w=x[0],S=x[1],E=x[2],R=x[3],D=R??Ie(1),A=kn(S.shape,u.shape),N=[];if(S.rank===1){for(var k=0;k<u.shape.length-1;++k)N.push(u.shape[k]);N.push(1)}var M=w.sub(S),I=v.mul(D),P=G4(E.add(Ie(a))),L=P.mul(P).mul(P).mul(Ie(-.5));return{x:function(){return S.rank===1?v.mul(Mu(P.as4D(1,1,1,S.shape[0]),N)).mul(D).reshape(w.shape):v.mul(P).mul(D).reshape(w.shape)},mean:function(){var F=P.mul(Ie(-1)).mul(I);return S.rank===1&&(F=F.sum(A)),F.reshape(S.shape)},variance:function(){var F=L.mul(M).mul(I);return S.rank===1&&(F=F.sum(A)),F.reshape(S.shape)},scale:function(){var F=M.mul(P),Y=v.mul(F);return S.rank===1&&(Y=Y.sum(A)),Y.reshape(S.shape)},offset:function(){var F=v;return S.rank===1&&(F=F.sum(A)),F.reshape(S.shape)}}}),"BatchNormalization",{varianceEpsilon:a},m).reshape(c.shape)}function wp(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Lv(){d4("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var mne=Q({batchNormalization2d_:function(e,n,t,r,o,a){return r===void 0&&(r=.001),Lv(),X4(e,n,t,a,o,r)}}),vne=Q({batchNormalization3d_:function(e,n,t,r,o,a){return r===void 0&&(r=.001),Lv(),Y4(e,n,t,a,o,r)}}),gne=Q({batchNormalization4d_:function(e,n,t,r,o,a){return r===void 0&&(r=.001),Lv(),K4(e,n,t,a,o,r)}}),yne=Q({batchNormalization_:function(e,n,t,r,o,a){return r===void 0&&(r=.001),Lv(),Pf(e,n,t,a,o,r)}}),Q4=Q({batchNorm_:Pf}),bne=Q({batchNorm2d_:X4}),xne=Q({batchNorm3d_:Y4}),wne=Q({batchNorm4d_:K4}),zv=Q({logicalAnd_:function(e,n){var t=H(e,"a","logicalAnd","bool"),r=H(n,"b","logicalAnd","bool");return _t(t.shape,r.shape),ee.runKernelFunc((function(o){return o.logicalAnd(t,r)}),{a:t,b:r},null,"LogicalAnd")}}),Sne=Q({logicalNot_:function(e){var n=H(e,"x","logicalNot","bool");return ee.runKernelFunc((function(t){return t.logicalNot(n)}),{$x:n})}}),J4=Q({logicalOr_:function(e,n){var t=H(e,"a","logicalOr","bool"),r=H(n,"b","logicalOr","bool");return _t(t.shape,r.shape),ee.runKernelFunc((function(o){return o.logicalOr(t,r)}),{$a:t,$b:r})}}),Cne=Q({logicalXor_:function(e,n){var t=H(e,"a","logicalXor","bool"),r=H(n,"b","logicalXor","bool");return _t(t.shape,r.shape),J4(e,n).logicalAnd(zv(e,n).logicalNot())}}),ll=Q({where_:function(e,n,t){var r=H(n,"a","where"),o=H(t,"b","where"),a=H(e,"condition","where","bool");return Bt(r.shape,o.shape,"Error in where: "),a.rank===1?$(a.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):Bt(a.shape,o.shape,"Error in where: "),ee.runKernelFunc((function(i,s){var u=i.select(a,r,o);return s([a]),u}),{$condition:a,$a:r,$b:o},(function(i,s){var u=s[0];return{$condition:function(){return kt(u).toFloat()},$a:function(){return i.mul(u.cast(i.dtype))},$b:function(){return i.mul(u.logicalNot().cast(i.dtype))}}}))}}),Z4=function(e){return Ve(this,void 0,void 0,(function(){var n,t,r;return He(this,(function(o){switch(o.label){case 0:return[4,(n=H(e,"condition","whereAsync","bool")).data()];case 1:return t=o.sent(),r=qw(n.shape,t),e!==n&&n.dispose(),[2,r]}}))}))},Ct=Q({add_:function(e,n){var t,r=H(e,"a","add"),o=H(n,"b","add");t=un(r,o),r=t[0],o=t[1];var a=_t(r.shape,o.shape);return ee.runKernelFunc((function(i){return i.add(r,o)}),{a:r,b:o},(function(i){return{a:function(){var s=i,u=kn(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=i,u=kn(o.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(o.shape)}}}),"Add")}}),Ene=Q({addN_:function(e){$(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),$(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var n=e.map((function(o,a){return H(o,"tensors"+a,"addN")})),t=n[0];n.forEach((function(o){if(o.dtype!==t.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),n.forEach((function(o){if(!Gn(o.shape,t.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=n;return ee.runKernelFunc((function(o){return o.addN(n)}),r,(function(o){var a={};return n.forEach((function(i,s){a[s]=function(){return o.clone()}})),a}),"AddN")}}),Rne=Q({addStrict_:function(e,n){var t=H(e,"a","addStrict"),r=H(n,"b","addStrict");return Bt(t.shape,r.shape,"Error in addStrict: "),t.add(r)}}),_ne=Q({atan2_:function(e,n){var t,r=H(e,"a","atan2"),o=H(n,"b","atan2");t=un(r,o),r=t[0],o=t[1];var a=_t(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.atan2(r,o);return s([r,o]),u}),{$a:r,$b:o},(function(i,s){var u=s[0],c=s[1];return{$a:function(){var f=Ct(u.square(),c.square()),h=i.mul(c.div(f)),m=kn(u.shape,a);return m.length>0&&(h=h.sum(m)),h.reshape(u.shape)},$b:function(){var f=Ct(u.square(),c.square()),h=Rm(i.mul(u.div(f))),m=kn(c.shape,a);return m.length>0&&(h=h.sum(m)),h.reshape(c.shape)}}}))}}),Wo=Q({div_:function(e,n){var t,r=H(e,"a","div"),o=H(n,"b","div");if(t=un(r,o),r=t[0],o=t[1],r.dtype==="int32"&&o.dtype==="int32")return eI(r,o);var a=_t(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.realDivide(r,o);return s([r,o]),u}),{a:r,b:o},(function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.div(c.toFloat()),h=kn(u.shape,a);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=kn(c.shape,a);h.length>0&&(f=f.sum(h).reshape(c.shape));var m=c.square();return f.div(m.toFloat()).neg()}}}),"Div")}}),Tne=Q({divNoNan_:function(e,n){var t,r=H(e,"a","div"),o=H(n,"b","div");r=(t=un(r,o))[0],o=t[1];var a=Wo(r,o),i=kt(a),s=o.equal(i);return ll(s,i,a)}}),Dne=Q({divStrict_:function(e,n){var t=H(e,"a","div"),r=H(n,"b","div");return Bt(t.shape,r.shape,"Error in divideStrict: "),t.div(r)}}),eI=Q({floorDiv_:function(e,n){var t,r=H(e,"a","floorDiv"),o=H(n,"b","floorDiv");t=un(r,o),r=t[0],o=t[1];var a=_t(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.floorDiv(r,o);return s([r,o]),u}),{a:r,b:o},(function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.div(c.toFloat()),h=kn(u.shape,a);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=kn(c.shape,a);h.length>0&&(f=f.sum(h).reshape(c.shape));var m=c.square();return f.div(m.toFloat()).neg()}}}),"FloorDiv")}}),Jw=Q({maximum_:function(e,n){var t,r=H(e,"a","maximum"),o=H(n,"b","maximum");return t=un(r,o),r=t[0],o=t[1],r.dtype==="bool"&&(r=r.toInt(),o=o.toInt()),_t(r.shape,o.shape),ee.runKernelFunc((function(a,i){var s=a.maximum(r,o);return i([r,o]),s}),{a:r,b:o},(function(a,i){var s=i[0],u=i[1];return{a:function(){return a.mul(s.greaterEqual(u).toFloat())},b:function(){return a.mul(s.less(u).toFloat())}}}),"Maximum")}}),Ane=Q({maximumStrict_:function(e,n){var t=H(e,"a","maximumStrict"),r=H(n,"b","maximumStrict");return Bt(t.shape,r.shape,"Error in maximumStrict: "),t.maximum(r)}}),tI=Q({minimum_:function(e,n){var t,r=H(e,"a","minimum"),o=H(n,"b","minimum");return t=un(r,o),r=t[0],o=t[1],r.dtype==="bool"&&(r=r.toInt(),o=o.toInt()),_t(r.shape,o.shape),ee.runKernelFunc((function(a,i){var s=a.minimum(r,o);return i([r,o]),s}),{a:r,b:o},(function(a,i){var s=i[0],u=i[1];return{a:function(){return a.mul(s.lessEqual(u).toFloat())},b:function(){return a.mul(s.greater(u).toFloat())}}}),"Minimum")}}),Nne=Q({minimumStrict_:function(e,n){var t=H(e,"a","minimumStrict"),r=H(n,"b","minimumStrict");return Bt(t.shape,r.shape,"Error in minimumStrict: "),t.minimum(r)}}),kne=Q({mod_:function(e,n){var t,r=H(e,"a","mod"),o=H(n,"b","mod");t=un(r,o),r=t[0],o=t[1];var a=_t(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.mod(r,o);return s([r,o]),u}),{$a:r,$b:o},(function(i,s){var u=s[0],c=s[1];return{$a:function(){var f=kn(u.shape,a);return f.length>0?i.sum(f).reshape(u.shape):i},$b:function(){var f=i.mul(u.div(c).floor().neg()),h=kn(c.shape,a);return h.length>0?f.sum(h).reshape(c.shape):f}}}))}}),Mne=Q({modStrict_:function(e,n){var t=H(e,"a","modStrict"),r=H(n,"b","modStrict");return Bt(t.shape,r.shape,"Error in modStrict: "),t.mod(r)}}),hr=Q({mul_:function(e,n){var t,r=H(e,"a","mul"),o=H(n,"b","mul");t=un(r,o),r=t[0],o=t[1];var a=_t(r.shape,o.shape);return ee.runKernelFunc((function(i,s){var u=i.multiply(r,o);return s([r,o]),u}),{a:r,b:o},(function(i,s){var u=s[0],c=s[1];return{a:function(){var f=i.mul(c.toFloat()),h=kn(u.shape,a);return h.length>0?f.sum(h).reshape(u.shape):f},b:function(){var f=i.mul(u.toFloat()),h=kn(c.shape,a);return h.length>0?f.sum(h).reshape(c.shape):f}}}),"Mul")}}),Ine=Q({mulStrict_:function(e,n){var t=H(e,"a","mul"),r=H(n,"b","mul");return Bt(t.shape,r.shape,"Error in multiplyStrict: "),t.mul(r)}}),_m=Q({pow_:function(e,n){var t,r=H(e,"base","pow"),o=H(n,"exp","pow");t=un(r,o),r=t[0],o=t[1];var a=_t(r.shape,o.shape),i=[r,o];return ee.runKernelFunc((function(s,u){var c=s.pow(r,o);return u([r,o,c]),c}),{a:r,b:o},(function(s,u){var c=u[0],f=u[1],h=u[2];return{a:function(){var m=f.toFloat(),v=s.mul(m.mul(c.pow(m.sub(Ie(1))))),b=kn(c.shape,a);return b.length>0&&(v=v.sum(b)),v.reshape(c.shape)},b:function(){var m=c.greater(0),v=c.log().where(m,kt(c)),b=s.mul(h.mul(v)),x=kn(f.shape,a);return x.length>0&&(b=b.sum(x)),b.reshape(f.shape)}}}),"Pow",{},i,[!0])}}),One=Q({powStrict_:function(e,n){return Bt(e.shape,n.shape,"Error in powStrict: "),e.pow(n)}}),Pne=Q({squaredDifferenceStrict_:function(e,n){var t=H(e,"a","squaredDifferenceStrict"),r=H(n,"b","squaredDifferenceStrict");return Bt(t.shape,r.shape,"Error in squaredDifferenceStrict: "),t.squaredDifference(r)}}),Mn=Q({sub_:function(e,n){var t,r=H(e,"a","sub"),o=H(n,"b","sub");t=un(r,o),r=t[0],o=t[1];var a=_t(r.shape,o.shape);return ee.runKernelFunc((function(i){return i.subtract(r,o)}),{a:r,b:o},(function(i){return{a:function(){var s=i,u=kn(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)},b:function(){var s=i,u=kn(o.shape,a);return u.length>0&&(s=s.sum(u)),s.neg().reshape(o.shape)}}}),"Sub")}}),jne=Q({subStrict_:function(e,n){var t=H(e,"a","subStrict"),r=H(n,"b","subStrict");return Bt(t.shape,r.shape,"Error in subStrict: "),t.sub(r)}}),nI=Q({equal_:function(e,n){var t,r=H(e,"a","equal"),o=H(n,"b","equal");return t=un(r,o),r=t[0],o=t[1],_t(r.shape,o.shape),ee.runKernelFunc((function(a){return a.equal(r,o)}),{$a:r,$b:o})}}),Bne=Q({equalStrict_:function(e,n){var t=H(e,"a","equalStrict"),r=H(n,"b","equalStrict");return Bt(t.shape,r.shape,"Error in equalStrict: "),t.equal(r)}}),Fne=Q({greater_:function(e,n){var t,r=H(e,"a","greater"),o=H(n,"b","greater");return t=un(r,o),r=t[0],o=t[1],_t(r.shape,o.shape),ee.runKernelFunc((function(a){return a.greater(r,o)}),{a:r,b:o},null,"Greater")}}),rI=Q({greaterEqual_:function(e,n){var t,r=H(e,"a","greaterEqual"),o=H(n,"b","greaterEqual");return t=un(r,o),r=t[0],o=t[1],_t(r.shape,o.shape),ee.runKernelFunc((function(a,i){var s=a.greaterEqual(r,o);return i([r,o]),s}),{a:r,b:o},(function(a,i){var s=i[0],u=i[1];return{a:function(){return kt(s)},b:function(){return kt(u)}}}),"GreaterEqual")}}),Lne=Q({greaterEqualStrict_:function(e,n){var t=H(e,"a","greaterEqualStrict"),r=H(n,"b","greaterEqualStrict");return Bt(t.shape,r.shape,"Error in greaterEqualStrict: "),t.greaterEqual(r)}}),zne=Q({greaterStrict_:function(e,n){var t=H(e,"a","greaterStrict"),r=H(n,"b","greaterStrict");return Bt(t.shape,r.shape,"Error in greaterStrict: "),t.greater(r)}}),Une=Q({less_:function(e,n){var t,r=H(e,"a","less"),o=H(n,"b","less");return t=un(r,o),r=t[0],o=t[1],_t(r.shape,o.shape),ee.runKernelFunc((function(a){return a.less(r,o)}),{a:r,b:o},null,"Less")}}),Vne=Q({lessEqual_:function(e,n){var t,r=H(e,"a","lessEqual"),o=H(n,"b","lessEqual");return t=un(r,o),r=t[0],o=t[1],_t(r.shape,o.shape),ee.runKernelFunc((function(a,i){var s=a.lessEqual(r,o);return i([r,o]),s}),{a:r,b:o},null,"LessEqual")}}),Hne=Q({lessEqualStrict_:function(e,n){var t=H(e,"a","lessEqualStrict"),r=H(n,"b","lessEqualStrict");return Bt(t.shape,r.shape,"Error in lessEqualStrict: "),t.lessEqual(r)}}),Wne=Q({lessStrict_:function(e,n){var t=H(e,"a","lessStrict"),r=H(n,"b","lessStrict");return Bt(t.shape,r.shape,"Error in lessStrict: "),t.less(r)}}),$ne=Q({notEqual_:function(e,n){var t,r=H(e,"a","notEqual"),o=H(n,"b","notEqual");return t=un(r,o),r=t[0],o=t[1],_t(r.shape,o.shape),ee.runKernelFunc((function(a){return a.notEqual(r,o)}),{a:r,b:o},null,"NotEqual")}}),Gne=Q({notEqualStrict_:function(e,n){var t=H(e,"a","notEqualStrict"),r=H(n,"b","notEqualStrict");return Bt(t.shape,r.shape,"Error in notEqualStrict: "),t.notEqual(r)}});function OD(e,n){for(var t=[],r=e;r<n;++r)t.push(r);return t}function PD(e){for(var n=[],t=0;t<e.length;++t)for(var r=0;r<e[t].length;++r)n.push(e[t][r]);return n}var Zw=Q({gather_:function(e,n,t){t===void 0&&(t=0);var r=H(e,"x","gather"),o=H(n,"indices","gather","int32");t=On(t,r.shape)[0];var a=(function(i,s,u){for(var c=i.shape[u],f=[],h=1,m=1,v=0;v<u;v++)f.push(i.shape[v]),h*=i.shape[v];for(v=0;v<s.rank;v++)f.push(s.shape[v]);for(v=u+1;v<i.rank;v++)f.push(i.shape[v]),m*=i.shape[v];return{batchSize:h,sliceSize:m,dimSize:c,outputShape:f}})(r,o,t);return ee.runKernelFunc((function(i,s){var u=i.gather(r,o.flatten(),t);return s([o]),u}),{x:r,indices:o},(function(i,s){var u=s[0];return{x:function(){var c=r.shape,f=u.size,h=c.slice(0,t),m=h.length,v=c.slice(t,c.length).slice(1),b=v.length,x=OD(0,m),w=OD(m+1,m+1+b),S=PD([h,[f],v]),E=i.reshape(S),R=u.reshape([f]),D=PD([[m],x,w]),A=E.transpose(D),N=oI(A,R,r.shape[t]),k=Lw(D);return N=N.transpose(k)},indices:function(){return u}}}),"Gather",{axis:t}).reshape(a.outputShape)}}),oI=Q({unsortedSegmentSum_:function(e,n,t){var r=H(e,"x","unsortedSegmentSum"),o=H(n,"segmentIds","unsortedSegmentSum","int32");return $(gn(t),(function(){return"numSegments must be of dtype int"})),ee.runKernelFunc((function(a,i){var s=a.unsortedSegmentSum(r,o,t);return i([o]),s}),{$x:r},(function(a,i){var s=i[0];return{$x:function(){return(function(u,c){for(var f=Jw(c,kt(c)),h=Zw(u,f),m=rI(c,Ie(0,"int32")),v=h.rank-m.rank,b=0;b<v;++b)m=_o(m,b+1);m=zv(m,vc(h.shape,"bool"));var x=kt(h);return ll(m,h,x)})(a,s)}}}))}}),qne=function(e,n,t){return Ve(this,void 0,void 0,(function(){var r,o,a,i,s,u,c,f,h,m,v,b,x;return He(this,(function(w){switch(w.label){case 0:for(r=H(e,"tensor","boolMask"),o=H(n,"mask","boolMask","bool"),a=t??0,i=o.rank,s=r.shape,$(i>0,(function(){return"mask cannot be scalar"})),Bt(s.slice(a,a+i),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=a;c<a+i;c++)u*=s[c];return f=s.slice(0,a).concat([u],s.slice(a+i)),h=r.reshape(f),m=o.reshape([-1]),[4,Z4(m)];case 1:return v=w.sent(),b=v.squeeze([1]),x=Zw(h,b,a),e!==r&&r.dispose(),n!==o&&o.dispose(),b.dispose(),h.dispose(),m.dispose(),v.dispose(),[2,x]}}))}))};function aI(e,n,t,r,o,a,i){a===void 0&&(a="NHWC"),$(e.length===n.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+n.rank+") must match"}));var s=e,u=n,c=!1;n.rank===3&&(c=!0,u=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]),s=[1,e[0],e[1],e[2]]),$(s.length===4,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),$(u.rank===4,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),$(t.rank===4,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+t.rank}));var f=a==="NHWC"?s[3]:s[1],h=a==="NHWC"?u.shape[3]:u.shape[1];$(f===t.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+f+") must match input depth for filter "+t.shape[2]+"."})),$(h===t.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+h+") must match output depth for filter "+t.shape[3]+"."})),i!=null&&$(gn(o),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var m=Ww(a),v=gl(s,t.shape,r,1,o,i,!1,m),b=ee.runKernelFunc((function(x,w){var S=x.conv2dDerInput(u,t,v);return w([t,u]),S}),{dy4D:u,filter:t},(function(x,w){var S=w[0],E=w[1];return{dy4D:function(){return Lo(x,S,r,o,a,1,i)},filter:function(){return e2(x,E,S.shape,r,o,a,i)}}}));return c?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}function vb(e){var n=(function(a){return typeof a=="number"?[a,a,a]:a.length===2?[a[0],a[1],1]:a})(e),t=n[0],r=n[1],o=n[2];return t===1&&r===1&&o===1}function iI(e,n,t,r,o){$(e.length===n.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+n.rank+") must match"}));var a=e,i=n,s=!1;n.rank===4&&(s=!0,i=n.as5D(1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var u=a[4],c=i.shape[4];$(a.length===5,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."})),$(i.rank===5,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank})),$(t.rank===5,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+t.rank})),$(u===t.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+t.shape[3]+"."})),$(c===t.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+c+") must match output depth for filter "+t.shape[4]+"."}));var f=Cm(a,t.shape,r,1,o),h=ee.runKernelFunc((function(m){return m.conv3dDerInput(i,t,f)}),{dy5D:i});return s?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}var Xne=Q({conv1d_:function(e,n,t,r,o,a,i){o===void 0&&(o="NWC"),a===void 0&&(a=1);var s=H(e,"x","conv1d"),u=H(n,"filter","conv1d"),c=s,f=!1;s.rank===2&&(f=!0,c=s.as3D(1,s.shape[0],s.shape[1])),$(c.rank===3,(function(){return"Error in conv1d: input must be rank 3, but got rank "+c.rank+"."})),$(u.rank===3,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),i!=null&&$(gn(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."})),$(c.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+c.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),$(Wr(t,a),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+t+" and dilation '"+a+"'"})),$(o==="NWC",(function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."}));var h=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),m=c.as4D(c.shape[0],1,c.shape[1],c.shape[2]),v=Lo(m,h,[1,t],r,"NHWC",[1,a],i);return f?v.as2D(v.shape[2],v.shape[3]):v.as3D(v.shape[0],v.shape[2],v.shape[3])}}),Lo=Q({conv2d_:function(e,n,t,r,o,a,i){o===void 0&&(o="NHWC"),a===void 0&&(a=[1,1]);var s=H(e,"x","conv2d"),u=H(n,"filter","conv2d"),c=s,f=!1;s.rank===3&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),$(c.rank===4,(function(){return"Error in conv2d: input must be rank 4, but got rank "+c.rank+"."})),$(u.rank===4,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),i!=null&&$(gn(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var h=o==="NHWC"?c.shape[3]:c.shape[1];$(h===u.shape[2],(function(){return"Error in conv2d: depth of input ("+h+") must match input depth for filter "+u.shape[2]+"."})),$(Wr(t,a),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"}));var m=Ww(o),v=gl(c.shape,u.shape,t,a,r,i,!1,m),b=[u,c],x=ee.runKernelFunc((function(w,S){var E=w.conv2d(c,u,v);return S([u,c]),E}),{x:c,filter:u},(function(w,S){var E=S,R=E[0],D=E[1];return $(Xu(a),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"})),{x:function(){return sI(D.shape,w,R,t,r,o)},filter:function(){return e2(D,w,R.shape,t,r,o)}}}),"Conv2D",v,b);return f?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),Yne=Q({conv3d_:function(e,n,t,r,o,a){o===void 0&&(o="NDHWC"),a===void 0&&(a=[1,1,1]);var i=H(e,"x","conv3d"),s=H(n,"filter","conv3d"),u=i,c=!1;i.rank===4&&(c=!0,u=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),$(u.rank===5,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),$(s.rank===5,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),$(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),$((function(m,v){return vb(m)||vb(v)})(t,a),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"})),$(o==="NDHWC",(function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."}));var f=Cm(u.shape,s.shape,t,a,r),h=ee.runKernelFunc((function(m,v){var b=m.conv3d(u,s,f);return v([u,s]),b}),{x:u,$filter:s},(function(m,v){$(vb(a),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}));var b=v[0],x=v[1];return{x:function(){return iI(b.shape,m,x,t,r)},$filter:function(){return(function(w,S,E,R,D){var A=w;w.rank===4&&(A=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3]));var N=S;N.rank===4&&(N=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3])),$(A.rank===5,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+A.shape+"."})),$(N.rank===5,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+N.shape+"."})),$(E.length===5,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+E+"."})),$(A.shape[4]===E[3],(function(){return"Error in conv3dDerFilter: depth of input "+A.shape[4]+") must match input depth in filter ("+E[3]+"."})),$(N.shape[4]===E[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+N.shape[4]+") must match output depth for filter ("+E[4]+")."}));var k=Cm(A.shape,E,R,1,D);return ee.runKernelFunc((function(M){return M.conv3dDerFilter(A,N,k)}),{x5D:A,dy5D:N})})(b,m,x.shape,t,r)}}}));return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),e2=Q({conv2dDerFilter_:function(e,n,t,r,o,a,i){a===void 0&&(a="NHWC");var s=e;e.rank===3&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=n;u.rank===3&&(u=n.as4D(1,n.shape[0],n.shape[1],n.shape[2])),$(s.rank===4,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),$(u.rank===4,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),$(t.length===4,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+t+"."}));var c=a==="NHWC"?s.shape[3]:s.shape[1],f=a==="NHWC"?u.shape[3]:u.shape[1];$(c===t[2],(function(){return"Error in conv2dDerFilter: depth of input "+c+") must match input depth in filter ("+t[2]+"."})),$(f===t[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+f+") must match output depth for filter ("+t[3]+")."})),i!=null&&$(gn(o),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."}));var h=Ww(a),m=gl(s.shape,t,r,1,o,i,!1,h);return ee.runKernelFunc((function(v){return v.conv2dDerFilter(s,u,m)}),{x4D:s,dy4D:u})}}),sI=Q({conv2dDerInput_:aI}),Uv=Q({depthwiseConv2d_:function(e,n,t,r,o,a,i){a===void 0&&(a=[1,1]);var s=H(e,"x","depthwiseConv2d"),u=H(n,"filter","depthwiseConv2d"),c=s,f=!1;s.rank===3&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),$(c.rank===4,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+c.rank+"."})),$(u.rank===4,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),$(c.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+c.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),a==null&&(a=[1,1]),$(Wr(t,a),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"})),i!=null&&$(gn(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var h=gl(c.shape,u.shape,t,a,r,i,!0),m=[c,u],v=ee.runKernelFunc((function(b,x){var w=b.depthwiseConv2D(c,u,h);return x([c,u]),w}),{x:c,filter:u},(function(b,x){$(Xu(a),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"}));var w=x[0],S=x[1];return{x:function(){return lI(w.shape,b,S,h)},filter:function(){return uI(w,b,S.shape,h)}}}),"DepthwiseConv2dNative",h,m);return f?v.as3D(v.shape[1],v.shape[2],v.shape[3]):v}}),lI=Q({depthwiseConv2dDerInput_:function(e,n,t,r){var o=n,a=!1;n.rank===3&&(a=!0,o=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var i=ee.runKernelFunc((function(s){return s.depthwiseConv2DDerInput(o,t,r)}),{dy4D:o});return a?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),uI=Q({depthwiseConv2dDerFilter_:function(e,n,t,r){var o=e;e.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=n;return a.rank===3&&(a=n.as4D(1,n.shape[0],n.shape[1],n.shape[2])),ee.runKernelFunc((function(i){return i.depthwiseConv2DDerFilter(o,a,r)}),{x4D:o,dy4D:a})}}),t2=Q({separableConv2d_:function(e,n,t,r,o,a,i){a===void 0&&(a=[1,1]),i===void 0&&(i="NHWC");var s=H(e,"x","separableConv2d"),u=H(n,"depthwiseFilter","separableConv2d"),c=H(t,"pointwiseFilter","separableConv2d"),f=s,h=!1;if(s.rank===3&&(h=!0,f=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");$(f.rank===4,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+f.rank+"."})),$(u.rank===4,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),$(c.rank===4,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),$(c.shape[0]===1,(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+c.shape[0]+"."})),$(c.shape[1]===1,(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+c.shape[1]+"."}));var m=u.shape[2],v=u.shape[3];$(c.shape[2]===m*v,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+m*v+", but got "+c.shape[2]+"."}));var b=Uv(f,u,r,o,i,a),x=Lo(b,c,1,"valid",i);return h?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),Kne=Q({conv2dTranspose_:function(e,n,t,r,o,a){return aI(t,H(e,"x","conv2dTranspose"),H(n,"filter","conv2dTranspose"),r,o,"NHWC",a)}}),Qne=Q({conv3dTranspose_:function(e,n,t,r,o){return iI(t,H(e,"x","conv3dTranspose"),H(n,"filter","conv3dTranspose"),r,o)}}),Vv=Q({matMul_:function(e,n,t,r){var o;t===void 0&&(t=!1),r===void 0&&(r=!1);var a=H(e,"a","matMul"),i=H(n,"b","matMul");o=un(a,i),a=o[0],i=o[1];var s=t?a.shape[a.rank-2]:a.shape[a.rank-1],u=r?i.shape[i.rank-1]:i.shape[i.rank-2],c=t?a.shape[a.rank-1]:a.shape[a.rank-2],f=r?i.shape[i.rank-2]:i.shape[i.rank-1],h=a.shape.slice(0,-2),m=i.shape.slice(0,-2),v=qe(h),b=qe(m);$(a.rank>=2&&i.rank>=2&&a.rank===i.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+i.rank+"."})),$(Gn(h,m),(function(){return"Error in matMul: outer dimensions ("+h+") and ("+m+") of Tensors with shapes "+a.shape+" and "+i.shape+" must match."})),$(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+a.shape+" and "+i.shape+" and transposeA="+t+" and transposeB="+r+" must match."}));var x=a.shape.slice(0,-2).concat([c,f]),w=t?a.as3D(v,s,c):a.as3D(v,c,s),S=r?i.as3D(b,f,u):i.as3D(b,u,f),E={transposeA:t,transposeB:r};return ee.runKernelFunc((function(R,D){var A=R.batchMatMul(w,S,t,r);return D([w,S]),A}),{a:w,b:S},(function(R,D){var A=D,N=A[0],k=A[1];return t||r?!t&&r?{a:function(){return R.matMul(k,!1,!1)},b:function(){return R.matMul(N,!0,!1)}}:t&&!r?{a:function(){return k.matMul(R,!1,!0)},b:function(){return N.matMul(R,!1,!1)}}:{a:function(){return k.matMul(R,!0,!0)},b:function(){return R.matMul(N,!0,!0)}}:{a:function(){return R.matMul(k,!1,!0)},b:function(){return N.matMul(R,!0,!1)}}}),"BatchMatMul",E).reshape(x)}}),Jne=Q({dot_:function(e,n){var t=H(e,"t1","dot"),r=H(n,"t2","dot");$(!(t.rank!==1&&t.rank!==2||r.rank!==1&&r.rank!==2),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+t.rank+" and "+r.rank+"."}));var o=t.rank===1?t.size:t.shape[1],a=r.rank===1?r.size:r.shape[0];return $(o===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+a+"."})),t.rank===1&&r.rank===1?t.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():t.rank===1&&r.rank===2?t.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():t.rank===2&&r.rank===1?t.matMul(r.as2D(-1,1)).as1D():t.matMul(r.as2D(r.shape[0],r.shape[1]))}}),Zne=Q({outerProduct_:function(e,n){var t=H(e,"v1","outerProduct"),r=H(n,"v2","outerProduct");return $(t.rank===1&&r.rank===1,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+r.rank+"."})),t.as2D(-1,1).matMul(r.as2D(1,-1))}}),jf=Q({reverse_:function(e,n){var t=H(e,"x","reverse");if(t.rank===0)return t.clone();var r=On(n,t.shape);return ee.runKernelFunc((function(o){return o.reverse(t,r)}),{$x:t},(function(o){return{$x:function(){return o.reverse(r)}}})).reshapeAs(t)}}),ere=Q({reverse1d_:function(e){var n=H(e,"x","reverse");return $(n.rank===1,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+n.rank+"."})),jf(n,0)}}),tre=Q({reverse2d_:function(e,n){var t=H(e,"x","reverse");return $(t.rank===2,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+t.rank+"."})),jf(t,n)}}),nre=Q({reverse3d_:function(e,n){var t=H(e,"x","reverse");return $(t.rank===3,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+t.rank+"."})),jf(t,n)}}),rre=Q({reverse4d_:function(e,n){var t=H(e,"x","reverse");return $(t.rank===4,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+t.rank+"."})),jf(t,n)}});function cI(e,n,t,r,o,a){var i=H(e,"x","maxPool"),s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),$(s.rank===4,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),$(Wr(t,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+r+"'"})),a!=null&&$(gn(o),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var c=rf(s.shape,n,t,r,o,a);if(c.filterWidth===1&&c.filterHeight===1&&Gn(c.inShape,c.outShape))return i.clone();var f=[s],h=ee.runKernelFunc((function(m,v){var b=m.maxPool(s,c);return v([s,b]),b}),{x:s},(function(m,v){var b=v[0],x=v[1];return{x:function(){return(function(w,S,E,R,D,A,N,k){var M=H(w,"dy","maxPoolBackprop"),I=H(S,"input","maxPoolBackprop"),P=H(E,"output","maxPoolBackprop");$(I.rank===M.rank,(function(){return"Rank of input ("+I.rank+") does not match rank of dy ("+M.rank+")"})),$(Wr(D,A),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+D+" and dilations '"+A+"'"})),$(M.rank===4,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+M.rank+"."})),$(I.rank===4,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+I.rank+"."}));var L=rf(I.shape,R,D,A,N,k);return ee.runKernelFunc((function(F){return F.maxPoolBackprop(M,I,P,L)}),{$dy:M,$input:I})})(m,b,x,n,t,r,o)}}}),"MaxPool",c,f);return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function dI(e,n,t,r,o,a){var i=H(e,"x","avgPool","float32");$(Wr(t,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+r+"'"}));var s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),$(s.rank===4,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),a!=null&&$(gn(o),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."}));var c=rf(s.shape,n,t,r,o,a);if(c.filterWidth===1&&c.filterHeight===1&&Gn(c.inShape,c.outShape))return i.clone();var f=ee.runKernelFunc((function(h){return h.avgPool(s,c)}),{x:s},(function(h){return{x:function(){return(function(m,v,b,x,w,S){var E=H(m,"dy","avgPoolBackprop"),R=H(v,"input","avgPoolBackprop");$(R.rank===E.rank,(function(){return"Rank of input ("+R.rank+") does not match rank of dy ("+E.rank+")"})),$(Wr(x,w),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+w+"'"}));var D=R,A=E,N=!1;R.rank===3&&(N=!0,D=R.as4D(1,R.shape[0],R.shape[1],R.shape[2]),A=E.as4D(1,E.shape[0],E.shape[1],E.shape[2])),$(A.rank===4,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+A.rank+"."})),$(D.rank===4,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+D.rank+"."}));var k=rf(D.shape,b,x,w,S),M=ee.runKernelFunc((function(I){return I.avgPoolBackprop(A,D,k)}),{dy4D:A,input4D:D});return N?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M})(h,s,n,t,r,o)}}}),"AvgPool",c);return f=f.cast(i.dtype),u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}var Un=Q({maxPool_:function(e,n,t,r,o){return cI(e,n,t,1,r,o)}}),Bf=Q({avgPool_:function(e,n,t,r,o){return dI(e,n,t,1,r,o)}}),ore=Q({pool_:function(e,n,t,r,o,a){o==null&&(o=[1,1]),a==null&&(a=1),r===0&&(r="valid");var i=H(e,"x","maxPool"),s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),$(Wr(a,o),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"}));var c,f=rf(s.shape,n,a,o,r),h=[f.dilationHeight,f.dilationWidth];c=r==="same"?(function(D,A){var N=D.map((function(I,P){return I+(I-1)*(A[P]-1)})).map((function(I){return I-1})),k=N.map((function(I){return Math.floor(I/2)})),M=N.map((function(I,P){return I-k[P]}));return N.map((function(I,P){return[k[P],M[P]]}))})([f.filterHeight,f.filterWidth],h):[[0,0],[0,0]];var m=h[0]===1&&h[1]===1,v=(function(D,A,N){var k=N.map((function(W){return W[0]})),M=N.map((function(W){return W[1]})),I=D.concat(k,M),P=A.map((function(W,X){return(W-I[X]%W)%W})),L=M.map((function(W,X){return W+P[X]})),F=A.map((function(W,X){return[k[X],L[X]]})),Y=A.map((function(W,X){return[0,P[X]]}));return[F,Y]})([f.inHeight,f.inWidth],h,c),b=v[0],x=v[1],w=m?r:"valid",S=m?s:g4(s,h,b),E=(t==="avg"?function(){return dI(S,n,a,1,w)}:function(){return cI(S,n,a,1,w)})(),R=m?E:p4(E,h,x);return u?R.as3D(R.shape[1],R.shape[2],R.shape[3]):R}}),are=Q({maxPool3d_:function(e,n,t,r,o,a,i){a===void 0&&(a="NDHWC");var s=H(e,"x","maxPool3d"),u=s,c=!1;s.rank===4&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),i==null&&(i=[1,1,1]),$(u.rank===5,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),$(a==="NDHWC",(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),$(Wr(t,i),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+i+"'"})),o!=null&&$(gn(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f=Sm(u.shape,n,t,i,r,o,a),h=ee.runKernelFunc((function(m,v){var b=m.maxPool3d(u,f);return v([u,b]),b}),{x:u},(function(m,v){var b=v[0],x=v[1];return{x:function(){return(function(w,S,E,R,D,A,N,k){var M=H(w,"dy","maxPool3dBackprop"),I=H(S,"input","maxPool3dBackprop"),P=H(E,"output","maxPool3dBackprop"),L=M,F=I,Y=P,W=!1;I.rank===4&&(W=!0,L=M.as5D(1,M.shape[0],M.shape[1],M.shape[2],M.shape[3]),F=I.as5D(1,I.shape[0],I.shape[1],I.shape[2],I.shape[3]),Y=P.as5D(1,P.shape[0],P.shape[1],P.shape[2],P.shape[3])),$(L.rank===5,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+L.rank+"."})),$(F.rank===5,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+F.rank+"."})),$(Y.rank===5,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+Y.rank+"."})),A==null&&(A=[1,1,1]),$(Wr(D,A),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+D+" and dilations '"+A+"'"})),k!=null&&$(gn(N),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+k+" but got pad "+N+"."}));var X=Sm(F.shape,R,D,A,N,k),j=ee.runKernelFunc((function(U){return U.maxPool3dBackprop(L,F,Y,X)}),{dy5D:L,input5D:F});return W?j.as4D(j.shape[1],j.shape[2],j.shape[3],j.shape[4]):j})(m,b,x,n,t,i,r,o)}}}));return c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),ire=Q({avgPool3d_:function(e,n,t,r,o,a,i){a===void 0&&(a="NDHWC");var s=H(e,"x","avgPool3d","float32"),u=s,c=!1;s.rank===4&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),i==null&&(i=[1,1,1]),$(u.rank===5,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),$(a==="NDHWC",(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),$(Wr(t,i),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+i+"'"})),o!=null&&$(gn(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f=Sm(u.shape,n,t,i,r,o,a),h=ee.runKernelFunc((function(m){return m.avgPool3d(u,f)}),{x:u},(function(m){return{x:function(){return(function(v,b,x,w,S,E,R){var D=H(v,"dy","avgPool3dBackprop"),A=H(b,"input","avgPool3dBackprop"),N=D,k=A,M=!1;A.rank===4&&(M=!0,N=D.as5D(1,D.shape[0],D.shape[1],D.shape[2],D.shape[3]),k=A.as5D(1,A.shape[0],A.shape[1],A.shape[2],A.shape[3])),$(N.rank===5,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+N.rank+"."})),$(k.rank===5,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+k.rank+"."})),S==null&&(S=[1,1,1]),$(Wr(w,S),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+w+" and dilations '"+S+"'"})),R!=null&&$(gn(E),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+R+" but got pad "+E+"."}));var I=Sm(k.shape,x,w,S,E,R),P=ee.runKernelFunc((function(L){return L.avgPool3dBackprop(N,k,I)}),{dy5D:N,input5D:k});return M?P.as4D(P.shape[1],P.shape[2],P.shape[3],P.shape[4]):P})(m,u,n,t,i,r,o)}}}));return h=h.cast(u.dtype),c?h.as4D(h.shape[1],h.shape[2],h.shape[3],h.shape[4]):h}}),Aa=Q({slice_:function(e,n,t){var r,o,a=H(e,"x","slice");if(a.rank===0)throw new Error("Slicing scalar is not possible");(r=typeof n=="number"?[n].concat(new Array(a.rank-1).fill(0)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(0)):n.slice()).forEach((function(u){$(u!==-1,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=t==null?new Array(a.rank).fill(-1):typeof t=="number"?[t].concat(new Array(a.rank-1).fill(-1)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(-1)):t).map((function(u,c){return u>=0?u:($(u===-1,(function(){return"Negative size values should be exactly -1 but got "+u+" for the slice() size at index "+c+"."})),a.shape[c]-r[c])})),OZ(a,r,o);var i=a.shape,s={begin:r,size:o};return ee.runKernelFunc((function(u){return u.slice(a,r,o)}),{x:a},(function(u){for(var c=[],f=0;f<u.rank;f++)c.push([r[f],i[f]-r[f]-o[f]]);return{x:function(){return u.pad(c)}}}),"Slice",s)}}),sre=Q({slice1d_:function(e,n,t){var r=H(e,"x","slice1d");return $(r.rank===1,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Aa(r,[n],[t])}}),lre=Q({slice2d_:function(e,n,t){var r=H(e,"x","slice2d");return $(r.rank===2,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Aa(r,n,t)}}),fI=Q({slice3d_:function(e,n,t){var r=H(e,"x","slice3d");return $(r.rank===3,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Aa(r,n,t)}}),ure=Q({slice4d_:function(e,n,t){var r=H(e,"x","slice4d");return $(r.rank===4,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Aa(r,n,t)}});function hI(e,n,t,r,o){return n.rank<t.rank&&(n=n.reshape(Hr(n.shape,r))),e.rank<t.rank&&(e=e.reshape(Hr(e.shape,r))),{x:function(){var a=e.mul(t.equal(n).cast(e.dtype));return o==null?a:a.transpose(o)}}}var cre=Q({all_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=H(e,"x","all","bool"),o=On(n,r.shape),a=o,i=ja(a,r.rank);i!=null&&(r=r.transpose(i),a=Ba(a.length,r.rank));var s=ee.runKernelFunc((function(c){return c.all(r,a)}),{$x:r});if(t){var u=Hr(s.shape,o);return s.reshape(u)}return s}}),dre=Q({any_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=H(e,"x","any","bool"),o=On(n,r.shape),a=o,i=ja(a,r.rank);i!=null&&(r=r.transpose(i),a=Ba(a.length,r.rank));var s=ee.runKernelFunc((function(c){return c.any(r,a)}),{$x:r});if(t){var u=Hr(s.shape,o);return s.reshape(u)}return s}}),fre=Q({argMax_:function(e,n){n===void 0&&(n=0);var t=H(e,"x","argMax");n==null&&(n=0);var r=On(n,t.shape),o=ja(r,t.rank);o!=null&&(t=t.transpose(o),r=Ba(r.length,t.rank));var a={axis:r[0]},i=[t];return ee.runKernelFunc((function(s,u){var c=s.argMax(t,r[0]);return u([t]),c}),{x:t},(function(s,u){var c=u[0];return{x:function(){return kt(c)}}}),"ArgMax",a,i)}}),hre=Q({argMin_:function(e,n){n===void 0&&(n=0);var t=H(e,"x","argMin");n==null&&(n=0);var r=On(n,t.shape),o=ja(r,t.rank);return o!=null&&(t=t.transpose(o),r=Ba(r.length,t.rank)),ee.runKernelFunc((function(a,i){var s=a.argMin(t,r[0]);return i([t]),s}),{$x:t},(function(a,i){var s=i[0];return{$x:function(){return kt(s)}}}))}}),pre=Q({logSumExp_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=H(e,"x","logSumExp"),o=On(n,r.shape),a=r.max(o,!0),i=r.sub(a).exp().sum(o).log(),s=a.reshape(i.shape).add(i);if(t){var u=Hr(s.shape,o);return s.reshape(u)}return s}}),Hv=Q({max_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=H(e,"x","max"),o=r,a=On(n,r.shape),i=a,s=ja(i,r.rank);s!=null&&(r=r.transpose(s),i=Ba(i.length,r.rank));var u=[r],c=ee.runKernelFunc((function(h,m){var v=h.max(r,i);return m([o,v]),v}),{x:r},(function(h,m){return hI(h,m[1],m[0],a,s)}),"Max",{axes:i},u,[!0]);if(t){var f=Hr(c.shape,a);c=c.reshape(f)}return c}}),mre=Q({mean_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=H(e,"x","mean"),o=On(n,r.shape),a=qe(ir(r.shape,o)[1]);return Fv((function(i){var s=Ie(a);return{value:(s.dtype===i.dtype?i:i.cast(s.dtype)).div(s).sum(n,t),gradFunc:function(u){var c=i.shape.slice();return o.forEach((function(f){c[f]=1})),u.reshape(c).mul(vc(i.shape,"float32")).div(a)}}}))(r)}}),vre=Q({min_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=H(e,"x","min"),o=r,a=On(n,r.shape),i=a,s=ja(i,r.rank);s!=null&&(r=r.transpose(s),i=Ba(i.length,r.rank));var u=[r],c=ee.runKernelFunc((function(h,m){var v=h.min(r,i);return m([o,v]),v}),{x:r},(function(h,m){return hI(h,m[1],m[0],a,s)}),"Min",{axes:i},u,[!0]);if(t){var f=Hr(c.shape,a);c=c.reshape(f)}return c}}),gre=Q({moments_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=On(n,(e=H(e,"x","moments")).shape),o=e.mean(r,t),a=o.shape;t||(a=Hr(o.shape,r));var i=e.toFloat().sub(o.reshape(a)).square();return{mean:o,variance:i.mean(r,t)}}}),pI=Q({sum_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=H(e,"x","sum");r.dtype==="bool"&&(r=r.toInt());var o=On(n,r.shape);return Fv((function(a){var i=ja(o,a.rank),s=o,u=a;i!=null&&(u=a.transpose(i),s=Ba(s.length,a.rank));var c=function(v){var b=a.shape.slice();return o.forEach((function(x){b[x]=1})),v.reshape(b).mul(vc(a.shape,"float32"))},f={axes:s},h=ee.runKernelFunc((function(v){return v.sum(u,s)}),{x:u},(function(v){return{x:function(){return c(v)}}}),"Sum",f);if(t){var m=Hr(h.shape,o);h=h.reshape(m)}return{value:h,gradFunc:c}}))(r)}}),yre=Q({prod_:function(e,n,t){n===void 0&&(n=null),t===void 0&&(t=!1);var r=H(e,"x","prod");r.dtype==="bool"&&(r=r.toInt());var o=On(n,r.shape),a=ja(o,r.rank),i=o,s=r;a!=null&&(s=r.transpose(a),i=Ba(i.length,r.rank));var u=ee.runKernelFunc((function(f){return f.prod(s,i)}),{permutedX:s});if(t){var c=Hr(u.shape,o);u=u.reshape(c)}return u}}),mI=Q({elu_:function(e){var n=H(e,"x","elu");return ee.runKernelFunc((function(t,r){var o=t.elu(n);return r([o]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){return ee.runKernelFunc((function(a){return a.eluDer(t,o)}),{dy:t,y:o})}}}))}}),bre=Q({leakyRelu_:function(e,n){n===void 0&&(n=.2);var t=H(e,"x","leakyRelu");return Jw(Ie(n).mul(t),t)}}),vI=Q({prelu_:function(e,n){var t=H(e,"x","prelu"),r=H(n,"alpha","prelu");return ee.runKernelFunc((function(o,a){var i=o.prelu(t,r);return a([t,r]),i}),{x:t,alpha:r},(function(o,a){var i=a[0],s=a[1],u=i.greater(0);return{x:function(){return ll(u,o,o.mul(s))},alpha:function(){var c=ll(u,kt(o),o.mul(i)),f=kn(s.shape,o.shape);return f.length>0&&(c=c.sum(f)),c.reshape(s.shape)}}}),"Prelu")}}),sn=Q({relu_:function(e){var n=H(e,"x","relu");return n.dtype==="bool"?n.toInt():ee.runKernelFunc((function(t,r){var o=t.relu(n);return r([n]),o}),{x:n},(function(t,r){var o=r[0];return{x:function(){return t.mulStrict(o.step().toFloat())}}}),"Relu")}}),gI=Q({relu6_:function(e){var n=H(e,"x","relu6");return n.dtype==="bool"?n.toInt():ee.runKernelFunc((function(t,r){var o=t.relu6(n);return r([n]),o}),{x:n},(function(t,r){var o=r[0],a=o.lessEqual(6).mul(o.step());return{x:function(){return t.mulStrict(a.toFloat())}}}),"Relu6")}}),xre=Q({selu_:function(e){var n=H(e,"x","selu");return ee.runKernelFunc((function(t,r){var o=t.selu(n);return r([n]),o}),{$x:n},(function(t,r){var o=r[0];return{$x:function(){var a=o.greater(Ie(0)),i=Ie(Yw),s=Ie(Kw),u=t.mul(s),c=t.mul(i).mul(o.toFloat().exp());return ll(a,u,c)}}}))}}),vs=Q({transpose_:function(e,n){var t=H(e,"x","transpose");if(n==null&&(n=t.shape.map((function(o,a){return a})).reverse()),$(t.rank===n.length,(function(){return"Error in transpose: rank of input "+t.rank+" must match length of perm "+n+"."})),n.forEach((function(o){$(o>=0&&o<t.rank,(function(){return"All entries in 'perm' must be between 0 and "+(t.rank-1)+" but got "+n}))})),t.rank<=1)return t.clone();var r={perm:n};return ee.runKernelFunc((function(o){return o.transpose(t,n)}),{x:t},(function(o){var a=Lw(n);return{x:function(){return o.transpose(a)}}}),"Transpose",r)}}),wre=Q({localResponseNormalization_:function(e,n,t,r,o){n===void 0&&(n=5),t===void 0&&(t=1),r===void 0&&(r=1),o===void 0&&(o=.5);var a=H(e,"x","localResponseNormalization");$(a.rank===4||a.rank===3,(function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+a.rank+"."})),$(gn(n),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+n+"."}));var i=a,s=!1;a.rank===3&&(s=!0,i=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var u=ee.runKernelFunc((function(c,f){var h=c.localResponseNormalization4D(i,n,t,r,o);return f([i,h]),h}),{x4D:i},(function(c,f){var h=f[0],m=f[1];return{x4D:function(){return ee.runKernelFunc((function(v){return v.LRNGrad(c,h,m,n,t,r,o)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),yI=Q({norm_:function(e,n,t,r){n===void 0&&(n="euclidean"),t===void 0&&(t=null),r===void 0&&(r=!1);var o=(function s(u,c,f){if(f===void 0&&(f=null),u.rank===0)return u.abs();if(u.rank!==1&&f===null)return s(u.reshape([-1]),c,f);if(u.rank===1||typeof f=="number"||Array.isArray(f)&&f.length===1){if(c===1)return u.abs().sum(f);if(c===1/0)return u.abs().max(f);if(c===-1/0)return u.abs().min(f);if(c==="euclidean"||c===2)return u.abs().pow(Ie(2,"int32")).sum(f).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}if(Array.isArray(f)&&f.length===2){if(c===1)return u.abs().sum(f[0]).max(f[1]-1);if(c===1/0)return u.abs().sum(f[1]).max(f[0]);if(c===-1/0)return u.abs().sum(f[1]).min(f[0]);if(c==="fro"||c==="euclidean")return u.square().sum(f).sqrt();throw new Error("Error in norm: invalid ord value: "+c)}throw new Error("Error in norm: invalid axis: "+f)})(e=H(e,"x","norm"),n,t),a=o.shape;if(r){var i=On(t,e.shape);a=Hr(o.shape,i)}return o.reshape(a)}}),Sre=Q({basicLSTMCell_:function(e,n,t,r,o,a){var i=H(e,"forgetBias","basicLSTMCell"),s=H(n,"lstmKernel","basicLSTMCell"),u=H(t,"lstmBias","basicLSTMCell"),c=H(r,"data","basicLSTMCell"),f=H(o,"c","basicLSTMCell"),h=H(a,"h","basicLSTMCell"),m=c.concat(h,1).matMul(s).add(u),v=m.shape[0],b=m.shape[1]/4,x=[v,b],w=m.slice([0,0],x),S=m.slice([0,b],x),E=m.slice([0,2*b],x),R=m.slice([0,3*b],x),D=w.sigmoid().mulStrict(S.tanh()).addStrict(f.mulStrict(i.add(E).sigmoid())),A=D.tanh().mulStrict(R.sigmoid());return[D,A]}}),Cre=Q({multiRNNCell_:function(e,n,t,r){for(var o=H(n,"data","multiRNNCell"),a=vm(t,"c","multiRNNCell"),i=vm(r,"h","multiRNNCell"),s=o,u=[],c=0;c<e.length;c++){var f=e[c](s,a[c],i[c]);u.push(f[0]),u.push(f[1]),s=f[1]}var h=[],m=[];for(c=0;c<u.length;c+=2)h.push(u[c]),m.push(u[c+1]);return[h,m]}}),Ere=Q({movingAverage_:function(e,n,t,r,o){o===void 0&&(o=!0);var a=H(e,"v","movingAverage"),i=H(n,"x","movingAverage"),s=H(t,"decay","movingAverage");wJ(a,i),$(Gn(a.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var u=Ie(1),c=u.sub(s),f=i.sub(a).mul(c);if(o){$(r!=null,(function(){return"When using zeroDebias: true, step is required."}));var h=H(r,"step","movingAverage");f=f.div(u.sub(_m(s,h)))}return a.add(f)}}),Rre=Q({stridedSlice_:function(e,n,t,r,o,a,i,s,u){if(o===void 0&&(o=0),a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=0),r==null&&(r=new Array(n.length)),i!==0)throw new Error("ellipsis mask is not yet supported");var c=H(e,"x","stridedSlice"),f=pD(s),h=c.shape.slice();f.forEach((function(w){n[w]=0,t[w]=1,h.splice(w,0,1)})),c=c.reshape(h);for(var m=0;m<c.rank;m++)n[m]=PZ(o,n,r,c.shape,m),t[m]=jZ(a,t,r,c.shape,m),r[m]=r[m]||1;var v=pD(u);v.forEach((function(w){t[w]=n[w]+1,r[w]=1}));var b=Hw(n,t,r),x=b.filter((function(w,S){return v.indexOf(S)===-1}));return r.every((function(w){return w===1}))?Aa(c,n,b).reshape(x):ee.runKernelFunc((function(w){return w.stridedSlice(c,n,t,r)}),{$x:c}).reshape(x)}}),_re=Q({topk_:function(e,n,t){n===void 0&&(n=1),t===void 0&&(t=!0);var r=H(e,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(n>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+n);var a=ee.runKernelFunc((function(i){return i.topk(r,n,t)}),{$x:r});return{values:a[0],indices:a[1]}}}),Tre=Q({scatterND_:function(e,n,t){var r=H(e,"indices","scatterND","int32"),o=H(n,"updates","scatterND");return IZ(o,r,t),ee.runKernelFunc((function(a){return a.scatterND(r,o,t)}),{indices:r,updates:o},null,"ScatterNd",{shape:t})}}),n2=Q({fft_:function(e){$(e.dtype==="complex64",(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var n=e.shape[e.shape.length-1],t=e.size/n,r=e.as2D(t,n);return ee.runKernelFunc((function(o){return o.fft(r)}),{input:e}).reshape(e.shape)}}),Tm=Q({ifft_:function(e){$(e.dtype==="complex64",(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var n=e.shape[e.shape.length-1],t=e.size/n,r=e.as2D(t,n);return ee.runKernelFunc((function(o){return o.ifft(r)}),{input:e}).reshape(e.shape)}}),r2=Q({rfft_:function(e,n){$(e.dtype==="float32",(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var t,r=e.shape[e.shape.length-1],o=e.size/r;if(n!=null&&n<r){var a=e.shape.map((function(S){return 0})),i=e.shape.map((function(S){return S}));i[e.shape.length-1]=n,t=e.slice(a,i),r=n}else if(n!=null&&n>r){var s=e.shape.map((function(S){return S}));s[e.shape.length-1]=n-r,t=e.concat(Jt(s),e.shape.length-1),r=n}else t=e;var u=t.zerosLike(),c=Zn(t,u).as2D(o,r),f=n2(c),h=Math.floor(r/2)+1,m=To(f),v=ba(f),b=m.split([h,r-h],m.shape.length-1),x=v.split([h,r-h],v.shape.length-1),w=t.shape.slice();return w[t.shape.length-1]=h,Zn(b[0],x[0]).reshape(w)}}),bI=Q({irfft_:function(e){var n=e.shape[e.shape.length-1],t=e.size/n;if(n<=2){var r=e.as2D(t,n),o=Tm(r);return To(o)}var a=[t,2*(n-1)],i=To(e).as2D(t,n),s=ba(e).as2D(t,n),u=i.slice([0,1],[t,n-2]).reverse(1),c=s.slice([0,1],[t,n-2]).reverse(1).mul(Ie(-1)),f=i.concat(u,1),h=s.concat(c,1);return r=Zn(f,h).as2D(a[0],a[1]),o=Tm(r),To(o)}}),Dre=Object.freeze({fft:n2,ifft:Tm,rfft:r2,irfft:bI}),Are=Q({sparseToDense_:function(e,n,t,r){r===void 0&&(r=0);var o=H(e,"sparseIndices","sparseToDense","int32"),a=H(n,"sparseValues","sparseToDense"),i=H(r,"defaultValue","sparseToDense",a.dtype);return(function(s,u,c,f){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var h=s.rank>0?s.shape[0]:1,m=s.rank>1?s.shape[1]:1;if(c.length!==m)throw new Error("outputShape has incorrect number of elements:, "+c.length+", should be: "+m+".");var v=u.size;if(u.rank!==0&&(u.rank!==1||v!==h))throw new Error("sparseValues has incorrect shape "+u.shape+", should be [] or ["+h+"]");if(u.dtype!==f.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")})(o,a,t,i),ee.runKernelFunc((function(s){return s.sparseToDense(o,a,t,i)}),{$sparseIndices:o,$sparseValues:a,$defaultValue:i})}}),Nre=Q({gatherND_:function(e,n){var t=H(n,"indices","gatherND","int32"),r=H(e,"x","gatherND");return ee.runKernelFunc((function(o){return o.gatherND(r,t)}),{x:r,indices:t},null,"GatherNd")}}),kre=Q({diag_:function(e){var n=H(e,"x","diag").flatten(),t=e.shape.concat(e.shape);return ee.runKernelFunc((function(r){return r.diag(n)}),{$x:n}).reshape(t)}}),Mre=Q({dropout_:function(e,n,t,r){var o=H(e,"x","dropout");if($(o.dtype==="float32",(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."})),$(n>=0&&n<1,(function(){return"rate must be a float in the range [0, 1), but got "+n+"."})),n===0)return e instanceof an?o.clone():o;var a=(function(u,c){if(c==null)return u.shape.slice();if(Gn(u.shape,c))return c;if(u.shape.length===c.length){for(var f=[],h=0;h<u.shape.length;h++)c[h]==null&&u.shape[h]!=null?f.push(u.shape[h]):f.push(c[h]);return f}return c})(o,t),i=1-n,s=v4(a,0,1,"float32",r).add(i).floor().div(i);return o.mul(s)}});function xI(e,n,t){for(var r=1-e%2,o=new Float32Array(e),a=0;a<e;++a){var i=2*Math.PI*a/(e+r-1);o[a]=n-t*Math.cos(i)}return Sn(o,"float32")}var o2=Q({hannWindow_:function(e){return xI(e,.5,.5)}}),wI=Q({hammingWindow_:function(e){return xI(e,.54,.46)}}),a2=Q({frame_:function(e,n,t,r,o){r===void 0&&(r=!1),o===void 0&&(o=0);for(var a=0,i=[];a+n<=e.size;)i.push(Aa(e,a,n)),a+=t;if(r)for(;a<e.size;){var s=a+n-e.size,u=Dn([Aa(e,a,n-s),_a([s],o)]);i.push(u),a+=t}return i.length===0?cs([],[0,n]):Dn(i).as2D(i.length,n)}}),SI=Q({stft_:function(e,n,t,r,o){var a;o===void 0&&(o=o2),r==null&&(a=n,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var i=a2(e,n,t),s=hr(i,o(n)),u=[],c=0;c<i.shape[0];c++)u.push(r2(s.slice([c,0],[1,n]),r));return Dn(u)}}),Ire=Object.freeze({hannWindow:o2,hammingWindow:wI,frame:a2,stft:SI}),dr,Ore=function(e,n,t){return t===void 0&&(t=1),Ve(this,void 0,void 0,(function(){var r,o,a,i,s,u,c,f,h,m,v,b,x,w;return He(this,(function(S){switch(S.label){case 0:return r=H(e,"predictions","inTopK"),o=H(n,"targets","inTopK"),$(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),$(r.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank})),Bt(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],$(t>0&&t<=a,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+t})),[4,r.data()];case 1:return i=S.sent(),[4,o.data()];case 2:for(s=S.sent(),u=[i.length/a,a],f=u[1],h=ef("bool",c=u[0]),m=0;m<c;m++){for(v=m*f,b=i.subarray(v,v+f),x=[],w=0;w<b.length;w++)x.push({value:b[w],index:w});for(x.sort((function(E,R){return R.value-E.value})),h[m]=0,w=0;w<t;w++)if(x[w].index===s[m]){h[m]=1;break}}return e!==r&&r.dispose(),n!==o&&o.dispose(),[2,tr(h,o.shape,"bool")]}}))}))};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(dr||(dr={}));var Pre=Q({absoluteDifference_:function(e,n,t,r){r===void 0&&(r=dr.SUM_BY_NONZERO_WEIGHTS);var o=H(e,"labels","absoluteDifference"),a=H(n,"predictions","absoluteDifference"),i=null;t!=null&&(i=H(t,"weights","absoluteDifference")),Bt(o.shape,a.shape,"Error in absoluteDifference: ");var s=o.sub(a).abs();return xi(s,i,r)}}),xi=Q({computeWeightedLoss_:function(e,n,t){t===void 0&&(t=dr.SUM_BY_NONZERO_WEIGHTS);var r=H(e,"losses","computeWeightedLoss"),o=null;n!=null&&(o=H(n,"weights","computeWeightedLoss"));var a=o==null?r:r.mul(o);if(t===dr.NONE)return a;if(t===dr.SUM)return a.sum();if(t===dr.MEAN){if(o==null)return a.mean();var i=r.size/o.size,s=a.sum().div(o.sum());return i>1?s.div(Ie(i)):s}if(t===dr.SUM_BY_NONZERO_WEIGHTS){if(o==null)return a.sum().div(Ie(r.size));var u=o.mul(vc(r.shape)).notEqual(Ie(0)).sum().toFloat();return a.sum().div(u)}throw Error("Unknown reduction: "+t)}}),jre=Q({cosineDistance_:function(e,n,t,r,o){o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"labels","cosineDistance"),i=H(n,"predictions","cosineDistance"),s=null;r!=null&&(s=H(r,"weights","cosineDistance")),Bt(a.shape,i.shape,"Error in cosineDistance: ");var u=Ie(1).sub(a.mul(i).sum(t,!0));return xi(u,s,o)}}),Bre=Q({hingeLoss_:function(e,n,t,r){r===void 0&&(r=dr.SUM_BY_NONZERO_WEIGHTS);var o=H(e,"labels","hingeLoss"),a=H(n,"predictions","hingeLoss"),i=null;t!=null&&(i=H(t,"weights","hingeLoss")),Bt(o.shape,a.shape,"Error in hingeLoss: ");var s=Ie(1);o=Ie(2).mul(o).sub(s);var u=s.sub(o.mul(a)).relu();return xi(u,i,r)}}),Fre=Q({huberLoss_:function(e,n,t,r,o){r===void 0&&(r=1),o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"labels","huberLoss"),i=H(n,"predictions","huberLoss"),s=null;t!=null&&(s=H(t,"weights","huberLoss")),Bt(a.shape,i.shape,"Error in huberLoss: ");var u=Ie(r),c=i.sub(a).abs(),f=tI(c,u),h=c.sub(f),m=Ie(.5).mul(f.square()).add(u.mul(h));return xi(m,s,o)}}),Lre=Q({logLoss_:function(e,n,t,r,o){r===void 0&&(r=1e-7),o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"labels","logLoss"),i=H(n,"predictions","logLoss"),s=null;t!=null&&(s=H(t,"weights","logLoss")),Bt(a.shape,i.shape,"Error in logLoss: ");var u=Ie(1),c=Ie(r),f=a.mul(i.add(c).log()).neg().sub(u.sub(a).mul(u.sub(i).add(c).log()));return xi(f,s,o)}}),zre=Q({meanSquaredError_:function(e,n,t,r){r===void 0&&(r=dr.SUM_BY_NONZERO_WEIGHTS);var o=H(e,"labels","meanSquaredError"),a=H(n,"predictions","meanSquaredError"),i=null;t!=null&&(i=H(t,"weights","meanSquaredError")),Bt(o.shape,a.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(a);return xi(s,i,r)}}),Ure=Q({sigmoidCrossEntropy_:function(e,n,t,r,o){r===void 0&&(r=0),o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"multiClassLabels","sigmoidCrossEntropy"),i=H(n,"logits","sigmoidCrossEntropy"),s=null;if(t!=null&&(s=H(t,"weights","sigmoidCrossEntropy")),Bt(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=Ie(r),c=Ie(1),f=Ie(.5);a=a.mul(c.sub(u)).add(f.mul(u))}var h=(function(m,v){var b=H(m,"labels","sigmoidCrossEntropyWithLogits"),x=H(v,"logits","sigmoidCrossEntropyWithLogits");Bt(b.shape,x.shape,"Error in sigmoidCrossEntropyWithLogits: ");var w=x.relu(),S=x.mul(b),E=x.abs().neg().exp().log1p();return w.sub(S).add(E)})(a,i);return xi(h,s,o)}}),Vre=Q({softmaxCrossEntropy_:function(e,n,t,r,o){r===void 0&&(r=0),o===void 0&&(o=dr.SUM_BY_NONZERO_WEIGHTS);var a=H(e,"onehotLabels","softmaxCrossEntropy"),i=H(n,"logits","softmaxCrossEntropy"),s=null;if(t!=null&&(s=H(t,"weights","softmaxCrossEntropy")),Bt(a.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var u=Ie(r),c=Ie(1),f=Ie(a.shape[1]);a=a.mul(c.sub(u)).add(u.div(f))}var h=(function(m,v,b){if(b===void 0&&(b=-1),b===-1&&(b=v.rank-1),b!==v.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+v.rank+" and dim was "+b);return Fv((function(x,w,S){var E=w.logSumExp([b],!0),R=w.toFloat().sub(E);return S([x,R]),{value:R.mul(x).neg().sum([b]),gradFunc:function(D,A){var N=A[0],k=A[1],M=Hr(D.shape,[b]);return[D.reshape(M).mul(N.toFloat().sub(k.exp())),D.reshape(M).mul(k.exp().sub(N.toFloat()))]}}}))(m,v)})(a,i);return xi(h,s,o)}}),Hre=Object.freeze({get Reduction(){return dr},absoluteDifference:Pre,computeWeightedLoss:xi,cosineDistance:jre,hingeLoss:Bre,huberLoss:Fre,logLoss:Lre,meanSquaredError:zre,sigmoidCrossEntropy:Ure,softmaxCrossEntropy:Vre});function jD(e,n){return n===void 0&&(n=!1),ee.tidy((function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var t=e.shape[0],r=e.shape[1],o=m4(t),a=e.clone(),i=cs([[1]],[1,1]),s=i.clone(),u=t>=r?r:t,c=function(h){var m,v=a,b=s,x=o;m=ee.tidy((function(){var w=a.slice([h,h],[t-h,1]),S=w.norm(),E=a.slice([h,h],[1,1]),R=cs([[-1]]).where(E.greater(0),cs([[1]])),D=E.sub(R.mul(S)),A=w.div(D);s=A.shape[0]===1?i.clone():i.concat(A.slice([1,0],[A.shape[0]-1,A.shape[1]]),0);var N=R.matMul(D).div(S).neg(),k=a.slice([h,0],[t-h,r]),M=N.mul(s);if(h===0)a=k.sub(M.matMul(s.transpose().matMul(k)));else{var I=k.sub(M.matMul(s.transpose().matMul(k)));a=a.slice([0,0],[h,r]).concat(I,0)}var P=o.slice([0,h],[t,o.shape[1]-h]);if(h===0)o=P.sub(P.matMul(s).matMul(M.transpose()));else{var L=P.sub(P.matMul(s).matMul(M.transpose()));o=o.slice([0,0],[t,h]).concat(L,1)}return[s,a,o]})),s=m[0],a=m[1],o=m[2],Ur([v,b,x])},f=0;f<u;++f)c(f);return!n&&t>r&&(o=o.slice([0,0],[t,r]),a=a.slice([0,0],[r,r])),[o,a]}))}var Wre=Q({bandPart_:function(e,n,t){if(n%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+n+".");if(t%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+t+".");var r=H(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,a=r.shape.slice(-2),i=a[0],s=a[1];if(!(n<=i))throw new Error("bandPart(): numLower ("+n+") must not be greater than the number of rows ("+i+").");if(!(t<=s))throw new Error("bandPart(): numUpper ("+t+") must not be greater than the number of columns ("+s+").");n<0&&(n=i),t<0&&(t=s);var u=gm(0,i,1,"int32").reshape([-1,1]),c=gm(0,s,1,"int32"),f=Mn(u,c),h=zv(f.lessEqual(Ie(+n,"int32")),f.greaterEqual(Ie(-t,"int32"))),m=Jt([i,s],r.dtype);return lo(An(r.reshape([-1,i,s])).map((function(v){return ll(h,v,m)}))).reshape(o)}}),$re=Q({gramSchmidt_:function(e){var n;if(Array.isArray(e)){n=!1,$(e!=null&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var t=e[0].shape[0],r=function(u){$(e[u].shape[0]===t,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[u].shape[0]+" vs. "+t+")"}))},o=1;o<e.length;++o)r(o)}else n=!0,e=Uw(e,e.shape[0],0).map((function(u){return y4(u,[0])}));$(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var a=[],i=e,s=function(u){a.push(ee.tidy((function(){var c=i[u];if(u>0)for(var f=0;f<u;++f){var h=pI(a[f].mulStrict(c)).mul(a[f]);c=c.sub(h)}return c.div(yI(c,"euclidean"))})))};for(o=0;o<e.length;++o)s(o);return n?lo(a,0):a}}),Gre=Q({qr_:function(e,n){if(n===void 0&&(n=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return jD(e,n);var t=e.shape.slice(0,e.shape.length-2).reduce((function(i,s){return i*s})),r=An(e.reshape([t,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],a=[];return r.forEach((function(i){var s=jD(i,n),u=s[0],c=s[1];o.push(u),a.push(c)})),[lo(o,0).reshape(e.shape),lo(a,0).reshape(e.shape)]}}),qre=Object.freeze({bandPart:Wre,gramSchmidt:$re,qr:Gre});function Wv(e,n,t,r,o,a){r==null&&(r=.5),o==null&&(o=Number.NEGATIVE_INFINITY),a==null&&(a=0);var i=e.shape[0];return t=Math.min(t,i),$(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),$(e.rank===2,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),$(e.shape[1]===4,(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),$(n.rank===1,(function(){return"scores must be a 1D tensor"})),$(n.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected "+i+", but was "+n.shape[0]})),$(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"})),{maxOutputSize:t,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}var Xre=Q({resizeBilinear_:function(e,n,t){t===void 0&&(t=!1);var r=H(e,"images","resizeBilinear");$(r.rank===3||r.rank===4,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),$(n.length===2,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+n+"."}));var o=r,a=!1;r.rank===3&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=n[0],s=n[1],u=ee.runKernelFunc((function(c,f){return f([o]),c.resizeBilinear(o,i,s,t)}),{x:o},(function(c,f){return{x:function(){return ee.runKernelFunc((function(h){return h.resizeBilinearBackprop(c,f[0],t)}),{})}}}),"ResizeBilinear",{alignCorners:t,newHeight:i,newWidth:s});return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Yre=Q({resizeNearestNeighbor_:function(e,n,t){t===void 0&&(t=!1);var r=H(e,"images","resizeNearestNeighbor");$(r.rank===3||r.rank===4,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),$(n.length===2,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+n+"."})),$(r.dtype==="float32"||r.dtype==="int32",(function(){return"`images` must have `int32` or `float32` as dtype"}));var o=r,a=!1;r.rank===3&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=n[0],s=n[1],u=ee.runKernelFunc((function(c,f){return f([o]),c.resizeNearestNeighbor(o,i,s,t)}),{batchImages:o},(function(c,f){return{batchImages:function(){return ee.runKernelFunc((function(h){return h.resizeNearestNeighborBackprop(c,f[0],t)}),{})}}}));return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Kre=Q({nonMaxSuppression_:function(e,n,t,r,o){r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY);var a=H(e,"boxes","nonMaxSuppression"),i=H(n,"scores","nonMaxSuppression"),s=Wv(a,i,t,r,o);t=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:t,iouThreshold:r,scoreThreshold:o};return ee.runKernelFunc((function(c){return c.nonMaxSuppression(a,i,t,r,o)}),{boxes:a,scores:i},null,"NonMaxSuppressionV3",u)}}),Qre=function(e,n,t,r,o){return r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),Ve(this,void 0,void 0,(function(){var a,i,s,u,c,f,h;return He(this,(function(m){switch(m.label){case 0:return a=H(e,"boxes","nonMaxSuppressionAsync"),i=H(n,"scores","nonMaxSuppressionAsync"),s=Wv(a,i,t,r,o),t=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([a.data(),i.data()])];case 1:return u=m.sent(),c=u[0],f=u[1],h=$w(c,f,t,r,o),a!==e&&a.dispose(),i!==n&&i.dispose(),[2,h]}}))}))},Jre=Q({nonMaxSuppressionWithScore_:function(e,n,t,r,o,a){r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),a===void 0&&(a=0);var i=H(e,"boxes","nonMaxSuppression"),s=H(n,"scores","nonMaxSuppression"),u=Wv(i,s,t,r,o,a),c={maxOutputSize:t=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},f=ee.runKernel("NonMaxSuppressionV5",{boxes:i,scores:s},c);return{selectedIndices:f[0],selectedScores:f[1]}}}),Zre=function(e,n,t,r,o,a){return r===void 0&&(r=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),a===void 0&&(a=0),Ve(this,void 0,void 0,(function(){var i,s,u,c,f,h,m;return He(this,(function(v){switch(v.label){case 0:return i=H(e,"boxes","nonMaxSuppressionAsync"),s=H(n,"scores","nonMaxSuppressionAsync"),u=Wv(i,s,t,r,o,a),t=u.maxOutputSize,r=u.iouThreshold,o=u.scoreThreshold,a=u.softNmsSigma,[4,Promise.all([i.data(),s.data()])];case 1:return c=v.sent(),f=c[0],h=c[1],m=Gw(f,h,t,r,o,a),i!==e&&i.dispose(),s!==n&&s.dispose(),[2,m]}}))}))},eoe=Q({cropAndResize_:function(e,n,t,r,o,a){var i=H(e,"image","cropAndResize"),s=H(n,"boxes","cropAndResize","float32"),u=H(t,"boxInd","cropAndResize","int32");o=o||"bilinear",a=a||0;var c=s.shape[0];return $(i.rank===4,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."})),$(s.rank===2&&s.shape[1]===4,(function(){return"Error in cropAndResize: boxes must be have size ["+c+",4] but had shape "+s.shape+"."})),$(u.rank===1&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size ["+c+"] but had shape "+s.shape+"."})),$(r.length===2,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),$(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),$(o==="bilinear"||o==="nearest",(function(){return"method must be bilinear or nearest, but was "+o})),ee.runKernelFunc((function(f,h){return f.cropAndResize(i,s,u,r,o,a)}),{images:i,boxes:s,boxInd:u},null,"CropAndResize",{method:o,extrapolationValue:a,cropSize:r})}}),i2=Object.freeze({resizeBilinear:Xre,resizeNearestNeighbor:Yre,nonMaxSuppression:Kre,nonMaxSuppressionAsync:Qre,nonMaxSuppressionWithScore:Jre,nonMaxSuppressionWithScoreAsync:Zre,cropAndResize:eoe}),s2=function(e,n){return!(e>0)||n==="linear"},l2=function(e,n,t){if(t==null||t==="linear")return e;if(t==="relu")return e.mul(n.step());throw new Error("Gradient for activation "+t+" has not been implemented yet.")},u2=function(e,n){var t=n,r=kn(e.shape,n.shape);return r.length>0&&(t=t.sum(r)),t.reshape(e.shape)},c2=function(e,n,t){if(n==="linear")return e;if(n==="relu")return sn(e);if(n==="elu")return mI(e);if(n==="relu6")return gI(e);if(n==="prelu")return vI(e,t);throw new Error("Unknown fused activation "+n+".")},toe=Q({fusedMatMul_:function(e){var n,t=e.a,r=e.b,o=e.transposeA,a=o!==void 0&&o,i=e.transposeB,s=i!==void 0&&i,u=e.bias,c=e.activation,f=c===void 0?"linear":c,h=e.preluActivationWeights;if(s2(ee.state.gradientDepth,f)===!1){var m=Vv(t,r,a,s);return u!=null&&(m=Ct(m,u)),c2(m,f,h)}var v=H(t,"a","fused matMul"),b=H(r,"b","fused matMul");n=un(v,b),v=n[0],b=n[1];var x=a?v.shape[v.rank-2]:v.shape[v.rank-1],w=s?b.shape[b.rank-1]:b.shape[b.rank-2],S=a?v.shape[v.rank-1]:v.shape[v.rank-2],E=s?b.shape[b.rank-2]:b.shape[b.rank-1],R=v.shape.slice(0,-2),D=b.shape.slice(0,-2),A=qe(R),N=qe(D);$(v.rank>=2&&b.rank>=2&&v.rank===b.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+v.rank+" and "+b.rank+"."})),$(Gn(R,D),(function(){return"Error in fused matMul: outer dimensions ("+R+") and ("+D+") of Tensors with shapes "+v.shape+" and "+b.shape+" must match."})),$(x===w,(function(){return"Error in fused matMul: inner shapes ("+x+") and ("+w+") of Tensors with shapes "+v.shape+" and "+b.shape+" and transposeA="+a+" and transposeB="+s+" must match."}));var k,M,I=v.shape.slice(0,-2).concat([S,E]),P=a?v.as3D(A,x,S):v.as3D(A,S,x),L=s?b.as3D(N,E,w):b.as3D(N,w,E);u!=null&&_t(I,(k=un(k=H(u,"bias","fused matMul"),v)[0]).shape),h!=null&&(M=H(h,"prelu weights","fused matMul"));var F={a:P,b:L};u!=null&&(F.bias=k),h!=null&&(F.preluActivationWeights=M);var Y=[P,L];return ee.runKernelFunc((function(W,X){var j=W.fusedBatchMatMul({a:P,b:L,transposeA:a,transposeB:s,bias:k,activation:f,preluActivationWeights:M});return X([P,L,j]),j}),F,(function(W,X){var j=X[0],U=X[1],V=X[2],q=l2(W,V,f),B={};return u!=null&&(B={bias:function(){return u2(k,q)}}),Object.assign(a||s?!a&&s?{a:function(){return q.matMul(U,!1,!1)},b:function(){return q.matMul(j,!0,!1)}}:a&&!s?{a:function(){return U.matMul(q,!1,!0)},b:function(){return j.matMul(q,!1,!1)}}:{a:function(){return U.matMul(q,!0,!0)},b:function(){return q.matMul(j,!0,!0)}}:{a:function(){return q.matMul(U,!1,!0)},b:function(){return j.matMul(q,!0,!1)}},B)}),"_FusedMatMul",{transposeA:a,transposeB:s,activation:f},Y,[!0]).reshape(I)}}),noe=Q({fusedConv2d_:function(e){var n=e.x,t=e.filter,r=e.strides,o=e.pad,a=e.dataFormat,i=a===void 0?"NHWC":a,s=e.dilations,u=s===void 0?[1,1]:s,c=e.dimRoundingMode,f=e.bias,h=e.activation,m=h===void 0?"linear":h,v=e.preluActivationWeights;if(m=m||"linear",s2(ee.state.gradientDepth,m)===!1){var b=Lo(n,t,r,o,i,u,c);return f!=null&&(b=Ct(b,f)),c2(b,m,v)}var x=H(n,"x","conv2d"),w=H(t,"filter","conv2d"),S=x,E=!1;x.rank===3&&(E=!0,S=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),$(S.rank===4,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+S.rank+"."})),$(w.rank===4,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+w.rank+"."})),c!=null&&$(gn(o),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+c+" but got pad "+o+"."})),$(S.shape[3]===w.shape[2],(function(){return"Error in conv2d: depth of input ("+S.shape[3]+") must match input depth for filter "+w.shape[2]+"."})),$(Wr(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),$(i==="NHWC",(function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."}));var R,D,A=gl(S.shape,w.shape,r,u,o,c);f!=null&&(R=un(R=H(f,"bias","fused conv2d"),x)[0],_t(A.outShape,R.shape)),v!=null&&(D=H(v,"prelu weights","fused conv2d"));var N={x:S,filter:w};f!=null&&(N.bias=R),v!=null&&(N.preluActivationWeights=D);var k=[w,S],M=ee.runKernelFunc((function(I,P){var L=I.fusedConv2d({input:S,filter:w,convInfo:A,bias:R,activation:m,preluActivationWeights:D});return P([w,S,L]),L}),N,(function(I,P){var L=P,F=L[0],Y=L[1],W=L[2],X=l2(I,W,m);$(Xu(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var j={};return f!=null&&(j={bias:function(){return u2(R,X)}}),Object.assign({x:function(){return sI(Y.shape,X,F,r,o)},filter:function(){return e2(Y,X,F.shape,r,o)}},j)}),"FusedConv2D",{convInfo:A,activation:m},k,[!0]);return E?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M}}),roe=Q({fusedDepthwiseConv2d_:function(e){var n=e.x,t=e.filter,r=e.strides,o=e.pad,a=e.dataFormat,i=a===void 0?"NHWC":a,s=e.dilations,u=s===void 0?[1,1]:s,c=e.dimRoundingMode,f=e.bias,h=e.activation,m=h===void 0?"linear":h,v=e.preluActivationWeights;if(s2(ee.state.gradientDepth,m)===!1){var b=Uv(n,t,r,o,i,u,c);return f!=null&&(b=Ct(b,f)),c2(b,m,v)}var x=H(n,"x","depthwiseConv2d"),w=H(t,"filter","depthwiseConv2d"),S=x,E=!1;x.rank===3&&(E=!0,S=x.as4D(1,x.shape[0],x.shape[1],x.shape[2])),$(S.rank===4,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+S.rank+"."})),$(w.rank===4,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+w.rank+"."})),$(S.shape[3]===w.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+S.shape[3]+") must match the inChannels dimension in filter "+w.shape[2]+"."})),u==null&&(u=[1,1]),$(Wr(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),c!=null&&$(gn(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+c+" but got pad "+o+"."}));var R,D,A=gl(S.shape,w.shape,r,u,o,c,!0);f!=null&&(R=un(R=H(f,"bias","fused conv2d"),x)[0],_t(A.outShape,R.shape)),v!=null&&(D=H(v,"prelu weights","fused depthwiseConv2d"));var N={x:S,filter:w};f!=null&&(N.bias=R),v!=null&&(N.preluActivationWeights=D);var k=[w,S],M=ee.runKernelFunc((function(I,P){var L=I.fusedDepthwiseConv2D({input:S,filter:w,convInfo:A,bias:R,activation:m,preluActivationWeights:D});return P([w,S,L]),L}),N,(function(I,P){$(Xu(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var L=P[0],F=P[1],Y=P[2],W=l2(I,Y,m),X={};return f!=null&&(X={bias:function(){return u2(R,W)}}),Object.assign({x:function(){return lI(F.shape,W,L,A)},filter:function(){return uI(F,W,L.shape,A)}},X)}),"FusedDepthwiseConv2D",{convInfo:A,activation:m},k,[!0]);return E?M.as3D(M.shape[1],M.shape[2],M.shape[3]):M}}),ooe=Object.freeze({matMul:toe,conv2d:noe,depthwiseConv2d:roe}),aoe=Object.freeze({image:i2,linalg:qre,losses:Hre,spectral:Dre,fused:ooe,signal:Ire,square:Lte,squaredDifference:$4,conv1d:Xne,conv2d:Lo,conv3d:Yne,depthwiseConv2d:Uv,separableConv2d:t2,conv2dTranspose:Kne,conv3dTranspose:Qne,op:Q,batchNormalization2d:mne,batchNormalization3d:vne,batchNormalization4d:gne,batchNormalization:yne,batchNorm:Q4,batchNorm2d:bne,batchNorm3d:xne,batchNorm4d:wne,booleanMaskAsync:qne,complex:Zn,real:To,imag:ba,concat:Dn,concat1d:oZ,concat2d:aZ,concat3d:iZ,concat4d:sZ,split:Uw,matMul:Vv,dot:Jne,outerProduct:Zne,reverse:jf,reverse1d:ere,reverse2d:tre,reverse3d:nre,reverse4d:rre,maxPool:Un,avgPool:Bf,pool:ore,maxPool3d:are,avgPool3d:ire,slice:Aa,slice1d:sre,slice2d:lre,slice3d:fI,slice4d:ure,abs:zte,acos:Ute,acosh:Vte,asin:Hte,asinh:Wte,atan:$te,atanh:Gte,ceil:qte,clipByValue:Qw,cos:Xte,cosh:Yte,erf:Kte,exp:kx,expm1:Qte,floor:Jte,log:Zte,log1p:ene,logSigmoid:tne,neg:Rm,reciprocal:nne,round:rne,rsqrt:G4,sigmoid:q4,sign:one,isNaN:ane,isInf:ine,isFinite:sne,sin:lne,sinh:une,softplus:cne,sqrt:dne,step:fne,tan:hne,tanh:pne,all:cre,any:dre,argMax:fre,argMin:hre,logSumExp:pre,max:Hv,mean:mre,min:vre,moments:gre,sum:pI,prod:yre,equal:nI,equalStrict:Bne,greater:Fne,greaterEqual:rI,greaterEqualStrict:Lne,greaterStrict:zne,less:Une,lessEqual:Vne,lessEqualStrict:Hne,lessStrict:Wne,notEqual:$ne,notEqualStrict:Gne,add:Ct,addN:Ene,addStrict:Rne,atan2:_ne,div:Wo,divNoNan:Tne,divStrict:Dne,floorDiv:eI,maximum:Jw,maximumStrict:Ane,minimum:tI,minimumStrict:Nne,mod:kne,modStrict:Mne,mul:hr,mulStrict:Ine,pow:_m,powStrict:One,squaredDifferenceStrict:Pne,sub:Mn,subStrict:jne,elu:mI,leakyRelu:bre,prelu:vI,relu:sn,relu6:gI,selu:xre,logicalAnd:zv,logicalNot:Sne,logicalOr:J4,logicalXor:Cne,where:ll,whereAsync:Z4,buffer:pt,print:vZ,batchToSpaceND:p4,broadcastTo:gZ,cast:yZ,clone:bZ,cumsum:xZ,depthToSpace:wZ,expandDims:_o,eye:m4,multinomial:SZ,oneHot:Tx,pad:vl,pad1d:CZ,pad2d:EZ,pad3d:RZ,pad4d:_Z,rand:TZ,randomNormal:DZ,randomGamma:AZ,randomUniform:v4,reshape:Yo,spaceToBatchND:g4,squeeze:y4,stack:lo,tile:Mu,truncatedNormal:NZ,unstack:An,setdiff1dAsync:kZ,fill:_a,linspace:rZ,ones:vc,range:gm,scalar:Ie,tensor:tr,tensor1d:Sn,tensor2d:cs,tensor3d:zw,tensor4d:Or,tensor5d:eZ,tensor6d:tZ,variable:nZ,zeros:Jt,onesLike:h4,zerosLike:kt,transpose:vs,softmax:bi,logSoftmax:FZ,localResponseNormalization:wre,norm:yI,gather:Zw,unsortedSegmentSum:oI,basicLSTMCell:Sre,multiRNNCell:Cre,movingAverage:Ere,stridedSlice:Rre,topk:_re,scatterND:Tre,fft:n2,ifft:Tm,rfft:r2,irfft:bI,sparseToDense:Are,gatherND:Nre,diag:kre,dropout:Mre,hannWindow:o2,hammingWindow:wI,frame:a2,stft:SI,inTopKAsync:Ore});function Ee(e,n){Array.isArray(e)||(e=[e]),e.forEach((function(t){t!=null&&$(t.dtype!=="complex64",(function(){return n+" does not support complex64 tensors."}))}))}function gb(e,n,t,r){if(t==="linear")return e.linear(n);if(t==="relu")return e.relu(n);if(t==="elu")return e.elu(n);if(t==="relu6")return e.relu6(n);if(t==="prelu")return e.prelu(n,r);throw new Error("Activation "+t+" has not been implemented for the CPU backend.")}var ioe=(function(e){function n(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new R4(t,ee),t}return oa(n,e),n.prototype.write=function(t,r,o){this.firstUse&&(this.firstUse=!1,ve().get("IS_NODE")&&mm(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var a={};return this.data.set(a,{values:t,dtype:o}),a},n.prototype.move=function(t,r,o,a){this.data.set(t,{values:r,dtype:a})},n.prototype.numDataIds=function(){return this.data.numDataIds()},n.prototype.read=function(t){return Ve(this,void 0,void 0,(function(){return He(this,(function(r){return[2,this.readSync(t)]}))}))},n.prototype.readSync=function(t){var r=this.data.get(t),o=r.dtype,a=r.complexTensors;return o==="complex64"?Nx(this.readSync(a.real.dataId),this.readSync(a.imag.dataId)):this.data.get(t).values},n.prototype.bufferSync=function(t){var r=this.readSync(t.dataId),o=r;if(t.dtype==="string")try{o=r.map((function(a){return fm(a)}))}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return pt(t.shape,t.dtype,o)},n.prototype.makeOutput=function(t,r,o){var a=this.write(t,r,o);return ee.makeTensorFromDataId(a,r,o,this)},n.prototype.disposeData=function(t){if(this.data.has(t)){var r=this.data.get(t).complexTensors;r!=null&&(r.real.dispose(),r.imag.dispose()),this.data.delete(t)}},n.prototype.time=function(t){return Ve(this,void 0,void 0,(function(){var r;return He(this,(function(o){return r=va(),t(),[2,{kernelMs:va()-r}]}))}))},n.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},n.prototype.complex=function(t,r){var o=this.makeOutput(null,t.shape,"complex64");return this.data.get(o.dataId).complexTensors={real:ee.keep(t.clone()),imag:ee.keep(r.clone())},o},n.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},n.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},n.prototype.slice=function(t,r,o){if(Ee(t,"slice"),C4(t.shape,r,o)){var a=E4(r,t.strides),i=qe(o);return tr(this.readSync(t.dataId).subarray(a,a+i),o,t.dtype)}for(var s=pt(o,t.dtype),u=this.bufferSync(t),c=0;c<s.size;++c){var f=s.indexToLoc(c).map((function(h,m){return h+r[m]}));s.values[c]=u.get.apply(u,f)}return s.toTensor()},n.prototype.stridedSlice=function(t,r,o,a){Ee(t,"stridedSlice");var i=Hw(r,o,a);if(i.some((function(v){return v===0})))return tr([],i);for(var s=pt(i,t.dtype),u=this.bufferSync(t),c=0;c<s.size;c++){for(var f=s.indexToLoc(c),h=new Array(f.length),m=0;m<h.length;m++)h[m]=f[m]*a[m]+r[m];s.set.apply(s,[u.get.apply(u,h)].concat(f))}return s.toTensor()},n.prototype.diag=function(t){for(var r=this.readSync(t.dataId),o=pt([t.size,t.size],t.dtype),a=o.values,i=0;i<r.length;i++)a[i*t.size+i]=r[i];return o.toTensor()},n.prototype.unstack=function(t,r){for(var o=t.shape[r],a=new Array(t.rank-1),i=0,s=0;s<t.rank;s++)s!==r&&(a[i++]=t.shape[s]);var u=new Array(t.rank).fill(0),c=t.shape.slice();c[r]=1;var f=new Array(o);for(s=0;s<f.length;s++)u[r]=s,f[s]=this.slice(t,u,c).reshape(a);return f},n.prototype.reverse=function(t,r){Ee(t,"reverse");for(var o=pt(t.shape,t.dtype),a=this.bufferSync(t),i=function(u){var c=o.indexToLoc(u),f=c.slice();r.forEach((function(h){return f[h]=t.shape[h]-1-f[h]})),o.set.apply(o,[a.get.apply(a,f)].concat(c))},s=0;s<o.size;s++)i(s);return o.toTensor()},n.prototype.concat=function(t,r){var o=this;if(t[0].dtype==="complex64"){var a=t.map((function(v){return To(v)})),i=t.map((function(v){return ba(v)}));return Zn(this.concat(a,r),this.concat(i,r))}var s=t.map((function(v){var b=qe(v.shape.slice(r));return v.as2D(-1,b)})),u=qu(s.map((function(v){return v.shape})),1),c=pt(u,t[0].dtype).values;if(s[0].shape[0]===1){var f=0;s.forEach((function(v){c.set(o.readSync(v.dataId),f),f+=v.size}))}else{var h=0;s.forEach((function(v){for(var b=o.readSync(v.dataId),x=0,w=0;w<v.shape[0];++w)for(var S=w*u[1]+h,E=0;E<v.shape[1];++E)c[S+E]=b[x++];h+=v.shape[1]}))}var m=qu(t.map((function(v){return v.shape})),r);return tr(c,m,t[0].dtype)},n.prototype.neg=function(t){return Ee(t,"neg"),this.multiply(Ie(-1),t)},n.prototype.add=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),(function(o,a,i,s){return{real:o+i,imag:a+s}})):this.broadcastedBinaryOp(t,r,er(t.dtype,r.dtype),(function(o,a){return o+a}))},n.prototype.addN=function(t){var r=this;Ee(t,"addN");for(var o=t.map((function(f){return r.readSync(f.dataId)})),a=pt(t[0].shape,t[0].dtype),i=a.values,s=0;s<t.length;s++)for(var u=o[s],c=0;c<i.length;c++)i[c]+=u[c];return a.toTensor()},n.prototype.softmax=function(t,r){var o=On([r],t.shape),a=this.max(t,o),i=Hr(a.shape,o),s=this.subtract(t,a.reshape(i)),u=this.exp(s),c=this.sum(u,o).reshape(i);return this.realDivide(u,c)},n.prototype.subtract=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),(function(o,a,i,s){return{real:o-i,imag:a-s}})):this.broadcastedBinaryOp(t,r,er(t.dtype,r.dtype),(function(o,a){return o-a}))},n.prototype.pow=function(t,r){return Ee([t,r],"pow"),this.broadcastedBinaryOp(t,r,t.dtype,(function(o,a){return Math.pow(o,a)}))},n.prototype.batchMatMul=function(t,r,o,a){Ee([t,r],"matMul");for(var i=o?t.shape[1]:t.shape[2],s=o?t.shape[2]:t.shape[1],u=a?r.shape[1]:r.shape[2],c=t.shape[0],f=this.readSync(t.dataId),h=this.readSync(r.dataId),m=o?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],v=m[0],b=m[1],x=m[2],w=a?[1,r.strides[1],r.strides[0]]:[r.strides[1],1,r.strides[0]],S=w[0],E=w[1],R=w[2],D=s*u,A=pt([c,s,u],t.dtype),N=A.values,k=this.blockSize,M=0;M<c;M++)for(var I=0;I<s;I+=k)for(var P=0;P<u;P+=k)for(var L=0;L<i;L+=k)for(var F=Math.min(I+k,s),Y=Math.min(P+k,u),W=Math.min(L+k,i),X=I;X<F;X++)for(var j=P;j<Y;j++){for(var U=0,V=L;V<W;V++)U+=f[M*v+X*b+V*x]*h[V*S+j*E+M*R];N[M*D+(X*u+j)]+=U}return A.toTensor()},n.prototype.fusedBatchMatMul=function(t){var r=t.a,o=t.b,a=t.transposeA,i=t.transposeB,s=t.bias,u=t.activation,c=t.preluActivationWeights,f=this.batchMatMul(r,o,a,i);return s&&(f=this.add(f,s)),u&&(f=gb(this,f,u,c)),f},n.prototype.multiply=function(t,r){return t.dtype==="complex64"||r.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),r.cast("complex64"),(function(o,a,i,s){return{real:o*i-a*s,imag:o*s+a*i}})):this.broadcastedBinaryOp(t,r,er(t.dtype,r.dtype),(function(o,a){return o*a}))},n.prototype.realDivide=function(t,r){return Ee([t,r],"realDivide"),this.broadcastedBinaryOp(t,r,"float32",(function(o,a){return o/a}))},n.prototype.floorDiv=function(t,r){return Ee([t,r],"floorDiv"),this.broadcastedBinaryOp(t,r,"int32",(function(o,a){return Math.floor(o/a)}))},n.prototype.sum=function(t,r){Ee(t,"sum"),eo("sum",r,t.rank);for(var o=ir(t.shape,r),a=o[0],i=o[1],s=Jt(a,er(t.dtype,"int32")),u=qe(i),c=this.readSync(s.dataId),f=this.readSync(t.dataId),h=0;h<c.length;++h){for(var m=h*u,v=0,b=0;b<u;++b)v+=f[m+b];c[h]=v}return s},n.prototype.prod=function(t,r){Ee(t,"sum");for(var o=ir(t.shape,r),a=o[0],i=o[1],s=Jt(a,er(t.dtype,"int32")),u=qe(i),c=this.readSync(s.dataId),f=this.readSync(t.dataId),h=0;h<c.length;++h){for(var m=h*u,v=1,b=0;b<u;++b)v*=f[m+b];c[h]=v}return s},n.prototype.unsortedSegmentSum=function(t,r,o){Ee(t,"unsortedSegmentSum");for(var a=[],i=t.rank-r.rank,s=0;s<i;++s)r=r.expandDims(s+1);for(s=0;s<o;++s){var u=Ie(s,"int32"),c=nI(u,r).asType("float32").mul(t).sum(0);a.push(c)}return lo(a)},n.prototype.argMin=function(t,r){Ee(t,"argMin");var o=[r];eo("argMin",o,t.rank);for(var a=ir(t.shape,o),i=a[0],s=a[1],u=Jt(i,"int32"),c=qe(s),f=this.readSync(u.dataId),h=this.readSync(t.dataId),m=0;m<f.length;++m){for(var v=m*c,b=h[v],x=0,w=0;w<c;++w){var S=h[v+w];S<b&&(b=S,x=w)}f[m]=x}return u},n.prototype.argMax=function(t,r){Ee(t,"argMax");var o=[r];eo("argMax",o,t.rank);for(var a=ir(t.shape,o),i=a[0],s=a[1],u=Jt(i,"int32"),c=qe(s),f=this.readSync(u.dataId),h=this.readSync(t.dataId),m=0;m<f.length;++m){for(var v=m*c,b=h[v],x=0,w=0;w<c;++w){var S=h[v+w];S>b&&(b=S,x=w)}f[m]=x}return u},n.prototype.cumsum=function(t,r,o,a){if(Ee(t,"cumsum"),r!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+r);for(var i=er(t.dtype,"int32"),s=Jt(t.shape,i),u=this.readSync(s.dataId),c=this.readSync(t.dataId),f=t.shape[t.rank-1],h=a?function(w,S){return w+f-S-1}:function(w,S){return w+S},m=0;m<c.length;m+=f)for(var v=0;v<f;v++){var b=h(m,v);if(v===0)u[b]=o?0:c[b];else{var x=h(m,v-1);u[b]=o?c[x]+u[x]:c[b]+u[x]}}return s},n.prototype.equal=function(t,r){return Ee([t,r],"equal"),this.broadcastedBinaryOp(t,r,"bool",(function(o,a){return o===a?1:0}))},n.prototype.notEqual=function(t,r){return Ee([t,r],"notEqual"),this.broadcastedBinaryOp(t,r,"bool",(function(o,a){return o!==a?1:0}))},n.prototype.less=function(t,r){return Ee([t,r],"less"),this.broadcastedBinaryOp(t,r,"bool",(function(o,a){return o<a?1:0}))},n.prototype.lessEqual=function(t,r){return Ee([t,r],"lessEqual"),this.broadcastedBinaryOp(t,r,"bool",(function(o,a){return o<=a?1:0}))},n.prototype.greater=function(t,r){return Ee([t,r],"greater"),this.broadcastedBinaryOp(t,r,"bool",(function(o,a){return o>a?1:0}))},n.prototype.greaterEqual=function(t,r){return Ee([t,r],"greaterEqual"),this.broadcastedBinaryOp(t,r,"bool",(function(o,a){return o>=a?1:0}))},n.prototype.logicalNot=function(t){Ee(t,"logicalNot");for(var r=this.readSync(t.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)o[a]=r[a]?0:1;return this.makeOutput(o,t.shape,"bool")},n.prototype.logicalAnd=function(t,r){return Ee([t,r],"logicalAnd"),this.broadcastedBinaryOp(t,r,"bool",(function(o,a){return o&&a}))},n.prototype.logicalOr=function(t,r){return Ee([t,r],"logicalOr"),this.broadcastedBinaryOp(t,r,"bool",(function(o,a){return o||a}))},n.prototype.select=function(t,r,o){Ee([t,r,o],"select");for(var a=this.readSync(t.dataId),i=this.readSync(r.dataId),s=this.readSync(o.dataId),u=Jt(r.shape,er(r.dtype,o.dtype)),c=this.readSync(u.dataId),f=0,h=t.rank===0||t.rank>1||r.rank===1?1:qe(r.shape.slice(1)),m=0;m<a.length;m++)for(var v=0;v<h;v++)a[m]===1?c[f++]=i[m]:c[f++]=s[m];return u},n.prototype.where=function(t){Ee([t],"where");var r=this.readSync(t.dataId);return qw(t.shape,r)},n.prototype.topk=function(t,r,o){return Ee(t,"topk"),I4(this.readSync(t.dataId),t.shape,t.dtype,r)},n.prototype.min=function(t,r){Ee(t,"min"),eo("min",r,t.rank);for(var o=ir(t.shape,r),a=o[0],i=o[1],s=Jt(a,t.dtype),u=qe(i),c=this.readSync(s.dataId),f=this.readSync(t.dataId),h=0;h<c.length;++h){for(var m=h*u,v=f[m],b=0;b<u;++b){var x=f[m+b];x<v&&(v=x)}c[h]=v}return s},n.prototype.minimum=function(t,r){return Ee([t,r],"minimum"),this.broadcastedBinaryOp(t,r,t.dtype,(function(o,a){return Math.min(o,a)}))},n.prototype.mod=function(t,r){return Ee([t,r],"mod"),this.broadcastedBinaryOp(t,r,t.dtype,(function(o,a){var i=o%a;return o<0&&a<0||o>=0&&a>=0?i:(i+a)%a}))},n.prototype.max=function(t,r){Ee(t,"max"),eo("max",r,t.rank);for(var o=ir(t.shape,r),a=o[0],i=o[1],s=Jt(a,t.dtype),u=qe(i),c=this.readSync(s.dataId),f=this.readSync(t.dataId),h=0;h<c.length;++h){for(var m=h*u,v=f[m],b=0;b<u;++b){var x=f[m+b];x>v&&(v=x)}c[h]=v}return s},n.prototype.maximum=function(t,r){return Ee([t,r],"maximum"),this.broadcastedBinaryOp(t,r,t.dtype,(function(o,a){return Math.max(o,a)}))},n.prototype.all=function(t,r){Ee(t,"all"),eo("all",r,t.rank);for(var o=ir(t.shape,r),a=o[0],i=o[1],s=Jt(a,t.dtype),u=qe(i),c=this.readSync(s.dataId),f=this.readSync(t.dataId),h=0;h<c.length;++h){for(var m=h*u,v=f[m],b=0;b<u;++b){var x=f[m+b];v=v&&x}c[h]=v}return s},n.prototype.any=function(t,r){Ee(t,"any"),eo("any",r,t.rank);for(var o=ir(t.shape,r),a=o[0],i=o[1],s=Jt(a,t.dtype),u=qe(i),c=this.readSync(s.dataId),f=this.readSync(t.dataId),h=0;h<c.length;++h){for(var m=h*u,v=f[m],b=0;b<u;++b){var x=f[m+b];v=v||x}c[h]=v}return s},n.prototype.squaredDifference=function(t,r){return Ee([t,r],"squaredDifference"),this.broadcastedBinaryOp(t,r,t.dtype,(function(o,a){var i=o-a;return i*i}))},n.prototype.ceil=function(t){Ee(t,"ceil");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.ceil(r[a]);return this.makeOutput(o,t.shape,"float32")},n.prototype.floor=function(t){Ee(t,"floor");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.floor(r[a]);return this.makeOutput(o,t.shape,"float32")},n.prototype.sign=function(t){Ee(t,"x");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)r[a]<0?o[a]=-1:r[a]>0?o[a]=1:o[a]=0;return this.makeOutput(o,t.shape,"float32")},n.prototype.isNaN=function(t){Ee(t,"x");for(var r=this.readSync(t.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Number.isNaN(r[a])&&(o[a]=1);return this.makeOutput(o,t.shape,"bool")},n.prototype.isInf=function(t){Ee(t,"x");for(var r=this.readSync(t.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Math.abs(r[a])===1/0&&(o[a]=1);return this.makeOutput(o,t.shape,"bool")},n.prototype.isFinite=function(t){Ee(t,"x");for(var r=this.readSync(t.dataId),o=new Uint8Array(r.length),a=0;a<r.length;++a)Number.isFinite(r[a])&&(o[a]=1);return this.makeOutput(o,t.shape,"bool")},n.prototype.round=function(t){Ee(t,"round");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=Math.floor(r[a]);r[a]-i<.5?o[a]=Math.floor(r[a]):r[a]-i>.5?o[a]=Math.ceil(r[a]):o[a]=i%2==0?i:i+1}return this.makeOutput(o,t.shape,"float32")},n.prototype.exp=function(t){Ee(t,"exp");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.exp(r[a]);return this.makeOutput(o,t.shape,"float32")},n.prototype.expm1=function(t){Ee(t,"expm1");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=Math.expm1(r[a]);return this.makeOutput(o,t.shape,"float32")},n.prototype.log=function(t){Ee(t,"log");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=r[a];o[a]=Math.log(i)}return this.makeOutput(o,t.shape,"float32")},n.prototype.log1p=function(t){Ee(t,"log1p");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=r[a];o[a]=Math.log1p(i)}return this.makeOutput(o,t.shape,"float32")},n.prototype.sqrt=function(t){Ee(t,"sqrt");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=r[a];o[a]=Math.sqrt(i)}return this.makeOutput(o,t.shape,"float32")},n.prototype.rsqrt=function(t){Ee(t,"rsqrt");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a){var i=r[a];o[a]=1/Math.sqrt(i)}return this.makeOutput(o,t.shape,"float32")},n.prototype.reciprocal=function(t){Ee(t,"reciprocal");for(var r=this.readSync(t.dataId),o=new Float32Array(r.length),a=0;a<r.length;++a)o[a]=1/r[a];return this.makeOutput(o,t.shape,"float32")},n.prototype.linear=function(t){return t},n.prototype.relu=function(t){Ee(t,"relu");for(var r=Jt(t.shape,t.dtype),o=this.readSync(r.dataId),a=this.readSync(t.dataId),i=0;i<a.length;++i)o[i]=Math.max(0,a[i]);return r},n.prototype.relu6=function(t){Ee(t,"relu");for(var r=Jt(t.shape,t.dtype),o=this.readSync(r.dataId),a=this.readSync(t.dataId),i=0;i<a.length;++i)o[i]=Math.min(Math.max(0,a[i]),6);return r},n.prototype.prelu=function(t,r){return Ee([t,r],"prelu"),this.broadcastedBinaryOp(t,r,t.dtype,(function(o,a){return o<0?a*o:o}))},n.prototype.elu=function(t){Ee(t,"elu");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var i=o[a];r[a]=i>=0?i:Math.exp(i)-1}return this.makeOutput(r,t.shape,"float32")},n.prototype.eluDer=function(t,r){Ee([t,r],"eluDer");for(var o=new Float32Array(r.size),a=this.readSync(r.dataId),i=this.readSync(t.dataId),s=0;s<a.length;++s){var u=a[s];o[s]=u>=1?i[s]:i[s]*(u+1)}return this.makeOutput(o,r.shape,"float32")},n.prototype.selu=function(t){Ee(t,"selu");for(var r=Yw,o=Kw,a=new Float32Array(t.size),i=this.readSync(t.dataId),s=0;s<i.length;++s){var u=i[s];a[s]=u>=0?o*u:r*(Math.exp(u)-1)}return this.makeOutput(a,t.shape,"float32")},n.prototype.clip=function(t,r,o){Ee(t,"clip");for(var a=new Float32Array(t.size),i=this.readSync(t.dataId),s=0;s<i.length;++s){var u=i[s];a[s]=u>o?o:u<r?r:u}return this.makeOutput(a,t.shape,"float32")},n.prototype.abs=function(t){for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.abs(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.complexAbs=function(t){for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<t.size;++a){var i=o[2*a],s=o[2*a+1];r[a]=Math.hypot(i,s)}return this.makeOutput(r,t.shape,"float32")},n.prototype.int=function(t){Ee(t,"int");for(var r=new Int32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=o[a];return this.makeOutput(r,t.shape,"int32")},n.prototype.sigmoid=function(t){Ee(t,"sigmoid");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=1/(1+Math.exp(-o[a]));return this.makeOutput(r,t.shape,"float32")},n.prototype.softplus=function(t){Ee(t,"softplus");for(var r=Math.log(11920928955078125e-23)+2,o=new Float32Array(t.size),a=this.readSync(t.dataId),i=0;i<a.length;++i){var s=a[i]>-r,u=a[i]<r,c=Math.exp(a[i]),f=void 0;f=u?c:s?a[i]:Math.log(1+c),o[i]=f}return this.makeOutput(o,t.shape,"float32")},n.prototype.sin=function(t){Ee(t,"sin");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.sin(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.cos=function(t){Ee(t,"cos");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.cos(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.tan=function(t){Ee(t,"tan");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.tan(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.asin=function(t){Ee(t,"asin");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.asin(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.acos=function(t){Ee(t,"acos");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.acos(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.atan=function(t){Ee(t,"atan");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.atan(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.atan2=function(t,r){return Ee([t,r],"atan2"),this.broadcastedBinaryOp(t,r,t.dtype,(function(o,a){return Math.atan2(o,a)}))},n.prototype.sinh=function(t){Ee(t,"sinh");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.sinh(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.cosh=function(t){Ee(t,"cosh");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.cosh(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.tanh=function(t){Ee(t,"tanh");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=sJ(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.asinh=function(t){Ee(t,"asinh");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.asinh(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.acosh=function(t){Ee(t,"acosh");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.acosh(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.atanh=function(t){Ee(t,"atanh");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a)r[a]=Math.atanh(o[a]);return this.makeOutput(r,t.shape,"float32")},n.prototype.erf=function(t){Ee(t,"erf");for(var r=new Float32Array(t.size),o=this.readSync(t.dataId),a=0;a<o.length;++a){var i=Math.sign(o[a]),s=Math.abs(o[a]),u=1/(1+.3275911*s);r[a]=i*(1-((((1.061405429*u-1.453152027)*u+1.421413741)*u-.284496736)*u+.254829592)*u*Math.exp(-s*s))}return this.makeOutput(r,t.shape,"float32")},n.prototype.step=function(t,r){r===void 0&&(r=0),Ee(t,"step");for(var o=new Float32Array(t.size),a=this.readSync(t.dataId),i=0;i<a.length;++i){var s=a[i];isNaN(s)?o[i]=NaN:o[i]=s>0?1:r}return this.makeOutput(o,t.shape,"float32")},n.prototype.fusedConv2d=function(t){var r=t.input,o=t.filter,a=t.convInfo,i=t.bias,s=t.activation,u=t.preluActivationWeights,c=this.conv2d(r,o,a);return i&&(c=this.add(c,i)),s&&(c=gb(this,c,s,u)),c},n.prototype.conv2d=function(t,r,o){Ee([t,r],"conv2d");for(var a=o.filterHeight,i=o.filterWidth,s=o.dilationHeight,u=o.dilationWidth,c=o.padInfo.left,f=o.padInfo.top,h=o.dataFormat==="channelsLast",m=pt(o.outShape,t.dtype),v=t.strides[0],b=h?t.strides[1]:t.strides[2],x=h?t.strides[2]:1,w=h?1:t.strides[1],S=m.strides[0],E=h?m.strides[1]:m.strides[2],R=h?m.strides[2]:1,D=h?1:m.strides[1],A=this.readSync(t.dataId),N=this.readSync(r.dataId),k=m.values,M=0;M<o.batchSize;++M)for(var I=M*v,P=M*S,L=0;L<o.outHeight;++L)for(var F=P+L*E,Y=L*o.strideHeight-f,W=0;W<a;W++){var X=Y+W*s;if(!(X<0||X>=o.inHeight))for(var j=W*r.strides[0],U=I+X*b,V=0;V<o.outWidth;++V)for(var q=F+V*R,B=V*o.strideWidth-c,G=0;G<i;G++){var J=B+G*u;if(!(J<0||J>=o.inWidth))for(var ne=U+J*x,he=j+G*r.strides[1],Se=0;Se<o.inChannels;++Se){for(var ae=A[ne+Se*w],le=0;le<o.outChannels;++le)k[q+le*D]+=ae*N[he+le];he+=o.outChannels}}}return m.toTensor()},n.prototype.conv3d=function(t,r,o){for(var a=o.filterDepth,i=o.filterHeight,s=o.filterWidth,u=o.dilationDepth,c=o.dilationHeight,f=o.dilationWidth,h=o.padInfo.front,m=o.padInfo.left,v=o.padInfo.top,b=pt(o.outShape,t.dtype),x=this.readSync(t.dataId),w=this.readSync(r.dataId),S=b.values,E=0;E<o.batchSize;++E)for(var R=E*t.strides[0],D=E*b.strides[0],A=0;A<o.outDepth;++A)for(var N=D+A*b.strides[1],k=A*o.strideDepth-h,M=0;M<a;M++){var I=k+M*u;if(!(I<0||I>=o.inDepth))for(var P=M*r.strides[0],L=R+I*t.strides[1],F=0;F<o.outHeight;++F)for(var Y=N+F*b.strides[2],W=F*o.strideHeight-v,X=0;X<i;X++){var j=W+X*c;if(!(j<0||j>=o.inHeight))for(var U=P+X*r.strides[1],V=L+j*t.strides[2],q=0;q<o.outWidth;++q)for(var B=Y+q*o.outChannels,G=q*o.strideWidth-m,J=0;J<s;J++){var ne=G+J*f;if(!(ne<0||ne>=o.inWidth))for(var he=U+J*r.strides[2],Se=V+ne*o.inChannels,ae=he,le=0;le<o.inChannels;++le){for(var ge=x[Se+le],me=0;me<o.outChannels;++me)S[B+me]+=ge*w[ae+me];ae+=o.outChannels}}}}return b.toTensor()},n.prototype.conv2dDerInput=function(t,r,o){Ee([t,r],"conv2dDerInput");for(var a=pt(o.inShape,"float32"),i=a.values,s=this.readSync(t.dataId),u=this.readSync(r.dataId),c=r.strides,f=c[0],h=c[1],m=c[2],v=o.batchSize,b=o.filterHeight,x=o.filterWidth,w=o.inChannels,S=o.inHeight,E=o.inWidth,R=o.outChannels,D=o.outHeight,A=o.outWidth,N=o.strideHeight,k=o.strideWidth,M=o.dataFormat,I=b-1-o.padInfo.top,P=x-1-o.padInfo.left,L=M==="channelsLast",F=a.strides[0],Y=L?a.strides[1]:a.strides[2],W=L?a.strides[2]:1,X=L?1:a.strides[1],j=t.strides[0],U=L?t.strides[1]:t.strides[2],V=L?t.strides[2]:1,q=L?1:t.strides[1],B=0;B<v;++B)for(var G=0;G<w;++G)for(var J=0;J<S;++J)for(var ne=J-I,he=Math.max(0,Math.ceil(ne/N)),Se=Math.min(D,(b+ne)/N),ae=0;ae<E;++ae){for(var le=ae-P,ge=Math.max(0,Math.ceil(le/k)),me=Math.min(A,(x+le)/k),Pe=0,je=he;je<Se;++je)for(var Be=je*N-ne,Te=ge;Te<me;++Te)for(var We=j*B+U*je+V*Te,ct=f*(b-1-Be)+h*(x-1-(Te*k-le))+m*G,at=0;at<R;++at)Pe+=s[We+q*at]*u[ct+at];i[F*B+Y*J+W*ae+X*G]=Pe}return a.toTensor()},n.prototype.conv3dDerInput=function(t,r,o){for(var a=pt(o.inShape,"float32"),i=a.values,s=a.strides,u=s[0],c=s[1],f=s[2],h=s[3],m=this.readSync(t.dataId),v=t.strides,b=v[0],x=v[1],w=v[2],S=v[3],E=this.readSync(r.dataId),R=r.strides,D=R[0],A=R[1],N=R[2],k=R[3],M=o.batchSize,I=o.filterDepth,P=o.filterHeight,L=o.filterWidth,F=o.inChannels,Y=o.inDepth,W=o.inHeight,X=o.inWidth,j=o.outChannels,U=o.outDepth,V=o.outHeight,q=o.outWidth,B=o.strideDepth,G=o.strideHeight,J=o.strideWidth,ne=I-1-o.padInfo.front,he=P-1-o.padInfo.top,Se=L-1-o.padInfo.left,ae=0;ae<M;++ae)for(var le=0;le<F;++le)for(var ge=0;ge<Y;++ge)for(var me=ge-ne,Pe=Math.max(0,Math.ceil(me/B)),je=Math.min(U,(I+me)/B),Be=0;Be<W;++Be)for(var Te=Be-he,We=Math.max(0,Math.ceil(Te/G)),ct=Math.min(V,(P+Te)/G),at=0;at<X;++at){for(var _e=at-Se,De=Math.max(0,Math.ceil(_e/J)),ke=Math.min(q,(L+_e)/J),tt=0,lt=Pe;lt<je;++lt)for(var nt=lt*B-me,$e=We;$e<ct;++$e)for(var qt=$e*G-Te,Ae=De;Ae<ke;++Ae)for(var Fe=b*ae+x*lt+w*$e+S*Ae,it=D*(I-1-nt)+A*(P-1-qt)+N*(L-1-(Ae*J-_e))+k*le,Mt=0;Mt<j;++Mt)tt+=m[Fe+Mt]*E[it+Mt];i[u*ae+c*ge+f*Be+h*at+le]=tt}return a.toTensor()},n.prototype.conv2dDerFilter=function(t,r,o){Ee([t,r],"conv2dDerFilter");for(var a=o.strideHeight,i=o.strideWidth,s=o.filterHeight,u=o.filterWidth,c=o.dataFormat==="channelsLast",f=pt(o.filterShape,"float32"),h=o.padInfo.left,m=o.padInfo.top,v=this.bufferSync(t),b=this.bufferSync(r),x=0;x<s;++x)for(var w=Math.max(0,Math.ceil((m-x)/a)),S=Math.min(o.outHeight,(o.inHeight+m-x)/a),E=0;E<u;++E)for(var R=Math.max(0,Math.ceil((h-E)/i)),D=Math.min(o.outWidth,(o.inWidth+h-E)/i),A=0;A<o.inChannels;++A)for(var N=0;N<o.outChannels;++N){for(var k=0,M=0;M<o.batchSize;++M)for(var I=w;I<S;++I)for(var P=x+I*a-m,L=R;L<D;++L){var F=E+L*i-h;k+=c?v.get(M,P,F,A)*b.get(M,I,L,N):v.get(M,A,P,F)*b.get(M,N,I,L)}f.set(k,x,E,A,N)}return f.toTensor()},n.prototype.conv3dDerFilter=function(t,r,o){for(var a=o.strideDepth,i=o.strideHeight,s=o.strideWidth,u=o.filterDepth,c=o.filterHeight,f=o.filterWidth,h=pt(o.filterShape,"float32"),m=h.values,v=h.strides,b=v[0],x=v[1],w=v[2],S=v[3],E=this.readSync(r.dataId),R=r.strides,D=R[0],A=R[1],N=R[2],k=R[3],M=this.readSync(t.dataId),I=t.strides,P=I[0],L=I[1],F=I[2],Y=I[3],W=o.padInfo.front,X=o.padInfo.left,j=o.padInfo.top,U=0;U<u;++U)for(var V=Math.max(0,Math.ceil((W-U)/a)),q=Math.min(o.outDepth,(o.inDepth+W-U)/a),B=U*b,G=0;G<c;++G)for(var J=Math.max(0,Math.ceil((j-G)/i)),ne=Math.min(o.outHeight,(o.inHeight+j-G)/i),he=G*x+B,Se=0;Se<f;++Se)for(var ae=Math.max(0,Math.ceil((X-Se)/s)),le=Math.min(o.outWidth,(o.inWidth+X-Se)/s),ge=Se*w+he,me=0;me<o.inChannels;++me)for(var Pe=me*S+ge,je=0;je<o.outChannels;++je){for(var Be=0,Te=0;Te<o.batchSize;++Te)for(var We=Te*P,ct=Te*D,at=V;at<q;++at)for(var _e=(U+at*a-W)*L+We,De=at*A+ct,ke=J;ke<ne;++ke)for(var tt=(G+ke*i-j)*F+_e,lt=ke*N+De,nt=ae;nt<le;++nt){var $e=nt*k+lt;Be+=M[(Se+nt*s-X)*Y+tt+me]*E[$e+je]}m[Pe+je]=Be}return h.toTensor()},n.prototype.fusedDepthwiseConv2D=function(t){var r=t.input,o=t.filter,a=t.convInfo,i=t.bias,s=t.activation,u=t.preluActivationWeights,c=this.depthwiseConv2D(r,o,a);return i&&(c=this.add(c,i)),s&&(c=gb(this,c,s,u)),c},n.prototype.depthwiseConv2D=function(t,r,o){Ee([t,r],"depthwiseConv2D");for(var a=o.filterHeight,i=o.filterWidth,s=o.dilationHeight,u=o.dilationWidth,c=o.padInfo.left,f=o.padInfo.top,h=o.outChannels/o.inChannels,m=pt(o.outShape,t.dtype),v=this.readSync(t.dataId),b=this.readSync(r.dataId),x=m.values,w=0;w<o.batchSize;++w)for(var S=w*t.strides[0],E=w*m.strides[0],R=0;R<o.outHeight;++R)for(var D=E+R*m.strides[1],A=R*o.strideHeight-c,N=0;N<a;++N){var k=A+N*s;if(!(k<0||k>=o.inHeight))for(var M=N*r.strides[0],I=S+k*t.strides[1],P=0;P<o.outWidth;++P)for(var L=D+P*m.strides[2],F=P*o.strideWidth-f,Y=0;Y<i;++Y){var W=F+Y*u;if(!(W<0||W>=o.inWidth))for(var X=M+Y*r.strides[1],j=I+W*o.inChannels,U=L,V=X,q=0;q<o.inChannels;++q){for(var B=v[j+q],G=0;G<h;++G)x[U+G]+=B*b[V+G];U+=h,V+=h}}}return m.toTensor()},n.prototype.depthwiseConv2DDerInput=function(t,r,o){Ee([t,r],"depthwiseConv2DDerInput");for(var a=pt(o.inShape,"float32"),i=a.values,s=a.strides,u=s[0],c=s[1],f=s[2],h=this.readSync(t.dataId),m=t.strides,v=m[0],b=m[1],x=m[2],w=this.readSync(r.dataId),S=r.strides,E=S[0],R=S[1],D=S[2],A=o.batchSize,N=o.filterHeight,k=o.filterWidth,M=o.inChannels,I=o.inHeight,P=o.inWidth,L=o.outChannels,F=o.outHeight,Y=o.outWidth,W=o.strideHeight,X=o.strideWidth,j=N-1-o.padInfo.top,U=k-1-o.padInfo.left,V=L/M,q=0;q<A;++q)for(var B=0;B<M;++B)for(var G=0;G<I;++G)for(var J=G-j,ne=Math.max(0,Math.ceil(J/W)),he=Math.min(F,(N+J)/W),Se=0;Se<P;++Se){for(var ae=Se-U,le=Math.max(0,Math.ceil(ae/X)),ge=Math.min(Y,(k+ae)/X),me=0,Pe=ne;Pe<he;++Pe)for(var je=Pe*W-J,Be=le;Be<ge;++Be)for(var Te=v*q+b*Pe+x*Be,We=E*(N-1-je)+R*(k-1-(Be*X-ae))+D*B,ct=0;ct<V;++ct)me+=h[Te+(B*V+ct)]*w[We+ct];i[u*q+c*G+f*Se+B]=me}return a.toTensor()},n.prototype.depthwiseConv2DDerFilter=function(t,r,o){Ee([t,r],"depthwiseConv2DDerFilter");for(var a=o.strideHeight,i=o.strideWidth,s=o.filterHeight,u=o.filterWidth,c=pt(o.filterShape,"float32"),f=o.padInfo.left,h=o.padInfo.top,m=o.outChannels/o.inChannels,v=this.bufferSync(t),b=this.bufferSync(r),x=0;x<s;++x)for(var w=Math.max(0,Math.ceil((h-x)/a)),S=Math.min(o.outHeight,(o.inHeight+h-x)/a),E=0;E<u;++E)for(var R=Math.max(0,Math.ceil((f-E)/i)),D=Math.min(o.outWidth,(o.inWidth+f-E)/i),A=0;A<o.outChannels;++A){for(var N=Math.trunc(A/m),k=A%m,M=0,I=0;I<o.batchSize;++I)for(var P=w;P<S;++P)for(var L=x+P*a-h,F=R;F<D;++F){var Y=E+F*i-f;M+=v.get(I,L,Y,N)*b.get(I,P,F,A)}c.set(M,x,E,N,k)}return c.toTensor()},n.prototype.tile=function(t,r){return Ee(t,"tile"),M4(this.bufferSync(t),r)},n.prototype.pad=function(t,r,o){Ee(t,"pad");var a=r.map((function(m,v){return m[0]+t.shape[v]+m[1]})),i=r.map((function(m){return m[0]})),s=this.bufferSync(t),u=pt(a,t.dtype);o!==0&&u.values.fill(o);for(var c=0;c<t.size;c++){var f=s.indexToLoc(c),h=f.map((function(m,v){return m+i[v]}));u.set.apply(u,[s.get.apply(s,f)].concat(h))}return u.toTensor()},n.prototype.transpose=function(t,r){Ee(t,"transpose");for(var o=new Array(t.rank),a=0;a<o.length;a++)o[a]=t.shape[r[a]];var i=this.readSync(t.dataId),s=pt(o,t.dtype),u=this.bufferSync(t);for(a=0;a<t.size;++a){for(var c=u.indexToLoc(a),f=new Array(c.length),h=0;h<f.length;h++)f[h]=c[r[h]];var m=s.locToIndex(f);s.values[m]=i[a]}return s.toTensor()},n.prototype.gather=function(t,r,o){Ee([t,r],"gather");var a=t.shape.slice(),i=this.readSync(r.dataId);a[o]=i.length;for(var s=pt(a,t.dtype),u=this.bufferSync(t),c=0;c<s.size;++c){var f=s.indexToLoc(c),h=f.slice();h[o]=i[f[o]];var m=u.locToIndex(h);s.values[c]=u.values[m]}return s.toTensor()},n.prototype.batchToSpaceND=function(t,r,o){Ee([t],"batchToSpaceND");var a=r.reduce((function(h,m){return h*m})),i=ym(t.shape,r,a),s=bm(i.length,r.length),u=xm(t.shape,r,a),c=b4(o,r.length),f=x4(u,o,r.length);return t.reshape(i).transpose(s).reshape(u).slice(c,f)},n.prototype.spaceToBatchND=function(t,r,o){Ee([t],"spaceToBatchND");var a=r.reduce((function(m,v){return m*v})),i=[[0,0]];i.push.apply(i,o);for(var s=1+r.length;s<t.shape.length;++s)i.push([0,0]);var u=t.pad(i),c=ym(u.shape,r,a,!1),f=bm(c.length,r.length,!1),h=xm(u.shape,r,a,!1);return u.reshape(c).transpose(f).reshape(h)},n.prototype.pool=function(t,r,o){Ee(t,"pool");for(var a=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,v=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=this.readSync(t.dataId),x=pt(r.outShape,t.dtype),w=x.values,S=r.outShape[1]*r.outShape[2]*r.outShape[3],E=r.outShape[2]*r.outShape[3],R=r.outShape[3],D=0;D<r.batchSize;++D)for(var A=D*S,N=D*t.strides[0],k=0;k<r.inChannels;++k)for(var M=0;M<r.outHeight;++M)for(var I=M*a-h,P=Math.max(0,I),L=Math.min(r.inHeight,c+I),F=A+M*E,Y=0;Y<r.outWidth;++Y){for(var W=Y*i-m,X=Math.max(0,W),j=Math.min(r.inWidth,f+W),U=v,V=0,q=0,B=P;B<L;B+=s){for(var G=N+B*t.strides[1],J=X;J<j;J+=u){var ne=b[G+J*t.strides[2]+k];o==="max"&&ne>U?U=ne:o==="avg"&&(V+=ne,q++)}if(isNaN(U))break}w[F+Y*R+k]=o==="avg"?V/q:U}return x.toTensor()},n.prototype.maxPool=function(t,r){return this.pool(t,r,"max")},n.prototype.maxPoolPositions=function(t,r){for(var o=pt(r.outShape,"int32"),a=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,v=this.bufferSync(t),b=0;b<r.batchSize;++b)for(var x=0;x<r.inChannels;++x)for(var w=0;w<r.outHeight;++w){for(var S=w*a-h,E=S;E<0;)E+=s;for(var R=Math.min(r.inHeight,c+S),D=0;D<r.outWidth;++D){for(var A=D*i-m,N=A;N<0;)N+=u;for(var k=Math.min(r.inWidth,f+A),M=Number.NEGATIVE_INFINITY,I=-1,P=E;P<R;P+=s)for(var L=P-S,F=N;F<k;F+=u){var Y=F-A,W=v.get(b,P,F,x);W>M&&(M=W,I=L*f+Y)}o.set(I,b,w,D,x)}}return o.toTensor()},n.prototype.maxPoolBackprop=function(t,r,o,a){Ee([r,o],"maxPoolBackprop");for(var i=this.maxPoolPositions(r,a),s=a.strideHeight,u=a.strideWidth,c=a.dilationHeight,f=a.dilationWidth,h=a.effectiveFilterHeight,m=a.effectiveFilterWidth,v=m-1-a.padInfo.left,b=h-1-a.padInfo.top,x=pt(r.shape,"float32"),w=this.bufferSync(i),S=this.bufferSync(t),E=0;E<a.batchSize;++E)for(var R=0;R<a.inChannels;++R)for(var D=0;D<a.inHeight;++D)for(var A=0;A<a.inWidth;++A){for(var N=D-b,k=A-v,M=0,I=0;I<h;I+=c){var P=(N+I)/s;if(!(P<0||P>=a.outHeight||Math.floor(P)!==P))for(var L=0;L<m;L+=f){var F=(k+L)/u;if(!(F<0||F>=a.outWidth||Math.floor(F)!==F)){var Y=h*m-1-w.get(E,P,F,R)===I*m+L?1:0;Y!==0&&(M+=S.get(E,P,F,R)*Y)}}}x.set(M,E,D,A,R)}return x.toTensor()},n.prototype.avgPoolBackprop=function(t,r,o){Ee([t,r],"avgPoolBackprop");for(var a=o.strideHeight,i=o.strideWidth,s=o.filterHeight,u=o.filterWidth,c=o.dilationHeight,f=o.dilationWidth,h=o.effectiveFilterHeight,m=o.effectiveFilterWidth,v=m-1-o.padInfo.left,b=h-1-o.padInfo.top,x=pt(r.shape,"float32"),w=1/(s*u),S=this.bufferSync(t),E=0;E<o.batchSize;++E)for(var R=0;R<o.inChannels;++R)for(var D=0;D<o.inHeight;++D)for(var A=0;A<o.inWidth;++A){for(var N=D-b,k=A-v,M=0,I=0;I<h;I+=c){var P=(N+I)/a;if(!(P<0||P>=o.outHeight||Math.floor(P)!==P))for(var L=0;L<m;L+=f){var F=(k+L)/i;F<0||F>=o.outWidth||Math.floor(F)!==F||(M+=S.get(E,P,F,R))}}x.set(M*w,E,D,A,R)}return x.toTensor()},n.prototype.pool3d=function(t,r,o){Ee(t,"pool3d");for(var a=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,f=r.dilationWidth,h=r.effectiveFilterDepth,m=r.effectiveFilterHeight,v=r.effectiveFilterWidth,b=r.padInfo.front,x=r.padInfo.top,w=r.padInfo.left,S=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,E=this.readSync(t.dataId),R=pt(r.outShape,t.dtype),D=R.values,A=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],N=r.outShape[2]*r.outShape[3]*r.outShape[4],k=r.outShape[3]*r.outShape[4],M=r.outShape[4],I=0;I<r.batchSize;++I)for(var P=I*A,L=I*t.strides[0],F=0;F<r.inChannels;++F)for(var Y=0;Y<r.outDepth;++Y){for(var W=Y*a-b,X=W;X<0;)X+=u;for(var j=Math.min(r.inDepth,h+W),U=P+Y*N,V=0;V<r.outHeight;++V){for(var q=V*i-x,B=q;B<0;)B+=c;for(var G=Math.min(r.inHeight,m+q),J=U+V*k,ne=0;ne<r.outWidth;++ne){for(var he=ne*s-w,Se=he;Se<0;)Se+=f;for(var ae=Math.min(r.inWidth,v+he),le=J+ne*M,ge=S,me=0,Pe=0,je=X;je<j;je+=u){for(var Be=L+je*t.strides[1],Te=B;Te<G;Te+=c){for(var We=Be+Te*t.strides[2],ct=Se;ct<ae;ct+=f){var at=E[We+ct*t.strides[3]+F];if(o==="max"&&at>ge?ge=at:o==="avg"&&(me+=at,Pe++),isNaN(ge))break}if(isNaN(ge))break}if(isNaN(ge))break}D[le+F]=o==="avg"?me/Pe:ge}}}return R.toTensor()},n.prototype.avgPool3d=function(t,r){return Ee(t,"avgPool3d"),this.pool3d(t,r,"avg").toFloat()},n.prototype.avgPool3dBackprop=function(t,r,o){Ee([t,r],"avgPool3dBackprop");for(var a=o.strideDepth,i=o.strideHeight,s=o.strideWidth,u=o.filterDepth,c=o.filterHeight,f=o.filterWidth,h=o.dilationDepth,m=o.dilationHeight,v=o.dilationWidth,b=o.effectiveFilterDepth,x=o.effectiveFilterHeight,w=o.effectiveFilterWidth,S=b-1-o.padInfo.front,E=w-1-o.padInfo.left,R=x-1-o.padInfo.top,D=pt(r.shape,"float32"),A=1/(u*c*f),N=this.bufferSync(t),k=0;k<o.batchSize;++k)for(var M=0;M<o.inChannels;++M)for(var I=0;I<o.inDepth;++I)for(var P=0;P<o.inHeight;++P)for(var L=0;L<o.inWidth;++L){for(var F=I-S,Y=P-R,W=L-E,X=0,j=0;j<b;j+=h){var U=(F+j)/a;if(!(U<0||U>=o.outDepth||Math.floor(U)!==U))for(var V=0;V<x;V+=m){var q=(Y+V)/i;if(!(q<0||q>=o.outHeight||Math.floor(q)!==q))for(var B=0;B<w;B+=v){var G=(W+B)/s;G<0||G>=o.outWidth||Math.floor(G)!==G||(X+=N.get(k,U,q,G,M))}}}D.set(X*A,k,I,P,L,M)}return D.toTensor()},n.prototype.maxPool3d=function(t,r){return Ee(t,"maxPool3d"),this.pool3d(t,r,"max").toFloat()},n.prototype.maxPool3dPositions=function(t,r){for(var o=pt(r.outShape,"int32"),a=r.strideDepth,i=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,f=r.dilationWidth,h=r.effectiveFilterDepth,m=r.effectiveFilterHeight,v=r.effectiveFilterWidth,b=r.padInfo.front,x=r.padInfo.top,w=r.padInfo.left,S=this.bufferSync(t),E=0;E<r.batchSize;++E)for(var R=0;R<r.inChannels;++R)for(var D=0;D<r.outDepth;++D){for(var A=D*a-b,N=A;N<0;)N+=u;for(var k=Math.min(r.inDepth,h+A),M=0;M<r.outHeight;++M){for(var I=M*i-x,P=I;P<0;)P+=c;for(var L=Math.min(r.inHeight,m+I),F=0;F<r.outWidth;++F){for(var Y=F*s-w,W=Y;W<0;)W+=f;for(var X=Math.min(r.inWidth,v+Y),j=Number.NEGATIVE_INFINITY,U=-1,V=N;V<k;V+=u)for(var q=V-A,B=P;B<L;B+=c)for(var G=B-I,J=W;J<X;J+=f){var ne=J-Y,he=S.get(E,V,B,J,R);he>=j&&(j=he,U=q*m*v+G*m+ne)}o.set(U,E,D,M,F,R)}}}return o.toTensor()},n.prototype.maxPool3dBackprop=function(t,r,o,a){Ee([r,o],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(r,a),s=a.strideDepth,u=a.strideHeight,c=a.strideWidth,f=a.dilationDepth,h=a.dilationHeight,m=a.dilationWidth,v=a.effectiveFilterDepth,b=a.effectiveFilterHeight,x=a.effectiveFilterWidth,w=v-1-a.padInfo.front,S=x-1-a.padInfo.left,E=b-1-a.padInfo.top,R=pt(r.shape,"float32"),D=this.bufferSync(i),A=this.bufferSync(t),N=0;N<a.batchSize;++N)for(var k=0;k<a.inChannels;++k)for(var M=0;M<a.inDepth;++M)for(var I=0;I<a.inHeight;++I)for(var P=0;P<a.inWidth;++P){for(var L=M-w,F=I-E,Y=P-S,W=0,X=0;X<v;X+=f){var j=(L+X)/s;if(!(j<0||j>=a.outDepth||Math.floor(j)!==j))for(var U=0;U<b;U+=h){var V=(F+U)/u;if(!(V<0||V>=a.outHeight||Math.floor(V)!==V))for(var q=0;q<x;q+=m){var B=(Y+q)/c;if(!(B<0||B>=a.outWidth||Math.floor(B)!==B)){var G=v*b*x-1-D.get(N,j,V,B,k)===X*b*x+U*x+q?1:0;G!==0&&(W+=A.get(N,j,V,B,k)*G)}}}}R.set(W,N,M,I,P,k)}return R.toTensor()},n.prototype.cast=function(t,r){return D4(t,r,this)},n.prototype.reshape=function(t,r){return Ax(t,r)},n.prototype.avgPool=function(t,r){return Ee(t,"avgPool"),this.pool(t,r,"avg").toFloat()},n.prototype.resizeBilinear=function(t,r,o,a){Ee(t,"resizeBilinear");for(var i=t.shape,s=i[0],u=i[1],c=i[2],f=i[3],h=this.readSync(t.dataId),m=new Float32Array(qe([s,r,o,f])),v=[a&&r>1?u-1:u,a&&o>1?c-1:c],b=[a&&r>1?r-1:r,a&&o>1?o-1:o],x=0,w=v[0]/b[0],S=v[1]/b[1],E=0;E<s;E++)for(var R=0;R<r;R++)for(var D=w*R,A=Math.floor(D),N=D-A,k=Math.min(u-1,Math.ceil(D)),M=E*t.strides[0]+A*t.strides[1],I=E*t.strides[0]+k*t.strides[1],P=0;P<o;P++)for(var L=S*P,F=Math.floor(L),Y=L-F,W=Math.min(c-1,Math.ceil(L)),X=M+F*t.strides[2],j=I+F*t.strides[2],U=M+W*t.strides[2],V=I+W*t.strides[2],q=0;q<f;q++){var B=h[X+q],G=h[j+q],J=B+(h[U+q]-B)*Y,ne=J+(G+(h[V+q]-G)*Y-J)*N;m[x++]=ne}return tr(m,[s,r,o,f])},n.prototype.resizeBilinearBackprop=function(t,r,o){Ee([t,r],"resizeBilinearBackprop");for(var a=r.shape,i=a[0],s=a[1],u=a[2],c=a[3],f=t.shape,h=f[1],m=f[2],v=new Float32Array(i*s*u*c),b=[o&&h>1?s-1:s,o&&m>1?u-1:u],x=[o&&h>1?h-1:h,o&&m>1?m-1:m],w=b[0]/x[0],S=b[1]/x[1],E=this.readSync(t.dataId),R=0,D=0;D<i;D++)for(var A=D*r.strides[0],N=0;N<h;N++)for(var k=N*w,M=Math.floor(k),I=Math.min(Math.ceil(k),s-1),P=A+M*r.strides[1],L=A+I*r.strides[1],F=k-M,Y=1-F,W=0;W<m;W++)for(var X=W*S,j=Math.floor(X),U=Math.min(Math.ceil(X),u-1),V=X-j,q=1-V,B=P+j*r.strides[2],G=P+U*r.strides[2],J=L+j*r.strides[2],ne=L+U*r.strides[2],he=Y*q,Se=Y*V,ae=F*q,le=F*V,ge=0;ge<c;ge++){var me=E[R++];v[B+ge]+=me*he,v[G+ge]+=me*Se,v[J+ge]+=me*ae,v[ne+ge]+=me*le}return Or(v,[i,u,s,c],r.dtype)},n.prototype.resizeNearestNeighbor=function(t,r,o,a){Ee(t,"resizeNearestNeighbor");for(var i=t.shape,s=i[0],u=i[1],c=i[2],f=i[3],h=this.readSync(t.dataId),m=new Float32Array(s*r*o*f),v=[a&&r>1?u-1:u,a&&o>1?c-1:c],b=[a&&r>1?r-1:r,a&&o>1?o-1:o],x=v[0]/b[0],w=v[1]/b[1],S=0,E=0;E<s;E++)for(var R=E*t.strides[0],D=0;D<r;D++)for(var A=x*D,N=R+Math.min(u-1,a?Math.round(A):Math.floor(A))*t.strides[1],k=0;k<o;k++)for(var M=w*k,I=N+Math.min(c-1,a?Math.round(M):Math.floor(M))*t.strides[2],P=0;P<f;P++){var L=h[I+P];m[S++]=L}return tr(m,[s,r,o,f],t.dtype)},n.prototype.resizeNearestNeighborBackprop=function(t,r,o){Ee([t,r],"resizeNearestNeighborBackprop");for(var a=r.shape,i=a[0],s=a[1],u=a[2],c=a[3],f=t.shape,h=f[1],m=f[2],v=new Float32Array(i*s*u*c),b=this.readSync(t.dataId),x=[o&&h>1?s-1:s,o&&m>1?u-1:u],w=[o&&h>1?h-1:h,o&&m>1?m-1:m],S=x[0]/w[0],E=x[1]/w[1],R=1/S,D=1/E,A=2*Math.ceil(R)+2,N=2*Math.ceil(D)+2,k=0;k<i;k++)for(var M=k*r.strides[0],I=0;I<s;I++)for(var P=M+I*r.strides[1],L=Math.floor(I*R),F=Math.floor(L-A/2),Y=0;Y<u;Y++)for(var W=P+Y*r.strides[2],X=Math.floor(Y*D),j=Math.floor(X-N/2),U=0;U<c;U++){for(var V=0,q=0;q<A;q++){var B=q+F;if(!(B<0||B>=h)){var G=M+B*t.strides[1],J=B*S;if(I===Math.min(s-1,o?Math.round(J):Math.floor(J)))for(var ne=0;ne<N;ne++){var he=ne+j;if(!(he<0||he>=m)){var Se=G+he*t.strides[2],ae=he*E;Y===Math.min(u-1,o?Math.round(ae):Math.floor(ae))&&(V+=b[Se+U])}}}}v[W+U]=V}return Or(v,r.shape,r.dtype)},n.prototype.batchNormalization=function(t,r,o,a,i,s){Ee([t,r,o,i,s],"batchNorm");for(var u=this.readSync(t.dataId),c=this.readSync(r.dataId),f=this.readSync(o.dataId),h=i?this.readSync(i.dataId):new Float32Array([1]),m=s?this.readSync(s.dataId):new Float32Array([0]),v=new Float32Array(u.length),b=m.length,x=h.length,w=f.length,S=c.length,E=0,R=0,D=0,A=0,N=0;N<u.length;++N)v[N]=m[E++]+(u[N]-c[R++])*h[D++]/Math.sqrt(f[A++]+a),E>=b&&(E=0),R>=S&&(R=0),D>=x&&(D=0),A>=w&&(A=0);return Or(v,t.shape)},n.prototype.localResponseNormalization4D=function(t,r,o,a,i){Ee(t,"localResponseNormalization4D");var s=t.shape[3],u=s-1,c=this.readSync(t.dataId),f=t.size,h=new Float32Array(f);function m(w){for(var S=w%s,E=w-S+Math.max(0,S-r),R=w-S+Math.min(S+r,u),D=0;E<=R;E++){var A=c[E];D+=A*A}return D}for(var v=0;v<f;v++){var b=m(v),x=c[v]*Math.pow(o+a*b,-i);h[v]=x}return Or(h,t.shape)},n.prototype.LRNGrad=function(t,r,o,a,i,s,u){Ee(t,"LRNGrad");for(var c=t.shape[3],f=this.readSync(t.dataId),h=this.readSync(r.dataId),m=this.readSync(o.dataId),v=new Float32Array(t.size),b=t.size,x=0;x<b;x++){for(var w=x%c,S=x-w+Math.max(0,w-a),E=x-w+Math.min(c,w+a+1),R=0,D=S;D<E;D++)R+=Math.pow(h[D],2);for(R=s*R+i,D=S;D<E;D++){var A=-2*s*u*h[D]*m[x]/R;x===D&&(A+=Math.pow(R,-u)),A*=f[x],v[D]+=A}}return Or(v,t.shape)},n.prototype.multinomial=function(t,r,o,a){Ee(t,"multinomial");for(var i=r?t:bi(t),s=i.shape[0],u=i.shape[1],c=Jt([s,o],"int32"),f=this.readSync(c.dataId),h=this.readSync(i.dataId),m=0;m<s;++m){var v=m*u,b=new Float32Array(u-1);b[0]=h[v];for(var x=1;x<b.length;++x)b[x]=b[x-1]+h[v+x];for(var w=Bv(a.toString()),S=m*o,E=0;E<o;++E){var R=w();f[S+E]=b.length;for(var D=0;D<b.length;D++)if(R<b[D]){f[S+E]=D;break}}}return c},n.prototype.oneHot=function(t,r,o,a){Ee(t,"oneHot");var i=new Float32Array(t.size*r);i.fill(a);for(var s=this.readSync(t.dataId),u=0;u<t.size;++u)s[u]>=0&&s[u]<r&&(i[u*r+s[u]]=o);return cs(i,[t.size,r],"int32")},n.prototype.nonMaxSuppression=function(t,r,o,a,i){return Ee(t,"nonMaxSuppression"),$w(this.readSync(t.dataId),this.readSync(r.dataId),o,a,i)},n.prototype.fft=function(t){return this.fftBatch(t,!1)},n.prototype.ifft=function(t){return this.fftBatch(t,!0)},n.prototype.fftBatch=function(t,r){for(var o=t.shape[0],a=t.shape[1],i=pt(t.shape,"float32"),s=pt(t.shape,"float32"),u=To(t).as2D(o,a),c=ba(t).as2D(o,a),f=0;f<o;f++)for(var h=u.slice([f,0],[1,a]),m=c.slice([f,0],[1,a]),v=Zn(h,m),b=this.readSync(this.fftImpl(v,r).dataId),x=0;x<a;x++){var w=mD(b,x);i.values[f*a+x]=w.real,s.values[f*a+x]=w.imag}return Zn(i.toTensor(),s.toTensor()).as2D(o,a)},n.prototype.fftImpl=function(t,r){var o=t.as1D(),a=o.size;if(this.isExponentOf2(a)){var i=this.fftRadix2(o,a,r).as2D(t.shape[0],t.shape[1]);return r&&(i=Zn(To(i).div(Ie(a)),ba(i).div(Ie(a)))),i}var s=this.readSync(t.dataId),u=(function(c){for(var f=new Float32Array(c.length/2),h=new Float32Array(c.length/2),m=0;m<c.length;m+=2)f[m/2]=c[m],h[m/2]=c[m+1];return{real:f,imag:h}})(this.fourierTransformByMatmul(s,a,r));return Zn(u.real,u.imag).as2D(t.shape[0],t.shape[1])},n.prototype.isExponentOf2=function(t){return(t&t-1)==0},n.prototype.fftRadix2=function(t,r,o){if(r===1)return t;var a=this.readSync(t.dataId),i=r/2,s=(function(S){for(var E=Math.ceil(S.length/4),R=new Float32Array(E),D=new Float32Array(E),A=0;A<S.length;A+=4)R[Math.floor(A/4)]=S[A],D[Math.floor(A/4)]=S[A+1];return{real:R,imag:D}})(a),u=Zn(s.real,s.imag).as1D(),c=(function(S){for(var E=Math.floor(S.length/4),R=new Float32Array(E),D=new Float32Array(E),A=2;A<S.length;A+=4)R[Math.floor(A/4)]=S[A],D[Math.floor(A/4)]=S[A+1];return{real:R,imag:D}})(a),f=Zn(c.real,c.imag).as1D();u=this.fftRadix2(u,i,o),f=this.fftRadix2(f,i,o);var h=(function(S,E){for(var R=new Float32Array(S/2),D=new Float32Array(S/2),A=0;A<Math.ceil(S/2);A++){var N=(E?2:-2)*Math.PI*(A/S);R[A]=Math.cos(N),D[A]=Math.sin(N)}return{real:R,imag:D}})(r,o),m=Zn(h.real,h.imag).mul(f),v=u.add(m),b=u.sub(m),x=To(v).concat(To(b)),w=ba(v).concat(ba(b));return Zn(x,w).as1D()},n.prototype.fourierTransformByMatmul=function(t,r,o){for(var a=new Float32Array(2*r),i=0;i<r;i++){for(var s=0,u=0,c=0;c<r;c++){var f=zZ(i*c,r,o),h=mD(t,c);s+=h.real*f.real-h.imag*f.imag,u+=h.real*f.imag+h.imag*f.real}o&&(s/=r,u/=r),LZ(a,s,u,i)}return a},n.prototype.depthToSpace=function(t,r,o){$(o==="NHWC",(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+o})),$(r>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+r}));for(var a=t.shape[0],i=t.shape[1],s=t.shape[2],u=t.shape[3],c=i*r,f=s*r,h=u/(r*r),m=this.readSync(t.dataId),v=new Float32Array(a*c*f*h),b=0,x=0;x<a;++x)for(var w=0;w<c;++w)for(var S=Math.floor(w/r),E=w%r,R=0;R<f;++R)for(var D=Math.floor(R/r),A=(E*r+R%r)*h,N=0;N<h;++N){var k=N+A+u*(D+s*(S+i*x));v[b++]=m[k]}return Or(v,[a,c,f,h])},n.prototype.broadcastedBinaryOp=function(t,r,o,a){var i=_t(t.shape,r.shape),s=pt(i,o),u=this.readSync(t.dataId),c=this.readSync(r.dataId),f=rs(t.shape,i),h=rs(r.shape,i),m=s.values;if(f.length+h.length===0)for(var v=0;v<m.length;++v)m[v]=a(u[v%u.length],c[v%c.length]);else{var b=this.bufferSync(t),x=this.bufferSync(r),w=function(S){var E=s.indexToLoc(S),R=E.slice(-t.rank);f.forEach((function(k){return R[k]=0}));var D=b.locToIndex(R),A=E.slice(-r.rank);h.forEach((function(k){return A[k]=0}));var N=x.locToIndex(A);m[S]=a(u[D],c[N])};for(v=0;v<m.length;++v)w(v)}return s.toTensor()},n.prototype.broadcastedBinaryComplexOp=function(t,r,o){var a=_t(t.shape,r.shape),i=pt(a,"float32"),s=pt(a,"float32"),u=this.readSync(t.dataId),c=this.readSync(r.dataId),f=rs(t.shape,a),h=rs(r.shape,a),m=i.values,v=s.values;if(f.length+h.length===0)for(var b=0;b<m.length;b++){var x=b%u.length,w=b%c.length,S=o(u[2*x],u[2*x+1],c[2*w],c[2*w+1]);m[b]=S.real,v[b]=S.imag}else{var E=this.bufferSync(this.data.get(t.dataId).complexTensors.real),R=this.bufferSync(this.data.get(r.dataId).complexTensors.real),D=function(A){var N=i.indexToLoc(A),k=N.slice(-t.rank);f.forEach((function(F){return k[F]=0}));var M=E.locToIndex(k),I=N.slice(-r.rank);h.forEach((function(F){return I[F]=0}));var P=R.locToIndex(I),L=o(u[2*M],u[2*M+1],c[2*P],c[2*P+1]);m[A]=L.real,v[A]=L.imag};for(b=0;b<m.length;b++)D(b)}return this.complex(i.toTensor(),s.toTensor())},n.prototype.split=function(t,r,o){return k4(t,r,o)},n.prototype.dispose=function(){},n.prototype.floatPrecision=function(){return 32},n.prototype.epsilon=function(){return 1e-7},n.prototype.cropAndResize=function(t,r,o,a,i,s){for(var u=t.shape,c=u[0],f=u[1],h=u[2],m=u[3],v=r.shape[0],b=a[0],x=a[1],w=pt([v,b,x,m],"float32"),S=this.readSync(r.dataId),E=this.readSync(o.dataId),R=this.readSync(t.dataId),D=t.strides,A=w.strides,N=0;N<v;N++){var k=4*N,M=S[k],I=S[k+1],P=S[k+2],L=S[k+3],F=E[N];if(!(F>=c))for(var Y=b>1?(P-M)*(f-1)/(b-1):0,W=x>1?(L-I)*(h-1)/(x-1):0,X=0;X<b;X++){var j=b>1?M*(f-1)+X*Y:.5*(M+P)*(f-1);if(j<0||j>f-1)for(var U=0;U<x;U++)for(var V=0;V<m;V++){var q=V+U*A[2]+X*A[1]+N*A[0];w.values[q]=s}else if(i==="bilinear"){var B=Math.floor(j),G=Math.ceil(j),J=j-B;for(U=0;U<x;U++)if((je=x>1?I*(h-1)+U*W:.5*(I+L)*(h-1))<0||je>h-1)for(V=0;V<m;V++)q=V+U*A[2]+X*A[1]+N*A[0],w.values[q]=s;else{var ne=Math.floor(je),he=Math.ceil(je),Se=je-ne;for(V=0;V<m;V++){var ae=R[q=V+ne*D[2]+B*D[1]+F*D[0]],le=R[q=V+he*D[2]+B*D[1]+F*D[0]],ge=R[q=V+ne*D[2]+G*D[1]+F*D[0]],me=ae+(le-ae)*Se,Pe=ge+(R[q=V+he*D[2]+G*D[1]+F*D[0]]-ge)*Se;q=V+U*A[2]+X*A[1]+N*A[0],w.values[q]=me+(Pe-me)*J}}}else for(U=0;U<x;++U){var je;if((je=x>1?I*(h-1)+U*W:.5*(I+L)*(h-1))<0||je>h-1)for(V=0;V<m;V++)q=V+U*A[2]+X*A[1]+N*A[0],w.values[q]=s;else{var Be=Math.round(je),Te=Math.round(j);for(V=0;V<m;V++){var We=V+Be*D[2]+Te*D[1]+F*D[0],ct=V+U*A[2]+X*A[1]+N*A[0];w.values[ct]=R[We]}}}}}return w.toTensor()},n.prototype.sparseToDense=function(t,r,o,a){var i=wm(0,t,o),s=i.sliceRank,u=i.numUpdates,c=i.sliceSize,f=i.strides,h=i.outputSize;return this.scatter(t,r,o,h,c,u,s,f,a,!1)},n.prototype.gatherND=function(t,r){var o=r.shape,a=o[o.length-1],i=w4(t,r),s=i[0],u=i[1],c=i[2],f=i[3];if(u===0)return tr([],s,t.dtype);for(var h=new tf([u,c],t.dtype),m=this.readSync(r.dataId),v=this.readSync(t.dataId),b=0;b<u;b++){for(var x=[],w=0,S=0;S<a;S++){var E=m[b*a+S];w+=E*f[S],x.push(E)}if(w<0||w>=t.size/c)throw new Error("Invalid indices: "+x+" does not index into "+t.shape);for(var R=0;R<c;R++)h.values[b*c+R]=v[w*c+R]}return h.toTensor().reshape(s)},n.prototype.scatterND=function(t,r,o){var a=wm(0,t,o),i=a.sliceRank,s=a.numUpdates,u=a.sliceSize,c=a.strides,f=a.outputSize,h=Ie(0);return this.scatter(t,r,o,f,u,s,i,c,h,!0)},n.prototype.fill=function(t,r,o){var a=dm(o=o||kf(r),qe(t));return a.fill(r),ee.makeTensor(a,t,o,this)},n.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)},n.prototype.zerosLike=function(t){var r=dm(t.dtype,qe(t.shape));return this.makeOutput(r,t.shape,t.dtype)},n.prototype.linspace=function(t,r,o){return A4(t,r,o)},n.prototype.scatter=function(t,r,o,a,i,s,u,c,f,h){var m=[a/i,i],v=this.readSync(t.dataId),b=this.readSync(r.dataId);if(a===0)return tr([],o,r.dtype);var x=new tf(m,r.dtype);x.values.fill(this.readSync(f.dataId)[0]);for(var w=0;w<s;w++){for(var S=[],E=0,R=0;R<u;R++){var D=v[w*u+R];S.push(D),E+=D*c[R]}if(E<0||E>=a/i)throw new Error("Invalid indices: "+S+" does not index into "+o);for(var A=0;A<i;A++)h?x.values[E*i+A]+=b[w*i+A]:x.values[E*i+A]=r.rank===0?b[0]:b[w*i+A]}return x.toTensor().reshape(o)},n})(_4);ee.registerBackend("cpu",(function(){return new ioe}),1);for(var yb=0,BD=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var n=e.inputs,t=e.backend,r=e.attrs,o=n,a=o.boxes,i=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,f=s.scoreThreshold,h=s.softNmsSigma,m=t;Ee(a,"NonMaxSuppressionWithScore");var v=Gw(m.data.get(a.dataId).values,m.data.get(i.dataId).values,u,c,f,h);return[v.selectedIndices,v.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var n=e.inputs,t=e.backend,r=n.x,o=t;Ee(r,"square");for(var a=o.data.get(r.dataId).values,i=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];i[s]=u*u}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:of,backendName:"cpu",kernelFunc:function(e){var n=e.inputs,t=e.backend,r=n,o=r.a,a=r.b,i=t;Ee([o,a],of);var s=i.data.get(o.dataId).values,u=i.data.get(a.dataId).values,c=(function(m,v,b,x,w,S){var E=_t(m,v),R=E.length,D=Ra(E),A=ef(w,qe(E)),N=m.length,k=v.length,M=Ra(m),I=Ra(v),P=rs(m,E),L=rs(v,E);if(P.length+L.length===0)for(var F=0;F<A.length;++F)A[F]=S(b[F%b.length],x[F%x.length]);else{var Y=function(W){var X=vJ(W,R,D),j=X.slice(-N);P.forEach((function(B){return j[B]=0}));var U=iD(j,N,M),V=X.slice(-k);L.forEach((function(B){return V[B]=0}));var q=iD(V,k,I);A[W]=S(b[U],x[q])};for(F=0;F<A.length;++F)Y(F)}return[A,E]})(o.shape,a.shape,s,u,o.dtype,(function(m,v){var b=m-v;return b*b})),f=c[0],h=c[1];return{dataId:i.write(f,h,o.dtype),shape:h,dtype:o.dtype}}}];yb<BD.length;yb++)e4(BD[yb]);var hu,soe=function(e){this.variableNames=["A"];var n=cr(),t=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+r+".0, "+t+`.0);

        vec4 values = `+n.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},loe=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=cr(),t=e[0],r=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+r+".0, "+t+`.0);
            vec4 values = `+n.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+n.output+` = result;
      }
    `};for(var bb=0,FD=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var n=e.inputs,t=e.backend,r=e.attrs,o=n.pixels,a=r.numChannels,i=typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,u=i?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=u[0],f=u[1],h=[f,c],m=[f,c,a];(s||i)&&(hu==null&&(hu=document.createElement("canvas").getContext("2d")),hu.canvas.width=c,hu.canvas.height=f,hu.drawImage(o,0,0,c,f),o=hu.canvas);var v=t.makeTensorInfo(h,"int32");t.texData.get(v.dataId).usage=ro.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(v.dataId),o);var b=ve().getBool("WEBGL_PACK")?new loe(m):new soe(m),x=t.runWebGLProgram(b,[v],"int32");return t.disposeData(v.dataId),x}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var n=e.inputs,t=e.backend,r=e.attrs;mm("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=n,a=o.boxes,i=o.scores,s=r,u=s.maxOutputSize,c=s.iouThreshold,f=s.scoreThreshold,h=s.softNmsSigma,m=t,v=Gw(m.readSync(a.dataId),m.readSync(i.dataId),u,c,f,h);return[v.selectedIndices,v.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var n=e.inputs,t=e.backend,r=n.x,o=t,a=new yt(r.shape,"return x * x;");return o.runWebGLProgram(a,[r],r.dtype)}},{kernelName:of,backendName:"webgl",kernelFunc:function(e){var n=e.inputs,t=e.backend,r=n,o=r.a,a=r.b,i=t,s=ve().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ti("return (a - b) * (a - b);",o.shape,a.shape):new fn("return (a - b) * (a - b);",o.shape,a.shape);return i.compileAndRun(s,[o,a])}}];bb<FD.length;bb++)e4(FD[bb]);for(var xb=0,LD=[{kernelName:"Square",gradFunc:function(e,n){var t=n[0];return{x:function(){return e.mul(t.toFloat().mul(2))}}}},{kernelName:of,gradFunc:function(e,n){var t=n[0],r=n[1],o=Ie(2);return{a:function(){return hr(e,hr(o,Mn(t,r)))},b:function(){return hr(e,hr(o,Mn(r,t)))}}}}];xb<LD.length;xb++)aJ(LD[xb]);var uoe=(function(){function e(){}return e.prototype.fetch=function(n,t){return fetch(n,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(n,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+t);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(n)},e.prototype.decode=function(n,t){return new TextDecoder(t).decode(n)},e})();ve().get("IS_BROWSER")&&ve().setPlatform("browser",new uoe);var wb,coe=function(){return require("node-fetch")},doe=(function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(n,t){return ve().global.fetch!=null?ve().global.fetch(n,t):(wb==null&&(wb=coe()),wb(n,t))},e.prototype.now=function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6},e.prototype.encode=function(n,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(n)},e.prototype.decode=function(n,t){return n.length===0?"":new this.util.TextDecoder(t).decode(n)},e})();ve().get("IS_NODE")&&ve().setPlatform("node",new doe);var Mx={float32:4,int32:4,uint16:2,uint8:1,bool:1},Dm=4;function CI(e,n){for(var t={},r=0,o=function(s){var u=s.name,c=s.dtype,f=s.shape,h=qe(f),m=void 0;if("quantization"in s){var v=s.quantization;if(v.dtype!=="uint8"&&v.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+v.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var b=Mx[v.dtype],x=e.slice(r,r+h*b),w=v.dtype==="uint8"?new Uint8Array(x):new Uint16Array(x);if(c==="float32")m=Float32Array.from(w,(function(N){return N*v.scale+v.min}));else{if(c!=="int32")throw new Error("Unsupported dtype in weight '"+u+"': "+c);m=Int32Array.from(w,(function(N){return Math.round(N*v.scale+v.min)}))}r+=h*b}else if(c==="string"){var S=qe(s.shape);m=[];for(var E=0;E<S;E++){var R=new Uint32Array(e.slice(r,r+Dm))[0];r+=Dm;var D=new Uint8Array(e.slice(r,r+R));m.push(D),r+=R}}else{var A=Mx[c];if(x=e.slice(r,r+h*A),c==="float32")m=new Float32Array(x);else if(c==="int32")m=new Int32Array(x);else{if(c!=="bool")throw new Error("Unsupported dtype in weight '"+u+"': "+c);m=new Uint8Array(x)}r+=h*A}t[u]=tr(m,f,c)},a=0,i=n;a<i.length;a++)o(i[a]);return t}function foe(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var n=0,t=[];e.forEach((function(a){if(n+=a.byteLength,t.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+a.constructor.name)}));var r=new Uint8Array(n),o=0;return t.forEach((function(a){r.set(new Uint8Array(a.buffer),o),o+=a.byteLength})),r.buffer}var Ix=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function zD(e){return Ix?Buffer.byteLength(e):new Blob([e]).size}function d2(e){var n=0;e.forEach((function(o){n+=o.byteLength}));var t=new Uint8Array(n),r=0;return e.forEach((function(o){t.set(new Uint8Array(o),r),r+=o.byteLength})),t.buffer}function UD(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var n=e.split("/");return n[n.length-1]}function Ff(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:zD(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:zD(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var oo=(function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(n){e.getInstance().saveRouters.push(n)},e.registerLoadRouter=function(n){e.getInstance().loadRouters.push(n)},e.getSaveHandlers=function(n){return e.getHandlers(n,"save")},e.getLoadHandlers=function(n,t){return e.getHandlers(n,"load",t)},e.getHandlers=function(n,t,r){var o=[];return(t==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(a){var i=a(n,r);i!==null&&o.push(i)})),o},e})(),Ou="://",ds=(function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(n,t){$(n!=null,(function(){return"scheme must not be undefined or null."})),n.endsWith(Ou)&&(n=n.slice(0,n.indexOf(Ou))),$(n.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();$(r.managers[n]==null,(function(){return"A model store manager is already registered for scheme '"+n+"'."})),r.managers[n]=t},e.getManager=function(n){var t=this.getInstance().managers[n];if(t==null)throw new Error("Cannot find model manager for scheme '"+n+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e})();function Up(e){if(e.indexOf(Ou)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+ds.getSchemes().join(","));return{scheme:e.split(Ou)[0],path:e.split(Ou)[1]}}function VD(e,n,t){return t===void 0&&(t=!1),Ve(this,void 0,void 0,(function(){var r,o,a,i,s,u,c,f,h;return He(this,(function(m){switch(m.label){case 0:return $(e!==n,(function(){return"Old path and new path are the same: '"+e+"'"})),$((r=oo.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),$(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),o=r[0],$((a=oo.getSaveHandlers(n)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+n+"."})),$(a.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+n+"."})),i=a[0],s=Up(e).scheme,u=Up(e).path,c=s===Up(e).scheme,[4,o.load()];case 1:return f=m.sent(),t&&c?[4,ds.getManager(s).removeModel(u)]:[3,3];case 2:m.sent(),m.label=3;case 3:return[4,i.save(f)];case 4:return h=m.sent(),!t||c?[3,6]:[4,ds.getManager(s).removeModel(u)];case 5:m.sent(),m.label=6;case 6:return[2,h.modelArtifactsInfo]}}))}))}var el="models_store",os="model_info_store";function EI(){if(!ve().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,n=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(n==null)throw new Error("The current browser does not appear to support IndexedDB.");return n}function Ox(e){var n=e.result;n.createObjectStore(el,{keyPath:"modelPath"}),n.createObjectStore(os,{keyPath:"modelPath"})}var Pu=(function(){function e(n){if(this.indexedDB=EI(),n==null||!n)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=n}return e.prototype.save=function(n){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,n)]}))}))},e.prototype.load=function(){return Ve(this,void 0,void 0,(function(){return He(this,(function(n){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(n,t){var r=this;return new Promise((function(o,a){var i=r.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Ox(i)},i.onsuccess=function(){var s=i.result;if(t==null){var u=s.transaction(el,"readonly"),c=u.objectStore(el).get(r.modelPath);c.onsuccess=function(){if(c.result==null)return s.close(),a(new Error("Cannot find model with path '"+r.modelPath+"' in IndexedDB."));o(c.result.modelArtifacts)},c.onerror=function(x){return s.close(),a(c.error)},u.oncomplete=function(){return s.close()}}else{var f,h=Ff(t),m=s.transaction(os,"readwrite"),v=m.objectStore(os),b=v.put({modelPath:r.modelPath,modelArtifactsInfo:h});b.onsuccess=function(){var x=(f=s.transaction(el,"readwrite")).objectStore(el).put({modelPath:r.modelPath,modelArtifacts:t,modelArtifactsInfo:h});x.onsuccess=function(){return o({modelArtifactsInfo:h})},x.onerror=function(w){var S=(v=m.objectStore(os)).delete(r.modelPath);S.onsuccess=function(){return s.close(),a(x.error)},S.onerror=function(E){return s.close(),a(x.error)}}},b.onerror=function(x){return s.close(),a(b.error)},m.oncomplete=function(){f==null?s.close():f.oncomplete=function(){return s.close()}}}},i.onerror=function(s){return a(i.error)}}))},e.URL_SCHEME="indexeddb://",e})(),HD=function(e){return ve().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Pu.URL_SCHEME)?(n=e.slice(Pu.URL_SCHEME.length),new Pu(n)):null;var n};oo.registerSaveRouter(HD),oo.registerLoadRouter(HD);var hoe=(function(){function e(){this.indexedDB=EI()}return e.prototype.listModels=function(){return Ve(this,void 0,void 0,(function(){var n=this;return He(this,(function(t){return[2,new Promise((function(r,o){var a=n.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return Ox(a)},a.onsuccess=function(){var i=a.result,s=i.transaction(os,"readonly"),u=s.objectStore(os).getAll();u.onsuccess=function(){for(var c={},f=0,h=u.result;f<h.length;f++){var m=h[f];c[m.modelPath]=m.modelArtifactsInfo}r(c)},u.onerror=function(c){return i.close(),o(u.error)},s.oncomplete=function(){return i.close()}},a.onerror=function(i){return o(a.error)}}))]}))}))},e.prototype.removeModel=function(n){return Ve(this,void 0,void 0,(function(){var t=this;return He(this,(function(r){var o;return n=(o=n).startsWith(Pu.URL_SCHEME)?o.slice(Pu.URL_SCHEME.length):o,[2,new Promise((function(a,i){var s=t.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return Ox(s)},s.onsuccess=function(){var u,c=s.result,f=c.transaction(os,"readwrite"),h=f.objectStore(os),m=h.get(n);m.onsuccess=function(){if(m.result==null)return c.close(),i(new Error("Cannot find model with path '"+n+"' in IndexedDB."));var v=h.delete(n),b=function(){var x=(u=c.transaction(el,"readwrite")).objectStore(el).delete(n);x.onsuccess=function(){return a(m.result.modelArtifactsInfo)},x.onerror=function(w){return i(m.error)}};v.onsuccess=b,v.onerror=function(x){return b(),c.close(),i(m.error)}},m.onerror=function(v){return c.close(),i(m.error)},f.oncomplete=function(){u==null?c.close():u.oncomplete=function(){return c.close()}}},s.onerror=function(u){return i(s.error)}}))]}))}))},e})();if(ve().getBool("IS_BROWSER"))try{ds.registerManager(Pu.URL_SCHEME,new hoe)}catch{}var oi="/",wu="tensorflowjs_models",RI="info",poe="model_topology",moe="weight_specs",voe="weight_data",goe="model_metadata";function _I(e){return{info:[wu,e,RI].join(oi),topology:[wu,e,poe].join(oi),weightSpecs:[wu,e,moe].join(oi),weightData:[wu,e,voe].join(oi),modelMetadata:[wu,e,goe].join(oi)}}function yoe(e){var n=e.split(oi);if(n.length<3)throw new Error("Invalid key format: "+e);return n.slice(1,n.length-1).join(oi)}var ju=(function(){function e(n){if(!ve().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,n==null||!n)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=n,this.keys=_I(this.modelPath)}return e.prototype.save=function(n){return Ve(this,void 0,void 0,(function(){var t,r,o;return He(this,(function(a){if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(n.modelTopology),r=JSON.stringify(n.weightSpecs),o=Ff(n);try{return this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,(function(i){if(Ix)return Buffer.from(i).toString("base64");for(var s=new Uint8Array(i),u="",c=0,f=s.length;c<f;c++)u+=String.fromCharCode(s[c]);return btoa(u)})(n.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,userDefinedMetadata:n.userDefinedMetadata})),[2,{modelArtifactsInfo:o}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+o.modelTopologyBytes+", weightSpecsBytes="+o.weightSpecsBytes+", weightDataBytes="+o.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return Ve(this,void 0,void 0,(function(){var n,t,r,o,a,i,s;return He(this,(function(u){if((n=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(n.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},(r=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=r,(o=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=o,(a=this.LS.getItem(this.keys.modelMetadata))!=null&&(i=JSON.parse(a),t.format=i.format,t.generatedBy=i.generatedBy,t.convertedBy=i.convertedBy,t.userDefinedMetadata=i.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=(function(c){if(Ix){var f=Buffer.from(c,"base64");return f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)}for(var h=atob(c),m=new Uint8Array(h.length),v=0;v<h.length;++v)m.set([h.charCodeAt(v)],v);return m.buffer})(s),[2,t]}))}))},e.URL_SCHEME="localstorage://",e})(),WD=function(e){return ve().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ju.URL_SCHEME)?(n=e.slice(ju.URL_SCHEME.length),new ju(n)):null;var n};oo.registerSaveRouter(WD),oo.registerLoadRouter(WD);var boe=(function(){function e(){$(ve().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),$(typeof window>"u"||window.localStorage!==void 0,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return Ve(this,void 0,void 0,(function(){var n,t,r,o,a,i;return He(this,(function(s){for(n={},t=wu+oi,r=oi+RI,o=0;o<this.LS.length;++o)(a=this.LS.key(o)).startsWith(t)&&a.endsWith(r)&&(i=yoe(a),n[i]=JSON.parse(this.LS.getItem(a)));return[2,n]}))}))},e.prototype.removeModel=function(n){return Ve(this,void 0,void 0,(function(){var t,r;return He(this,(function(o){var a;if(n=(a=n).startsWith(ju.URL_SCHEME)?a.slice(ju.URL_SCHEME.length):a,t=_I(n),this.LS.getItem(t.info)==null)throw new Error("Cannot find model at path '"+n+"'");return r=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,r]}))}))},e})();if(ve().getBool("IS_BROWSER"))try{ds.registerManager(ju.URL_SCHEME,new boe)}catch{}var xoe="model",woe=".json",Soe=".weights.bin";function $D(e){return new Promise((function(n){return setTimeout(n)})).then(e)}var Sb=(function(){function e(n){if(!ve().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");n.startsWith(e.URL_SCHEME)&&(n=n.slice(e.URL_SCHEME.length)),n!=null&&n.length!==0||(n=xoe),this.modelTopologyFileName=n+woe,this.weightDataFileName=n+Soe}return e.prototype.save=function(n){return Ve(this,void 0,void 0,(function(){var t,r,o,a,i,s;return He(this,(function(u){switch(u.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([n.weightData],{type:"application/octet-stream"})),!(n.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return r=[{paths:["./"+this.weightDataFileName],weights:n.weightSpecs}],o={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,weightsManifest:r},a=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),(i=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=a,[4,$D((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return u.sent(),n.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=t,[4,$D((function(){return s.dispatchEvent(new MouseEvent("click"))}))]);case 3:u.sent(),u.label=4;case 4:return[2,{modelArtifactsInfo:Ff(n)}]}}))}))},e.URL_SCHEME="downloads://",e})(),Coe=(function(){function e(n){if(n==null||n.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+n);this.files=n}return e.prototype.load=function(){return Ve(this,void 0,void 0,(function(){var n,t,r=this;return He(this,(function(o){return n=this.files[0],t=this.files.slice(1),[2,new Promise((function(a,i){var s=new FileReader;s.onload=function(u){var c=JSON.parse(u.target.result),f=c.modelTopology;if(f!=null){t.length===0&&a({modelTopology:f});var h=c.weightsManifest;if(h!=null){var m;try{m=r.checkManifestAndWeightFiles(h,t)}catch(w){return void i(w)}var v=[],b=[],x=[];h.forEach((function(w){w.paths.forEach((function(S){b.push(S),x.push(null)})),v.push.apply(v,w.weights)})),h.forEach((function(w){w.paths.forEach((function(S){var E=new FileReader;E.onload=function(R){var D=R.target.result,A=b.indexOf(S);x[A]=D,x.indexOf(null)===-1&&a({modelTopology:f,weightSpecs:v,weightData:d2(x),format:c.format,generatedBy:c.generatedBy,convertedBy:c.convertedBy,userDefinedMetadata:c.userDefinedMetadata})},E.onerror=function(R){return i("Failed to weights data from file of path '"+S+"'.")},E.readAsArrayBuffer(m[S])}))}))}else i(new Error("weightManifest field is missing from file "+n.name))}else i(new Error("modelTopology field is missing from file "+n.name))},s.onerror=function(u){return i("Failed to read model topology and weights manifest JSON from file '"+n.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(n)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(n,t){for(var r=[],o=t.map((function(u){return UD(u.name)})),a={},i=0,s=n;i<s.length;i++)s[i].paths.forEach((function(u){var c=UD(u);if(r.indexOf(c)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+c+"'");if(r.push(c),o.indexOf(c)===-1)throw new Error("Weight file with basename '"+c+"' is not provided.");a[u]=t[o.indexOf(c)]}));if(r.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+r.length+") and the number of weight files provided ("+t.length+").");return a},e})();function GD(e,n,t,r){(function(a){$(a!=null&&Array.isArray(a)&&a.length>0,(function(){return"promises must be a none empty array"}))})(e),(function(a,i){$(a>=0&&a<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+a})),$(i>=0&&i<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+i})),$(i>=a,(function(){return"startFraction must be no more than endFraction, but got startFraction "+a+" and endFraction "+i}))})(t=t??0,r=r??1);var o=0;return Promise.all(e.map((function(a){return a.then((function(i){var s=t+ ++o/e.length*(r-t);return n(s),i})),a})))}function TI(e,n){return Ve(this,void 0,void 0,(function(){var t,r,o,a,i,s,u,c,f;return He(this,(function(h){switch(h.label){case 0:return n==null&&(n={}),t=n.fetchFunc==null?ve().platform.fetch:n.fetchFunc,r=e.map((function(m){return t(m,n.requestInit,{isBinary:!0})})),o=0,a=.5,n.onProgress!=null?[3,2]:[4,Promise.all(r)];case 1:return i=h.sent(),[3,4];case 2:return[4,GD(r,n.onProgress,o,a)];case 3:i=h.sent(),h.label=4;case 4:return s=i.map((function(m){return m.arrayBuffer()})),u=.5,c=1,n.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return f=h.sent(),[3,8];case 6:return[4,GD(s,n.onProgress,u,c)];case 7:f=h.sent(),h.label=8;case 8:return[2,f]}}))}))}function qD(e){var n=this;return function(t,r,o){return r===void 0&&(r=""),Ve(n,void 0,void 0,(function(){var a,i,s,u,c,f,h,m,v,b;return He(this,(function(x){switch(x.label){case 0:if(a=t.map((function(){return!1})),i={},s=o!=null?o.map((function(){return!1})):[],u=[],t.forEach((function(w,S){var E=0;w.weights.forEach((function(R){var D="quantization"in R?R.quantization.dtype:R.dtype,A=Mx[D]*qe(R.shape),N=function(){a[S]=!0,i[S]==null&&(i[S]=[]),i[S].push({manifestEntry:R,groupOffset:E,sizeBytes:A})};o!=null?o.forEach((function(k,M){k===R.name&&(N(),s[M]=!0)})):N(),u.push(R.name),E+=A}))})),!s.every((function(w){return w})))throw c=o.filter((function(w,S){return!s[S]})),new Error("Could not find weights in manifest with names: "+c.join(", ")+`. 
Manifest JSON has weights with names: `+u.join(", ")+".");return f=a.reduce((function(w,S,E){return S&&w.push(E),w}),[]),h=[],f.forEach((function(w){t[w].paths.forEach((function(S){var E=r+(r.endsWith("/")?"":"/")+S;h.push(E)}))})),[4,e(h)];case 1:return m=x.sent(),v={},b=0,f.forEach((function(w){for(var S=t[w].paths.length,E=0,R=0;R<S;R++)E+=m[b+R].byteLength;for(var D=new ArrayBuffer(E),A=new Uint8Array(D),N=0,k=0;k<S;k++){var M=new Uint8Array(m[b+k]);A.set(M,N),N+=M.byteLength}i[w].forEach((function(I){var P=CI(D.slice(I.groupOffset,I.groupOffset+I.sizeBytes),[I.manifestEntry]);for(var L in P)v[L]=P[L]})),b+=S})),[2,v]}}))}))}}oo.registerSaveRouter((function(e){return ve().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Sb.URL_SCHEME)?(function(n){return n===void 0&&(n="model"),new Sb(n)})(e.slice(Sb.URL_SCHEME.length)):null}));var DI=(function(){function e(n,t){if(this.DEFAULT_METHOD="POST",t==null&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,t.fetchFunc!=null?($(typeof t.fetchFunc=="function",(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=ve().platform.fetch,$(n!=null&&n.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(n)&&$(n.length===2,(function(){return"URL paths for http must have a length of 2, (actual length is "+n.length+")."})),this.path=n,t.requestInit!=null&&t.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(n){return Ve(this,void 0,void 0,(function(){var t,r,o,a;return He(this,(function(i){switch(i.label){case 0:if(n.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:n.weightSpecs}],o={modelTopology:n.modelTopology,format:n.format,generatedBy:n.generatedBy,convertedBy:n.convertedBy,userDefinedMetadata:n.userDefinedMetadata,weightsManifest:r},t.body.append("model.json",new Blob([JSON.stringify(o)],{type:"application/json"}),"model.json"),n.weightData!=null&&t.body.append("model.weights.bin",new Blob([n.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((a=i.sent()).ok)return[2,{modelArtifactsInfo:Ff(n),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".")}}))}))},e.prototype.load=function(){return Ve(this,void 0,void 0,(function(){var n,t,r,o,a,i,s,u,c,f,h,m;return He(this,(function(v){switch(v.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(n=v.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+n.status+". Please verify this URL points to the model JSON of the model to load.");v.label=2;case 2:return v.trys.push([2,4,,5]),[4,n.json()];case 3:return t=v.sent(),[3,5];case 4:throw v.sent(),r="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 5:if(o=t.modelTopology,a=t.weightsManifest,i=t.generatedBy,s=t.convertedBy,u=t.format,c=t.userDefinedMetadata,o==null&&a==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return a==null?[3,7]:[4,this.loadWeights(a)];case 6:m=v.sent(),f=m[0],h=m[1],v.label=7;case 7:return[2,{modelTopology:o,weightSpecs:f,weightData:h,userDefinedMetadata:c,generatedBy:i,convertedBy:s,format:u}]}}))}))},e.prototype.loadWeights=function(n){return Ve(this,void 0,void 0,(function(){var t,r,o,a,i,s,u,c,f,h,m;return He(this,(function(v){switch(v.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,r=(function(b){var x=b.lastIndexOf("/"),w=b.lastIndexOf("?"),S=b.substring(0,x),E=w>x?b.substring(w):"";return[S+"/",E]})(t),o=r[0],a=r[1],i=this.weightPathPrefix||o,s=[],u=0,c=n;u<c.length;u++)f=c[u],s.push.apply(s,f.weights);return h=[],n.forEach((function(b){b.paths.forEach((function(x){h.push(i+x+a)}))})),[4,TI(h,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return m=v.sent(),[2,[s,d2(m)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e})();function Px(e){return e.match(DI.URL_SCHEME_REGEX)!=null}var XD=function(e,n){return typeof fetch>"u"?null:(Array.isArray(e)?e.every((function(t){return Px(t)})):Px(e))?jx(e,{onProgress:n}):null};function jx(e,n){return new DI(e,n)}oo.registerSaveRouter(XD),oo.registerLoadRouter(XD);var Cb=(function(){function e(n){this.modelArtifacts=n}return e.prototype.load=function(){return Ve(this,void 0,void 0,(function(){return He(this,(function(n){return[2,this.modelArtifacts]}))}))},e})(),Eoe=(function(){function e(n){this.saveHandler=n}return e.prototype.save=function(n){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){return[2,this.saveHandler(n)]}))}))},e})(),AI=Object.freeze({browserFiles:function(e){return new Coe(e)},browserHTTPRequest:function(e,n){return jx(e,n)},concatenateArrayBuffers:d2,decodeWeights:CI,encodeWeights:function(e,n){return Ve(this,void 0,void 0,(function(){var t,r,o,a,i,s=this;return He(this,(function(u){switch(u.label){case 0:for(t=[],r=[],o=Array.isArray(e)?e.map((function(c){return c.name})):Object.keys(e),a=function(c){var f=o[c],h=Array.isArray(e)?e[c].tensor:e[f];if(h.dtype!=="float32"&&h.dtype!=="int32"&&h.dtype!=="bool"&&h.dtype!=="string")throw new Error("Unsupported dtype in weight '"+f+"': "+h.dtype);var m={name:f,shape:h.shape,dtype:h.dtype};if(h.dtype==="string"){var v=new Promise((function(b){return Ve(s,void 0,void 0,(function(){var x,w,S,E,R,D,A;return He(this,(function(N){switch(N.label){case 0:return[4,h.bytes()];case 1:for(x=N.sent(),w=x.reduce((function(k,M){return k+M.length}),0)+Dm*x.length,S=new Uint8Array(w),E=0,R=0;R<x.length;R++)D=x[R],A=new Uint8Array(new Uint32Array([D.length]).buffer),S.set(A,E),E+=Dm,S.set(D,E),E+=D.length;return b(S),[2]}}))}))}));r.push(v)}else r.push(h.data());n!=null&&(m.group=n),t.push(m)},i=0;i<o.length;++i)a(i);return[4,Promise.all(r)];case 1:return[2,{data:foe(u.sent()),specs:t}]}}))}))},fromMemory:function(e,n,t,r){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new Cb(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Cb({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Cb({modelTopology:e,weightSpecs:n,weightData:t,trainingConfig:r}))},getLoadHandlers:function(e,n){return oo.getLoadHandlers(e,n)},getModelArtifactsInfoForJSON:Ff,getSaveHandlers:function(e){return oo.getSaveHandlers(e)},http:jx,isHTTPScheme:Px,loadWeights:function(e,n,t,r){return n===void 0&&(n=""),Ve(this,void 0,void 0,(function(){return He(this,(function(o){return[2,qD((function(a){return TI(a,{requestInit:r})}))(e,n,t)]}))}))},registerLoadRouter:function(e){return oo.registerLoadRouter(e)},registerSaveRouter:function(e){return oo.registerSaveRouter(e)},weightsLoaderFactory:qD,withSaveHandler:function(e){return new Eoe(e)},copyModel:function(e,n){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){return[2,VD(e,n,!1)]}))}))},listModels:function(){return Ve(this,void 0,void 0,(function(){var e,n,t,r,o,a,i;return He(this,(function(s){switch(s.label){case 0:e=ds.getSchemes(),n={},t=0,r=e,s.label=1;case 1:return t<r.length?(o=r[t],[4,ds.getManager(o).listModels()]):[3,4];case 2:for(i in a=s.sent())n[o+Ou+i]=a[i];s.label=3;case 3:return t++,[3,1];case 4:return[2,n]}}))}))},moveModel:function(e,n){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){return[2,VD(e,n,!0)]}))}))},removeModel:function(e){return Ve(this,void 0,void 0,(function(){var n;return He(this,(function(t){return n=Up(e),[2,ds.getManager(n.scheme).removeModel(n.path)]}))}))}}),pu;Q({confusionMatrix_:function(e,n,t){var r=H(e,"labels","confusionMatrix"),o=H(n,"predictions","confusionMatrix");$(t==null||t>0&&Number.isInteger(t),(function(){return"If provided, numClasses must be a positive integer, but got "+t})),$(r.rank===1,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),$(o.rank===1,(function(){return"Expected the rank of predictions to be 1, but got "+o.rank})),$(r.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."})),$(t>0&&Number.isInteger(t),(function(){return"numClasses is required to be a positive integer, but got "+t}));var a=Tx(r.asType("int32"),t),i=Tx(o.asType("int32"),t);return a.transpose().matMul(i).asType("int32")}});var Roe=Q({fromPixels_:function(e,n){if(n===void 0&&(n=3),n>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var t=!1,r=!1,o=!1,a=!1,i=!1;if(e.data instanceof Uint8Array)t=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)o=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)a=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);i=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(ZM("FromPixels",ee.backendName)!=null)return ee.runKernel("FromPixels",{pixels:e},{numChannels:n});var s,u,c=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],f=c[0],h=c[1];if(i?s=e.getContext("2d").getImageData(0,0,f,h).data:r||t?s=e.data:(a||o)&&(pu==null&&(pu=document.createElement("canvas").getContext("2d")),pu.canvas.width=f,pu.canvas.height=h,pu.drawImage(e,0,0,f,h),s=pu.getImageData(0,0,f,h).data),n===4)u=new Int32Array(s);else{var m=f*h;u=new Int32Array(m*n);for(var v=0;v<m;v++)for(var b=0;b<n;++b)u[v*n+b]=s[4*v+b]}return zw(u,[h,f,n],"int32")}}),f2=Object.freeze({toPixels:function(e,n){return Ve(this,void 0,void 0,(function(){var t,r,o,a,i,s,u,c,f,h,m,v,b,x,w,S,E,R,D,A,N,k,M;return He(this,(function(I){switch(I.label){case 0:if(t=H(e,"img","toPixels"),e instanceof an||(t=t.toInt()),t.rank!==2&&t.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+t.rank+".");if(r=t.shape.slice(0,2),o=r[0],a=r[1],(i=t.rank===2?1:t.shape[2])>4||i===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return[4,t.data()];case 1:return s=I.sent(),u=t.min(),c=t.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(f=I.sent(),h=f[0],m=f[1],v=h[0],b=m[0],u.dispose(),c.dispose(),t.dtype==="float32"){if(v<0||b>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+v+" - "+b+"].")}else{if(t.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+t.dtype+". Please use float32 or int32 tensors.");if(v<0||b>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+v+" - "+b+"].")}for(x=t.dtype==="float32"?255:1,w=new Uint8ClampedArray(a*o*4),S=0;S<o*a;++S)E=void 0,R=void 0,D=void 0,A=void 0,i===1?(E=s[S]*x,R=s[S]*x,D=s[S]*x,A=255):i===3?(E=s[3*S]*x,R=s[3*S+1]*x,D=s[3*S+2]*x,A=255):i===4&&(E=s[4*S]*x,R=s[4*S+1]*x,D=s[4*S+2]*x,A=s[4*S+3]*x),w[(N=4*S)+0]=Math.round(E),w[N+1]=Math.round(R),w[N+2]=Math.round(D),w[N+3]=Math.round(A);return n!=null&&(n.width=a,n.height=o,k=n.getContext("2d"),M=new ImageData(w,a,o),k.putImageData(M,0,0)),t!==e&&t.dispose(),[2,w]}}))}))},fromPixels:Roe}),_oe=(function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(n,t){return new n(t)},e})(),Toe=(function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(n){e.getMap().classNameMap[n.className]=[n,n.fromConfig]},e})();function yl(e){$(e.className!=null,(function(){return"Class being registered does not have the static className property defined."})),$(typeof e.className=="string",(function(){return"className is required to be a string, but got type "+typeof e.className})),$(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Toe.register(e)}var bl=(function(e){function n(){return e!==null&&e.apply(this,arguments)||this}return oa(n,e),n.prototype.minimize=function(t,r,o){r===void 0&&(r=!1);var a=this.computeGradients(t,o),i=a.value,s=a.grads;if(o!=null){var u=o.map((function(c){return{name:c.name,tensor:s[c.name]}}));this.applyGradients(u)}else this.applyGradients(s);return Ur(s),r?i:(i.dispose(),null)},Object.defineProperty(n.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),n.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},n.prototype.computeGradients=function(t,r){return BZ(t,r)},n.prototype.dispose=function(){this.iterations_!=null&&Ur(this.iterations_)},n.prototype.saveIterations=function(){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:Ie(this.iterations_,"int32")}]}))}))},n.prototype.getWeights=function(){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},n.prototype.setWeights=function(t){return Ve(this,void 0,void 0,(function(){return He(this,(function(r){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},n.prototype.extractIterations=function(t){return Ve(this,void 0,void 0,(function(){var r;return He(this,(function(o){switch(o.label){case 0:return r=this,[4,t[0].tensor.data()];case 1:return r.iterations_=o.sent()[0],[2,t.slice(1)]}}))}))},n})(_oe);Object.defineProperty(bl,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var Doe=(function(e){function n(t,r,o){o===void 0&&(o=null);var a=e.call(this)||this;return a.learningRate=t,a.rho=r,a.epsilon=o,a.accumulatedGrads=[],a.accumulatedUpdates=[],o==null&&(a.epsilon=ee.backend.epsilon()),a}return oa(n,e),n.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map((function(o){return o.name})):Object.keys(t)).forEach((function(o,a){var i=ee.registeredVariables[o];r.accumulatedGrads[a]==null&&(r.accumulatedGrads[a]={originalName:o+"/accum_grad",variable:Le((function(){return kt(i).variable(!1)}))}),r.accumulatedUpdates[a]==null&&(r.accumulatedUpdates[a]={originalName:o+"/accum_var",variable:Le((function(){return kt(i).variable(!1)}))});var s=Array.isArray(t)?t[a].tensor:t[o];if(s!=null){var u=r.accumulatedGrads[a].variable,c=r.accumulatedUpdates[a].variable;Le((function(){var f=u.mul(r.rho).add(s.square().mul(1-r.rho)),h=c.add(r.epsilon).sqrt().div(u.add(r.epsilon).sqrt()).mul(s),m=c.mul(r.rho).add(h.square().mul(1-r.rho));u.assign(f),c.assign(m);var v=h.mul(-r.learningRate).add(i);i.assign(v)}))}})),this.incrementIterations()},n.prototype.dispose=function(){this.accumulatedUpdates!=null&&(Ur(this.accumulatedGrads.map((function(t){return t.variable}))),Ur(this.accumulatedUpdates.map((function(t){return t.variable}))))},n.prototype.getWeights=function(){return Ve(this,void 0,void 0,(function(){var t;return He(this,(function(r){switch(r.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map((function(o){return{name:o.originalName,tensor:o.variable}})))]}}))}))},n.prototype.setWeights=function(t){return Ve(this,void 0,void 0,(function(){var r;return He(this,(function(o){switch(o.label){case 0:return[4,this.extractIterations(t)];case 1:return t=o.sent(),r=t.length/2,this.accumulatedGrads=t.slice(0,r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),this.accumulatedUpdates=t.slice(r,2*r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},n.fromConfig=function(t,r){return new t(r.learningRate,r.rho,r.epsilon)},n.className="Adadelta",n})(bl);yl(Doe);var Aoe=(function(e){function n(t,r){r===void 0&&(r=.1);var o=e.call(this)||this;return o.learningRate=t,o.initialAccumulatorValue=r,o.accumulatedGrads=[],o}return oa(n,e),n.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map((function(o){return o.name})):Object.keys(t)).forEach((function(o,a){var i=ee.registeredVariables[o];r.accumulatedGrads[a]==null&&(r.accumulatedGrads[a]={originalName:o+"/accumulator",variable:Le((function(){return _a(i.shape,r.initialAccumulatorValue).variable(!1)}))});var s=Array.isArray(t)?t[a].tensor:t[o];if(s!=null){var u=r.accumulatedGrads[a].variable;Le((function(){var c=u.add(s.square());u.assign(c);var f=s.div(c.add(ee.backend.epsilon()).sqrt()).mul(-r.learningRate).add(i);i.assign(f)}))}})),this.incrementIterations()},n.prototype.dispose=function(){this.accumulatedGrads!=null&&Ur(this.accumulatedGrads.map((function(t){return t.variable})))},n.prototype.getWeights=function(){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map((function(r){return{name:r.originalName,tensor:r.variable}})))]}}))}))},n.prototype.setWeights=function(t){return Ve(this,void 0,void 0,(function(){return He(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),this.accumulatedGrads=t.map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},n.fromConfig=function(t,r){return new t(r.learningRate,r.initialAccumulatorValue)},n.className="Adagrad",n})(bl);yl(Aoe);var Noe=(function(e){function n(t,r,o,a){a===void 0&&(a=null);var i=e.call(this)||this;return i.learningRate=t,i.beta1=r,i.beta2=o,i.epsilon=a,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],Le((function(){i.accBeta1=Ie(r).variable(),i.accBeta2=Ie(o).variable()})),a==null&&(i.epsilon=ee.backend.epsilon()),i}return oa(n,e),n.prototype.applyGradients=function(t){var r=this,o=Array.isArray(t)?t.map((function(a){return a.name})):Object.keys(t);Le((function(){var a=Mn(1,r.accBeta1),i=Mn(1,r.accBeta2);o.forEach((function(s,u){var c=ee.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:Le((function(){return kt(c).variable(!1)}))}),r.accumulatedSecondMoment[u]==null&&(r.accumulatedSecondMoment[u]={originalName:s+"/v",variable:Le((function(){return kt(c).variable(!1)}))});var f=Array.isArray(t)?t[u].tensor:t[s];if(f!=null){var h=r.accumulatedFirstMoment[u].variable,m=r.accumulatedSecondMoment[u].variable,v=h.mul(r.beta1).add(f.mul(1-r.beta1)),b=m.mul(r.beta2).add(f.square().mul(1-r.beta2)),x=v.div(a),w=b.div(i);h.assign(v),m.assign(b);var S=x.div(w.sqrt().add(r.epsilon)).mul(-r.learningRate).add(c);c.assign(S)}})),r.accBeta1.assign(r.accBeta1.mul(r.beta1)),r.accBeta2.assign(r.accBeta2.mul(r.beta2))})),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Ur(this.accumulatedFirstMoment.map((function(t){return t.variable}))),this.accumulatedSecondMoment!=null&&Ur(this.accumulatedSecondMoment.map((function(t){return t.variable})))},n.prototype.getWeights=function(){return Ve(this,void 0,void 0,(function(){var t;return He(this,(function(r){switch(r.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map((function(o){return{name:o.originalName,tensor:o.variable}})))]}}))}))},n.prototype.setWeights=function(t){return Ve(this,void 0,void 0,(function(){var r,o=this;return He(this,(function(a){switch(a.label){case 0:return[4,this.extractIterations(t)];case 1:return t=a.sent(),Le((function(){o.accBeta1.assign(_m(o.beta1,o.iterations_+1)),o.accBeta2.assign(_m(o.beta2,o.iterations_+1))})),r=t.length/2,this.accumulatedFirstMoment=t.slice(0,r).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),this.accumulatedSecondMoment=t.slice(r,2*r).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},n.fromConfig=function(t,r){return new t(r.learningRate,r.beta1,r.beta2,r.epsilon)},n.className="Adam",n})(bl);yl(Noe);var koe=(function(e){function n(t,r,o,a,i){a===void 0&&(a=null),i===void 0&&(i=0);var s=e.call(this)||this;return s.learningRate=t,s.beta1=r,s.beta2=o,s.epsilon=a,s.decay=i,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],Le((function(){s.iteration=Ie(0).variable(),s.accBeta1=Ie(r).variable()})),a==null&&(s.epsilon=ee.backend.epsilon()),s}return oa(n,e),n.prototype.applyGradients=function(t){var r=this,o=Array.isArray(t)?t.map((function(a){return a.name})):Object.keys(t);Le((function(){var a=Mn(1,r.accBeta1),i=Wo(-r.learningRate,r.iteration.mul(r.decay).add(1));o.forEach((function(s,u){var c=ee.registeredVariables[s];r.accumulatedFirstMoment[u]==null&&(r.accumulatedFirstMoment[u]={originalName:s+"/m",variable:kt(c).variable(!1)}),r.accumulatedWeightedInfNorm[u]==null&&(r.accumulatedWeightedInfNorm[u]={originalName:s+"/v",variable:kt(c).variable(!1)});var f=Array.isArray(t)?t[u].tensor:t[s];if(f!=null){var h=r.accumulatedFirstMoment[u].variable,m=r.accumulatedWeightedInfNorm[u].variable,v=h.mul(r.beta1).add(f.mul(1-r.beta1)),b=m.mul(r.beta2),x=f.abs(),w=b.maximum(x);h.assign(v),m.assign(w);var S=i.div(a).mul(v.div(w.add(r.epsilon))).add(c);c.assign(S)}})),r.iteration.assign(r.iteration.add(1)),r.accBeta1.assign(r.accBeta1.mul(r.beta1))})),this.incrementIterations()},n.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Ur(this.accumulatedFirstMoment.map((function(t){return t.variable}))),this.accumulatedWeightedInfNorm!=null&&Ur(this.accumulatedWeightedInfNorm.map((function(t){return t.variable})))},n.prototype.getWeights=function(){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},n.prototype.setWeights=function(t){return Ve(this,void 0,void 0,(function(){return He(this,(function(r){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},n.fromConfig=function(t,r){return new t(r.learningRate,r.beta1,r.beta2,r.epsilon,r.decay)},n.className="Adamax",n})(bl);yl(koe);var NI=(function(e){function n(t){var r=e.call(this)||this;return r.learningRate=t,r.setLearningRate(t),r}return oa(n,e),n.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map((function(o){return o.name})):Object.keys(t)).forEach((function(o,a){var i=Array.isArray(t)?t[a].tensor:t[o];if(i!=null){var s=ee.registeredVariables[o];Le((function(){var u=r.c.mul(i).add(s);s.assign(u)}))}})),this.incrementIterations()},n.prototype.setLearningRate=function(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=QJ(Ie(-t))},n.prototype.dispose=function(){this.c.dispose()},n.prototype.getWeights=function(){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}}))}))},n.prototype.setWeights=function(t){return Ve(this,void 0,void 0,(function(){return He(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:if((t=r.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate}},n.fromConfig=function(t,r){return new t(r.learningRate)},n.className="SGD",n})(bl);yl(NI);var Moe=(function(e){function n(t,r,o){o===void 0&&(o=!1);var a=e.call(this,t)||this;return a.learningRate=t,a.momentum=r,a.useNesterov=o,a.accumulations=[],a.m=Ie(a.momentum),a}return oa(n,e),n.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map((function(o){return o.name})):Object.keys(t)).forEach((function(o,a){var i=ee.registeredVariables[o];r.accumulations[a]==null&&(r.accumulations[a]={originalName:o+"/momentum",variable:Le((function(){return kt(i).variable(!1)}))});var s=r.accumulations[a].variable,u=Array.isArray(t)?t[a].tensor:t[o];u!=null&&Le((function(){var c,f=r.m.mul(s).add(u);c=r.useNesterov?r.c.mul(u.add(f.mul(r.m))).add(i):r.c.mul(f).add(i),s.assign(f),i.assign(c)}))})),this.incrementIterations()},n.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&Ur(this.accumulations.map((function(t){return t.variable})))},n.prototype.setMomentum=function(t){this.momentum=t},n.prototype.getWeights=function(){return Ve(this,void 0,void 0,(function(){return He(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map((function(r){return{name:r.originalName,tensor:r.variable}})))]}}))}))},n.prototype.setWeights=function(t){return Ve(this,void 0,void 0,(function(){return He(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(t)];case 1:return t=r.sent(),this.accumulations=t.map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},n.fromConfig=function(t,r){return new t(r.learningRate,r.momentum,r.useNesterov)},n.className="Momentum",n})(NI);yl(Moe);var Ioe=(function(e){function n(t,r,o,a,i){r===void 0&&(r=.9),o===void 0&&(o=0),a===void 0&&(a=null),i===void 0&&(i=!1);var s=e.call(this)||this;if(s.learningRate=t,s.decay=r,s.momentum=o,s.epsilon=a,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=i,a==null&&(s.epsilon=ee.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return oa(n,e),n.prototype.applyGradients=function(t){var r=this;(Array.isArray(t)?t.map((function(o){return o.name})):Object.keys(t)).forEach((function(o,a){var i=ee.registeredVariables[o];r.accumulatedMeanSquares[a]==null&&(r.accumulatedMeanSquares[a]={originalName:o+"/rms",variable:Le((function(){return kt(i).variable(!1)}))}),r.accumulatedMoments[a]==null&&(r.accumulatedMoments[a]={originalName:o+"/momentum",variable:Le((function(){return kt(i).variable(!1)}))}),r.accumulatedMeanGrads[a]==null&&r.centered&&(r.accumulatedMeanGrads[a]={originalName:o+"/mg",variable:Le((function(){return kt(i).variable(!1)}))});var s=Array.isArray(t)?t[a].tensor:t[o];if(s!=null){var u=r.accumulatedMeanSquares[a].variable,c=r.accumulatedMoments[a].variable;Le((function(){var f=u.mul(r.decay).add(s.square().mul(1-r.decay));if(r.centered){var h=r.accumulatedMeanGrads[a].variable,m=h.mul(r.decay).add(s.mul(1-r.decay)),v=c.mul(r.momentum).add(s.mul(r.learningRate).div(f.sub(m.square().add(r.epsilon)).sqrt()));u.assign(f),h.assign(m),c.assign(v);var b=i.sub(v);i.assign(b)}else{var x=u.mul(r.decay).add(s.square().mul(1-r.decay));v=c.mul(r.momentum).add(s.mul(r.learningRate).div(x.add(r.epsilon).sqrt())),u.assign(x),c.assign(v),b=i.sub(v),i.assign(b)}}))}})),this.incrementIterations()},n.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&Ur(this.accumulatedMeanSquares.map((function(t){return t.variable}))),this.accumulatedMeanGrads!=null&&this.centered&&Ur(this.accumulatedMeanGrads.map((function(t){return t.variable}))),this.accumulatedMoments!=null&&Ur(this.accumulatedMoments.map((function(t){return t.variable})))},n.prototype.getWeights=function(){return Ve(this,void 0,void 0,(function(){var t;return He(this,(function(r){switch(r.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(t.map((function(o){return{name:o.originalName,tensor:o.variable}})))]}}))}))},n.prototype.setWeights=function(t){return Ve(this,void 0,void 0,(function(){var r;return He(this,(function(o){switch(o.label){case 0:return[4,this.extractIterations(t)];case 1:return t=o.sent(),r=this.centered?t.length/3:t.length/2,this.accumulatedMeanSquares=t.slice(0,r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),this.accumulatedMoments=t.slice(r,2*r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*r,3*r).map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}))),[2]}}))}))},n.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},n.fromConfig=function(t,r){return new t(r.learningRate,r.decay,r.momentum,r.epsilon,r.centered)},n.className="RMSProp",n})(bl);yl(Ioe);an.prototype.squaredDifference=function(e){return $4(this,e)},fe=aoe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bx=function(e,n){return Bx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])},Bx(e,n)};function ht(e,n){Bx(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var lr=function(){return lr=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},lr.apply(this,arguments)};function Ke(e,n,t,r){function o(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function s(f){try{c(r.next(f))}catch(h){i(h)}}function u(f){try{c(r.throw(f))}catch(h){i(h)}}function c(f){f.done?a(f.value):o(f.value).then(s,u)}c((r=r.apply(e,[])).next())})}function Qe(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(e,t)}catch(f){c=[6,f],o=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Od(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),o=0,n=0;n<t;n++)for(var a=arguments[n],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}var rl=(function(){function e(n,t){if(!ol(n)||!ol(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:n,height:t}));this._width=n,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e})();function $v(e,n){return e instanceof an&&e.shape.length===n}function Ooe(e){return $v(e,2)}function Gv(e){return $v(e,3)}function fs(e){return $v(e,4)}function Poe(e){return e%1!==0}function YD(e){return e%2===0}function kI(e,n){n===void 0&&(n=2);var t=Math.pow(10,n);return Math.floor(e*t)/t}function KD(e){return e&&e.width&&e.height}function joe(e,n){var t=e.width,r=e.height,o=n/Math.max(r,t);return new rl(Math.round(t*o),Math.round(r*o))}function h2(e){return e.reduce(function(n,t){return n.add(t)},new Pt(0,0)).div(new Pt(e.length,e.length))}function af(e,n,t){return Array(e).fill(0).map(function(r,o){return n+o*t})}function ol(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function QD(e){return ol(e)&&0<=e&&e<=1}var Pt=(function(){function e(n,t){this._x=n,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(n){return new e(this.x+n.x,this.y+n.y)},e.prototype.sub=function(n){return new e(this.x-n.x,this.y-n.y)},e.prototype.mul=function(n){return new e(this.x*n.x,this.y*n.y)},e.prototype.div=function(n){return new e(this.x/n.x,this.y/n.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e})(),Na=(function(){function e(n,t){t===void 0&&(t=!0);var r=n||{},o=[r.left,r.top,r.right,r.bottom].every(ol),a=[r.x,r.y,r.width,r.height].every(ol);if(!a&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var i=a?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=i[0],u=i[1],c=i[2],f=i[3];e.assertIsValidBox({x:s,y:u,width:c,height:f},"Box.constructor",t),this._x=s,this._y=u,this._width=c,this._height=f}return e.isRect=function(n){return!!n&&[n.x,n.y,n.width,n.height].every(ol)},e.assertIsValidBox=function(n,t,r){if(r===void 0&&(r=!1),!e.isRect(n))throw new Error(t+" - invalid box: "+JSON.stringify(n)+", expected object with properties x, y, width, height");if(!r&&(n.width<0||n.height<0))throw new Error(t+" - width ("+n.width+") and height ("+n.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new Pt(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new Pt(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new Pt(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new Pt(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var n=[this.x,this.y,this.width,this.height].map(function(i){return Math.round(i)}),t=n[0],r=n[1],o=n[2],a=n[3];return new e({x:t,y:r,width:o,height:a})},e.prototype.floor=function(){var n=[this.x,this.y,this.width,this.height].map(function(i){return Math.floor(i)}),t=n[0],r=n[1],o=n[2],a=n[3];return new e({x:t,y:r,width:o,height:a})},e.prototype.toSquare=function(){var n=this,t=n.x,r=n.y,o=n.width,a=n.height,i=Math.abs(o-a);return o<a&&(t-=i/2,o+=i),a<o&&(r-=i/2,a+=i),new e({x:t,y:r,width:o,height:a})},e.prototype.rescale=function(n){var t=KD(n)?n.width:n,r=KD(n)?n.height:n;return new e({x:this.x*t,y:this.y*r,width:this.width*t,height:this.height*r})},e.prototype.pad=function(n,t){var r=[this.x-n/2,this.y-t/2,this.width+n,this.height+t],o=r[0],a=r[1],i=r[2],s=r[3];return new e({x:o,y:a,width:i,height:s})},e.prototype.clipAtImageBorders=function(n,t){var r=this,o=r.x,a=r.y,i=r.right,s=r.bottom,u=Math.max(o,0),c=Math.max(a,0),f=i-u,h=s-c,m=Math.min(f,n-u),v=Math.min(h,t-c);return new e({x:u,y:c,width:m,height:v}).floor()},e.prototype.shift=function(n,t){var r=this,o=r.width,a=r.height,i=this.x+n,s=this.y+t;return new e({x:i,y:s,width:o,height:a})},e.prototype.padAtBorders=function(n,t){var r=this.width+1,o=this.height+1,a=1,i=1,s=r,u=o,c=this.left,f=this.top,h=this.right,m=this.bottom;return h>t&&(s=-h+t+r,h=t),m>n&&(u=-m+n+o,m=n),c<1&&(u=2-c,c=1),f<1&&(u=2-f,f=1),{dy:i,edy:u,dx:a,edx:s,y:f,ey:m,x:c,ex:h,w:r,h:o}},e.prototype.calibrate=function(n){return new e({left:this.left+n.left*this.width,top:this.top+n.top*this.height,right:this.right+n.right*this.width,bottom:this.bottom+n.bottom*this.height}).toSquare().round()},e})(),qv=(function(e){ht(n,e);function n(t,r,o,a,i){return i===void 0&&(i=!1),e.call(this,{left:t,top:r,right:o,bottom:a},i)||this}return n})(Na),MI=(function(){function e(n,t,r,o,a){this._imageDims=new rl(a.width,a.height),this._score=n,this._classScore=t,this._className=r,this._box=new Na(o).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new Na(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(n,t){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:n,height:t})},e})(),fo=(function(e){ht(n,e);function n(t,r,o){return e.call(this,t,t,"",r,o)||this}return n.prototype.forSize=function(t,r){var o=e.prototype.forSize.call(this,t,r),a=o.score,i=o.relativeBox,s=o.imageDims;return new n(a,i,s)},n})(MI);function Boe(e,n,t){t===void 0&&(t=!0);var r=Math.max(0,Math.min(e.right,n.right)-Math.max(e.left,n.left)),o=Math.max(0,Math.min(e.bottom,n.bottom)-Math.max(e.top,n.top)),a=r*o;return t?a/(e.area+n.area-a):a/Math.min(e.area,n.area)}function Foe(e){var n=e.map(function(s){return s.x}),t=e.map(function(s){return s.y}),r=n.reduce(function(s,u){return u<s?u:s},1/0),o=t.reduce(function(s,u){return u<s?u:s},1/0),a=n.reduce(function(s,u){return s<u?u:s},0),i=t.reduce(function(s,u){return s<u?u:s},0);return new qv(r,o,a,i)}function sf(e,n,t,r){r===void 0&&(r=!0);for(var o=n.map(function(s,u){return{score:s,boxIndex:u}}).sort(function(s,u){return s.score-u.score}).map(function(s){return s.boxIndex}),a=[],i=function(){var s=o.pop();a.push(s);for(var u=o,c=[],f=0;f<u.length;f++){var h=u[f],m=e[s],v=e[h];c.push(Boe(m,v,r))}o=o.filter(function(b,x){return c[x]<=t})};o.length>0;)i();return a}function Lf(e,n){return Le(function(){var t=n[0],r=n[1],o=n[2],a=_a(Od(e.shape.slice(0,3),[1]),t),i=_a(Od(e.shape.slice(0,3),[1]),r),s=_a(Od(e.shape.slice(0,3),[1]),o),u=Dn([a,i,s],3);return Mn(e,u)})}function Loe(e,n){return n===void 0&&(n=!1),Le(function(){var t=e.shape.slice(1),r=t[0],o=t[1];if(r===o)return e;var a=Math.abs(r-o),i=Math.round(a*(n?.5:1)),s=r>o?2:1,u=function(v){var b=e.shape.slice();return b[s]=v,_a(b,0)},c=u(i),f=a-c.shape[s],h=n&&f?u(f):null,m=[h,e,c].filter(function(v){return!!v}).map(function(v){return v.toFloat()});return Dn(m,s)})}function Eb(e){return 1/(1+Math.exp(-e))}var p2=(function(e){ht(n,e);function n(t,r,o,a,i){return i===void 0&&(i=!1),e.call(this,{x:t,y:r,width:o,height:a},i)||this}return n})(Na),zoe=.5,Uoe=.43,Voe=.45,lf=(function(){function e(n,t,r){r===void 0&&(r=new Pt(0,0));var o=t.width,a=t.height;this._imgDims=new rl(o,a),this._shift=r,this._positions=n.map(function(i){return i.mul(new Pt(o,a)).add(r)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new Pt(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var n=this;return this._positions.map(function(t){return t.sub(n._shift).div(new Pt(n.imageWidth,n.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(n,t){return new this.constructor(this.relativePositions,{width:n,height:t})},e.prototype.shiftBy=function(n,t){return new this.constructor(this.relativePositions,this._imgDims,new Pt(n,t))},e.prototype.shiftByPoint=function(n){return this.shiftBy(n.x,n.y)},e.prototype.align=function(n,t){if(t===void 0&&(t={}),n){var r=n instanceof fo?n.box.floor():new Na(n);return this.shiftBy(r.x,r.y).align(null,t)}var o=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),a=o.useDlibAlignment,i=o.minBoxPadding;return a?this.alignDlib():this.alignMinBbox(i)},e.prototype.alignDlib=function(){var n=this.getRefPointsForAlignment(),t=n[0],r=n[1],o=n[2],a=function(h){return o.sub(h).magnitude()},i=(a(t)+a(r))/2,s=Math.floor(i/Voe),u=h2(n),c=Math.floor(Math.max(0,u.x-zoe*s)),f=Math.floor(Math.max(0,u.y-Uoe*s));return new p2(c,f,Math.min(s,this.imageWidth+c),Math.min(s,this.imageHeight+f))},e.prototype.alignMinBbox=function(n){var t=Foe(this.positions);return t.pad(t.width*n,t.height*n)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e})(),Hoe=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.getRefPointsForAlignment=function(){var t=this.positions;return[t[0],t[1],h2([t[3],t[4]])]},n})(lf),Woe=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.getJawOutline=function(){return this.positions.slice(0,17)},n.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},n.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},n.prototype.getNose=function(){return this.positions.slice(27,36)},n.prototype.getLeftEye=function(){return this.positions.slice(36,42)},n.prototype.getRightEye=function(){return this.positions.slice(42,48)},n.prototype.getMouth=function(){return this.positions.slice(48,68)},n.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(h2)},n})(lf),JD=(function(){function e(n,t){this._label=n,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(n){return n===void 0&&(n=!0),""+this.label+(n?" ("+kI(this.distance)+")":"")},e})(),ZD=(function(e){ht(n,e);function n(t,r){var o=e.call(this,t)||this;return o._label=r,o}return n.assertIsValidLabeledBox=function(t,r){if(Na.assertIsValidBox(t,r),!ol(t.label))throw new Error(r+" - expected property label ("+t.label+") to be a number")},Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),n})(Na),Sp=(function(){function e(n,t){if(typeof n!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(r){return!(r instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=n,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(n){return Array.from(n)})}},e.fromJSON=function(n){var t=n.descriptors.map(function(r){return new Float32Array(r)});return new e(n.label,t)},e})();(function(e){ht(n,e);function n(t,r,o,a){var i=e.call(this,t,r)||this;return i._score=o,i._classScore=a,i}return n.assertIsValidPredictedBox=function(t,r){if(ZD.assertIsValidLabeledBox(t,r),!QD(t.score)||!QD(t.classScore))throw new Error(r+" - expected properties score ("+t.score+") and ("+t.classScore+") to be a number between [0, 1]")},Object.defineProperty(n.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),n})(ZD);function Am(e){return e.detection instanceof fo}function uf(e,n){var t={detection:n};return Object.assign({},e,t)}function II(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},n=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:n}}function OI(e){var n="";if(!e)try{e=require("fs")}catch(r){n=r.toString()}var t=e?function(r){return new Promise(function(o,a){e.readFile(r,function(i,s){return i?a(i):o(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+n)};return{readFile:t}}function PI(){var e=global.Canvas||global.HTMLCanvasElement,n=global.Image||global.HTMLImageElement,t=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},r=function(){if(n)return new n;throw new Error("createImageElement - missing Image implementation for nodejs environment")},o=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=OI();return lr({Canvas:e||(function(){function i(){}return i})(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||(function(){function i(){}return i})(),Image:n||(function(){function i(){}return i})(),ImageData:global.ImageData||(function(){function i(){}return i})(),Video:global.HTMLVideoElement||(function(){function i(){}return i})(),createCanvasElement:t,createImageElement:r,fetch:o},a)}function jI(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function BI(){return typeof global=="object"&&typeof require=="function"&&typeof yO<"u"&&typeof process<"u"&&!!process.version}var _n;function $oe(){if(!_n)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return _n}function Fx(e){_n=e}function m2(){jI()&&Fx(II()),BI()&&Fx(PI())}function Goe(e){if(_n||m2(),!_n)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var n=e.Canvas,t=n===void 0?_n.Canvas:n,r=e.Image,o=r===void 0?_n.Image:r;_n.Canvas=t,_n.Image=o,_n.createCanvasElement=e.createCanvasElement||(function(){return new t}),_n.createImageElement=e.createImageElement||(function(){return new o}),_n.ImageData=e.ImageData||_n.ImageData,_n.Video=e.Video||_n.Video,_n.fetch=e.fetch||_n.fetch,_n.readFile=e.readFile||_n.readFile}var pr={getEnv:$oe,setEnv:Fx,initialize:m2,createBrowserEnv:II,createFileSystem:OI,createNodejsEnv:PI,monkeyPatch:Goe,isBrowser:jI,isNodejs:BI};m2();function v2(e){return!pr.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function di(e){var n=pr.getEnv(),t=n.Canvas,r=n.CanvasRenderingContext2D;if(e instanceof r)return e;var o=v2(e);if(!(o instanceof t))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var a=o.getContext("2d");if(!a)throw new Error("resolveContext2d - canvas 2d context is null");return a}var as;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(as||(as={}));var FI=(function(){function e(n){n===void 0&&(n={});var t=n.anchorPosition,r=n.backgroundColor,o=n.fontColor,a=n.fontSize,i=n.fontStyle,s=n.padding;this.anchorPosition=t||as.TOP_LEFT,this.backgroundColor=r||"rgba(0, 0, 0, 0.5)",this.fontColor=o||"rgba(255, 255, 255, 1)",this.fontSize=a||14,this.fontStyle=i||"Georgia",this.padding=s||4}return e})(),qoe=(function(){function e(n,t,r){r===void 0&&(r={}),this.text=typeof n=="string"?[n]:n instanceof e?n.text:n,this.anchor=t,this.options=new FI(r)}return e.prototype.measureWidth=function(n){var t=this.options.padding;return this.text.map(function(r){return n.measureText(r).width}).reduce(function(r,o){return r<o?o:r},0)+2*t},e.prototype.measureHeight=function(){var n=this.options,t=n.fontSize,r=n.padding;return this.text.length*t+2*r},e.prototype.getUpperLeft=function(n,t){var r=this.options.anchorPosition,o=r===as.BOTTOM_RIGHT||r===as.TOP_RIGHT,a=r===as.BOTTOM_LEFT||r===as.BOTTOM_RIGHT,i=this.measureWidth(n),s=this.measureHeight(),u=o?this.anchor.x-i:this.anchor.x,c=a?this.anchor.y-s:this.anchor.y;if(t){var f=t.width,h=t.height,m=Math.max(Math.min(u,f-i),0),v=Math.max(Math.min(c,h-s),0);return{x:m,y:v}}return{x:u,y:c}},e.prototype.draw=function(n){var t=v2(n),r=di(t),o=this.options,a=o.backgroundColor,i=o.fontColor,s=o.fontSize,u=o.fontStyle,c=o.padding;r.font=s+"px "+u;var f=this.measureWidth(r),h=this.measureHeight();r.fillStyle=a;var m=this.getUpperLeft(r,t);r.fillRect(m.x,m.y,f,h),r.fillStyle=i,this.text.forEach(function(v,b){var x=c+m.x,w=c+m.y+(b+1)*s;r.fillText(v,x,w)})},e})(),Xoe=(function(){function e(n){n===void 0&&(n={});var t=n.boxColor,r=n.lineWidth,o=n.label,a=n.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=r||2,this.label=o;var i={anchorPosition:as.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new FI(Object.assign({},i,a))}return e})(),Yoe=(function(){function e(n,t){t===void 0&&(t={}),this.box=new Na(n),this.options=new Xoe(t)}return e.prototype.draw=function(n){var t=di(n),r=this.options,o=r.boxColor,a=r.lineWidth,i=this.box,s=i.x,u=i.y,c=i.width,f=i.height;t.strokeStyle=o,t.lineWidth=a,t.strokeRect(s,u,c,f);var h=this.options.label;h&&new qoe([h],{x:s-a/2,y:u},this.options.drawLabelOptions).draw(n)},e})();function Koe(e,n){var t=Array.isArray(n)?n:[n];t.forEach(function(r){var o=r instanceof fo?r.score:Am(r)?r.detection.score:void 0,a=r instanceof fo?r.box:Am(r)?r.detection.box:new Na(r),i=o?""+kI(o):void 0;new Yoe(a,{label:i}).draw(e)})}function LI(e){var n=pr.getEnv(),t=n.Image,r=n.Video;return e instanceof t&&e.complete||e instanceof r&&e.readyState>=3}function Qoe(e){return new Promise(function(n,t){if(e instanceof pr.getEnv().Canvas||LI(e))return n();function r(a){a.currentTarget&&(a.currentTarget.removeEventListener("load",r),a.currentTarget.removeEventListener("error",o),n(a))}function o(a){a.currentTarget&&(a.currentTarget.removeEventListener("load",r),a.currentTarget.removeEventListener("error",o),t(a))}e.addEventListener("load",r),e.addEventListener("error",o)})}function zI(e){var n=pr.getEnv(),t=n.Image,r=n.Video;return e instanceof t?new rl(e.naturalWidth,e.naturalHeight):e instanceof r?new rl(e.videoWidth,e.videoHeight):new rl(e.width,e.height)}function Xv(e){var n=e.width,t=e.height,r=pr.getEnv().createCanvasElement,o=r();return o.width=n,o.height=t,o}function g2(e,n){var t=pr.getEnv().ImageData;if(!(e instanceof t)&&!LI(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=zI(e),o=r.width,a=r.height,i=Xv({width:o,height:a});return e instanceof t?di(i).putImageData(e,0,0):di(i).drawImage(e,0,0,o,a),i}function Joe(e,n){return Ke(this,void 0,void 0,function(){var t,r,o,a,i,s;return Qe(this,function(u){switch(u.label){case 0:return t=pr.getEnv().createCanvasElement(),r=e.shape.slice(fs(e)?1:0),o=r[0],a=r[1],i=r[2],s=Le(function(){return e.as3D(o,a,i).toInt()}),[4,f2.toPixels(s,t)];case 1:return u.sent(),s.dispose(),[2,t]}})})}function eA(e){var n=pr.getEnv(),t=n.Image,r=n.Canvas,o=n.Video;return e instanceof t||e instanceof r||e instanceof o}function Zoe(e,n,t){t===void 0&&(t=!1);var r=pr.getEnv(),o=r.Image,a=r.Canvas;if(!(e instanceof o||e instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var i=zI(e),s=n/Math.max(i.height,i.width),u=s*i.width,c=s*i.height,f=Xv({width:n,height:n}),h=e instanceof a?e:g2(e),m=Math.abs(u-c)/2,v=t&&u<c?m:0,b=t&&c<u?m:0;return di(f).drawImage(h,v,b,u,c),f}var Nm=(function(){function e(n,t){var r=this;if(t===void 0&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(n))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+n);this._treatAsBatchInput=t,this._batchSize=n.length,n.forEach(function(o,a){if(Gv(o)){r._imageTensors[a]=o,r._inputDimensions[a]=o.shape;return}if(fs(o)){var i=o.shape[0];if(i!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+i+" passed, but not supported in input array");r._imageTensors[a]=o,r._inputDimensions[a]=o.shape.slice(1);return}var s=o instanceof pr.getEnv().Canvas?o:g2(o);r._canvases[a]=s,r._inputDimensions[a]=[s.height,s.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var n=this;return af(this.batchSize,0,1).map(function(t,r){return n.getReshapedInputDimensions(r)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(n){return this.canvases[n]||this.imageTensors[n]},e.prototype.getInputDimensions=function(n){return this._inputDimensions[n]},e.prototype.getInputHeight=function(n){return this._inputDimensions[n][0]},e.prototype.getInputWidth=function(n){return this._inputDimensions[n][1]},e.prototype.getReshapedInputDimensions=function(n){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var t=this.getInputWidth(n),r=this.getInputHeight(n);return joe({width:t,height:r},this.inputSize)},e.prototype.toBatchTensor=function(n,t){var r=this;return t===void 0&&(t=!0),this._inputSize=n,Le(function(){var o=af(r.batchSize,0,1).map(function(i){var s=r.getInput(i);if(s instanceof an){var u=fs(s)?s:s.expandDims();return u=Loe(u,t),(u.shape[1]!==n||u.shape[2]!==n)&&(u=i2.resizeBilinear(u,[n,n])),u.as3D(n,n,3)}if(s instanceof pr.getEnv().Canvas)return f2.fromPixels(Zoe(s,n,t));throw new Error("toBatchTensor - at batchIdx "+i+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),a=lo(o.map(function(i){return i.toFloat()})).as4D(r.batchSize,n,n,3);return a})},e})();function Xn(e){return Ke(this,void 0,void 0,function(){var n,t,r;return Qe(this,function(o){switch(o.label){case 0:if(e instanceof Nm)return[2,e];if(n=Array.isArray(e)?e:[e],!n.length)throw new Error("toNetInput - empty array passed as input");return t=function(a){return Array.isArray(e)?" at input index "+a+":":""},r=n.map(v2),r.forEach(function(a,i){if(!eA(a)&&!Gv(a)&&!fs(a))throw typeof n[i]=="string"?new Error("toNetInput -"+t(i)+" string passed, but could not resolve HTMLElement for element id "+n[i]):new Error("toNetInput -"+t(i)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(fs(a)){var s=a.shape[0];if(s!==1)throw new Error("toNetInput -"+t(i)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(a){return eA(a)&&Qoe(a)}))];case 1:return o.sent(),[2,new Nm(r,Array.isArray(e))]}})})}function y2(e,n){return Ke(this,void 0,void 0,function(){var t,r,o,a,i,s,u;return Qe(this,function(c){switch(c.label){case 0:return t=pr.getEnv().Canvas,r=e,e instanceof t?[3,5]:[4,Xn(e)];case 1:if(o=c.sent(),o.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return a=o.getInput(0),a instanceof t?(i=a,[3,4]):[3,2];case 2:return[4,Joe(a)];case 3:i=c.sent(),c.label=4;case 4:r=i,c.label=5;case 5:return s=di(r),u=n.map(function(f){return f instanceof fo?f.forSize(r.width,r.height).box.floor():f}).map(function(f){return f.clipAtImageBorders(r.width,r.height)}),[2,u.map(function(f){var h=f.x,m=f.y,v=f.width,b=f.height,x=Xv({width:v,height:b});return di(x).putImageData(s.getImageData(h,m,v,b),0,0),x})]}})})}function b2(e,n){return Ke(this,void 0,void 0,function(){return Qe(this,function(t){if(!Gv(e)&&!fs(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(fs(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Le(function(){var r=e.shape.slice(fs(e)?1:0),o=r[0],a=r[1],i=r[2],s=n.map(function(c){return c instanceof fo?c.forSize(a,o).box:c}).map(function(c){return c.clipAtImageBorders(a,o)}),u=s.map(function(c){var f=c.x,h=c.y,m=c.width,v=c.height;return fI(e.as3D(o,a,i),[h,f,0],[v,m,i])});return u})]})})}function eae(e,n){return Ke(this,void 0,void 0,function(){var t,r;return Qe(this,function(o){switch(o.label){case 0:return t=pr.getEnv().fetch,[4,t(e,n)];case 1:if(r=o.sent(),!(r.status<400))throw new Error("failed to fetch: ("+r.status+") "+r.statusText+", from url: "+r.url);return[2,r]}})})}function tae(e){return Ke(this,void 0,void 0,function(){return Qe(this,function(n){switch(n.label){case 0:return[4,eae(e)];case 1:return[2,n.sent().json()]}})})}function UI(e,n){var t=n+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:t};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+t};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(r,"");var o=e.split("/").filter(function(s){return s}),a=e.endsWith(".json")?o[o.length-1]:t,i=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return i=e.startsWith("/")?"/"+i:i,{modelBaseUri:i,manifestUri:i==="/"?"/"+a:i+"/"+a}}function nae(e,n){return Ke(this,void 0,void 0,function(){var t,r,o,a;return Qe(this,function(i){switch(i.label){case 0:return t=UI(e,n),r=t.manifestUri,o=t.modelBaseUri,[4,tae(r)];case 1:return a=i.sent(),[2,AI.loadWeights(a,o)]}})})}var wi=(function(){function e(n){this._name=n,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(n){var t=this.traversePropertyPath(n),r=t.obj,o=t.objProp;return r[o]},e.prototype.reassignParamFromPath=function(n,t){var r=this.traversePropertyPath(n),o=r.obj,a=r.objProp;o[a].dispose(),o[a]=t},e.prototype.getParamList=function(){var n=this;return this._paramMappings.map(function(t){var r=t.paramPath;return{path:r,tensor:n.getParamFromPath(r)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(n){return n.tensor instanceof Gu})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(n){return!(n.tensor instanceof Gu)})},e.prototype.variable=function(){var n=this;this.getFrozenParams().forEach(function(t){var r=t.path,o=t.tensor;n.reassignParamFromPath(r,o.variable())})},e.prototype.freeze=function(){var n=this;this.getTrainableParams().forEach(function(t){var r=t.path,o=t.tensor,a=tr(o.dataSync());o.dispose(),n.reassignParamFromPath(r,a)})},e.prototype.dispose=function(n){n===void 0&&(n=!0),this.getParamList().forEach(function(t){if(n&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(n){var t=n.tensor;return Array.from(t.dataSync())}).reduce(function(n,t){return n.concat(t)}))},e.prototype.load=function(n){return Ke(this,void 0,void 0,function(){return Qe(this,function(t){switch(t.label){case 0:return n instanceof Float32Array?(this.extractWeights(n),[2]):[4,this.loadFromUri(n)];case 1:return t.sent(),[2]}})})},e.prototype.loadFromUri=function(n){return Ke(this,void 0,void 0,function(){var t;return Qe(this,function(r){switch(r.label){case 0:if(n&&typeof n!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,nae(n,this.getDefaultModelName())];case 1:return t=r.sent(),this.loadFromWeightMap(t),[2]}})})},e.prototype.loadFromDisk=function(n){return Ke(this,void 0,void 0,function(){var t,r,o,a,i,s,u,c,f,h;return Qe(this,function(m){switch(m.label){case 0:if(n&&typeof n!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return t=pr.getEnv().readFile,r=UI(n,this.getDefaultModelName()),o=r.manifestUri,a=r.modelBaseUri,i=function(v){return Promise.all(v.map(function(b){return t(b).then(function(x){return x.buffer})}))},s=AI.weightsLoaderFactory(i),f=(c=JSON).parse,[4,t(o)];case 1:return u=f.apply(c,[m.sent().toString()]),[4,s(u,a)];case 2:return h=m.sent(),this.loadFromWeightMap(h),[2]}})})},e.prototype.loadFromWeightMap=function(n){var t=this.extractParamsFromWeigthMap(n),r=t.paramMappings,o=t.params;this._paramMappings=r,this._params=o},e.prototype.extractWeights=function(n){var t=this.extractParams(n),r=t.paramMappings,o=t.params;this._paramMappings=r,this._params=o},e.prototype.traversePropertyPath=function(n){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=n.split("/").reduce(function(a,i){if(!a.nextObj.hasOwnProperty(i))throw new Error("traversePropertyPath - object does not have property "+i+", for path "+n);return{obj:a.nextObj,objProp:i,nextObj:a.nextObj[i]}},{nextObj:this.params}),r=t.obj,o=t.objProp;if(!r||!o||!(r[o]instanceof an))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+n);return{obj:r,objProp:o}},e})();function ao(e,n,t){return Le(function(){var r=t2(e,n.depthwise_filter,n.pointwise_filter,t,"same");return r=Ct(r,n.bias),r})}function Rb(e,n,t){return t===void 0&&(t=!1),Le(function(){var r=sn(t?Ct(Lo(e,n.conv0.filters,[2,2],"same"),n.conv0.bias):ao(e,n.conv0,[2,2])),o=ao(r,n.conv1,[1,1]),a=sn(Ct(r,o)),i=ao(a,n.conv2,[1,1]);return sn(Ct(r,Ct(o,i)))})}function Cp(e,n,t,r){return t===void 0&&(t=!1),r===void 0&&(r=!0),Le(function(){var o=sn(t?Ct(Lo(e,n.conv0.filters,r?[2,2]:[1,1],"same"),n.conv0.bias):ao(e,n.conv0,r?[2,2]:[1,1])),a=ao(o,n.conv1,[1,1]),i=sn(Ct(o,a)),s=ao(i,n.conv2,[1,1]),u=sn(Ct(o,Ct(a,s))),c=ao(u,n.conv3,[1,1]);return sn(Ct(o,Ct(a,Ct(s,c))))})}function Ko(e,n,t,r){return t===void 0&&(t="same"),r===void 0&&(r=!1),Le(function(){var o=Ct(Lo(e,n.filters,[1,1],t),n.bias);return r?sn(o):o})}function Si(e,n){Object.keys(e).forEach(function(t){n.some(function(r){return r.originalPath===t})||e[t].dispose()})}function Yv(e,n){return function(t,r,o,a){var i=Or(e(t*r*o*o),[o,o,t,r]),s=Sn(e(r));return n.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:i,bias:s}}}function x2(e,n){return function(t,r,o){var a=cs(e(t*r),[t,r]),i=Sn(e(r));return n.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:a,bias:i}}}var VI=(function(){function e(n,t,r){this.depthwise_filter=n,this.pointwise_filter=t,this.bias=r}return e})();function w2(e,n){return function(t,r,o){var a=Or(e(9*t),[3,3,t,1]),i=Or(e(t*r),[1,1,t,r]),s=Sn(e(r));return n.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new VI(a,i,s)}}function S2(e){return function(n){var t=e(n+"/depthwise_filter",4),r=e(n+"/pointwise_filter",4),o=e(n+"/bias",1);return new VI(t,r,o)}}function Ss(e,n){return function(t,r,o){var a=e[t];if(!$v(a,r))throw new Error("expected weightMap["+t+"] to be a Tensor"+r+"D, instead have "+a);return n.push({originalPath:t,paramPath:o||t}),a}}function Ci(e){var n=e;function t(o){var a=n.slice(0,o);return n=n.slice(o),a}function r(){return n}return{extractWeights:t,getRemainingWeights:r}}function HI(e,n){var t=Yv(e,n),r=w2(e,n);function o(i,s,u,c){c===void 0&&(c=!1);var f=c?t(i,s,3,u+"/conv0"):r(i,s,u+"/conv0"),h=r(s,s,u+"/conv1"),m=r(s,s,u+"/conv2");return{conv0:f,conv1:h,conv2:m}}function a(i,s,u,c){c===void 0&&(c=!1);var f=o(i,s,u,c),h=f.conv0,m=f.conv1,v=f.conv2,b=r(s,s,u+"/conv3");return{conv0:h,conv1:m,conv2:v,conv3:b}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:a}}function rae(e){var n=[],t=Ci(e),r=t.extractWeights,o=t.getRemainingWeights,a=HI(r,n).extractDenseBlock4Params,i=a(3,32,"dense0",!0),s=a(32,64,"dense1"),u=a(64,128,"dense2"),c=a(128,256,"dense3");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:n,params:{dense0:i,dense1:s,dense2:u,dense3:c}}}function WI(e){return function(n){var t=e(n+"/filters",4),r=e(n+"/bias",1);return{filters:t,bias:r}}}function $I(e,n){var t=Ss(e,n),r=WI(t),o=S2(t);function a(s,u){u===void 0&&(u=!1);var c=u?r(s+"/conv0"):o(s+"/conv0"),f=o(s+"/conv1"),h=o(s+"/conv2");return{conv0:c,conv1:f,conv2:h}}function i(s,u){u===void 0&&(u=!1);var c=u?r(s+"/conv0"):o(s+"/conv0"),f=o(s+"/conv1"),h=o(s+"/conv2"),m=o(s+"/conv3");return{conv0:c,conv1:f,conv2:h,conv3:m}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:i}}function oae(e){var n=[],t=$I(e,n).extractDenseBlock4Params,r={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2"),dense3:t("dense3")};return Si(e,n),{params:r,paramMappings:n}}var GI=(function(e){ht(n,e);function n(){return e.call(this,"FaceFeatureExtractor")||this}return n.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("FaceFeatureExtractor - load model before inference");return Le(function(){var o=t.toBatchTensor(112,!0),a=[122.782,117.001,104.298],i=Lf(o,a).div(Ie(255)),s=Cp(i,r.dense0,!0);return s=Cp(s,r.dense1),s=Cp(s,r.dense2),s=Cp(s,r.dense3),s=Bf(s,[7,7],[2,2],"valid"),s})},n.prototype.forward=function(t){return Ke(this,void 0,void 0,function(){var r;return Qe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Xn(t)];case 1:return[2,r.apply(this,[o.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},n.prototype.extractParamsFromWeigthMap=function(t){return oae(t)},n.prototype.extractParams=function(t){return rae(t)},n})(wi);function xa(e,n){return Le(function(){return Ct(Vv(e,n.weights),n.bias)})}function aae(e,n,t){var r=[],o=Ci(e),a=o.extractWeights,i=o.getRemainingWeights,s=x2(a,r),u=s(n,t,"fc");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:r,params:{fc:u}}}function iae(e){var n=[],t=Ss(e,n);function r(a){var i=t(a+"/weights",2),s=t(a+"/bias",1);return{weights:i,bias:s}}var o={fc:r("fc")};return Si(e,n),{params:o,paramMappings:n}}function qI(e){var n={},t={};return Object.keys(e).forEach(function(r){var o=r.startsWith("fc")?t:n;o[r]=e[r]}),{featureExtractorMap:n,classifierMap:t}}var XI=(function(e){ht(n,e);function n(t,r){var o=e.call(this,t)||this;return o._faceFeatureExtractor=r,o}return Object.defineProperty(n.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),n.prototype.runNet=function(t){var r=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return Le(function(){var a=t instanceof Nm?r.faceFeatureExtractor.forwardInput(t):t;return xa(a.as2D(a.shape[0],-1),o.fc)})},n.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},n.prototype.loadClassifierParams=function(t){var r=this.extractClassifierParams(t),o=r.params,a=r.paramMappings;this._params=o,this._paramMappings=a},n.prototype.extractClassifierParams=function(t){return aae(t,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},n.prototype.extractParamsFromWeigthMap=function(t){var r=qI(t),o=r.featureExtractorMap,a=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),iae(a)},n.prototype.extractParams=function(t){var r=this.getClassifierChannelsIn(),o=this.getClassifierChannelsOut(),a=o*r+o,i=t.slice(0,t.length-a),s=t.slice(t.length-a);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(s)},n})(wi),tA=["neutral","happy","sad","angry","fearful","disgusted","surprised"],sae=(function(){function e(n){var t=this;if(n.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+n.length);tA.forEach(function(r,o){t[r]=n[o]})}return e.prototype.asSortedArray=function(){var n=this;return tA.map(function(t){return{expression:t,probability:n[t]}}).sort(function(t,r){return r.probability-t.probability})},e})(),lae=(function(e){ht(n,e);function n(t){return t===void 0&&(t=new GI),e.call(this,"FaceExpressionNet",t)||this}return n.prototype.forwardInput=function(t){var r=this;return Le(function(){return bi(r.runNet(t))})},n.prototype.forward=function(t){return Ke(this,void 0,void 0,function(){var r;return Qe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Xn(t)];case 1:return[2,r.apply(this,[o.sent()])]}})})},n.prototype.predictExpressions=function(t){return Ke(this,void 0,void 0,function(){var r,o,a,i,s=this;return Qe(this,function(u){switch(u.label){case 0:return[4,Xn(t)];case 1:return r=u.sent(),[4,this.forwardInput(r)];case 2:return o=u.sent(),[4,Promise.all(An(o).map(function(c){return Ke(s,void 0,void 0,function(){var f;return Qe(this,function(h){switch(h.label){case 0:return[4,c.data()];case 1:return f=h.sent(),c.dispose(),[2,f]}})})}))];case 3:return a=u.sent(),o.dispose(),i=a.map(function(c){return new sae(c)}),[2,r.isBatchInput?i:i[0]]}})})},n.prototype.getDefaultModelName=function(){return"face_expression_model"},n.prototype.getClassifierChannelsIn=function(){return 256},n.prototype.getClassifierChannelsOut=function(){return 7},n})(XI);function YI(e,n){var t={expressions:n};return Object.assign({},e,t)}function KI(e){return Am(e)&&e.landmarks instanceof lf&&e.unshiftedLandmarks instanceof lf&&e.alignedRect instanceof fo}function Kv(e,n){var t=e.detection.box,r=n.shiftBy(t.x,t.y),o=r.align(),a=e.detection.imageDims,i=new fo(e.detection.score,o.rescale(a.reverse()),a),s={landmarks:r,unshiftedLandmarks:n,alignedRect:i};return Object.assign({},e,s)}function uae(e,n){var t=Yv(e,n),r=w2(e,n);function o(i,s,u){var c=r(i,s,u+"/separable_conv0"),f=r(s,s,u+"/separable_conv1"),h=t(i,s,1,u+"/expansion_conv");return{separable_conv0:c,separable_conv1:f,expansion_conv:h}}function a(i,s){var u=r(i,i,s+"/separable_conv0"),c=r(i,i,s+"/separable_conv1"),f=r(i,i,s+"/separable_conv2");return{separable_conv0:u,separable_conv1:c,separable_conv2:f}}return{extractConvParams:t,extractSeparableConvParams:r,extractReductionBlockParams:o,extractMainBlockParams:a}}function cae(e,n){var t=[],r=Ci(e),o=r.extractWeights,a=r.getRemainingWeights,i=uae(o,t),s=i.extractConvParams,u=i.extractSeparableConvParams,c=i.extractReductionBlockParams,f=i.extractMainBlockParams,h=s(3,32,3,"entry_flow/conv_in"),m=c(32,64,"entry_flow/reduction_block_0"),v=c(64,128,"entry_flow/reduction_block_1"),b={conv_in:h,reduction_block_0:m,reduction_block_1:v},x={};af(n,0,1).forEach(function(R){x["main_block_"+R]=f(128,"middle_flow/main_block_"+R)});var w=c(128,256,"exit_flow/reduction_block"),S=u(256,512,"exit_flow/separable_conv"),E={reduction_block:w,separable_conv:S};if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{entry_flow:b,middle_flow:x,exit_flow:E}}}function dae(e,n){var t=Ss(e,n),r=WI(t),o=S2(t);function a(s){var u=o(s+"/separable_conv0"),c=o(s+"/separable_conv1"),f=r(s+"/expansion_conv");return{separable_conv0:u,separable_conv1:c,expansion_conv:f}}function i(s){var u=o(s+"/separable_conv0"),c=o(s+"/separable_conv1"),f=o(s+"/separable_conv2");return{separable_conv0:u,separable_conv1:c,separable_conv2:f}}return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:a,extractMainBlockParams:i}}function fae(e,n){var t=[],r=dae(e,t),o=r.extractConvParams,a=r.extractSeparableConvParams,i=r.extractReductionBlockParams,s=r.extractMainBlockParams,u=o("entry_flow/conv_in"),c=i("entry_flow/reduction_block_0"),f=i("entry_flow/reduction_block_1"),h={conv_in:u,reduction_block_0:c,reduction_block_1:f},m={};af(n,0,1).forEach(function(w){m["main_block_"+w]=s("middle_flow/main_block_"+w)});var v=i("exit_flow/reduction_block"),b=a("exit_flow/separable_conv"),x={reduction_block:v,separable_conv:b};return Si(e,t),{params:{entry_flow:h,middle_flow:m,exit_flow:x},paramMappings:t}}function QI(e,n,t){return Ct(Lo(e,n.filters,t,"same"),n.bias)}function _b(e,n,t){t===void 0&&(t=!0);var r=t?sn(e):e;return r=ao(r,n.separable_conv0,[1,1]),r=ao(sn(r),n.separable_conv1,[1,1]),r=Un(r,[3,3],[2,2],"same"),r=Ct(r,QI(e,n.expansion_conv,[2,2])),r}function hae(e,n){var t=ao(sn(e),n.separable_conv0,[1,1]);return t=ao(sn(t),n.separable_conv1,[1,1]),t=ao(sn(t),n.separable_conv2,[1,1]),t=Ct(t,e),t}var pae=(function(e){ht(n,e);function n(t){var r=e.call(this,"TinyXception")||this;return r._numMainBlocks=t,r}return n.prototype.forwardInput=function(t){var r=this,o=this.params;if(!o)throw new Error("TinyXception - load model before inference");return Le(function(){var a=t.toBatchTensor(112,!0),i=[122.782,117.001,104.298],s=Lf(a,i).div(Ie(256)),u=sn(QI(s,o.entry_flow.conv_in,[2,2]));return u=_b(u,o.entry_flow.reduction_block_0,!1),u=_b(u,o.entry_flow.reduction_block_1),af(r._numMainBlocks,0,1).forEach(function(c){u=hae(u,o.middle_flow["main_block_"+c])}),u=_b(u,o.exit_flow.reduction_block),u=sn(ao(u,o.exit_flow.separable_conv,[1,1])),u})},n.prototype.forward=function(t){return Ke(this,void 0,void 0,function(){var r;return Qe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Xn(t)];case 1:return[2,r.apply(this,[o.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"tiny_xception_model"},n.prototype.extractParamsFromWeigthMap=function(t){return fae(t,this._numMainBlocks)},n.prototype.extractParams=function(t){return cae(t,this._numMainBlocks)},n})(wi);function mae(e){var n=[],t=Ci(e),r=t.extractWeights,o=t.getRemainingWeights,a=x2(r,n),i=a(512,1,"fc/age"),s=a(512,2,"fc/gender");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:n,params:{fc:{age:i,gender:s}}}}function vae(e){var n=[],t=Ss(e,n);function r(a){var i=t(a+"/weights",2),s=t(a+"/bias",1);return{weights:i,bias:s}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return Si(e,n),{params:o,paramMappings:n}}var km;(function(e){e.FEMALE="female",e.MALE="male"})(km||(km={}));var gae=(function(e){ht(n,e);function n(t){t===void 0&&(t=new pae(2));var r=e.call(this,"AgeGenderNet")||this;return r._faceFeatureExtractor=t,r}return Object.defineProperty(n.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),n.prototype.runNet=function(t){var r=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return Le(function(){var a=t instanceof Nm?r.faceFeatureExtractor.forwardInput(t):t,i=Bf(a,[7,7],[2,2],"valid").as2D(a.shape[0],-1),s=xa(i,o.fc.age).as1D(),u=xa(i,o.fc.gender);return{age:s,gender:u}})},n.prototype.forwardInput=function(t){var r=this;return Le(function(){var o=r.runNet(t),a=o.age,i=o.gender;return{age:a,gender:bi(i)}})},n.prototype.forward=function(t){return Ke(this,void 0,void 0,function(){var r;return Qe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Xn(t)];case 1:return[2,r.apply(this,[o.sent()])]}})})},n.prototype.predictAgeAndGender=function(t){return Ke(this,void 0,void 0,function(){var r,o,a,i,s,u,c=this;return Qe(this,function(f){switch(f.label){case 0:return[4,Xn(t)];case 1:return r=f.sent(),[4,this.forwardInput(r)];case 2:return o=f.sent(),a=An(o.age),i=An(o.gender),s=a.map(function(h,m){return{ageTensor:h,genderTensor:i[m]}}),[4,Promise.all(s.map(function(h){var m=h.ageTensor,v=h.genderTensor;return Ke(c,void 0,void 0,function(){var b,x,w,S,E;return Qe(this,function(R){switch(R.label){case 0:return[4,m.data()];case 1:return b=R.sent()[0],[4,v.data()];case 2:return x=R.sent()[0],w=x>.5,S=w?km.MALE:km.FEMALE,E=w?x:1-x,m.dispose(),v.dispose(),[2,{age:b,gender:S,genderProbability:E}]}})})}))];case 3:return u=f.sent(),o.age.dispose(),o.gender.dispose(),[2,r.isBatchInput?u:u[0]]}})})},n.prototype.getDefaultModelName=function(){return"age_gender_model"},n.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},n.prototype.loadClassifierParams=function(t){var r=this.extractClassifierParams(t),o=r.params,a=r.paramMappings;this._params=o,this._paramMappings=a},n.prototype.extractClassifierParams=function(t){return mae(t)},n.prototype.extractParamsFromWeigthMap=function(t){var r=qI(t),o=r.featureExtractorMap,a=r.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),vae(a)},n.prototype.extractParams=function(t){var r=1539,o=t.slice(0,t.length-r),a=t.slice(t.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(a)},n})(wi),JI=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.postProcess=function(t,r,o){var a=o.map(function(s){var u=s.width,c=s.height,f=r/Math.max(c,u);return{width:u*f,height:c*f}}),i=a.length;return Le(function(){var s=function(m,v){return lo([_a([68],m),_a([68],v)],1).as2D(1,136).as1D()},u=function(m,v){var b=a[m],x=b.width,w=b.height;return v(x,w)?Math.abs(x-w)/2:0},c=function(m){return u(m,function(v,b){return v<b})},f=function(m){return u(m,function(v,b){return b<v})},h=t.mul(_a([i,136],r)).sub(lo(Array.from(Array(i),function(m,v){return s(c(v),f(v))}))).div(lo(Array.from(Array(i),function(m,v){return s(a[v].width,a[v].height)})));return h})},n.prototype.forwardInput=function(t){var r=this;return Le(function(){var o=r.runNet(t);return r.postProcess(o,t.inputSize,t.inputDimensions.map(function(a){var i=a[0],s=a[1];return{height:i,width:s}}))})},n.prototype.forward=function(t){return Ke(this,void 0,void 0,function(){var r;return Qe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Xn(t)];case 1:return[2,r.apply(this,[o.sent()])]}})})},n.prototype.detectLandmarks=function(t){return Ke(this,void 0,void 0,function(){var r,o,a,i=this;return Qe(this,function(s){switch(s.label){case 0:return[4,Xn(t)];case 1:return r=s.sent(),o=Le(function(){return An(i.forwardInput(r))}),[4,Promise.all(o.map(function(u,c){return Ke(i,void 0,void 0,function(){var f,h,m,v,b;return Qe(this,function(x){switch(x.label){case 0:return m=(h=Array).from,[4,u.data()];case 1:return f=m.apply(h,[x.sent()]),v=f.filter(function(w,S){return YD(S)}),b=f.filter(function(w,S){return!YD(S)}),[2,new Woe(Array(68).fill(0).map(function(w,S){return new Pt(v[S],b[S])}),{height:r.getInputHeight(c),width:r.getInputWidth(c)})]}})})}))];case 2:return a=s.sent(),o.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?a:a[0]]}})})},n.prototype.getClassifierChannelsOut=function(){return 136},n})(XI),ZI=(function(e){ht(n,e);function n(t){return t===void 0&&(t=new GI),e.call(this,"FaceLandmark68Net",t)||this}return n.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},n.prototype.getClassifierChannelsIn=function(){return 256},n})(JI);function yae(e){var n=[],t=$I(e,n).extractDenseBlock3Params,r={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2")};return Si(e,n),{params:r,paramMappings:n}}function bae(e){var n=[],t=Ci(e),r=t.extractWeights,o=t.getRemainingWeights,a=HI(r,n).extractDenseBlock3Params,i=a(3,32,"dense0",!0),s=a(32,64,"dense1"),u=a(64,128,"dense2");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:n,params:{dense0:i,dense1:s,dense2:u}}}var xae=(function(e){ht(n,e);function n(){return e.call(this,"TinyFaceFeatureExtractor")||this}return n.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Le(function(){var o=t.toBatchTensor(112,!0),a=[122.782,117.001,104.298],i=Lf(o,a).div(Ie(255)),s=Rb(i,r.dense0,!0);return s=Rb(s,r.dense1),s=Rb(s,r.dense2),s=Bf(s,[14,14],[2,2],"valid"),s})},n.prototype.forward=function(t){return Ke(this,void 0,void 0,function(){var r;return Qe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Xn(t)];case 1:return[2,r.apply(this,[o.sent()])]}})})},n.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},n.prototype.extractParamsFromWeigthMap=function(t){return yae(t)},n.prototype.extractParams=function(t){return bae(t)},n})(wi),wae=(function(e){ht(n,e);function n(t){return t===void 0&&(t=new xae),e.call(this,"FaceLandmark68TinyNet",t)||this}return n.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},n.prototype.getClassifierChannelsIn=function(){return 128},n})(JI);(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n})(ZI);function Sae(e,n){return Ct(hr(e,n.weights),n.biases)}function C2(e,n,t,r,o){o===void 0&&(o="same");var a=n.conv,i=a.filters,s=a.bias,u=Lo(e,i,t,o);return u=Ct(u,s),u=Sae(u,n.scale),r?sn(u):u}function Cae(e,n){return C2(e,n,[1,1],!0)}function eO(e,n){return C2(e,n,[1,1],!1)}function tO(e,n){return C2(e,n,[2,2],!0,"valid")}function Eae(e,n){function t(s,u,c){var f=e(s),h=f.length/(u*c*c);if(Poe(h))throw new Error("depth has to be an integer: "+h+", weights.length: "+f.length+", numFilters: "+u+", filterSize: "+c);return Le(function(){return vs(Or(f,[u,h,c,c]),[2,3,1,0])})}function r(s,u,c,f){var h=t(s,u,c),m=Sn(e(u));return n.push({paramPath:f+"/filters"},{paramPath:f+"/bias"}),{filters:h,bias:m}}function o(s,u){var c=Sn(e(s)),f=Sn(e(s));return n.push({paramPath:u+"/weights"},{paramPath:u+"/biases"}),{weights:c,biases:f}}function a(s,u,c,f){var h=r(s,u,c,f+"/conv"),m=o(u,f+"/scale");return{conv:h,scale:m}}function i(s,u,c,f,h){h===void 0&&(h=!1);var m=a((h?.5:1)*s,u,c,f+"/conv1"),v=a(s,u,c,f+"/conv2");return{conv1:m,conv2:v}}return{extractConvLayerParams:a,extractResidualLayerParams:i}}function Rae(e){var n=Ci(e),t=n.extractWeights,r=n.getRemainingWeights,o=[],a=Eae(t,o),i=a.extractConvLayerParams,s=a.extractResidualLayerParams,u=i(4704,32,7,"conv32_down"),c=s(9216,32,3,"conv32_1"),f=s(9216,32,3,"conv32_2"),h=s(9216,32,3,"conv32_3"),m=s(36864,64,3,"conv64_down",!0),v=s(36864,64,3,"conv64_1"),b=s(36864,64,3,"conv64_2"),x=s(36864,64,3,"conv64_3"),w=s(147456,128,3,"conv128_down",!0),S=s(147456,128,3,"conv128_1"),E=s(147456,128,3,"conv128_2"),R=s(589824,256,3,"conv256_down",!0),D=s(589824,256,3,"conv256_1"),A=s(589824,256,3,"conv256_2"),N=s(589824,256,3,"conv256_down_out"),k=Le(function(){return vs(cs(t(256*128),[128,256]),[1,0])});if(o.push({paramPath:"fc"}),r().length!==0)throw new Error("weights remaing after extract: "+r().length);var M={conv32_down:u,conv32_1:c,conv32_2:f,conv32_3:h,conv64_down:m,conv64_1:v,conv64_2:b,conv64_3:x,conv128_down:w,conv128_1:S,conv128_2:E,conv256_down:R,conv256_1:D,conv256_2:A,conv256_down_out:N,fc:k};return{params:M,paramMappings:o}}function _ae(e,n){var t=Ss(e,n);function r(i){var s=t(i+"/scale/weights",1),u=t(i+"/scale/biases",1);return{weights:s,biases:u}}function o(i){var s=t(i+"/conv/filters",4),u=t(i+"/conv/bias",1),c=r(i);return{conv:{filters:s,bias:u},scale:c}}function a(i){return{conv1:o(i+"/conv1"),conv2:o(i+"/conv2")}}return{extractConvLayerParams:o,extractResidualLayerParams:a}}function Tae(e){var n=[],t=_ae(e,n),r=t.extractConvLayerParams,o=t.extractResidualLayerParams,a=r("conv32_down"),i=o("conv32_1"),s=o("conv32_2"),u=o("conv32_3"),c=o("conv64_down"),f=o("conv64_1"),h=o("conv64_2"),m=o("conv64_3"),v=o("conv128_down"),b=o("conv128_1"),x=o("conv128_2"),w=o("conv256_down"),S=o("conv256_1"),E=o("conv256_2"),R=o("conv256_down_out"),D=e.fc;if(n.push({originalPath:"fc",paramPath:"fc"}),!Ooe(D))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+D);var A={conv32_down:a,conv32_1:i,conv32_2:s,conv32_3:u,conv64_down:c,conv64_1:f,conv64_2:h,conv64_3:m,conv128_down:v,conv128_1:b,conv128_2:x,conv256_down:w,conv256_1:S,conv256_2:E,conv256_down_out:R,fc:D};return Si(e,n),{params:A,paramMappings:n}}function ha(e,n){var t=Cae(e,n.conv1);return t=eO(t,n.conv2),t=Ct(t,e),t=sn(t),t}function Ep(e,n){var t=tO(e,n.conv1);t=eO(t,n.conv2);var r=Bf(e,2,2,"valid"),o=Jt(r.shape),a=r.shape[3]!==t.shape[3],i=r.shape[1]!==t.shape[1]||r.shape[2]!==t.shape[2];if(i){var s=Od(t.shape);s[1]=1;var u=Jt(s);t=Dn([t,u],1);var c=Od(t.shape);c[2]=1;var f=Jt(c);t=Dn([t,f],2)}return r=a?Dn([r,o],3):r,t=Ct(r,t),t=sn(t),t}var Dae=(function(e){ht(n,e);function n(){return e.call(this,"FaceRecognitionNet")||this}return n.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("FaceRecognitionNet - load model before inference");return Le(function(){var o=t.toBatchTensor(150,!0).toFloat(),a=[122.782,117.001,104.298],i=Lf(o,a).div(Ie(256)),s=tO(i,r.conv32_down);s=Un(s,3,2,"valid"),s=ha(s,r.conv32_1),s=ha(s,r.conv32_2),s=ha(s,r.conv32_3),s=Ep(s,r.conv64_down),s=ha(s,r.conv64_1),s=ha(s,r.conv64_2),s=ha(s,r.conv64_3),s=Ep(s,r.conv128_down),s=ha(s,r.conv128_1),s=ha(s,r.conv128_2),s=Ep(s,r.conv256_down),s=ha(s,r.conv256_1),s=ha(s,r.conv256_2),s=Ep(s,r.conv256_down_out);var u=s.mean([1,2]),c=Vv(u,r.fc);return c})},n.prototype.forward=function(t){return Ke(this,void 0,void 0,function(){var r;return Qe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Xn(t)];case 1:return[2,r.apply(this,[o.sent()])]}})})},n.prototype.computeFaceDescriptor=function(t){return Ke(this,void 0,void 0,function(){var r,o,a,i=this;return Qe(this,function(s){switch(s.label){case 0:return[4,Xn(t)];case 1:return r=s.sent(),o=Le(function(){return An(i.forwardInput(r))}),[4,Promise.all(o.map(function(u){return u.data()}))];case 2:return a=s.sent(),o.forEach(function(u){return u.dispose()}),[2,r.isBatchInput?a:a[0]]}})})},n.prototype.getDefaultModelName=function(){return"face_recognition_model"},n.prototype.extractParamsFromWeigthMap=function(t){return Tae(t)},n.prototype.extractParams=function(t){return Rae(t)},n})(wi);function nO(e,n){var t={descriptor:n};return Object.assign({},e,t)}function rO(e,n){var t={age:n};return Object.assign({},e,t)}function oO(e,n,t){var r={gender:n,genderProbability:t};return Object.assign({},e,r)}var aO=(function(){function e(n){var t=n===void 0?{}:n,r=t.minFaceSize,o=t.scaleFactor,a=t.maxNumScales,i=t.scoreThresholds,s=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=r||20,this._scaleFactor=o||.709,this._maxNumScales=a||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(u){return typeof u!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(u){return typeof u!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e})();function Aae(e,n){function t(u,c){var f=Or(e(9*u),[3,3,u,1]),h=Sn(e(u)),m=Sn(e(u)),v=Sn(e(u)),b=Sn(e(u));return n.push({paramPath:c+"/filters"},{paramPath:c+"/batch_norm_scale"},{paramPath:c+"/batch_norm_offset"},{paramPath:c+"/batch_norm_mean"},{paramPath:c+"/batch_norm_variance"}),{filters:f,batch_norm_scale:h,batch_norm_offset:m,batch_norm_mean:v,batch_norm_variance:b}}function r(u,c,f,h,m){var v=Or(e(u*c*f*f),[f,f,u,c]),b=Sn(e(c));return n.push({paramPath:h+"/filters"},{paramPath:h+"/"+(m?"batch_norm_offset":"bias")}),{filters:v,bias:b}}function o(u,c,f,h){var m=r(u,c,f,h,!0),v=m.filters,b=m.bias;return{filters:v,batch_norm_offset:b}}function a(u,c,f){var h=t(u,f+"/depthwise_conv"),m=o(u,c,1,f+"/pointwise_conv");return{depthwise_conv:h,pointwise_conv:m}}function i(){var u=o(3,32,3,"mobilenetv1/conv_0"),c=a(32,64,"mobilenetv1/conv_1"),f=a(64,128,"mobilenetv1/conv_2"),h=a(128,128,"mobilenetv1/conv_3"),m=a(128,256,"mobilenetv1/conv_4"),v=a(256,256,"mobilenetv1/conv_5"),b=a(256,512,"mobilenetv1/conv_6"),x=a(512,512,"mobilenetv1/conv_7"),w=a(512,512,"mobilenetv1/conv_8"),S=a(512,512,"mobilenetv1/conv_9"),E=a(512,512,"mobilenetv1/conv_10"),R=a(512,512,"mobilenetv1/conv_11"),D=a(512,1024,"mobilenetv1/conv_12"),A=a(1024,1024,"mobilenetv1/conv_13");return{conv_0:u,conv_1:c,conv_2:f,conv_3:h,conv_4:m,conv_5:v,conv_6:b,conv_7:x,conv_8:w,conv_9:S,conv_10:E,conv_11:R,conv_12:D,conv_13:A}}function s(){var u=o(1024,256,1,"prediction_layer/conv_0"),c=o(256,512,3,"prediction_layer/conv_1"),f=o(512,128,1,"prediction_layer/conv_2"),h=o(128,256,3,"prediction_layer/conv_3"),m=o(256,128,1,"prediction_layer/conv_4"),v=o(128,256,3,"prediction_layer/conv_5"),b=o(256,64,1,"prediction_layer/conv_6"),x=o(64,128,3,"prediction_layer/conv_7"),w=r(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),S=r(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),E=r(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),R=r(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),D=r(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),A=r(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),N=r(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),k=r(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),M=r(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),I=r(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),P=r(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),L=r(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),F={box_encoding_predictor:w,class_predictor:S},Y={box_encoding_predictor:E,class_predictor:R},W={box_encoding_predictor:D,class_predictor:A},X={box_encoding_predictor:N,class_predictor:k},j={box_encoding_predictor:M,class_predictor:I},U={box_encoding_predictor:P,class_predictor:L};return{conv_0:u,conv_1:c,conv_2:f,conv_3:h,conv_4:m,conv_5:v,conv_6:b,conv_7:x,box_predictor_0:F,box_predictor_1:Y,box_predictor_2:W,box_predictor_3:X,box_predictor_4:j,box_predictor_5:U}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:s}}function Nae(e){var n=[],t=Ci(e),r=t.extractWeights,o=t.getRemainingWeights,a=Aae(r,n),i=a.extractMobilenetV1Params,s=a.extractPredictionLayerParams,u=i(),c=s(),f=zw(r(5118*4),[1,5118,4]),h={extra_dim:f};if(n.push({paramPath:"output_layer/extra_dim"}),o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:u,prediction_layer:c,output_layer:h},paramMappings:n}}function kae(e,n){var t=Ss(e,n);function r(c,f,h){var m=t(c+"/Conv2d_"+f+"_pointwise/weights",4,h+"/filters"),v=t(c+"/Conv2d_"+f+"_pointwise/convolution_bn_offset",1,h+"/batch_norm_offset");return{filters:m,batch_norm_offset:v}}function o(c){var f="mobilenetv1/conv_"+c,h="MobilenetV1/Conv2d_"+c+"_depthwise",m=f+"/depthwise_conv",v=f+"/pointwise_conv",b=t(h+"/depthwise_weights",4,m+"/filters"),x=t(h+"/BatchNorm/gamma",1,m+"/batch_norm_scale"),w=t(h+"/BatchNorm/beta",1,m+"/batch_norm_offset"),S=t(h+"/BatchNorm/moving_mean",1,m+"/batch_norm_mean"),E=t(h+"/BatchNorm/moving_variance",1,m+"/batch_norm_variance");return{depthwise_conv:{filters:b,batch_norm_scale:x,batch_norm_offset:w,batch_norm_mean:S,batch_norm_variance:E},pointwise_conv:r("MobilenetV1",c,v)}}function a(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}}function i(c,f){var h=t(c+"/weights",4,f+"/filters"),m=t(c+"/biases",1,f+"/bias");return{filters:h,bias:m}}function s(c){var f=i("Prediction/BoxPredictor_"+c+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+c+"/box_encoding_predictor"),h=i("Prediction/BoxPredictor_"+c+"/ClassPredictor","prediction_layer/box_predictor_"+c+"/class_predictor");return{box_encoding_predictor:f,class_predictor:h}}function u(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:a,extractPredictionLayerParams:u}}function Mae(e){var n=[],t=kae(e,n),r=t.extractMobilenetV1Params,o=t.extractPredictionLayerParams,a=e["Output/extra_dim"];if(n.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!Gv(a))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+a);var i={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:a}};return Si(e,n),{params:i,paramMappings:n}}function ma(e,n,t){return Le(function(){var r=Lo(e,n.filters,t,"same");return r=Ct(r,n.batch_norm_offset),Qw(r,0,6)})}var Iae=.0010000000474974513;function Oae(e,n,t){return Le(function(){var r=Uv(e,n.filters,t,"same");return r=Q4(r,n.batch_norm_mean,n.batch_norm_variance,n.batch_norm_offset,n.batch_norm_scale,Iae),Qw(r,0,6)})}function Pae(e){return[2,4,6,12].some(function(n){return n===e})?[2,2]:[1,1]}function jae(e,n){return Le(function(){var t=null,r=ma(e,n.conv_0,[2,2]),o=[n.conv_1,n.conv_2,n.conv_3,n.conv_4,n.conv_5,n.conv_6,n.conv_7,n.conv_8,n.conv_9,n.conv_10,n.conv_11,n.conv_12,n.conv_13];if(o.forEach(function(a,i){var s=i+1,u=Pae(s);r=Oae(r,a.depthwise_conv,u),r=ma(r,a.pointwise_conv,[1,1]),s===11&&(t=r)}),t===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:t}})}function Bae(e,n,t,r,o){var a=e.shape[0],i=Math.min(t,a),s=n.map(function(f,h){return{score:f,boxIndex:h}}).filter(function(f){return f.score>o}).sort(function(f,h){return h.score-f.score}),u=function(f){return f<=r?1:0},c=[];return s.forEach(function(f){if(!(c.length>=i)){for(var h=f.score,m=c.length-1;m>=0;--m){var v=Fae(e,f.boxIndex,c[m]);if(v!==0&&(f.score*=u(v),f.score<=o))break}h===f.score&&c.push(f.boxIndex)}}),c}function Fae(e,n,t){var r=e.arraySync(),o=Math.min(r[n][0],r[n][2]),a=Math.min(r[n][1],r[n][3]),i=Math.max(r[n][0],r[n][2]),s=Math.max(r[n][1],r[n][3]),u=Math.min(r[t][0],r[t][2]),c=Math.min(r[t][1],r[t][3]),f=Math.max(r[t][0],r[t][2]),h=Math.max(r[t][1],r[t][3]),m=(i-o)*(s-a),v=(f-u)*(h-c);if(m<=0||v<=0)return 0;var b=Math.max(o,u),x=Math.max(a,c),w=Math.min(i,f),S=Math.min(s,h),E=Math.max(w-b,0)*Math.max(S-x,0);return E/(m+v-E)}function Lae(e){var n=An(vs(e,[1,0])),t=[Mn(n[2],n[0]),Mn(n[3],n[1])],r=[Ct(n[0],Wo(t[0],Ie(2))),Ct(n[1],Wo(t[1],Ie(2)))];return{sizes:t,centers:r}}function zae(e,n){var t=Lae(e),r=t.sizes,o=t.centers,a=An(vs(n,[1,0])),i=Wo(hr(kx(Wo(a[2],Ie(5))),r[0]),Ie(2)),s=Ct(hr(Wo(a[0],Ie(10)),r[0]),o[0]),u=Wo(hr(kx(Wo(a[3],Ie(5))),r[1]),Ie(2)),c=Ct(hr(Wo(a[1],Ie(10)),r[1]),o[1]);return vs(lo([Mn(s,i),Mn(c,u),Ct(s,i),Ct(c,u)]),[1,0])}function Uae(e,n,t){return Le(function(){var r=e.shape[0],o=zae(Yo(Mu(t.extra_dim,[r,1,1]),[-1,4]),Yo(e,[-1,4]));o=Yo(o,[r,o.shape[0]/r,4]);var a=q4(Aa(n,[0,0,1],[-1,-1,-1])),i=Aa(a,[0,0,0],[-1,-1,1]);i=Yo(i,[r,i.shape[1]]);var s=An(o),u=An(i);return{boxes:s,scores:u}})}function mu(e,n){return Le(function(){var t=e.shape[0],r=Yo(Ko(e,n.box_encoding_predictor),[t,-1,1,4]),o=Yo(Ko(e,n.class_predictor),[t,-1,3]);return{boxPredictionEncoding:r,classPrediction:o}})}function Vae(e,n,t){return Le(function(){var r=ma(e,t.conv_0,[1,1]),o=ma(r,t.conv_1,[2,2]),a=ma(o,t.conv_2,[1,1]),i=ma(a,t.conv_3,[2,2]),s=ma(i,t.conv_4,[1,1]),u=ma(s,t.conv_5,[2,2]),c=ma(u,t.conv_6,[1,1]),f=ma(c,t.conv_7,[2,2]),h=mu(n,t.box_predictor_0),m=mu(e,t.box_predictor_1),v=mu(o,t.box_predictor_2),b=mu(i,t.box_predictor_3),x=mu(u,t.box_predictor_4),w=mu(f,t.box_predictor_5),S=Dn([h.boxPredictionEncoding,m.boxPredictionEncoding,v.boxPredictionEncoding,b.boxPredictionEncoding,x.boxPredictionEncoding,w.boxPredictionEncoding],1),E=Dn([h.classPrediction,m.classPrediction,v.classPrediction,b.classPrediction,x.classPrediction,w.classPrediction],1);return{boxPredictions:S,classPredictions:E}})}var Qv=(function(){function e(n){var t=n===void 0?{}:n,r=t.minConfidence,o=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=r||.5,this._maxResults=o||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e})(),iO=(function(e){ht(n,e);function n(){return e.call(this,"SsdMobilenetv1")||this}return n.prototype.forwardInput=function(t){var r=this.params;if(!r)throw new Error("SsdMobilenetv1 - load model before inference");return Le(function(){var o=t.toBatchTensor(512,!1).toFloat(),a=Mn(hr(o,Ie(.007843137718737125)),Ie(1)),i=jae(a,r.mobilenetv1),s=Vae(i.out,i.conv11,r.prediction_layer),u=s.boxPredictions,c=s.classPredictions;return Uae(u,c,r.output_layer)})},n.prototype.forward=function(t){return Ke(this,void 0,void 0,function(){var r;return Qe(this,function(o){switch(o.label){case 0:return r=this.forwardInput,[4,Xn(t)];case 1:return[2,r.apply(this,[o.sent()])]}})})},n.prototype.locateFaces=function(t,r){return r===void 0&&(r={}),Ke(this,void 0,void 0,function(){var o,a,i,s,u,c,f,h,m,v,b,x,w,S,E,R,D,A,N,k,M;return Qe(this,function(I){switch(I.label){case 0:return o=new Qv(r),a=o.maxResults,i=o.minConfidence,[4,Xn(t)];case 1:for(s=I.sent(),u=this.forwardInput(s),c=u.boxes,f=u.scores,h=c[0],m=f[0],v=1;v<c.length;v++)c[v].dispose(),f[v].dispose();return w=(x=Array).from,[4,m.data()];case 2:return b=w.apply(x,[I.sent()]),S=.5,E=Bae(h,b,a,S,i),R=s.getReshapedInputDimensions(0),D=s.inputSize,A=D/R.width,N=D/R.height,k=h.arraySync(),M=E.map(function(P){var L=[Math.max(0,k[P][0]),Math.min(1,k[P][2])].map(function(U){return U*N}),F=L[0],Y=L[1],W=[Math.max(0,k[P][1]),Math.min(1,k[P][3])].map(function(U){return U*A}),X=W[0],j=W[1];return new fo(b[P],new p2(X,F,j-X,Y-F),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),h.dispose(),m.dispose(),[2,M]}})})},n.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},n.prototype.extractParamsFromWeigthMap=function(t){return Mae(t)},n.prototype.extractParams=function(t){return Nae(t)},n})(wi);(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n})(iO);var Hae=.4,Wae=[new Pt(.738768,.874946),new Pt(2.42204,2.65704),new Pt(4.30971,7.04493),new Pt(10.246,4.59428),new Pt(12.6868,11.8741)],$ae=[new Pt(1.603231,2.094468),new Pt(6.041143,7.080126),new Pt(2.882459,3.518061),new Pt(4.266906,5.178857),new Pt(9.041765,10.66308)],Gae=[117.001,114.697,97.404],qae="tiny_yolov2_model",Xae="tiny_yolov2_separable_conv_model",Rp=function(e){return typeof e=="number"};function Yae(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!Rp(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(n){return typeof n=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(n){return n||{}}).every(function(n){return Rp(n.x)&&Rp(n.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(Rp)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function E2(e){return Le(function(){var n=hr(e,Ie(.10000000149011612));return Ct(sn(Mn(e,n)),n)})}function Qi(e,n){return Le(function(){var t=vl(e,[[0,0],[1,1],[1,1],[0,0]]);return t=Lo(t,n.conv.filters,[1,1],"valid"),t=Mn(t,n.bn.sub),t=hr(t,n.bn.truediv),t=Ct(t,n.conv.bias),E2(t)})}function Ji(e,n){return Le(function(){var t=vl(e,[[0,0],[1,1],[1,1],[0,0]]);return t=t2(t,n.depthwise_filter,n.pointwise_filter,[1,1],"valid"),t=Ct(t,n.bias),E2(t)})}function Kae(e,n){var t=Yv(e,n);function r(i,s){var u=Sn(e(i)),c=Sn(e(i));return n.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:u,truediv:c}}function o(i,s,u){var c=t(i,s,3,u+"/conv"),f=r(s,u+"/bn");return{conv:c,bn:f}}var a=w2(e,n);return{extractConvParams:t,extractConvWithBatchNormParams:o,extractSeparableConvParams:a}}function Qae(e,n,t,r){var o=Ci(e),a=o.extractWeights,i=o.getRemainingWeights,s=[],u=Kae(a,s),c=u.extractConvParams,f=u.extractConvWithBatchNormParams,h=u.extractSeparableConvParams,m;if(n.withSeparableConvs){var v=r[0],b=r[1],x=r[2],w=r[3],S=r[4],E=r[5],R=r[6],D=r[7],A=r[8],N=n.isFirstLayerConv2d?c(v,b,3,"conv0"):h(v,b,"conv0"),k=h(b,x,"conv1"),M=h(x,w,"conv2"),I=h(w,S,"conv3"),P=h(S,E,"conv4"),L=h(E,R,"conv5"),F=D?h(R,D,"conv6"):void 0,Y=A?h(D,A,"conv7"):void 0,W=c(A||D||R,5*t,1,"conv8");m={conv0:N,conv1:k,conv2:M,conv3:I,conv4:P,conv5:L,conv6:F,conv7:Y,conv8:W}}else{var v=r[0],b=r[1],x=r[2],w=r[3],S=r[4],E=r[5],R=r[6],D=r[7],A=r[8],N=f(v,b,"conv0"),k=f(b,x,"conv1"),M=f(x,w,"conv2"),I=f(w,S,"conv3"),P=f(S,E,"conv4"),L=f(E,R,"conv5"),F=f(R,D,"conv6"),Y=f(D,A,"conv7"),W=c(A,5*t,1,"conv8");m={conv0:N,conv1:k,conv2:M,conv3:I,conv4:P,conv5:L,conv6:F,conv7:Y,conv8:W}}if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{params:m,paramMappings:s}}function Jae(e,n){var t=Ss(e,n);function r(s){var u=t(s+"/sub",1),c=t(s+"/truediv",1);return{sub:u,truediv:c}}function o(s){var u=t(s+"/filters",4),c=t(s+"/bias",1);return{filters:u,bias:c}}function a(s){var u=o(s+"/conv"),c=r(s+"/bn");return{conv:u,bn:c}}var i=S2(t);return{extractConvParams:o,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}}function Zae(e,n){var t=[],r=Jae(e,t),o=r.extractConvParams,a=r.extractConvWithBatchNormParams,i=r.extractSeparableConvParams,s;if(n.withSeparableConvs){var u=n.filterSizes&&n.filterSizes.length||9;s={conv0:n.isFirstLayerConv2d?o("conv0"):i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:u>7?i("conv6"):void 0,conv7:u>8?i("conv7"):void 0,conv8:o("conv8")}}else s={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:o("conv8")};return Si(e,t),{params:s,paramMappings:t}}var nA;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(nA||(nA={}));var R2=(function(){function e(n){var t=n===void 0?{}:n,r=t.inputSize,o=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=r||416,this._scoreThreshold=o||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e})(),sO=(function(e){ht(n,e);function n(t){var r=e.call(this,"TinyYolov2")||this;return Yae(t),r._config=t,r}return Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),n.prototype.runTinyYolov2=function(t,r){var o=Qi(t,r.conv0);return o=Un(o,[2,2],[2,2],"same"),o=Qi(o,r.conv1),o=Un(o,[2,2],[2,2],"same"),o=Qi(o,r.conv2),o=Un(o,[2,2],[2,2],"same"),o=Qi(o,r.conv3),o=Un(o,[2,2],[2,2],"same"),o=Qi(o,r.conv4),o=Un(o,[2,2],[2,2],"same"),o=Qi(o,r.conv5),o=Un(o,[2,2],[1,1],"same"),o=Qi(o,r.conv6),o=Qi(o,r.conv7),Ko(o,r.conv8,"valid",!1)},n.prototype.runMobilenet=function(t,r){var o=this.config.isFirstLayerConv2d?E2(Ko(t,r.conv0,"valid",!1)):Ji(t,r.conv0);return o=Un(o,[2,2],[2,2],"same"),o=Ji(o,r.conv1),o=Un(o,[2,2],[2,2],"same"),o=Ji(o,r.conv2),o=Un(o,[2,2],[2,2],"same"),o=Ji(o,r.conv3),o=Un(o,[2,2],[2,2],"same"),o=Ji(o,r.conv4),o=Un(o,[2,2],[2,2],"same"),o=Ji(o,r.conv5),o=Un(o,[2,2],[1,1],"same"),o=r.conv6?Ji(o,r.conv6):o,o=r.conv7?Ji(o,r.conv7):o,Ko(o,r.conv8,"valid",!1)},n.prototype.forwardInput=function(t,r){var o=this,a=this.params;if(!a)throw new Error("TinyYolov2 - load model before inference");return Le(function(){var i=t.toBatchTensor(r,!1).toFloat();return i=o.config.meanRgb?Lf(i,o.config.meanRgb):i,i=i.div(Ie(256)),o.config.withSeparableConvs?o.runMobilenet(i,a):o.runTinyYolov2(i,a)})},n.prototype.forward=function(t,r){return Ke(this,void 0,void 0,function(){var o;return Qe(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Xn(t)];case 1:return[4,o.apply(this,[a.sent(),r])];case 2:return[2,a.sent()]}})})},n.prototype.detect=function(t,r){return r===void 0&&(r={}),Ke(this,void 0,void 0,function(){var o,a,i,s,u,c,f,h,m,v,b,x,w,S,E=this;return Qe(this,function(R){switch(R.label){case 0:return o=new R2(r),a=o.inputSize,i=o.scoreThreshold,[4,Xn(t)];case 1:return s=R.sent(),[4,this.forwardInput(s,a)];case 2:return u=R.sent(),c=Le(function(){return An(u)[0].expandDims()}),f={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(c,s.getReshapedInputDimensions(0),i)];case 3:return h=R.sent(),u.dispose(),c.dispose(),m=h.map(function(D){return D.box}),v=h.map(function(D){return D.score}),b=h.map(function(D){return D.classScore}),x=h.map(function(D){return E.config.classes[D.label]}),w=sf(m.map(function(D){return D.rescale(a)}),v,this.config.iouThreshold,!0),S=w.map(function(D){return new MI(v[D],b[D],x[D],m[D],f)}),[2,S]}})})},n.prototype.getDefaultModelName=function(){return""},n.prototype.extractParamsFromWeigthMap=function(t){return Zae(t,this.config)},n.prototype.extractParams=function(t){var r=this.config.filterSizes||n.DEFAULT_FILTER_SIZES,o=r?r.length:void 0;if(o!==7&&o!==8&&o!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+o+" filterSizes in config");return Qae(t,this.config,this.boxEncodingSize,r)},n.prototype.extractBoxes=function(t,r,o){return Ke(this,void 0,void 0,function(){var a,i,s,u,c,f,h,m,v,b,x,w,S,E,R,D,A,N,k,M,I,P,L,F,Y,W,X,j,U,V=this;return Qe(this,function(q){switch(q.label){case 0:return a=r.width,i=r.height,s=Math.max(a,i),u=s/a,c=s/i,f=t.shape[1],h=this.config.anchors.length,m=Le(function(){var B=t.reshape([f,f,h,V.boxEncodingSize]),G=B.slice([0,0,0,0],[f,f,h,4]),J=B.slice([0,0,0,4],[f,f,h,1]),ne=V.withClassScores?bi(B.slice([0,0,0,5],[f,f,h,V.config.classes.length]),3):Ie(0);return[G,J,ne]}),v=m[0],b=m[1],x=m[2],w=[],[4,b.array()];case 1:return S=q.sent(),[4,v.array()];case 2:E=q.sent(),R=0,q.label=3;case 3:if(!(R<f))return[3,12];D=0,q.label=4;case 4:if(!(D<f))return[3,11];A=0,q.label=5;case 5:return A<h?(N=Eb(S[R][D][A][0]),!o||N>o?(k=(D+Eb(E[R][D][A][0]))/f*u,M=(R+Eb(E[R][D][A][1]))/f*c,I=Math.exp(E[R][D][A][2])*this.config.anchors[A].x/f*u,P=Math.exp(E[R][D][A][3])*this.config.anchors[A].y/f*c,L=k-I/2,F=M-P/2,Y={row:R,col:D,anchor:A},this.withClassScores?[4,this.extractPredictedClass(x,Y)]:[3,7]):[3,9]):[3,10];case 6:return U=q.sent(),[3,8];case 7:U={classScore:1,label:0},q.label=8;case 8:W=U,X=W.classScore,j=W.label,w.push(lr({box:new qv(L,F,L+I,F+P),score:N,classScore:N*X,label:j},Y)),q.label=9;case 9:return A++,[3,5];case 10:return D++,[3,4];case 11:return R++,[3,3];case 12:return v.dispose(),b.dispose(),x.dispose(),[2,w]}})})},n.prototype.extractPredictedClass=function(t,r){return Ke(this,void 0,void 0,function(){var o,a,i,s;return Qe(this,function(u){switch(u.label){case 0:return o=r.row,a=r.col,i=r.anchor,[4,t.array()];case 1:return s=u.sent(),[2,Array(this.config.classes.length).fill(0).map(function(c,f){return s[o][a][i][f]}).map(function(c,f){return{classScore:c,label:f}}).reduce(function(c,f){return c.classScore>f.classScore?c:f})]}})})},n.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],n})(wi),eie=(function(e){ht(n,e);function n(t){t===void 0&&(t=!0);var r=this,o=Object.assign({},{withSeparableConvs:t,iouThreshold:Hae,classes:["face"]},t?{anchors:$ae,meanRgb:Gae}:{anchors:Wae,withClassScores:!0});return r=e.call(this,o)||this,r}return Object.defineProperty(n.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),n.prototype.locateFaces=function(t,r){return Ke(this,void 0,void 0,function(){var o;return Qe(this,function(a){switch(a.label){case 0:return[4,this.detect(t,r)];case 1:return o=a.sent(),[2,o.map(function(i){return new fo(i.score,i.relativeBox,{width:i.imageWidth,height:i.imageHeight})})]}})})},n.prototype.getDefaultModelName=function(){return this.withSeparableConvs?Xae:qae},n.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},n})(sO),lO=(function(e){ht(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return n})(R2),zf=(function(){function e(){}return e.prototype.then=function(n){return Ke(this,void 0,void 0,function(){var t;return Qe(this,function(r){switch(r.label){case 0:return t=n,[4,this.run()];case 1:return[2,t.apply(void 0,[r.sent()])]}})})},e.prototype.run=function(){return Ke(this,void 0,void 0,function(){return Qe(this,function(n){throw new Error("ComposableTask - run is not implemented")})})},e})();function Jv(e,n,t,r,o){return o===void 0&&(o=function(a){var i=a.alignedRect;return i}),Ke(this,void 0,void 0,function(){var a,i,s,u,c;return Qe(this,function(f){switch(f.label){case 0:return a=e.map(function(h){return KI(h)?o(h):h.detection}),s=r,s?[3,5]:n instanceof an?[4,b2(n,a)]:[3,2];case 1:return u=f.sent(),[3,4];case 2:return[4,y2(n,a)];case 3:u=f.sent(),f.label=4;case 4:s=u,f.label=5;case 5:return i=s,[4,t(i)];case 6:return c=f.sent(),i.forEach(function(h){return h instanceof an&&h.dispose()}),[2,c]}})})}function _2(e,n,t,r,o){return Ke(this,void 0,void 0,function(){var a=this;return Qe(this,function(i){return[2,Jv([e],n,function(s){return Ke(a,void 0,void 0,function(){return Qe(this,function(u){return[2,t(s[0])]})})},r,o)]})})}function tie(e){return Le(function(){return lo(An(e,3).reverse(),3)})}var _p=2,Mm=12;function nie(e,n){var t=Yv(e,n),r=x2(e,n);function o(c,f){var h=Sn(e(c));return n.push({paramPath:f}),h}function a(c,f,h){h===void 0&&(h=!1);var m=t(c[0],c[1],3,f+"/conv1"),v=o(c[1],f+"/prelu1_alpha"),b=t(c[1],c[2],3,f+"/conv2"),x=o(c[2],f+"/prelu2_alpha"),w=t(c[2],c[3],h?2:3,f+"/conv3"),S=o(c[3],f+"/prelu3_alpha");return{conv1:m,prelu1_alpha:v,conv2:b,prelu2_alpha:x,conv3:w,prelu3_alpha:S}}function i(){var c=a([3,10,16,32],"pnet"),f=t(32,2,1,"pnet/conv4_1"),h=t(32,4,1,"pnet/conv4_2");return lr(lr({},c),{conv4_1:f,conv4_2:h})}function s(){var c=a([3,28,48,64],"rnet",!0),f=r(576,128,"rnet/fc1"),h=o(128,"rnet/prelu4_alpha"),m=r(128,2,"rnet/fc2_1"),v=r(128,4,"rnet/fc2_2");return lr(lr({},c),{fc1:f,prelu4_alpha:h,fc2_1:m,fc2_2:v})}function u(){var c=a([3,32,64,64],"onet"),f=t(64,128,2,"onet/conv4"),h=o(128,"onet/prelu4_alpha"),m=r(1152,256,"onet/fc1"),v=o(256,"onet/prelu5_alpha"),b=r(256,2,"onet/fc2_1"),x=r(256,4,"onet/fc2_2"),w=r(256,10,"onet/fc2_3");return lr(lr({},c),{conv4:f,prelu4_alpha:h,fc1:m,prelu5_alpha:v,fc2_1:b,fc2_2:x,fc2_3:w})}return{extractPNetParams:i,extractRNetParams:s,extractONetParams:u}}function rie(e){var n=Ci(e),t=n.extractWeights,r=n.getRemainingWeights,o=[],a=nie(t,o),i=a.extractPNetParams,s=a.extractRNetParams,u=a.extractONetParams,c=i(),f=s(),h=u();if(r().length!==0)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:c,rnet:f,onet:h},paramMappings:o}}function oie(e,n){var t=Ss(e,n);function r(f){var h=t(f+"/weights",4,f+"/filters"),m=t(f+"/bias",1);return{filters:h,bias:m}}function o(f){var h=t(f+"/weights",2),m=t(f+"/bias",1);return{weights:h,bias:m}}function a(f){return t(f,1)}function i(f){var h=r(f+"/conv1"),m=a(f+"/prelu1_alpha"),v=r(f+"/conv2"),b=a(f+"/prelu2_alpha"),x=r(f+"/conv3"),w=a(f+"/prelu3_alpha");return{conv1:h,prelu1_alpha:m,conv2:v,prelu2_alpha:b,conv3:x,prelu3_alpha:w}}function s(){var f=i("pnet"),h=r("pnet/conv4_1"),m=r("pnet/conv4_2");return lr(lr({},f),{conv4_1:h,conv4_2:m})}function u(){var f=i("rnet"),h=o("rnet/fc1"),m=a("rnet/prelu4_alpha"),v=o("rnet/fc2_1"),b=o("rnet/fc2_2");return lr(lr({},f),{fc1:h,prelu4_alpha:m,fc2_1:v,fc2_2:b})}function c(){var f=i("onet"),h=r("onet/conv4"),m=a("onet/prelu4_alpha"),v=o("onet/fc1"),b=a("onet/prelu5_alpha"),x=o("onet/fc2_1"),w=o("onet/fc2_2"),S=o("onet/fc2_3");return lr(lr({},f),{conv4:h,prelu4_alpha:m,fc1:v,prelu5_alpha:b,fc2_1:x,fc2_2:w,fc2_3:S})}return{extractPNetParams:s,extractRNetParams:u,extractONetParams:c}}function aie(e){var n=[],t=oie(e,n),r=t.extractPNetParams,o=t.extractRNetParams,a=t.extractONetParams,i=r(),s=o(),u=a();return Si(e,n),{params:{pnet:i,rnet:s,onet:u},paramMappings:n}}function Lx(e,n){var t=n[0],r=n[1];return{height:Math.floor(t*e),width:Math.floor(r*e)}}function iie(e,n,t){for(var r=t[0],o=t[1],a=Mm/e,i=[],s=Math.min(r,o)*a,u=0;s>=12;)i.push(a*Math.pow(n,u)),s=s*n,u+=1;return i}var T2=(function(e){ht(n,e);function n(t,r,o,a){return e.call(this,{left:t,top:r,right:o,bottom:a},!0)||this}return n})(Na);function uO(e){return Le(function(){return hr(Mn(e,Ie(127.5)),Ie(.0078125))})}function Bu(e,n){return Le(function(){return Ct(sn(e),hr(n,Rm(sn(Rm(e)))))})}function D2(e,n,t){return t===void 0&&(t=!1),Le(function(){var r=Ko(e,n.conv1,"valid");return r=Bu(r,n.prelu1_alpha),r=Un(r,t?[2,2]:[3,3],[2,2],"same"),r=Ko(r,n.conv2,"valid"),r=Bu(r,n.prelu2_alpha),r=t?r:Un(r,[3,3],[2,2],"valid"),r=Ko(r,n.conv3,"valid"),r=Bu(r,n.prelu3_alpha),r})}function sie(e,n){return Le(function(){var t=D2(e,n,!0),r=Ko(t,n.conv4_1,"valid"),o=_o(Hv(r,3),3),a=bi(Mn(r,o),3),i=Ko(t,n.conv4_2,"valid");return{prob:a,regions:i}})}function lie(e,n){return Le(function(){var t=Lx(n,e.shape.slice(1)),r=t.height,o=t.width,a=i2.resizeBilinear(e,[r,o]),i=uO(a);return vs(i,[0,2,1,3])})}function uie(e,n,t,r){for(var o=[],a=e.arraySync(),i=0;i<e.shape[0];i++)for(var s=0;s<e.shape[1];s++)a[i][s]>=r&&o.push(new Pt(s,i));var u=o.map(function(c){var f=new qv(Math.round((c.y*_p+1)/t),Math.round((c.x*_p+1)/t),Math.round((c.y*_p+Mm)/t),Math.round((c.x*_p+Mm)/t)),h=a[c.y][c.x],m=n.arraySync(),v=new T2(m[c.y][c.x][0],m[c.y][c.x][1],m[c.y][c.x][2],m[c.y][c.x][3]);return{cell:f,score:h,region:v}});return u}function cie(e,n,t,r,o){o.stage1=[];var a=n.map(function(m){return Le(function(){var v={scale:m},b=lie(e,m),x=Date.now(),w=sie(b,r),S=w.prob,E=w.regions;v.pnet=Date.now()-x;var R=An(An(S,3)[1])[0],D=An(E)[0];return{scoresTensor:R,regionsTensor:D,scale:m,statsForScale:v}})}),i=a.map(function(m){var v=m.scoresTensor,b=m.regionsTensor,x=m.scale,w=m.statsForScale,S=uie(v,b,x,t);if(v.dispose(),b.dispose(),!S.length)return o.stage1.push(w),[];var E=Date.now(),R=sf(S.map(function(D){return D.cell}),S.map(function(D){return D.score}),.5);return w.nms=Date.now()-E,w.numBoxes=R.length,o.stage1.push(w),R.map(function(D){return S[D]})}),s=i.reduce(function(m,v){return m.concat(v)},[]),u=[],c=[];if(s.length>0){var f=Date.now(),h=sf(s.map(function(m){return m.cell}),s.map(function(m){return m.score}),.7);o.stage1_nms=Date.now()-f,c=h.map(function(m){return s[m].score}),u=h.map(function(m){return s[m]}).map(function(m){var v=m.cell,b=m.region;return new qv(v.left+b.left*v.width,v.top+b.top*v.height,v.right+b.right*v.width,v.bottom+b.bottom*v.height).toSquare().round()})}return{boxes:u,scores:c}}function cO(e,n,t){var r=t.width,o=t.height;return Ke(this,void 0,void 0,function(){var a,i,s,u=this;return Qe(this,function(c){switch(c.label){case 0:return a=di(e),[4,Promise.all(n.map(function(f){return Ke(u,void 0,void 0,function(){var h,m,v,b,x,w,S,E;return Qe(this,function(R){return h=f.padAtBorders(e.height,e.width),m=h.y,v=h.ey,b=h.x,x=h.ex,w=b-1,S=m-1,E=a.getImageData(w,S,x-w,v-S),[2,pr.isNodejs()?g2(E):createImageBitmap(E)]})})}))];case 1:return i=c.sent(),s=[],i.forEach(function(f){var h=Xv({width:r,height:o}),m=di(h);m.drawImage(f,0,0,r,o);for(var v=m.getImageData(0,0,r,o).data,b=[],x=0;x<v.length;x+=4)b.push(v[x+2]),b.push(v[x+1]),b.push(v[x]);s.push(b)}),[2,s.map(function(f){var h=Le(function(){var m=vs(Or(f,[1,r,o,3]),[0,2,1,3]).toFloat();return uO(m)});return h})]}})})}function die(e,n){return Le(function(){var t=D2(e,n),r=Yo(t,[t.shape[0],n.fc1.weights.shape[0]]),o=xa(r,n.fc1),a=Bu(o,n.prelu4_alpha),i=xa(a,n.fc2_1),s=_o(Hv(i,1),1),u=bi(Mn(i,s),1),c=xa(a,n.fc2_2),f=An(u,1)[1];return{scores:f,regions:c}})}function fie(e,n,t,r,o){return Ke(this,void 0,void 0,function(){var a,i,s,u,c,f,h,m,v,b,x,w,S,E;return Qe(this,function(R){switch(R.label){case 0:return a=Date.now(),[4,cO(e,n,{width:24,height:24})];case 1:return i=R.sent(),o.stage2_extractImagePatches=Date.now()-a,a=Date.now(),s=i.map(function(D){var A=die(D,r);return D.dispose(),A}),o.stage2_rnet=Date.now()-a,u=s.length>1?Dn(s.map(function(D){return D.scores})):s[0].scores,h=(f=Array).from,[4,u.data()];case 2:return c=h.apply(f,[R.sent()]),u.dispose(),m=c.map(function(D,A){return{score:D,idx:A}}).filter(function(D){return D.score>t}).map(function(D){var A=D.idx;return A}),v=m.map(function(D){return n[D]}),b=m.map(function(D){return c[D]}),x=[],w=[],v.length>0&&(a=Date.now(),S=sf(v,b,.7),o.stage2_nms=Date.now()-a,E=S.map(function(D){var A=s[m[D]].regions.arraySync();return new T2(A[0][0],A[0][1],A[0][2],A[0][3])}),w=S.map(function(D){return b[D]}),x=S.map(function(D,A){return v[D].calibrate(E[A])})),s.forEach(function(D){D.regions.dispose(),D.scores.dispose()}),[2,{boxes:x,scores:w}]}})})}function hie(e,n){return Le(function(){var t=D2(e,n);t=Un(t,[2,2],[2,2],"same"),t=Ko(t,n.conv4,"valid"),t=Bu(t,n.prelu4_alpha);var r=Yo(t,[t.shape[0],n.fc1.weights.shape[0]]),o=xa(r,n.fc1),a=Bu(o,n.prelu5_alpha),i=xa(a,n.fc2_1),s=_o(Hv(i,1),1),u=bi(Mn(i,s),1),c=xa(a,n.fc2_2),f=xa(a,n.fc2_3),h=An(u,1)[1];return{scores:h,regions:c,points:f}})}function pie(e,n,t,r,o){return Ke(this,void 0,void 0,function(){var a,i,s,u,c,f,h,m,v,b,x,w,S,E,R;return Qe(this,function(D){switch(D.label){case 0:return a=Date.now(),[4,cO(e,n,{width:48,height:48})];case 1:return i=D.sent(),o.stage3_extractImagePatches=Date.now()-a,a=Date.now(),s=i.map(function(A){var N=hie(A,r);return A.dispose(),N}),o.stage3_onet=Date.now()-a,u=s.length>1?Dn(s.map(function(A){return A.scores})):s[0].scores,h=(f=Array).from,[4,u.data()];case 2:return c=h.apply(f,[D.sent()]),u.dispose(),m=c.map(function(A,N){return{score:A,idx:N}}).filter(function(A){return A.score>t}).map(function(A){var N=A.idx;return N}),v=m.map(function(A){var N=s[A].regions.arraySync();return new T2(N[0][0],N[0][1],N[0][2],N[0][3])}),b=m.map(function(A,N){return n[A].calibrate(v[N])}),x=m.map(function(A){return c[A]}),w=[],S=[],E=[],b.length>0&&(a=Date.now(),R=sf(b,x,.7,!1),o.stage3_nms=Date.now()-a,w=R.map(function(A){return b[A]}),S=R.map(function(A){return x[A]}),E=R.map(function(A,N){return Array(5).fill(0).map(function(k,M){var I=s[A].points.arraySync();return new Pt(I[0][M]*(w[N].width+1)+w[N].left,I[0][M+5]*(w[N].height+1)+w[N].top)})})),s.forEach(function(A){A.regions.dispose(),A.scores.dispose(),A.points.dispose()}),[2,{boxes:w,scores:S,points:E}]}})})}var mie=(function(e){ht(n,e);function n(){return e.call(this,"Mtcnn")||this}return n.prototype.load=function(t){return Ke(this,void 0,void 0,function(){return Qe(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]})})},n.prototype.loadFromDisk=function(t){return Ke(this,void 0,void 0,function(){return Qe(this,function(r){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]})})},n.prototype.forwardInput=function(t,r){return r===void 0&&(r={}),Ke(this,void 0,void 0,function(){var o,a,i,s,u,c,f,h,m,v,b,x,w,S,E,R,D,A,N,k,M;return Qe(this,function(I){switch(I.label){case 0:if(o=this.params,!o)throw new Error("Mtcnn - load model before inference");if(a=t.canvases[0],!a)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return i={},s=Date.now(),u=Le(function(){return tie(_o(f2.fromPixels(a)).toFloat())}),c=function(P){return u.dispose(),i.total=Date.now()-s,P},f=u.shape.slice(1),h=f[0],m=f[1],v=new aO(r),b=v.minFaceSize,x=v.scaleFactor,w=v.maxNumScales,S=v.scoreThresholds,E=v.scaleSteps,R=(E||iie(b,x,[h,m])).filter(function(P){var L=Lx(P,[h,m]);return Math.min(L.width,L.height)>Mm}).slice(0,w),i.scales=R,i.pyramid=R.map(function(P){return Lx(P,[h,m])}),D=Date.now(),[4,cie(u,R,S[0],o.pnet,i)];case 1:return A=I.sent(),i.total_stage1=Date.now()-D,A.boxes.length?(i.stage2_numInputBoxes=A.boxes.length,D=Date.now(),[4,fie(a,A.boxes,S[1],o.rnet,i)]):[2,c({results:[],stats:i})];case 2:return N=I.sent(),i.total_stage2=Date.now()-D,N.boxes.length?(i.stage3_numInputBoxes=N.boxes.length,D=Date.now(),[4,pie(a,N.boxes,S[2],o.onet,i)]):[2,c({results:[],stats:i})];case 3:return k=I.sent(),i.total_stage3=Date.now()-D,M=k.boxes.map(function(P,L){return Kv(uf({},new fo(k.scores[L],new p2(P.left/m,P.top/h,P.width/m,P.height/h),{height:h,width:m})),new Hoe(k.points[L].map(function(F){return F.sub(new Pt(P.left,P.top)).div(new Pt(P.width,P.height))}),{width:P.width,height:P.height}))}),[2,c({results:M,stats:i})]}})})},n.prototype.forward=function(t,r){return r===void 0&&(r={}),Ke(this,void 0,void 0,function(){var o;return Qe(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Xn(t)];case 1:return[4,o.apply(this,[a.sent(),r])];case 2:return[2,a.sent().results]}})})},n.prototype.forwardWithStats=function(t,r){return r===void 0&&(r={}),Ke(this,void 0,void 0,function(){var o;return Qe(this,function(a){switch(a.label){case 0:return o=this.forwardInput,[4,Xn(t)];case 1:return[2,o.apply(this,[a.sent(),r])]}})})},n.prototype.getDefaultModelName=function(){return"mtcnn_model"},n.prototype.extractParamsFromWeigthMap=function(t){return aie(t)},n.prototype.extractParams=function(t){return rie(t)},n})(wi),vie=.4,gie=[new Pt(1.603231,2.094468),new Pt(6.041143,7.080126),new Pt(2.882459,3.518061),new Pt(4.266906,5.178857),new Pt(9.041765,10.66308)],yie=[117.001,114.697,97.404],bie=(function(e){ht(n,e);function n(){var t=this,r={withSeparableConvs:!0,iouThreshold:vie,classes:["face"],anchors:gie,meanRgb:yie,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return t=e.call(this,r)||this,t}return Object.defineProperty(n.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),n.prototype.locateFaces=function(t,r){return Ke(this,void 0,void 0,function(){var o;return Qe(this,function(a){switch(a.label){case 0:return[4,this.detect(t,r)];case 1:return o=a.sent(),[2,o.map(function(i){return new fo(i.score,i.relativeBox,{width:i.imageWidth,height:i.imageHeight})})]}})})},n.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},n.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},n})(sO),Cr={ssdMobilenetv1:new iO,tinyFaceDetector:new bie,tinyYolov2:new eie,mtcnn:new mie,faceLandmark68Net:new ZI,faceLandmark68TinyNet:new wae,faceRecognitionNet:new Dae,faceExpressionNet:new lae,ageGenderNet:new gae},dO=(function(e){ht(n,e);function n(t,r,o){var a=e.call(this)||this;return a.parentTask=t,a.input=r,a.extractedFaces=o,a}return n})(zf),A2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r,o=this;return Qe(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return t=a.sent(),[4,Jv(t,this.input,function(i){return Ke(o,void 0,void 0,function(){return Qe(this,function(s){switch(s.label){case 0:return[4,Promise.all(i.map(function(u){return Cr.faceExpressionNet.predictExpressions(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=a.sent(),[2,t.map(function(i,s){return YI(i,r[s])})]}})})},n.prototype.withAgeAndGender=function(){return new I2(this,this.input)},n})(dO),N2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r;return Qe(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),t?[4,_2(t,this.input,function(a){return Cr.faceExpressionNet.predictExpressions(a)},this.extractedFaces)]:[2];case 2:return r=o.sent(),[2,YI(t,r)]}})})},n.prototype.withAgeAndGender=function(){return new O2(this,this.input)},n})(dO),k2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.withAgeAndGender=function(){return new P2(this,this.input)},n.prototype.withFaceDescriptors=function(){return new B2(this,this.input)},n})(A2),M2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.withAgeAndGender=function(){return new j2(this,this.input)},n.prototype.withFaceDescriptor=function(){return new F2(this,this.input)},n})(N2),fO=(function(e){ht(n,e);function n(t,r,o){var a=e.call(this)||this;return a.parentTask=t,a.input=r,a.extractedFaces=o,a}return n})(zf),I2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r,o=this;return Qe(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return t=a.sent(),[4,Jv(t,this.input,function(i){return Ke(o,void 0,void 0,function(){return Qe(this,function(s){switch(s.label){case 0:return[4,Promise.all(i.map(function(u){return Cr.ageGenderNet.predictAgeAndGender(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return r=a.sent(),[2,t.map(function(i,s){var u=r[s],c=u.age,f=u.gender,h=u.genderProbability;return rO(oO(i,f,h),c)})]}})})},n.prototype.withFaceExpressions=function(){return new A2(this,this.input)},n})(fO),O2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r,o,a,i;return Qe(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?[4,_2(t,this.input,function(u){return Cr.ageGenderNet.predictAgeAndGender(u)},this.extractedFaces)]:[2];case 2:return r=s.sent(),o=r.age,a=r.gender,i=r.genderProbability,[2,rO(oO(t,a,i),o)]}})})},n.prototype.withFaceExpressions=function(){return new N2(this,this.input)},n})(fO),P2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.withFaceExpressions=function(){return new k2(this,this.input)},n.prototype.withFaceDescriptors=function(){return new B2(this,this.input)},n})(I2),j2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.withFaceExpressions=function(){return new M2(this,this.input)},n.prototype.withFaceDescriptor=function(){return new F2(this,this.input)},n})(O2),hO=(function(e){ht(n,e);function n(t,r){var o=e.call(this)||this;return o.parentTask=t,o.input=r,o}return n})(zf),B2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r;return Qe(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),[4,Jv(t,this.input,function(a){return Promise.all(a.map(function(i){return Cr.faceRecognitionNet.computeFaceDescriptor(i)}))},null,function(a){return a.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return r=o.sent(),[2,r.map(function(a,i){return nO(t[i],a)})]}})})},n.prototype.withFaceExpressions=function(){return new k2(this,this.input)},n.prototype.withAgeAndGender=function(){return new P2(this,this.input)},n})(hO),F2=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r;return Qe(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),t?[4,_2(t,this.input,function(a){return Cr.faceRecognitionNet.computeFaceDescriptor(a)},null,function(a){return a.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return r=o.sent(),[2,nO(t,r)]}})})},n.prototype.withFaceExpressions=function(){return new M2(this,this.input)},n.prototype.withAgeAndGender=function(){return new j2(this,this.input)},n})(hO),pO=(function(e){ht(n,e);function n(t,r,o){var a=e.call(this)||this;return a.parentTask=t,a.input=r,a.useTinyLandmarkNet=o,a}return Object.defineProperty(n.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Cr.faceLandmark68TinyNet:Cr.faceLandmark68Net},enumerable:!0,configurable:!0}),n})(zf),xie=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r,o,a,i,s=this;return Qe(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return t=u.sent(),r=t.map(function(c){return c.detection}),this.input instanceof an?[4,b2(this.input,r)]:[3,3];case 2:return a=u.sent(),[3,5];case 3:return[4,y2(this.input,r)];case 4:a=u.sent(),u.label=5;case 5:return o=a,[4,Promise.all(o.map(function(c){return s.landmarkNet.detectLandmarks(c)}))];case 6:return i=u.sent(),o.forEach(function(c){return c instanceof an&&c.dispose()}),[2,t.map(function(c,f){return Kv(c,i[f])})]}})})},n.prototype.withFaceExpressions=function(){return new k2(this,this.input)},n.prototype.withAgeAndGender=function(){return new P2(this,this.input)},n.prototype.withFaceDescriptors=function(){return new B2(this,this.input)},n})(pO),wie=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r,o,a,i;return Qe(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?(r=t.detection,this.input instanceof an?[4,b2(this.input,[r])]:[3,3]):[2];case 2:return a=s.sent(),[3,5];case 3:return[4,y2(this.input,[r])];case 4:a=s.sent(),s.label=5;case 5:return o=a,[4,this.landmarkNet.detectLandmarks(o[0])];case 6:return i=s.sent(),o.forEach(function(u){return u instanceof an&&u.dispose()}),[2,Kv(t,i)]}})})},n.prototype.withFaceExpressions=function(){return new M2(this,this.input)},n.prototype.withAgeAndGender=function(){return new j2(this,this.input)},n.prototype.withFaceDescriptor=function(){return new F2(this,this.input)},n})(pO),mO=(function(e){ht(n,e);function n(t,r){r===void 0&&(r=new Qv);var o=e.call(this)||this;return o.input=t,o.options=r,o}return n})(zf),vO=(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r,o,a;return Qe(this,function(i){switch(i.label){case 0:return t=this,r=t.input,o=t.options,o instanceof aO?[4,Cr.mtcnn.forward(r,o)]:[3,2];case 1:return[2,i.sent().map(function(s){return s.detection})];case 2:if(a=o instanceof lO?function(s){return Cr.tinyFaceDetector.locateFaces(s,o)}:o instanceof Qv?function(s){return Cr.ssdMobilenetv1.locateFaces(s,o)}:o instanceof R2?function(s){return Cr.tinyYolov2.locateFaces(s,o)}:null,!a)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,a(r)]}})})},n.prototype.runAndExtendWithFaceDetections=function(){var t=this;return new Promise(function(r){return Ke(t,void 0,void 0,function(){var o;return Qe(this,function(a){switch(a.label){case 0:return[4,this.run()];case 1:return o=a.sent(),[2,r(o.map(function(i){return uf({},i)}))]}})})})},n.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new xie(this.runAndExtendWithFaceDetections(),this.input,t)},n.prototype.withFaceExpressions=function(){return new A2(this.runAndExtendWithFaceDetections(),this.input)},n.prototype.withAgeAndGender=function(){return new I2(this.runAndExtendWithFaceDetections(),this.input)},n})(mO);(function(e){ht(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.run=function(){return Ke(this,void 0,void 0,function(){var t,r;return Qe(this,function(o){switch(o.label){case 0:return[4,new vO(this.input,this.options)];case 1:return t=o.sent(),r=t[0],t.forEach(function(a){a.score>r.score&&(r=a)}),[2,r]}})})},n.prototype.runAndExtendWithFaceDetection=function(){var t=this;return new Promise(function(r){return Ke(t,void 0,void 0,function(){var o;return Qe(this,function(a){switch(a.label){case 0:return[4,this.run()];case 1:return o=a.sent(),[2,r(o?uf({},o):void 0)]}})})})},n.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new wie(this.runAndExtendWithFaceDetection(),this.input,t)},n.prototype.withFaceExpressions=function(){return new N2(this.runAndExtendWithFaceDetection(),this.input)},n.prototype.withAgeAndGender=function(){return new O2(this.runAndExtendWithFaceDetection(),this.input)},n})(mO);function Sie(e,n){return n===void 0&&(n=new Qv),new vO(e,n)}function Cie(e,n){if(e.length!==n.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var t=Array.from(e),r=Array.from(n);return Math.sqrt(t.map(function(o,a){return o-r[a]}).reduce(function(o,a){return o+Math.pow(a,2)},0))}(function(){function e(n,t){t===void 0&&(t=.6),this._distanceThreshold=t;var r=Array.isArray(n)?n:[n];if(!r.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var o=1,a=function(){return"person "+o++};this._labeledDescriptors=r.map(function(i){if(i instanceof Sp)return i;if(i instanceof Float32Array)return new Sp(a(),[i]);if(i.descriptor&&i.descriptor instanceof Float32Array)return new Sp(a(),[i.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(n,t){return t.map(function(r){return Cie(r,n)}).reduce(function(r,o){return r+o},0)/(t.length||1)},e.prototype.matchDescriptor=function(n){var t=this;return this.labeledDescriptors.map(function(r){var o=r.descriptors,a=r.label;return new JD(a,t.computeMeanDistance(n,o))}).reduce(function(r,o){return r.distance<o.distance?r:o})},e.prototype.findBestMatch=function(n){var t=this.matchDescriptor(n);return t.distance<this.distanceThreshold?t:new JD("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(n){return n.toJSON()})}},e.fromJSON=function(n){var t=n.labeledDescriptors.map(function(r){return Sp.fromJSON(r)});return new e(t,n.distanceThreshold)},e})();function gO(e,n){var t=new rl(n.width,n.height),r=t.width,o=t.height;if(r<=0||o<=0)throw new Error("resizeResults - invalid dimensions: "+JSON.stringify({width:r,height:o}));if(Array.isArray(e))return e.map(function(s){return gO(s,{width:r,height:o})});if(KI(e)){var a=e.detection.forSize(r,o),i=e.unshiftedLandmarks.forSize(a.box.width,a.box.height);return Kv(uf(e,a),i)}return Am(e)?uf(e,e.detection.forSize(r,o)):e instanceof lf||e instanceof fo?e.forSize(r,o):e}function Eie(){const{jotformId:e}=aw(),[n]=a9(),t=bs(),r=n.get("course"),[o,a]=T.useState("setup"),[i,s]=T.useState(0),[u,c]=T.useState(!1),[f,h]=T.useState(null),[m,v]=T.useState(!1),[b,x]=T.useState(null),[w,S]=T.useState(null),[E,R]=T.useState(null),[D,A]=T.useState(!1),[N,k]=T.useState(null),[M,I]=T.useState(null),[P,L]=T.useState(null),[F,Y]=T.useState([]),[W,X]=T.useState(null),[j,U]=T.useState([]),[V,q]=T.useState(!1),[B,G]=T.useState(!1),[J,ne]=T.useState(!0),[he,Se]=T.useState(!1),[ae,le]=T.useState(!1),[ge,me]=T.useState(!1),[Pe,je]=T.useState(!1),[Be,Te]=T.useState(!1),[We,ct]=T.useState(0),at=T.useRef(null),_e=T.useRef(null),De=T.useRef(null),ke=T.useRef(null),tt=T.useRef(null),lt={width:640,height:480,facingMode:"user"},nt={width:220,height:165,facingMode:"user",frameRate:30};T.useEffect(()=>((async()=>{try{const Ge="/models";await Promise.all([Cr.tinyFaceDetector.loadFromUri(Ge),Cr.faceLandmark68Net.loadFromUri(Ge),Cr.faceRecognitionNet.loadFromUri(Ge)]),Se(!0),console.log("Face recognition models loaded")}catch(Ge){console.error("Error loading face models:",Ge)}})(),()=>{tt.current&&tt.current.getTracks().forEach(Ge=>Ge.stop()),document.removeEventListener("fullscreenchange",Tr)}),[]),T.useEffect(()=>{if(he&&o==="exam"){const Ge=setInterval(async()=>{if(_e.current&&_e.current.video&&_e.current.video.readyState===4){const Je=_e.current.video,bt=De.current;if(bt){const Lt=await Sie(Je,new lO({inputSize:224,scoreThreshold:.5}));bt.getContext("2d").clearRect(0,0,bt.width,bt.height);const gr=await $e(Je);je(gr<50),Lt.length===0?(le(!1),me(!1),nn.show({id:"face-alert",title:"Face Not Detected",message:"Please stay visible in the webcam view",color:"red",autoClose:3e3})):Lt.length>1?(le(!0),me(!0),nn.show({id:"multiple-faces",title:"Multiple Faces Detected",message:"Only you should be present during the exam",color:"red",autoClose:3e3})):(le(!0),me(!1)),Pe&&nn.show({id:"lighting-alert",title:"Poor Lighting",message:"Please ensure adequate lighting for face detection",color:"orange",autoClose:3e3});const Ri=gO(Lt,{width:Je.videoWidth,height:Je.videoHeight});bt.width=Je.videoWidth,bt.height=Je.videoHeight,Koe(bt,Ri)}}},2e3);return()=>clearInterval(Ge)}},[he,o,Pe]);const $e=async Xe=>{const Ge=document.createElement("canvas"),Je=Ge.getContext("2d");Ge.width=Xe.videoWidth,Ge.height=Xe.videoHeight,Je.drawImage(Xe,0,0);const Lt=Je.getImageData(0,0,Ge.width,Ge.height).data;let Gr=0;for(let gr=0;gr<Lt.length;gr+=4)Gr+=(Lt[gr]+Lt[gr+1]+Lt[gr+2])/3;return Gr/(Lt.length/4)},qt=Xe=>{console.group(" ASSIGNMENT SUBMISSION"),console.group(" Assignment Details"),console.table(Xe.assignment),console.groupEnd(),console.group(" Recorded Answers"),Xe.answers.forEach((Ge,Je)=>{console.group(`Video ${Je+1}`),console.log("Page:",Ge.pageNumber),console.log("Question:",Ge.questionText),console.log("File Size:",`${Math.round(Ge.videoSize/1024)} KB`),console.log("Timestamp:",new Date(Ge.timestamp).toLocaleString()),console.log("Video URL:",Ge.videoUrl),console.groupEnd()}),console.groupEnd(),console.group(" Proctoring Status"),console.table(Xe.proctoring),console.groupEnd(),console.group(" Identity Verification"),console.log("Photo Captured:",Xe.identity.photoTaken),console.log("Photo Size:",Xe.identity.photo?"Available":"Not available"),console.groupEnd(),console.groupEnd()},Ae=Xe=>{c(!0),tt.current=Xe,h(null),nn.show({title:"Camera Ready",message:"Camera access granted successfully",color:"green"})},Fe=Xe=>{h(Xe.message),c(!1);let Ge="Camera access is required for the exam";Xe.name==="NotAllowedError"?Ge="Permission denied. Please allow camera access and reload the page.":Xe.name==="NotFoundError"&&(Ge="No camera found on this device."),nn.show({title:"Camera Error",message:Ge,color:"red"})},it=()=>{if(at.current){const Xe=at.current.getScreenshot();Xe&&(x(Xe),v(!0),nn.show({title:"Photo Captured",message:"Your photo has been captured successfully",color:"green"}))}},Mt=()=>{x(null),v(!1)},Dt=async()=>{try{A(!0),k(null),console.log("Fetching jotform data for:",e);const Ge=(await wt.get("http://localhost:8081/api/jotforms")).data.find(Je=>Je.jotformName===e);if(Ge){S(Ge),console.log("Found jotform data:",Ge);let Je=null;for(const bt of Ge.pages){for(const Lt of bt.elements)if(Lt.tagName==="randominteger"){Je=parseInt(Lt.content);break}if(Je)break}if(Je){I(Je);const bt=Math.floor(Math.random()*Je)+1;L(bt),console.log("Random integer from API:",Je),console.log("Generated random number:",bt);const Lt=Ge.pages.map(Gr=>{const gr=Gr.elements.filter(_i=>_i.tagName==="paragraph").sort((_i,Zv)=>_i.sequence-Zv.sequence),Ri=Gr.elements.find(_i=>_i.tagName==="videorecording"),gc=gr[bt-1];return{pageNumber:Gr.page,selectedParagraph:gc||null,hasVideoRecording:!!Ri,videoRecording:Ri||null,totalParagraphs:gr.length}});Y(Lt),console.log("Processed pages data:",Lt),s(0),R({title:Ge.title||`Assignment - ${r}`,pages:Lt,randomNumber:bt,...Ge}),nn.show({title:"Assignment Loaded",message:`Assignment loaded. Showing question ${bt} from each page.`,color:"green"})}else throw new Error("No randominteger element found in the form")}else throw console.log(`No jotform found with name: ${e}`),new Error(`No jotform found with name: ${e}`);A(!1)}catch(Xe){console.error("Error fetching jotform data:",Xe),k(Xe.message),A(!1),nn.show({title:"Error",message:"Failed to load assignment content",color:"red"})}},Pn=()=>{i<F.length-1&&(s(i+1),nn.show({title:"Next Page",message:`Moved to page ${i+2}`,color:"blue"}))},Ft=()=>{ne(!J)},Qt=()=>{document.documentElement.requestFullscreen&&(document.documentElement.requestFullscreen(),q(!0),G(!0),document.addEventListener("fullscreenchange",Tr),nn.show({title:"Exam Mode Activated",message:"You are now in secure exam mode",color:"blue"}))},Tr=()=>{document.fullscreenElement||(q(!1),nn.show({title:"Warning: Fullscreen Exited",message:"Exiting fullscreen mode may be flagged as suspicious activity",color:"orange"}))},$r=async()=>{if(tt.current&&!W)try{const Xe=new MediaRecorder(tt.current,{mimeType:"video/webm; codecs=vp9,opus",audioBitsPerSecond:128e3,videoBitsPerSecond:25e5}),Ge=[];Xe.ondataavailable=Je=>{Je.data&&Je.data.size>0&&Ge.push(Je.data)},Xe.onstop=()=>{const Je=new Blob(Ge,{type:"video/webm"}),bt=URL.createObjectURL(Je),Lt=F[i],Gr={id:Date.now(),blob:Je,url:bt,pageNumber:i+1,questionText:Lt.selectedParagraph?.content||"No question text",timestamp:new Date().toISOString(),randomQuestionNumber:P};U(gr=>[...gr,Gr]),Fa(Gr),X(null),nn.show({title:"Recording Saved",message:`Answer recorded for page ${i+1}`,color:"green"})},ke.current=Xe,Xe.start(),X({startTime:Date.now(),pageNumber:i+1}),nn.show({title:"Recording Started",message:"Recording your video answer...",color:"blue"})}catch{nn.show({title:"Recording Failed",message:"Failed to start recording. Please try again.",color:"red"})}},vr=()=>{ke.current&&W&&ke.current.stop()},Fa=async Xe=>{try{const Ge=new FormData;Ge.append("video",Xe.blob,`answer_page_${Xe.pageNumber}.webm`),Ge.append("questionText",Xe.questionText),Ge.append("pageNumber",Xe.pageNumber),Ge.append("randomQuestionNumber",Xe.randomQuestionNumber),Ge.append("timestamp",Xe.timestamp),Ge.append("jotformId",e),Ge.append("courseName",r),await wt.post("http://localhost:8081/api/submit-answer",Ge,{headers:{"Content-Type":"multipart/form-data"}}),console.log("Answer sent to backend successfully")}catch(Ge){console.error("Error sending answer to backend:",Ge)}},rn=async()=>{try{const Xe={assignment:{jotformId:e,courseName:r,title:E?.title,totalPages:F.length,randomNumber:P,randomInteger:M},identity:{photo:b,photoTaken:m},answers:j.map(Je=>({id:Je.id,pageNumber:Je.pageNumber,questionText:Je.questionText,timestamp:Je.timestamp,randomQuestionNumber:Je.randomQuestionNumber,videoUrl:Je.url,videoSize:Je.blob.size,videoType:Je.blob.type})),proctoring:{faceDetected:ae,multipleFaces:ge,lightingIssue:Pe,modelsLoaded:he},session:{submissionTime:new Date().toISOString(),totalRecordedAnswers:j.length,timeSpent:Date.now()-(Date.now()-36e5)}};console.log("=".repeat(80)),console.log(" ASSIGNMENT SUBMISSION DATA"),console.log("=".repeat(80)),console.log(" Assignment Info:",Xe.assignment),console.log(" Identity Data:",Xe.identity),console.log(" Answers Data:",Xe.answers),console.log(" Proctoring Data:",Xe.proctoring),console.log(" Session Data:",Xe.session),console.log("=".repeat(80)),qt(Xe),console.log(" RECORDED VIDEOS:"),j.forEach((Je,bt)=>{console.log(`Video ${bt+1}:`,{page:Je.pageNumber,question:Je.questionText,duration:Je.blob.size,url:Je.url})}),Te(!0);const Ge=new FormData;if(j.forEach((Je,bt)=>{Ge.append(`video_${bt}`,Je.blob,`answer_page_${Je.pageNumber}.webm`),Ge.append(`question_${bt}`,Je.questionText),Ge.append(`page_${bt}`,Je.pageNumber),Ge.append(`timestamp_${bt}`,Je.timestamp)}),b){const bt=await(await fetch(b)).blob();Ge.append("identity_photo",bt,"identity_photo.jpg")}Ge.append("submission_data",JSON.stringify(Xe)),console.log(" FORM DATA BEING SENT TO BACKEND:");for(let Je of Ge.entries())console.log(Je[0],Je[1]);nn.show({title:"Assignment Submitted",message:"Check console for all data. Videos will open in modal.",color:"green"})}catch(Xe){console.error(" SUBMISSION ERROR:",Xe),nn.show({title:"Submission Failed",message:"Failed to submit assignment. Check console for details.",color:"red"})}},Ei=()=>{window.confirm("Are you sure you want to exit the assignment? Your progress will be lost.")&&t(-1)};if(o==="setup")return y.jsxs(Zt,{size:"md",py:"xl",children:[y.jsxs($t,{order:2,ta:"center",mb:"xl",children:["Assignment Setup - ",r]}),y.jsxs(Vn,{shadow:"sm",padding:"lg",radius:"md",mb:"xl",children:[y.jsx($t,{order:4,mb:"md",children:"Camera & Proctoring Setup"}),y.jsx(de,{size:"sm",color:"dimmed",mb:"md",children:"Please allow camera and microphone access. Face recognition will monitor your exam."}),y.jsxs(Sr,{children:[y.jsx(ze,{justify:"space-between",children:y.jsxs(ze,{children:[y.jsx(W_,{size:20}),y.jsx(de,{children:"Camera & Microphone Access"}),u&&y.jsx(zn,{color:"green",size:"sm",children:"Ready"}),f&&y.jsx(zn,{color:"red",size:"sm",children:"Error"})]})}),f&&y.jsx(Ho,{icon:y.jsx(Eu,{size:16}),color:"red",size:"sm",children:y.jsxs(de,{size:"sm",children:[y.jsx("strong",{children:"Camera Error:"})," ",f]})}),y.jsxs(re,{ta:"center",mb:"md",children:[y.jsx(de,{size:"sm",mb:"md",children:"Camera Preview"}),y.jsx(Ir,{children:y.jsx(fp,{audio:!0,ref:at,screenshotFormat:"image/jpeg",width:300,height:200,videoConstraints:lt,onUserMedia:Ae,onUserMediaError:Fe,style:{borderRadius:8,backgroundColor:"#000",border:u?"2px solid #51cf66":"2px solid #868e96"}})}),u&&y.jsx(zn,{color:"green",size:"sm",mt:"sm",children:"Live Camera Feed"})]})]})]}),y.jsxs(ze,{justify:"space-between",children:[y.jsx(Oe,{variant:"outline",onClick:Ei,leftSection:y.jsx(Pp,{size:16}),children:"Back to Instructions"}),u&&y.jsx(Oe,{onClick:()=>a("photo"),size:"lg",children:"Continue to Photo Capture"})]}),!u&&y.jsx(Ho,{icon:y.jsx(Eu,{size:16}),color:"orange",mt:"md",children:y.jsx(de,{size:"sm",children:"Please allow camera and microphone access to proceed with the exam."})})]});if(o==="photo")return y.jsxs(Zt,{size:"md",py:"xl",children:[y.jsx($t,{order:2,ta:"center",mb:"xl",children:"Identity Photo Capture"}),y.jsxs(Vn,{shadow:"sm",padding:"lg",radius:"md",mb:"xl",children:[y.jsx($t,{order:4,mb:"md",children:"Take Your Photo"}),y.jsx(de,{size:"sm",color:"dimmed",mb:"md",children:"Take a clear photo for identity verification."}),y.jsx(Ir,{mb:"lg",children:m?y.jsxs(re,{ta:"center",children:[y.jsx(Ud,{src:b,alt:"Identity photo",style:{width:400,height:300,borderRadius:8,marginBottom:16}}),y.jsxs(ze,{justify:"center",children:[y.jsx(Oe,{variant:"outline",onClick:Mt,leftSection:y.jsx(W_,{size:16}),children:"Retake Photo"}),y.jsx(Oe,{onClick:()=>a("verification"),leftSection:y.jsx(Zi,{size:16}),color:"green",children:"Use This Photo"})]})]}):y.jsxs(re,{ta:"center",children:[y.jsx(fp,{audio:!0,ref:at,screenshotFormat:"image/jpeg",width:400,height:300,videoConstraints:lt,onUserMedia:Ae,onUserMediaError:Fe,style:{borderRadius:8,marginBottom:16,backgroundColor:"#000",border:"2px solid #339af0"}}),y.jsx(ze,{justify:"center",children:y.jsx(Oe,{leftSection:y.jsx(Zp,{size:16}),onClick:it,size:"lg",color:"blue",disabled:!u,children:"Take Photo"})})]})}),y.jsx(Ho,{icon:y.jsx(Qb,{size:16}),color:"blue",children:y.jsx(de,{size:"sm",children:"Make sure your face is clearly visible and well-lit. This photo will be used for identity verification during the exam."})})]}),y.jsx(ze,{justify:"space-between",children:y.jsx(Oe,{variant:"outline",onClick:()=>a("setup"),leftSection:y.jsx(Pp,{size:16}),children:"Back to Setup"})})]});if(o==="verification")return y.jsxs(Zt,{size:"md",py:"xl",children:[y.jsx($t,{order:2,ta:"center",mb:"xl",children:"Identity Verification"}),y.jsxs(Sr,{children:[y.jsxs(Vn,{shadow:"sm",padding:"lg",radius:"md",children:[y.jsxs(ze,{justify:"space-between",mb:"md",children:[y.jsxs(ze,{children:[y.jsx(Zp,{size:20}),y.jsx(de,{children:"Identity Photo"}),m&&y.jsx(zn,{color:"green",size:"sm",children:"Captured"})]}),y.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>a("photo"),children:"Change Photo"})]}),b&&y.jsx(Ir,{children:y.jsx(Ud,{src:b,alt:"Identity photo",style:{width:200,height:150,borderRadius:8}})})]}),m&&y.jsxs(Vn,{shadow:"sm",padding:"lg",radius:"md",children:[y.jsx(Ho,{icon:y.jsx(Eu,{size:16}),color:"orange",mb:"md",children:y.jsx(de,{size:"sm",children:"The exam will start in fullscreen mode with live face recognition monitoring. You cannot go back to previous questions once you proceed."})}),y.jsx(Ir,{children:y.jsx(Oe,{onClick:()=>{Dt(),a("exam"),setTimeout(Qt,1e3)},size:"lg",color:"green",leftSection:y.jsx(Zi,{size:16}),children:"Start Assignment"})})]})]}),y.jsx(ze,{justify:"space-between",mt:"md",children:y.jsx(Oe,{variant:"outline",onClick:()=>a("photo"),leftSection:y.jsx(Pp,{size:16}),children:"Back to Photo"})})]});if(o==="exam"){if(D)return y.jsx(Zt,{size:"xl",py:"xl",children:y.jsx(Ir,{children:y.jsxs(Sr,{align:"center",children:[y.jsx(Ma,{size:"lg"}),y.jsx(de,{ta:"center",children:"Loading Assignment..."})]})})});if(N)return y.jsx(Zt,{size:"md",py:"xl",children:y.jsxs(Ho,{icon:y.jsx(Eu,{size:16}),color:"red",children:[y.jsxs(de,{size:"sm",children:["Error: ",N]}),y.jsx(Oe,{size:"sm",mt:"md",onClick:Dt,children:"Retry"})]})});if(!F.length)return y.jsx(Zt,{size:"md",py:"xl",children:y.jsx(Ir,{children:y.jsx(de,{children:"No pages to display"})})});const Xe=F[i],Ge=i===F.length-1,Je=(i+1)/F.length*100;return y.jsxs(re,{children:[y.jsx("style",{children:`
          @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
          }
        `}),Be&&y.jsx(re,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsxs(Vn,{shadow:"xl",padding:"xl",radius:"md",style:{maxWidth:"90vw",maxHeight:"90vh",width:800},children:[y.jsxs(ze,{justify:"space-between",mb:"md",children:[y.jsxs($t,{order:3,children:["Recorded Videos (",j.length,")"]}),y.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>Te(!1),children:"Close"})]}),j.length>0&&y.jsxs(Sr,{children:[y.jsx(ze,{justify:"center",mb:"md",children:j.map((bt,Lt)=>y.jsxs(Oe,{size:"sm",variant:We===Lt?"filled":"outline",onClick:()=>ct(Lt),children:["Video ",Lt+1]},Lt))}),y.jsxs(re,{ta:"center",children:[y.jsxs(zn,{color:"blue",size:"lg",mb:"md",children:["Page ",j[We]?.pageNumber," - Question ",P]}),y.jsxs(de,{size:"sm",mb:"md",style:{maxHeight:100,overflow:"auto",padding:10,backgroundColor:"#f8f9fa",borderRadius:8},children:[y.jsx("strong",{children:"Question:"})," ",j[We]?.questionText]}),y.jsx("video",{controls:!0,width:"100%",height:"400",style:{borderRadius:8,backgroundColor:"#000"},src:j[We]?.url,children:"Your browser does not support the video tag."}),y.jsxs(ze,{justify:"space-around",mt:"md",children:[y.jsxs(de,{size:"sm",color:"dimmed",children:[y.jsx("strong",{children:"Recorded:"})," ",new Date(j[We]?.timestamp).toLocaleString()]}),y.jsxs(de,{size:"sm",color:"dimmed",children:[y.jsx("strong",{children:"Size:"})," ",Math.round(j[We]?.blob.size/1024)," KB"]}),y.jsxs(de,{size:"sm",color:"dimmed",children:[y.jsx("strong",{children:"Type:"})," ",j[We]?.blob.type]})]})]}),y.jsxs(ze,{justify:"center",mt:"md",children:[y.jsx(Oe,{leftSection:y.jsx(W9,{size:16}),onClick:()=>{const bt=j[We],Lt=document.createElement("a");Lt.href=bt.url,Lt.download=`answer_page_${bt.pageNumber}.webm`,Lt.click()},children:"Download Current Video"}),y.jsx(Oe,{variant:"outline",leftSection:y.jsx(G9,{size:16}),onClick:()=>{window.open(j[We]?.url,"_blank")},children:"Open in New Tab"}),y.jsx(Oe,{color:"green",leftSection:y.jsx(Zi,{size:16}),onClick:()=>{Te(!1),a("completed")},children:"Continue to Complete"})]})]}),j.length===0&&y.jsx(Ir,{children:y.jsxs(Sr,{align:"center",children:[y.jsx(de,{color:"dimmed",children:"No videos recorded"}),y.jsx(Oe,{onClick:()=>Te(!1),children:"Close"})]})})]})}),y.jsxs(re,{style:{position:"fixed",top:0,left:0,right:0,background:"#1a1a1a",color:"white",padding:"8px 16px",zIndex:1001,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y.jsxs(ze,{children:[y.jsx(zn,{color:"red",variant:"dot",children:"MONITORING ACTIVE"}),y.jsx(zn,{color:"blue",variant:"dot",children:"RECORDING READY"}),y.jsxs(de,{size:"sm",children:[r," - Page ",i+1," of ",F.length]})]}),y.jsxs(ze,{children:[y.jsx(zn,{color:ae?"green":"red",size:"sm",children:ae?"Face OK":"No Face"}),ge&&y.jsx(zn,{color:"red",size:"sm",children:"Multiple Faces"}),Pe&&y.jsx(zn,{color:"orange",size:"sm",children:"Low Light"}),y.jsxs(Oe,{size:"xs",variant:"subtle",onClick:Ft,children:[y.jsx(Kb,{size:14}),J?" Hide Video":" Show Video"]}),!V&&y.jsx(Oe,{size:"xs",onClick:Qt,children:"Enter Fullscreen"}),Ge&&y.jsx(Oe,{size:"xs",color:"red",onClick:rn,children:"Submit Assignment"})]})]}),J&&y.jsxs(re,{style:{position:"fixed",top:60,right:20,width:220,height:165,zIndex:1e3,border:`3px solid ${ae?"#51cf66":"#ff6b6b"}`,borderRadius:12,overflow:"hidden",backgroundColor:"#000",boxShadow:"0 8px 24px rgba(0,0,0,0.3)"},children:[y.jsx(fp,{audio:!1,ref:_e,mirrored:!0,muted:!0,screenshotFormat:"image/jpeg",videoConstraints:nt,style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("canvas",{ref:De,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),y.jsxs(re,{style:{position:"absolute",top:8,left:8,background:"#ff4757",color:"white",padding:"4px 8px",borderRadius:4,fontSize:"11px",fontWeight:"bold",display:"flex",alignItems:"center",gap:4},children:[y.jsx("div",{style:{width:8,height:8,background:"white",borderRadius:"50%",animation:"pulse 2s infinite"}}),"LIVE"]}),W&&y.jsxs(re,{style:{position:"absolute",top:8,right:8,background:"#ff4757",color:"white",padding:"4px 8px",borderRadius:4,fontSize:"11px",fontWeight:"bold"},children:["REC ",Math.floor((Date.now()-W.startTime)/1e3),"s"]}),y.jsx(re,{style:{position:"absolute",bottom:0,left:0,right:0,background:`linear-gradient(to top, ${ae?"rgba(81, 207, 102, 0.9)":"rgba(255, 107, 107, 0.9)"}, transparent)`,color:"white",padding:"8px",fontSize:"10px",textAlign:"center",fontWeight:"bold"},children:ae?"FACE DETECTED":"NO FACE"})]}),y.jsx(re,{style:{position:"fixed",top:-1e3,left:-1e3},children:y.jsx(fp,{audio:!0,muted:!0,ref:at,onUserMedia:Ae,videoConstraints:lt})}),y.jsx(Zt,{size:"xl",py:"md",pt:60,style:{paddingRight:J?260:20},children:y.jsxs(re,{children:[y.jsxs($t,{order:3,mb:"md",ta:"center",children:["Assignment: ",E.title]}),y.jsxs(Vn,{shadow:"sm",padding:"sm",radius:"md",mb:"lg",children:[y.jsxs(ze,{justify:"space-between",mb:"xs",children:[y.jsx(de,{size:"sm",weight:500,children:"Progress"}),y.jsxs(de,{size:"sm",color:"dimmed",children:["Page ",i+1," of ",F.length]})]}),y.jsx(oc,{value:Je,size:"sm",color:"blue"})]}),y.jsx(Ho,{icon:y.jsx(Qb,{size:16}),color:"blue",mb:"lg",children:y.jsxs(ze,{justify:"space-between",align:"center",children:[y.jsxs(de,{size:"sm",children:["Question ",P," selected randomly from ",M," available questions"]}),y.jsxs(ze,{children:[y.jsx(zn,{color:"orange",size:"sm",leftSection:y.jsx(Kb,{size:12}),children:"You are being monitored"}),J&&y.jsx(zn,{color:"red",size:"sm",leftSection:y.jsx(Jb,{size:12}),children:"Live Video Active"})]})]})}),y.jsxs(Vn,{shadow:"lg",padding:"xl",radius:"md",mb:"lg",children:[y.jsxs(ze,{justify:"space-between",mb:"md",children:[y.jsxs($t,{order:4,children:["Page ",Xe.pageNumber]}),y.jsxs(zn,{color:"blue",size:"lg",children:["QUESTION ",P," OF ",Xe.totalParagraphs]})]}),Xe.selectedParagraph?y.jsx(re,{mb:"lg",children:y.jsx(de,{size:"lg",mb:"md",style:{lineHeight:1.8,fontSize:"18px"},children:Xe.selectedParagraph.content})}):y.jsx(Ho,{color:"orange",mb:"lg",children:y.jsxs(de,{size:"sm",children:["No paragraph available for question ",P," on this page."]})}),Xe.hasVideoRecording&&y.jsxs(re,{children:[y.jsx(Fr,{my:"lg"}),y.jsxs(ze,{justify:"space-between",align:"center",mb:"md",children:[y.jsx(de,{weight:600,size:"md",children:"Record your answer for this question:"}),y.jsx(zn,{color:"red",variant:"dot",size:"md",children:"VIDEO RESPONSE REQUIRED"})]}),y.jsxs(re,{p:"xl",style:{border:"2px dashed #dee2e6",borderRadius:12,textAlign:"center",backgroundColor:"#f8f9fa",minHeight:120},children:[y.jsx(Jb,{size:56,color:"#868e96",style:{marginBottom:16}}),y.jsx(de,{size:"sm",color:"dimmed",mb:"md",children:'Click "Record Answer" to record your video response with audio. Your answer will be automatically sent to the backend.'}),j.some(bt=>bt.pageNumber===i+1)&&y.jsx(zn,{color:"green",size:"lg",mt:"sm",leftSection:y.jsx(Zi,{size:14}),children:"Answer recorded for this page"})]}),y.jsx(Ir,{mt:"xl",children:W?y.jsxs(Oe,{leftSection:y.jsx(Zi,{size:18}),onClick:vr,color:"green",size:"xl",style:{fontSize:"16px",padding:"16px 32px",boxShadow:"0 4px 12px rgba(81, 207, 102, 0.3)"},children:["Stop Recording (",Math.floor((Date.now()-W.startTime)/1e3),"s)"]}):y.jsx(Oe,{leftSection:y.jsx(gH,{size:18}),onClick:$r,color:"red",size:"xl",style:{fontSize:"16px",padding:"16px 32px",boxShadow:"0 4px 12px rgba(255, 71, 87, 0.3)"},children:"Record Answer"})})]})]}),y.jsx(Vn,{shadow:"sm",padding:"lg",radius:"md",style:{backgroundColor:"#f8f9fa"},children:y.jsxs(ze,{justify:"space-between",align:"center",children:[y.jsxs(re,{children:[y.jsxs(de,{size:"sm",color:"dimmed",weight:500,children:["Page ",i+1," of ",F.length]}),y.jsx(de,{size:"xs",color:"dimmed",children:"No going back once you proceed"})]}),Ge?y.jsx(Oe,{onClick:rn,size:"lg",leftSection:y.jsx(Zi,{size:16}),color:"green",children:"Submit Assignment"}):y.jsx(Oe,{onClick:Pn,size:"lg",rightSection:y.jsx(m9,{size:16}),color:"blue",children:"Next Page"})]})})]})}),j.length>0&&y.jsx(re,{style:{position:"fixed",bottom:20,left:20,zIndex:1001},children:y.jsxs(zn,{color:"blue",size:"xl",style:{fontSize:"14px",padding:"12px"},children:["Recorded Answers: ",j.length]})})]})}return o==="completed"?y.jsx(Zt,{size:"md",py:"xl",children:y.jsx(Ir,{children:y.jsxs(Sr,{align:"center",children:[y.jsx(Zi,{size:64,color:"green"}),y.jsx($t,{order:2,children:"Assignment Completed"}),y.jsx(de,{ta:"center",color:"dimmed",children:"Your assignment has been submitted successfully."}),y.jsxs(ze,{children:[y.jsxs(de,{size:"sm",color:"dimmed",children:["Recorded answers: ",j.length]}),y.jsxs(de,{size:"sm",color:"dimmed",children:["Pages completed: ",F.length]}),y.jsxs(de,{size:"sm",color:"dimmed",children:["Selected Question: ",P]})]}),y.jsx(Oe,{onClick:()=>t("/dashboard"),mt:"lg",size:"lg",children:"Return to Dashboard"})]})})}):null}function Rie(){const[e,n]=T.useState(0);return y.jsx("div",{children:y.jsxs(e9,{children:[y.jsx(jH,{}),y.jsxs(N7,{children:[y.jsx(Rn,{path:"/",element:y.jsx(MW,{})}),y.jsx(Rn,{path:"/login",element:y.jsx(gW,{})}),y.jsx(Rn,{path:"/mapuser",element:y.jsx(dk,{})}),y.jsx(Rn,{path:"/lmsdashboard",element:y.jsx(IW,{})}),y.jsx(Rn,{path:"/createjotform",element:y.jsx(fk,{})}),y.jsx(Rn,{path:"/jotformbuilder",element:y.jsx(DQ,{})}),y.jsx(Rn,{path:"/jotformmapping",element:y.jsx(XM,{})}),y.jsx(Rn,{path:"/coursemanagment",element:y.jsx(AQ,{})}),y.jsx(Rn,{path:"/analyticdashboard",element:y.jsx(kQ,{})}),y.jsx(Rn,{path:"/course",element:y.jsx(qQ,{})}),y.jsx(Rn,{path:"/jotformviewer",element:y.jsx(YM,{})}),y.jsx(Rn,{path:"/jotformmanagment",element:y.jsx(XQ,{})}),y.jsx(Rn,{path:"/usermanagment",element:y.jsx(YQ,{})}),y.jsx(Rn,{path:"/resultmanagement",element:y.jsx(KQ,{})}),y.jsx(Rn,{path:"/user-results/:courseId",element:y.jsx(QQ,{})}),y.jsx(Rn,{path:"/assignment-review/:courseId/:userId",element:y.jsx(JQ,{})}),y.jsx(Rn,{path:"/course/:courseId/assignment",element:y.jsx(KM,{})}),y.jsx(Rn,{path:"/assignment/:jotformId",element:y.jsx(Eie,{})})]}),y.jsx(XH,{})]})})}Uj.createRoot(document.getElementById("root")).render(y.jsx(ft.StrictMode,{children:y.jsx(RA,{children:y.jsxs(gV,{children:[y.jsx(gi,{}),y.jsx(Rie,{})]})})}))});export default _ie();
